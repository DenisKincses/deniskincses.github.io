<!DOCTYPE html>
<!-- Created with https://studio.penguinmod.com/PenguinMod-Packager/ -->
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <!-- We only include this to explicitly loosen the CSP of various packager environments. It does not provide any security. -->
  <meta http-equiv="Content-Security-Policy" content="default-src * 'self' 'unsafe-inline' 'unsafe-eval' data: blob:">
  <title>cube0</title>
  <style>
    body {
      color: #ffffff;
      font-family: sans-serif;
      overflow: hidden;
      margin: 0;
      padding: 0;
    }
    :root, body.is-fullscreen {
      background-color: #000000;
    }
    [hidden] {
      display: none !important;
    }
    h1 {
      font-weight: normal;
    }
    a {
      color: inherit;
      text-decoration: underline;
      cursor: pointer;
    }

    #app, #loading, #error, #launch {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
    .screen {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      cursor: default;
      user-select: none;
      -webkit-user-select: none;
      background-color: #000000;
    }
    #launch {
      background-color: rgba(0, 0, 0, 0.7);
      cursor: pointer;
    }
    .green-flag {
      width: 80px;
      height: 80px;
      padding: 16px;
      border-radius: 100%;
      background: rgba(255, 255, 255, 0.75);
      border: 3px solid hsla(0, 100%, 100%, 1);
      display: flex;
      justify-content: center;
      align-items: center;
      box-sizing: border-box;
    }
    #loading {
      
    }
    .progress-bar-outer {
      border: 1px solid currentColor;
      height: 10px;
      width: 200px;
      max-width: 200px;
    }
    .progress-bar-inner {
      height: 100%;
      width: 0;
      background-color: currentColor;
    }
    .loading-text, noscript {
      font-weight: normal;
      font-size: 36px;
      margin: 0 0 16px;
    }
    .loading-image {
      margin: 0 0 16px;
    }
    #error-message, #error-stack {
      font-family: monospace;
      max-width: 600px;
      white-space: pre-wrap;
      user-select: text;
      -webkit-user-select: text;
    }
    #error-stack {
      text-align: left;
      max-height: 200px;
      overflow: auto;
    }
    .control-button {
      width: 2rem;
      height: 2rem;
      padding: 0.375rem;
      margin-top: 0.5rem;
      margin-bottom: 0.5rem;
      user-select: none;
      -webkit-user-select: none;
      cursor: pointer;
      border: 0;
      border-radius: 4px;
    }
    .control-button:hover {
      background: #00c3ff26;
    }
    .control-button.active {
      background: #00c3ff59;
    }
    .fullscreen-button {
      background: white !important;
    }
    .standalone-fullscreen-button {
      position: absolute;
      top: 0;
      right: 0;
      background-color: rgba(0, 0, 0, 0.5);
      border-radius: 0 0 0 4px;
      padding: 4px;
      cursor: pointer;
    }
    .sc-canvas {
      cursor: auto;
    }
    .sc-monitor-root[data-opcode^="data_"] .sc-monitor-value-color {
      background-color: #ff8c1a;
    }
    .sc-monitor-row-value-outer {
      background-color: #fc662c;
    }
    .sc-monitor-row-value-editing .sc-monitor-row-value-outer {
      background-color: #e25b27;
    }
    
  </style>
  <meta name="theme-color" content="#000000">
  
</head>
<body>
  <div id="app"></div>

  <div id="launch" class="screen" hidden title="Click to start">
    <div class="green-flag">
      <svg viewBox="0 0 16.63 17.5" width="42" height="44">
        <defs><style>.cls-1,.cls-2{fill:#007AF4;stroke:#003080;stroke-linecap:round;stroke-linejoin:round;}.cls-2{stroke-width:1.5px;}</style></defs>
        <path class="cls-1" d="M.75,2A6.44,6.44,0,0,1,8.44,2h0a6.44,6.44,0,0,0,7.69,0V12.4a6.44,6.44,0,0,1-7.69,0h0a6.44,6.44,0,0,0-7.69,0"/>
        <line class="cls-2" x1="0.75" y1="16.75" x2="0.75" y2="0.75"/>
      </svg>
    </div>
  </div>

  <div id="loading" class="screen">
    <noscript>Enable JavaScript</noscript>
    
    
    <div class="progress-bar-outer"><div class="progress-bar-inner" id="loading-inner"></div></div>
  </div>

  <div id="error" class="screen" hidden>
    <h1>Error</h1>
    <details>
      <summary id="error-message"></summary>
      <p id="error-stack"></p>
    </details>
  </div>

  <script src="script.js"></script>
  <script>
    const appElement = document.getElementById('app');
    const launchScreen = document.getElementById('launch');
    const loadingScreen = document.getElementById('loading');
    const loadingInner = document.getElementById('loading-inner');
    const errorScreen = document.getElementById('error');
    const errorScreenMessage = document.getElementById('error-message');
    const errorScreenStack = document.getElementById('error-stack');

    const handleError = (error) => {
      console.error(error);
      if (!errorScreen.hidden) return;
      errorScreen.hidden = false;
      errorScreenMessage.textContent = '' + error;
      let debug = error && error.stack || 'no stack';
      debug += '\nUser agent: ' + navigator.userAgent;
      errorScreenStack.textContent = debug;
    };
    const setProgress = (progress) => {
      if (loadingInner) loadingInner.style.width = progress * 100 + '%';
    };
    const interpolate = (a, b, t) => a + t * (b - a);

    try {
      setProgress(0.1);

      const scaffolding = new Scaffolding.Scaffolding();
      scaffolding.width = 480;
      scaffolding.height = 360;
      scaffolding.resizeMode = "preserve-ratio";
      scaffolding.editableLists = false;
      scaffolding.usePackagedRuntime = true;
      scaffolding.setup();
      scaffolding.appendTo(appElement);

      const vm = scaffolding.vm;
      window.scaffolding = scaffolding;
      window.vm = scaffolding.vm;
      window.Scratch = {
        vm,
        renderer: vm.renderer,
        audioEngine: vm.runtime.audioEngine,
        bitmapAdapter: vm.runtime.v2BitmapAdapter,
        videoProvider: vm.runtime.ioDevices.video.provider
      };

      scaffolding.setUsername("cube0".replace(/#/g, () => Math.floor(Math.random() * 10)));
      scaffolding.setAccentColor("#00c3ff");

      try {
        scaffolding.addCloudProvider(new Scaffolding.Cloud.WebSocketProvider(["wss://clouddata.turbowarp.org","wss://clouddata.turbowarp.xyz"], "p4-@cube0.pmp"));
      } catch (error) {
        console.error(error);
      }

      vm.setTurboMode(false);
      if (vm.setInterpolation) vm.setInterpolation(false);
      if (vm.setFramerate) vm.setFramerate(30);
      if (vm.renderer.setUseHighQualityRender) vm.renderer.setUseHighQualityRender(false);
      if (vm.setRuntimeOptions) vm.setRuntimeOptions({
        fencing: false,
        miscLimits: false,
        maxClones: 9999999999,
        dangerousOptimizations: false
      });
      if (vm.setCompilerOptions) vm.setCompilerOptions({
        enabled: true,
        warpTimer: false
      });
      if (vm.renderer.setMaxTextureDimension) vm.renderer.setMaxTextureDimension(2048);

      if (typeof ScaffoldingAddons !== 'undefined') {
        ScaffoldingAddons.run(scaffolding, {"gamepad":false,"pointerlock":false,"specialCloudBehaviors":false,"unsafeCloudBehaviors":false,"pause":false});
      }

      scaffolding.setExtensionSecurityManager({
        getSandboxMode: () => 'unsandboxed',
        canLoadExtensionFromProject: () => true
      });
      for (const extension of ["data:application/javascript,%2F%2F%20Name%3A%203D%0A%2F%2F%20ID%3A%20cst12293d%0A%2F%2F%20Description%3A%20Move%20your%20sprites%20into%20the%20third%20dimension.%0A%2F%2F%20By%3A%20CST1229%20%3Chttps%3A%2F%2Fscratch.mit.edu%2Fusers%2FCST1229%2F%3E%0A%2F%2F%20License%3A%20MPL-2.0%0A%0A%2F*%20global%20THREE%20*%2F%0A%2F%2F%20%40ts-nocheck%0A%0A%2F%2F%20Special%20thanks%20to%20Drago%20NrxThulitech%20Cuven%20for%20finding%20lots%20of%20bugs%0A%0A%2F*%0A%20%20TODO%3A%0A%20%20-%20bugs%0A%0A%20%20-%20materials%2Ftextures%0A%20%20%20%20-%20%22set%20material%20%5B0%5D%20texture%20to%20%5Bcurrent%20costume%5D%22%0A%20%20%20%20-%20%22set%20material%20%5B0%5D%20color%20to%20()%22%3F%0A%20%20%20%20-%20built-in%20shape%20materials%20would%20be%20in%20docs%20because%20docs%20will%20exist%20(they%20are%20essential)%0A%0A%20%20-%203d%20stamping%0A%20%20%20%20-%20%223d%20stamp%20named%20%5B%5D%22%20block%20that%20copies%20the%20current%203d%20objects%0A%20%20%20%20-%20%22delete%203d%20stamp%20%5B%5D%22%0A%20%20%20%20-%20%22erase%20all%203d%20stamps%22%0A%20%20%0A%20%20-%20model%20support%3F%3F%3F%0A%20%20%20%20-%20probably%20just%20a%20%22set%203d%20mode%20to%20obj%20%5BURL%2Ftext%5D%20%5B%5D%22%20block%0A%20%20%20%20-%20%22set%203d%20mode%20to%20gltf%20%5BURL%2Ftext%5D%20%5B%5D%22%20block%20that%20also%20auto-sets%20materials%0A%20%20%20%20-%20collision%20support%20unlikely%20(if%20it%20did%20happen%20it%20would%20probably%20be%20very%20laggy)%0A%20%20%0A%20%20-%20lighting%0A%20%20%20%20-%20could%20be%20in%20the%20set%203d%20mode%20block%2C%20as%20in%20%22set%203d%20mode%20to%20(point%2Fspotlight)%22%0A%20%20%20%20-%20spotlights%20point%20in%20the%20direction%20the%20sprite%20is%20pointing%0A%20%20%20%20-%20light%20color%2Fintensity%20blocks%0A%20%20%20%20-%20glow%3F%0A%20%20%20%20-%20world%20light%20blocks%20(direction%2Fdisable%2Fflat%2Fcolor%2Fintensity)%0A*%2F%0A%0A(function%20(Scratch)%20%7B%0A%20%20%22use%20strict%22%3B%0A%0A%20%20const%20IN_3D%20%3D%20%22threed.in3d%22%3B%0A%20%20const%20OBJECT%20%3D%20%22threed.object%22%3B%0A%20%20const%20THREED_DIRTY%20%3D%20%22threed.dirty%22%3B%0A%20%20const%20SIDE_MODE%20%3D%20%22threed.sidemode%22%3B%0A%20%20const%20TEX_FILTER%20%3D%20%22threed.texfilter%22%3B%0A%20%20const%20Z_POS%20%3D%20%22threed.zpos%22%3B%0A%0A%20%20if%20(!Scratch.extensions.unsandboxed)%20%7B%0A%20%20%20%20throw%20new%20Error(%223D%20must%20be%20run%20unsandboxed%22)%3B%0A%20%20%7D%0A%0A%09const%20PATCHES_ID%20%3D%20%22__patches_cst12293d%22%3B%0A%09const%20patch%20%3D%20(obj%2C%20functions)%20%3D%3E%20%7B%0A%09%09if%20(obj%5BPATCHES_ID%5D)%20return%3B%0A%09%09obj%5BPATCHES_ID%5D%20%3D%20%7B%7D%3B%0A%09%09for%20(const%20name%20in%20functions)%20%7B%0A%09%09%09const%20original%20%3D%20obj%5Bname%5D%3B%0A%09%09%09obj%5BPATCHES_ID%5D%5Bname%5D%20%3D%20obj%5Bname%5D%3B%0A%09%09%09if%20(original)%20%7B%0A%09%09%09%09obj%5Bname%5D%20%3D%20function(...args)%20%7B%0A%09%09%09%09%09const%20callOriginal%20%3D%20(...ogArgs)%20%3D%3E%20original.call(this%2C%20...ogArgs)%3B%0A%09%09%09%09%09return%20functions%5Bname%5D.call(this%2C%20callOriginal%2C%20...args)%3B%0A%09%09%09%09%7D%3B%0A%09%09%09%7D%20else%20%7B%0A%09%09%09%09obj%5Bname%5D%20%3D%20function%20(...args)%20%7B%0A%09%09%09%09%09return%20functions%5Bname%5D.call(this%2C%20()%20%3D%3E%20%7B%7D%2C%20...args)%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%7D%0A%09%7D%0A%09const%20unpatch%20%3D%20(obj)%20%3D%3E%20%7B%0A%09%09if%20(!obj%5BPATCHES_ID%5D)%20return%3B%0A%09%09for%20(const%20name%20in%20obj%5BPATCHES_ID%5D)%20%7B%0A%09%09%09obj%5Bname%5D%20%3D%20obj%5BPATCHES_ID%5D%5Bname%5D%3B%0A%09%09%7D%0A%09%09delete%20obj%5BPATCHES_ID%5D%3B%0A%09%7D%0A%0A%20%20const%20Skin%20%3D%20Scratch.renderer.exports.Skin%3B%0A%0A%20%20class%20SimpleSkin%20extends%20Skin%20%7B%0A%20%20%20%20constructor(id%2C%20renderer)%20%7B%0A%20%20%20%20%20%20super(id%2C%20renderer)%3B%0A%20%20%20%20%20%20const%20gl%20%3D%20renderer.gl%3B%0A%20%20%20%20%20%20const%20texture%20%3D%20gl.createTexture()%3B%0A%20%20%20%20%20%20gl.bindTexture(gl.TEXTURE_2D%2C%20texture)%3B%0A%20%20%20%20%20%20gl.texParameteri(gl.TEXTURE_2D%2C%20gl.TEXTURE_WRAP_S%2C%20gl.CLAMP_TO_EDGE)%3B%0A%20%20%20%20%20%20gl.texParameteri(gl.TEXTURE_2D%2C%20gl.TEXTURE_WRAP_T%2C%20gl.CLAMP_TO_EDGE)%3B%0A%20%20%20%20%20%20gl.texParameteri(gl.TEXTURE_2D%2C%20gl.TEXTURE_MIN_FILTER%2C%20gl.NEAREST)%3B%0A%20%20%20%20%20%20gl.texParameteri(gl.TEXTURE_2D%2C%20gl.TEXTURE_MAG_FILTER%2C%20gl.NEAREST)%3B%0A%20%20%20%20%20%20%2F%2Fgl.texImage2D(gl.TEXTURE_2D%2C%200%2C%20gl.RGBA%2C%201%2C%201%2C%200%2C%20gl.RGBA%2C%20gl.UNSIGNED_BYTE%2C%20new%20Uint8Array(%5B0%2C255%2C0%2C255%5D))%3B%0A%20%20%20%20%20%20this._texture%20%3D%20texture%3B%0A%20%20%20%20%20%20this._rotationCenter%20%3D%20%5B240%2C%20180%5D%3B%0A%20%20%20%20%20%20this._size%20%3D%20%5B480%2C%20360%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20dispose()%20%7B%0A%20%20%20%20%20%20if%20(this._texture)%20%7B%0A%20%20%20%20%20%20%20%20this._renderer.gl.deleteTexture(this._texture)%3B%0A%20%20%20%20%20%20%20%20this._texture%20%3D%20null%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20super.dispose()%3B%0A%20%20%20%20%7D%0A%20%20%20%20set%20size(value)%20%7B%0A%20%20%20%20%20%20this._size%20%3D%20value%3B%0A%20%20%20%20%20%20this._rotationCenter%20%3D%20%5Bvalue%5B0%5D%20%2F%202%2C%20value%5B1%5D%20%2F%202%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20get%20size()%20%7B%0A%20%20%20%20%20%20return%20this._size%3B%0A%20%20%20%20%7D%0A%20%20%20%20getTexture(scale)%20%7B%0A%20%20%20%20%20%20return%20this._texture%20%7C%7C%20super.getTexture()%3B%0A%20%20%20%20%7D%0A%20%20%20%20setContent(textureData)%20%7B%0A%20%20%20%20%20%20const%20gl%20%3D%20this._renderer.gl%3B%0A%20%20%20%20%20%20gl.bindTexture(gl.TEXTURE_2D%2C%20this._texture)%3B%0A%20%20%20%20%20%20gl.texImage2D(%0A%20%20%20%20%20%20%20%20gl.TEXTURE_2D%2C%0A%20%20%20%20%20%20%20%200%2C%0A%20%20%20%20%20%20%20%20gl.RGBA%2C%0A%20%20%20%20%20%20%20%20gl.RGBA%2C%0A%20%20%20%20%20%20%20%20gl.UNSIGNED_BYTE%2C%0A%20%20%20%20%20%20%20%20textureData%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20this.emitWasAltered()%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20%2F*%20eslint-disable%20*%2F%0A%20%20%2F%2F%20prettier-ignore%0A%20%20%2F**%0A%20%20%20*%20%40license%0A%20%20%20*%20Copyright%202010-2022%20Three.js%20Authors%0A%20%20%20*%20SPDX-License-Identifier%3A%20MIT%0A%20%20%20*%2F%0A%20%20%2F%2F%20%40ts-ignore%0A%20%20!function%20(t%2C%20e)%20%7B%20%22object%22%20%3D%3D%20typeof%20exports%20%26%26%20%22undefined%22%20!%3D%20typeof%20module%20%3F%20e(exports)%20%3A%20%22function%22%20%3D%3D%20typeof%20define%20%26%26%20define.amd%20%3F%20define(%5B%22exports%22%5D%2C%20e)%20%3A%20e((t%20%3D%20%22undefined%22%20!%3D%20typeof%20globalThis%20%3F%20globalThis%20%3A%20t%20%7C%7C%20self).THREE%20%3D%20%7B%7D)%20%7D(this%2C%20(function%20(t)%20%7B%20%22use%20strict%22%3B%20const%20e%20%3D%20%22148%22%2C%20i%20%3D%20100%2C%20n%20%3D%20300%2C%20r%20%3D%20301%2C%20s%20%3D%20302%2C%20a%20%3D%20303%2C%20o%20%3D%20304%2C%20l%20%3D%20306%2C%20c%20%3D%201e3%2C%20h%20%3D%201001%2C%20u%20%3D%201002%2C%20d%20%3D%201003%2C%20p%20%3D%201004%2C%20m%20%3D%201005%2C%20f%20%3D%201006%2C%20g%20%3D%201007%2C%20v%20%3D%201008%2C%20x%20%3D%201009%2C%20_%20%3D%201012%2C%20y%20%3D%201014%2C%20M%20%3D%201015%2C%20b%20%3D%201016%2C%20S%20%3D%201020%2C%20w%20%3D%201023%2C%20T%20%3D%201026%2C%20A%20%3D%201027%2C%20E%20%3D%2033776%2C%20C%20%3D%2033777%2C%20L%20%3D%2033778%2C%20R%20%3D%2033779%2C%20P%20%3D%2035840%2C%20I%20%3D%2035841%2C%20D%20%3D%2035842%2C%20N%20%3D%2035843%2C%20O%20%3D%2037492%2C%20z%20%3D%2037496%2C%20U%20%3D%2037808%2C%20B%20%3D%2037809%2C%20F%20%3D%2037810%2C%20k%20%3D%2037811%2C%20G%20%3D%2037812%2C%20V%20%3D%2037813%2C%20H%20%3D%2037814%2C%20W%20%3D%2037815%2C%20j%20%3D%2037816%2C%20q%20%3D%2037817%2C%20X%20%3D%2037818%2C%20Y%20%3D%2037819%2C%20Z%20%3D%2037820%2C%20J%20%3D%2037821%2C%20K%20%3D%2036492%2C%20%24%20%3D%202300%2C%20Q%20%3D%202301%2C%20tt%20%3D%202302%2C%20et%20%3D%202400%2C%20it%20%3D%202401%2C%20nt%20%3D%202402%2C%20rt%20%3D%202500%2C%20st%20%3D%202501%2C%20at%20%3D%203e3%2C%20ot%20%3D%203001%2C%20lt%20%3D%20%22srgb%22%2C%20ct%20%3D%20%22srgb-linear%22%2C%20ht%20%3D%207680%2C%20ut%20%3D%2035044%2C%20dt%20%3D%20%22300%20es%22%2C%20pt%20%3D%201035%3B%20class%20mt%20%7B%20addEventListener(t%2C%20e)%20%7B%20void%200%20%3D%3D%3D%20this._listeners%20%26%26%20(this._listeners%20%3D%20%7B%7D)%3B%20const%20i%20%3D%20this._listeners%3B%20void%200%20%3D%3D%3D%20i%5Bt%5D%20%26%26%20(i%5Bt%5D%20%3D%20%5B%5D)%2C%20-1%20%3D%3D%3D%20i%5Bt%5D.indexOf(e)%20%26%26%20i%5Bt%5D.push(e)%20%7D%20hasEventListener(t%2C%20e)%20%7B%20if%20(void%200%20%3D%3D%3D%20this._listeners)%20return%20!1%3B%20const%20i%20%3D%20this._listeners%3B%20return%20void%200%20!%3D%3D%20i%5Bt%5D%20%26%26%20-1%20!%3D%3D%20i%5Bt%5D.indexOf(e)%20%7D%20removeEventListener(t%2C%20e)%20%7B%20if%20(void%200%20%3D%3D%3D%20this._listeners)%20return%3B%20const%20i%20%3D%20this._listeners%5Bt%5D%3B%20if%20(void%200%20!%3D%3D%20i)%20%7B%20const%20t%20%3D%20i.indexOf(e)%3B%20-1%20!%3D%3D%20t%20%26%26%20i.splice(t%2C%201)%20%7D%20%7D%20dispatchEvent(t)%20%7B%20if%20(void%200%20%3D%3D%3D%20this._listeners)%20return%3B%20const%20e%20%3D%20this._listeners%5Bt.type%5D%3B%20if%20(void%200%20!%3D%3D%20e)%20%7B%20t.target%20%3D%20this%3B%20const%20i%20%3D%20e.slice(0)%3B%20for%20(let%20e%20%3D%200%2C%20n%20%3D%20i.length%3B%20e%20%3C%20n%3B%20e%2B%2B)i%5Be%5D.call(this%2C%20t)%3B%20t.target%20%3D%20null%20%7D%20%7D%20%7D%20const%20ft%20%3D%20%5B%2200%22%2C%20%2201%22%2C%20%2202%22%2C%20%2203%22%2C%20%2204%22%2C%20%2205%22%2C%20%2206%22%2C%20%2207%22%2C%20%2208%22%2C%20%2209%22%2C%20%220a%22%2C%20%220b%22%2C%20%220c%22%2C%20%220d%22%2C%20%220e%22%2C%20%220f%22%2C%20%2210%22%2C%20%2211%22%2C%20%2212%22%2C%20%2213%22%2C%20%2214%22%2C%20%2215%22%2C%20%2216%22%2C%20%2217%22%2C%20%2218%22%2C%20%2219%22%2C%20%221a%22%2C%20%221b%22%2C%20%221c%22%2C%20%221d%22%2C%20%221e%22%2C%20%221f%22%2C%20%2220%22%2C%20%2221%22%2C%20%2222%22%2C%20%2223%22%2C%20%2224%22%2C%20%2225%22%2C%20%2226%22%2C%20%2227%22%2C%20%2228%22%2C%20%2229%22%2C%20%222a%22%2C%20%222b%22%2C%20%222c%22%2C%20%222d%22%2C%20%222e%22%2C%20%222f%22%2C%20%2230%22%2C%20%2231%22%2C%20%2232%22%2C%20%2233%22%2C%20%2234%22%2C%20%2235%22%2C%20%2236%22%2C%20%2237%22%2C%20%2238%22%2C%20%2239%22%2C%20%223a%22%2C%20%223b%22%2C%20%223c%22%2C%20%223d%22%2C%20%223e%22%2C%20%223f%22%2C%20%2240%22%2C%20%2241%22%2C%20%2242%22%2C%20%2243%22%2C%20%2244%22%2C%20%2245%22%2C%20%2246%22%2C%20%2247%22%2C%20%2248%22%2C%20%2249%22%2C%20%224a%22%2C%20%224b%22%2C%20%224c%22%2C%20%224d%22%2C%20%224e%22%2C%20%224f%22%2C%20%2250%22%2C%20%2251%22%2C%20%2252%22%2C%20%2253%22%2C%20%2254%22%2C%20%2255%22%2C%20%2256%22%2C%20%2257%22%2C%20%2258%22%2C%20%2259%22%2C%20%225a%22%2C%20%225b%22%2C%20%225c%22%2C%20%225d%22%2C%20%225e%22%2C%20%225f%22%2C%20%2260%22%2C%20%2261%22%2C%20%2262%22%2C%20%2263%22%2C%20%2264%22%2C%20%2265%22%2C%20%2266%22%2C%20%2267%22%2C%20%2268%22%2C%20%2269%22%2C%20%226a%22%2C%20%226b%22%2C%20%226c%22%2C%20%226d%22%2C%20%226e%22%2C%20%226f%22%2C%20%2270%22%2C%20%2271%22%2C%20%2272%22%2C%20%2273%22%2C%20%2274%22%2C%20%2275%22%2C%20%2276%22%2C%20%2277%22%2C%20%2278%22%2C%20%2279%22%2C%20%227a%22%2C%20%227b%22%2C%20%227c%22%2C%20%227d%22%2C%20%227e%22%2C%20%227f%22%2C%20%2280%22%2C%20%2281%22%2C%20%2282%22%2C%20%2283%22%2C%20%2284%22%2C%20%2285%22%2C%20%2286%22%2C%20%2287%22%2C%20%2288%22%2C%20%2289%22%2C%20%228a%22%2C%20%228b%22%2C%20%228c%22%2C%20%228d%22%2C%20%228e%22%2C%20%228f%22%2C%20%2290%22%2C%20%2291%22%2C%20%2292%22%2C%20%2293%22%2C%20%2294%22%2C%20%2295%22%2C%20%2296%22%2C%20%2297%22%2C%20%2298%22%2C%20%2299%22%2C%20%229a%22%2C%20%229b%22%2C%20%229c%22%2C%20%229d%22%2C%20%229e%22%2C%20%229f%22%2C%20%22a0%22%2C%20%22a1%22%2C%20%22a2%22%2C%20%22a3%22%2C%20%22a4%22%2C%20%22a5%22%2C%20%22a6%22%2C%20%22a7%22%2C%20%22a8%22%2C%20%22a9%22%2C%20%22aa%22%2C%20%22ab%22%2C%20%22ac%22%2C%20%22ad%22%2C%20%22ae%22%2C%20%22af%22%2C%20%22b0%22%2C%20%22b1%22%2C%20%22b2%22%2C%20%22b3%22%2C%20%22b4%22%2C%20%22b5%22%2C%20%22b6%22%2C%20%22b7%22%2C%20%22b8%22%2C%20%22b9%22%2C%20%22ba%22%2C%20%22bb%22%2C%20%22bc%22%2C%20%22bd%22%2C%20%22be%22%2C%20%22bf%22%2C%20%22c0%22%2C%20%22c1%22%2C%20%22c2%22%2C%20%22c3%22%2C%20%22c4%22%2C%20%22c5%22%2C%20%22c6%22%2C%20%22c7%22%2C%20%22c8%22%2C%20%22c9%22%2C%20%22ca%22%2C%20%22cb%22%2C%20%22cc%22%2C%20%22cd%22%2C%20%22ce%22%2C%20%22cf%22%2C%20%22d0%22%2C%20%22d1%22%2C%20%22d2%22%2C%20%22d3%22%2C%20%22d4%22%2C%20%22d5%22%2C%20%22d6%22%2C%20%22d7%22%2C%20%22d8%22%2C%20%22d9%22%2C%20%22da%22%2C%20%22db%22%2C%20%22dc%22%2C%20%22dd%22%2C%20%22de%22%2C%20%22df%22%2C%20%22e0%22%2C%20%22e1%22%2C%20%22e2%22%2C%20%22e3%22%2C%20%22e4%22%2C%20%22e5%22%2C%20%22e6%22%2C%20%22e7%22%2C%20%22e8%22%2C%20%22e9%22%2C%20%22ea%22%2C%20%22eb%22%2C%20%22ec%22%2C%20%22ed%22%2C%20%22ee%22%2C%20%22ef%22%2C%20%22f0%22%2C%20%22f1%22%2C%20%22f2%22%2C%20%22f3%22%2C%20%22f4%22%2C%20%22f5%22%2C%20%22f6%22%2C%20%22f7%22%2C%20%22f8%22%2C%20%22f9%22%2C%20%22fa%22%2C%20%22fb%22%2C%20%22fc%22%2C%20%22fd%22%2C%20%22fe%22%2C%20%22ff%22%5D%3B%20let%20gt%20%3D%201234567%3B%20const%20vt%20%3D%20Math.PI%20%2F%20180%2C%20xt%20%3D%20180%20%2F%20Math.PI%3B%20function%20_t()%20%7B%20const%20t%20%3D%204294967295%20*%20Math.random()%20%7C%200%2C%20e%20%3D%204294967295%20*%20Math.random()%20%7C%200%2C%20i%20%3D%204294967295%20*%20Math.random()%20%7C%200%2C%20n%20%3D%204294967295%20*%20Math.random()%20%7C%200%3B%20return%20(ft%5B255%20%26%20t%5D%20%2B%20ft%5Bt%20%3E%3E%208%20%26%20255%5D%20%2B%20ft%5Bt%20%3E%3E%2016%20%26%20255%5D%20%2B%20ft%5Bt%20%3E%3E%2024%20%26%20255%5D%20%2B%20%22-%22%20%2B%20ft%5B255%20%26%20e%5D%20%2B%20ft%5Be%20%3E%3E%208%20%26%20255%5D%20%2B%20%22-%22%20%2B%20ft%5Be%20%3E%3E%2016%20%26%2015%20%7C%2064%5D%20%2B%20ft%5Be%20%3E%3E%2024%20%26%20255%5D%20%2B%20%22-%22%20%2B%20ft%5B63%20%26%20i%20%7C%20128%5D%20%2B%20ft%5Bi%20%3E%3E%208%20%26%20255%5D%20%2B%20%22-%22%20%2B%20ft%5Bi%20%3E%3E%2016%20%26%20255%5D%20%2B%20ft%5Bi%20%3E%3E%2024%20%26%20255%5D%20%2B%20ft%5B255%20%26%20n%5D%20%2B%20ft%5Bn%20%3E%3E%208%20%26%20255%5D%20%2B%20ft%5Bn%20%3E%3E%2016%20%26%20255%5D%20%2B%20ft%5Bn%20%3E%3E%2024%20%26%20255%5D).toLowerCase()%20%7D%20function%20yt(t%2C%20e%2C%20i)%20%7B%20return%20Math.max(e%2C%20Math.min(i%2C%20t))%20%7D%20function%20Mt(t%2C%20e)%20%7B%20return%20(t%20%25%20e%20%2B%20e)%20%25%20e%20%7D%20function%20bt(t%2C%20e%2C%20i)%20%7B%20return%20(1%20-%20i)%20*%20t%20%2B%20i%20*%20e%20%7D%20function%20St(t)%20%7B%20return%200%20%3D%3D%20(t%20%26%20t%20-%201)%20%26%26%200%20!%3D%3D%20t%20%7D%20function%20wt(t)%20%7B%20return%20Math.pow(2%2C%20Math.ceil(Math.log(t)%20%2F%20Math.LN2))%20%7D%20function%20Tt(t)%20%7B%20return%20Math.pow(2%2C%20Math.floor(Math.log(t)%20%2F%20Math.LN2))%20%7D%20function%20At(t%2C%20e)%20%7B%20switch%20(e.constructor)%20%7B%20case%20Float32Array%3A%20return%20t%3B%20case%20Uint16Array%3A%20return%20t%20%2F%2065535%3B%20case%20Uint8Array%3A%20return%20t%20%2F%20255%3B%20case%20Int16Array%3A%20return%20Math.max(t%20%2F%2032767%2C%20-1)%3B%20case%20Int8Array%3A%20return%20Math.max(t%20%2F%20127%2C%20-1)%3B%20default%3A%20throw%20new%20Error(%22Invalid%20component%20type.%22)%20%7D%20%7D%20function%20Et(t%2C%20e)%20%7B%20switch%20(e.constructor)%20%7B%20case%20Float32Array%3A%20return%20t%3B%20case%20Uint16Array%3A%20return%20Math.round(65535%20*%20t)%3B%20case%20Uint8Array%3A%20return%20Math.round(255%20*%20t)%3B%20case%20Int16Array%3A%20return%20Math.round(32767%20*%20t)%3B%20case%20Int8Array%3A%20return%20Math.round(127%20*%20t)%3B%20default%3A%20throw%20new%20Error(%22Invalid%20component%20type.%22)%20%7D%20%7D%20var%20Ct%20%3D%20Object.freeze(%7B%20__proto__%3A%20null%2C%20DEG2RAD%3A%20vt%2C%20RAD2DEG%3A%20xt%2C%20generateUUID%3A%20_t%2C%20clamp%3A%20yt%2C%20euclideanModulo%3A%20Mt%2C%20mapLinear%3A%20function%20(t%2C%20e%2C%20i%2C%20n%2C%20r)%20%7B%20return%20n%20%2B%20(t%20-%20e)%20*%20(r%20-%20n)%20%2F%20(i%20-%20e)%20%7D%2C%20inverseLerp%3A%20function%20(t%2C%20e%2C%20i)%20%7B%20return%20t%20!%3D%3D%20e%20%3F%20(i%20-%20t)%20%2F%20(e%20-%20t)%20%3A%200%20%7D%2C%20lerp%3A%20bt%2C%20damp%3A%20function%20(t%2C%20e%2C%20i%2C%20n)%20%7B%20return%20bt(t%2C%20e%2C%201%20-%20Math.exp(-i%20*%20n))%20%7D%2C%20pingpong%3A%20function%20(t%2C%20e%20%3D%201)%20%7B%20return%20e%20-%20Math.abs(Mt(t%2C%202%20*%20e)%20-%20e)%20%7D%2C%20smoothstep%3A%20function%20(t%2C%20e%2C%20i)%20%7B%20return%20t%20%3C%3D%20e%20%3F%200%20%3A%20t%20%3E%3D%20i%20%3F%201%20%3A%20(t%20%3D%20(t%20-%20e)%20%2F%20(i%20-%20e))%20*%20t%20*%20(3%20-%202%20*%20t)%20%7D%2C%20smootherstep%3A%20function%20(t%2C%20e%2C%20i)%20%7B%20return%20t%20%3C%3D%20e%20%3F%200%20%3A%20t%20%3E%3D%20i%20%3F%201%20%3A%20(t%20%3D%20(t%20-%20e)%20%2F%20(i%20-%20e))%20*%20t%20*%20t%20*%20(t%20*%20(6%20*%20t%20-%2015)%20%2B%2010)%20%7D%2C%20randInt%3A%20function%20(t%2C%20e)%20%7B%20return%20t%20%2B%20Math.floor(Math.random()%20*%20(e%20-%20t%20%2B%201))%20%7D%2C%20randFloat%3A%20function%20(t%2C%20e)%20%7B%20return%20t%20%2B%20Math.random()%20*%20(e%20-%20t)%20%7D%2C%20randFloatSpread%3A%20function%20(t)%20%7B%20return%20t%20*%20(.5%20-%20Math.random())%20%7D%2C%20seededRandom%3A%20function%20(t)%20%7B%20void%200%20!%3D%3D%20t%20%26%26%20(gt%20%3D%20t)%3B%20let%20e%20%3D%20gt%20%2B%3D%201831565813%3B%20return%20e%20%3D%20Math.imul(e%20%5E%20e%20%3E%3E%3E%2015%2C%201%20%7C%20e)%2C%20e%20%5E%3D%20e%20%2B%20Math.imul(e%20%5E%20e%20%3E%3E%3E%207%2C%2061%20%7C%20e)%2C%20((e%20%5E%20e%20%3E%3E%3E%2014)%20%3E%3E%3E%200)%20%2F%204294967296%20%7D%2C%20degToRad%3A%20function%20(t)%20%7B%20return%20t%20*%20vt%20%7D%2C%20radToDeg%3A%20function%20(t)%20%7B%20return%20t%20*%20xt%20%7D%2C%20isPowerOfTwo%3A%20St%2C%20ceilPowerOfTwo%3A%20wt%2C%20floorPowerOfTwo%3A%20Tt%2C%20setQuaternionFromProperEuler%3A%20function%20(t%2C%20e%2C%20i%2C%20n%2C%20r)%20%7B%20const%20s%20%3D%20Math.cos%2C%20a%20%3D%20Math.sin%2C%20o%20%3D%20s(i%20%2F%202)%2C%20l%20%3D%20a(i%20%2F%202)%2C%20c%20%3D%20s((e%20%2B%20n)%20%2F%202)%2C%20h%20%3D%20a((e%20%2B%20n)%20%2F%202)%2C%20u%20%3D%20s((e%20-%20n)%20%2F%202)%2C%20d%20%3D%20a((e%20-%20n)%20%2F%202)%2C%20p%20%3D%20s((n%20-%20e)%20%2F%202)%2C%20m%20%3D%20a((n%20-%20e)%20%2F%202)%3B%20switch%20(r)%20%7B%20case%20%22XYX%22%3A%20t.set(o%20*%20h%2C%20l%20*%20u%2C%20l%20*%20d%2C%20o%20*%20c)%3B%20break%3B%20case%20%22YZY%22%3A%20t.set(l%20*%20d%2C%20o%20*%20h%2C%20l%20*%20u%2C%20o%20*%20c)%3B%20break%3B%20case%20%22ZXZ%22%3A%20t.set(l%20*%20u%2C%20l%20*%20d%2C%20o%20*%20h%2C%20o%20*%20c)%3B%20break%3B%20case%20%22XZX%22%3A%20t.set(o%20*%20h%2C%20l%20*%20m%2C%20l%20*%20p%2C%20o%20*%20c)%3B%20break%3B%20case%20%22YXY%22%3A%20t.set(l%20*%20p%2C%20o%20*%20h%2C%20l%20*%20m%2C%20o%20*%20c)%3B%20break%3B%20case%20%22ZYZ%22%3A%20t.set(l%20*%20m%2C%20l%20*%20p%2C%20o%20*%20h%2C%20o%20*%20c)%3B%20break%3B%20default%3A%20console.warn(%22THREE.MathUtilsUtils%3A%20.setQuaternionFromProperEuler()%20encountered%20an%20unknown%20order%3A%20%22%20%2B%20r)%20%7D%20%7D%2C%20normalize%3A%20Et%2C%20denormalize%3A%20At%20%7D)%3B%20class%20Lt%20%7B%20constructor(t%20%3D%200%2C%20e%20%3D%200)%20%7B%20Lt.prototype.isVector2%20%3D%20!0%2C%20this.x%20%3D%20t%2C%20this.y%20%3D%20e%20%7D%20get%20width()%20%7B%20return%20this.x%20%7D%20set%20width(t)%20%7B%20this.x%20%3D%20t%20%7D%20get%20height()%20%7B%20return%20this.y%20%7D%20set%20height(t)%20%7B%20this.y%20%3D%20t%20%7D%20set(t%2C%20e)%20%7B%20return%20this.x%20%3D%20t%2C%20this.y%20%3D%20e%2C%20this%20%7D%20setScalar(t)%20%7B%20return%20this.x%20%3D%20t%2C%20this.y%20%3D%20t%2C%20this%20%7D%20setX(t)%20%7B%20return%20this.x%20%3D%20t%2C%20this%20%7D%20setY(t)%20%7B%20return%20this.y%20%3D%20t%2C%20this%20%7D%20setComponent(t%2C%20e)%20%7B%20switch%20(t)%20%7B%20case%200%3A%20this.x%20%3D%20e%3B%20break%3B%20case%201%3A%20this.y%20%3D%20e%3B%20break%3B%20default%3A%20throw%20new%20Error(%22index%20is%20out%20of%20range%3A%20%22%20%2B%20t)%20%7Dreturn%20this%20%7D%20getComponent(t)%20%7B%20switch%20(t)%20%7B%20case%200%3A%20return%20this.x%3B%20case%201%3A%20return%20this.y%3B%20default%3A%20throw%20new%20Error(%22index%20is%20out%20of%20range%3A%20%22%20%2B%20t)%20%7D%20%7D%20clone()%20%7B%20return%20new%20this.constructor(this.x%2C%20this.y)%20%7D%20copy(t)%20%7B%20return%20this.x%20%3D%20t.x%2C%20this.y%20%3D%20t.y%2C%20this%20%7D%20add(t)%20%7B%20return%20this.x%20%2B%3D%20t.x%2C%20this.y%20%2B%3D%20t.y%2C%20this%20%7D%20addScalar(t)%20%7B%20return%20this.x%20%2B%3D%20t%2C%20this.y%20%2B%3D%20t%2C%20this%20%7D%20addVectors(t%2C%20e)%20%7B%20return%20this.x%20%3D%20t.x%20%2B%20e.x%2C%20this.y%20%3D%20t.y%20%2B%20e.y%2C%20this%20%7D%20addScaledVector(t%2C%20e)%20%7B%20return%20this.x%20%2B%3D%20t.x%20*%20e%2C%20this.y%20%2B%3D%20t.y%20*%20e%2C%20this%20%7D%20sub(t)%20%7B%20return%20this.x%20-%3D%20t.x%2C%20this.y%20-%3D%20t.y%2C%20this%20%7D%20subScalar(t)%20%7B%20return%20this.x%20-%3D%20t%2C%20this.y%20-%3D%20t%2C%20this%20%7D%20subVectors(t%2C%20e)%20%7B%20return%20this.x%20%3D%20t.x%20-%20e.x%2C%20this.y%20%3D%20t.y%20-%20e.y%2C%20this%20%7D%20multiply(t)%20%7B%20return%20this.x%20*%3D%20t.x%2C%20this.y%20*%3D%20t.y%2C%20this%20%7D%20multiplyScalar(t)%20%7B%20return%20this.x%20*%3D%20t%2C%20this.y%20*%3D%20t%2C%20this%20%7D%20divide(t)%20%7B%20return%20this.x%20%2F%3D%20t.x%2C%20this.y%20%2F%3D%20t.y%2C%20this%20%7D%20divideScalar(t)%20%7B%20return%20this.multiplyScalar(1%20%2F%20t)%20%7D%20applyMatrix3(t)%20%7B%20const%20e%20%3D%20this.x%2C%20i%20%3D%20this.y%2C%20n%20%3D%20t.elements%3B%20return%20this.x%20%3D%20n%5B0%5D%20*%20e%20%2B%20n%5B3%5D%20*%20i%20%2B%20n%5B6%5D%2C%20this.y%20%3D%20n%5B1%5D%20*%20e%20%2B%20n%5B4%5D%20*%20i%20%2B%20n%5B7%5D%2C%20this%20%7D%20min(t)%20%7B%20return%20this.x%20%3D%20Math.min(this.x%2C%20t.x)%2C%20this.y%20%3D%20Math.min(this.y%2C%20t.y)%2C%20this%20%7D%20max(t)%20%7B%20return%20this.x%20%3D%20Math.max(this.x%2C%20t.x)%2C%20this.y%20%3D%20Math.max(this.y%2C%20t.y)%2C%20this%20%7D%20clamp(t%2C%20e)%20%7B%20return%20this.x%20%3D%20Math.max(t.x%2C%20Math.min(e.x%2C%20this.x))%2C%20this.y%20%3D%20Math.max(t.y%2C%20Math.min(e.y%2C%20this.y))%2C%20this%20%7D%20clampScalar(t%2C%20e)%20%7B%20return%20this.x%20%3D%20Math.max(t%2C%20Math.min(e%2C%20this.x))%2C%20this.y%20%3D%20Math.max(t%2C%20Math.min(e%2C%20this.y))%2C%20this%20%7D%20clampLength(t%2C%20e)%20%7B%20const%20i%20%3D%20this.length()%3B%20return%20this.divideScalar(i%20%7C%7C%201).multiplyScalar(Math.max(t%2C%20Math.min(e%2C%20i)))%20%7D%20floor()%20%7B%20return%20this.x%20%3D%20Math.floor(this.x)%2C%20this.y%20%3D%20Math.floor(this.y)%2C%20this%20%7D%20ceil()%20%7B%20return%20this.x%20%3D%20Math.ceil(this.x)%2C%20this.y%20%3D%20Math.ceil(this.y)%2C%20this%20%7D%20round()%20%7B%20return%20this.x%20%3D%20Math.round(this.x)%2C%20this.y%20%3D%20Math.round(this.y)%2C%20this%20%7D%20roundToZero()%20%7B%20return%20this.x%20%3D%20this.x%20%3C%200%20%3F%20Math.ceil(this.x)%20%3A%20Math.floor(this.x)%2C%20this.y%20%3D%20this.y%20%3C%200%20%3F%20Math.ceil(this.y)%20%3A%20Math.floor(this.y)%2C%20this%20%7D%20negate()%20%7B%20return%20this.x%20%3D%20-this.x%2C%20this.y%20%3D%20-this.y%2C%20this%20%7D%20dot(t)%20%7B%20return%20this.x%20*%20t.x%20%2B%20this.y%20*%20t.y%20%7D%20cross(t)%20%7B%20return%20this.x%20*%20t.y%20-%20this.y%20*%20t.x%20%7D%20lengthSq()%20%7B%20return%20this.x%20*%20this.x%20%2B%20this.y%20*%20this.y%20%7D%20length()%20%7B%20return%20Math.sqrt(this.x%20*%20this.x%20%2B%20this.y%20*%20this.y)%20%7D%20manhattanLength()%20%7B%20return%20Math.abs(this.x)%20%2B%20Math.abs(this.y)%20%7D%20normalize()%20%7B%20return%20this.divideScalar(this.length()%20%7C%7C%201)%20%7D%20angle()%20%7B%20return%20Math.atan2(-this.y%2C%20-this.x)%20%2B%20Math.PI%20%7D%20distanceTo(t)%20%7B%20return%20Math.sqrt(this.distanceToSquared(t))%20%7D%20distanceToSquared(t)%20%7B%20const%20e%20%3D%20this.x%20-%20t.x%2C%20i%20%3D%20this.y%20-%20t.y%3B%20return%20e%20*%20e%20%2B%20i%20*%20i%20%7D%20manhattanDistanceTo(t)%20%7B%20return%20Math.abs(this.x%20-%20t.x)%20%2B%20Math.abs(this.y%20-%20t.y)%20%7D%20setLength(t)%20%7B%20return%20this.normalize().multiplyScalar(t)%20%7D%20lerp(t%2C%20e)%20%7B%20return%20this.x%20%2B%3D%20(t.x%20-%20this.x)%20*%20e%2C%20this.y%20%2B%3D%20(t.y%20-%20this.y)%20*%20e%2C%20this%20%7D%20lerpVectors(t%2C%20e%2C%20i)%20%7B%20return%20this.x%20%3D%20t.x%20%2B%20(e.x%20-%20t.x)%20*%20i%2C%20this.y%20%3D%20t.y%20%2B%20(e.y%20-%20t.y)%20*%20i%2C%20this%20%7D%20equals(t)%20%7B%20return%20t.x%20%3D%3D%3D%20this.x%20%26%26%20t.y%20%3D%3D%3D%20this.y%20%7D%20fromArray(t%2C%20e%20%3D%200)%20%7B%20return%20this.x%20%3D%20t%5Be%5D%2C%20this.y%20%3D%20t%5Be%20%2B%201%5D%2C%20this%20%7D%20toArray(t%20%3D%20%5B%5D%2C%20e%20%3D%200)%20%7B%20return%20t%5Be%5D%20%3D%20this.x%2C%20t%5Be%20%2B%201%5D%20%3D%20this.y%2C%20t%20%7D%20fromBufferAttribute(t%2C%20e)%20%7B%20return%20this.x%20%3D%20t.getX(e)%2C%20this.y%20%3D%20t.getY(e)%2C%20this%20%7D%20rotateAround(t%2C%20e)%20%7B%20const%20i%20%3D%20Math.cos(e)%2C%20n%20%3D%20Math.sin(e)%2C%20r%20%3D%20this.x%20-%20t.x%2C%20s%20%3D%20this.y%20-%20t.y%3B%20return%20this.x%20%3D%20r%20*%20i%20-%20s%20*%20n%20%2B%20t.x%2C%20this.y%20%3D%20r%20*%20n%20%2B%20s%20*%20i%20%2B%20t.y%2C%20this%20%7D%20random()%20%7B%20return%20this.x%20%3D%20Math.random()%2C%20this.y%20%3D%20Math.random()%2C%20this%20%7D%20*%5BSymbol.iterator%5D()%20%7B%20yield%20this.x%2C%20yield%20this.y%20%7D%20%7D%20class%20Rt%20%7B%20constructor()%20%7B%20Rt.prototype.isMatrix3%20%3D%20!0%2C%20this.elements%20%3D%20%5B1%2C%200%2C%200%2C%200%2C%201%2C%200%2C%200%2C%200%2C%201%5D%20%7D%20set(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%20a%2C%20o%2C%20l)%20%7B%20const%20c%20%3D%20this.elements%3B%20return%20c%5B0%5D%20%3D%20t%2C%20c%5B1%5D%20%3D%20n%2C%20c%5B2%5D%20%3D%20a%2C%20c%5B3%5D%20%3D%20e%2C%20c%5B4%5D%20%3D%20r%2C%20c%5B5%5D%20%3D%20o%2C%20c%5B6%5D%20%3D%20i%2C%20c%5B7%5D%20%3D%20s%2C%20c%5B8%5D%20%3D%20l%2C%20this%20%7D%20identity()%20%7B%20return%20this.set(1%2C%200%2C%200%2C%200%2C%201%2C%200%2C%200%2C%200%2C%201)%2C%20this%20%7D%20copy(t)%20%7B%20const%20e%20%3D%20this.elements%2C%20i%20%3D%20t.elements%3B%20return%20e%5B0%5D%20%3D%20i%5B0%5D%2C%20e%5B1%5D%20%3D%20i%5B1%5D%2C%20e%5B2%5D%20%3D%20i%5B2%5D%2C%20e%5B3%5D%20%3D%20i%5B3%5D%2C%20e%5B4%5D%20%3D%20i%5B4%5D%2C%20e%5B5%5D%20%3D%20i%5B5%5D%2C%20e%5B6%5D%20%3D%20i%5B6%5D%2C%20e%5B7%5D%20%3D%20i%5B7%5D%2C%20e%5B8%5D%20%3D%20i%5B8%5D%2C%20this%20%7D%20extractBasis(t%2C%20e%2C%20i)%20%7B%20return%20t.setFromMatrix3Column(this%2C%200)%2C%20e.setFromMatrix3Column(this%2C%201)%2C%20i.setFromMatrix3Column(this%2C%202)%2C%20this%20%7D%20setFromMatrix4(t)%20%7B%20const%20e%20%3D%20t.elements%3B%20return%20this.set(e%5B0%5D%2C%20e%5B4%5D%2C%20e%5B8%5D%2C%20e%5B1%5D%2C%20e%5B5%5D%2C%20e%5B9%5D%2C%20e%5B2%5D%2C%20e%5B6%5D%2C%20e%5B10%5D)%2C%20this%20%7D%20multiply(t)%20%7B%20return%20this.multiplyMatrices(this%2C%20t)%20%7D%20premultiply(t)%20%7B%20return%20this.multiplyMatrices(t%2C%20this)%20%7D%20multiplyMatrices(t%2C%20e)%20%7B%20const%20i%20%3D%20t.elements%2C%20n%20%3D%20e.elements%2C%20r%20%3D%20this.elements%2C%20s%20%3D%20i%5B0%5D%2C%20a%20%3D%20i%5B3%5D%2C%20o%20%3D%20i%5B6%5D%2C%20l%20%3D%20i%5B1%5D%2C%20c%20%3D%20i%5B4%5D%2C%20h%20%3D%20i%5B7%5D%2C%20u%20%3D%20i%5B2%5D%2C%20d%20%3D%20i%5B5%5D%2C%20p%20%3D%20i%5B8%5D%2C%20m%20%3D%20n%5B0%5D%2C%20f%20%3D%20n%5B3%5D%2C%20g%20%3D%20n%5B6%5D%2C%20v%20%3D%20n%5B1%5D%2C%20x%20%3D%20n%5B4%5D%2C%20_%20%3D%20n%5B7%5D%2C%20y%20%3D%20n%5B2%5D%2C%20M%20%3D%20n%5B5%5D%2C%20b%20%3D%20n%5B8%5D%3B%20return%20r%5B0%5D%20%3D%20s%20*%20m%20%2B%20a%20*%20v%20%2B%20o%20*%20y%2C%20r%5B3%5D%20%3D%20s%20*%20f%20%2B%20a%20*%20x%20%2B%20o%20*%20M%2C%20r%5B6%5D%20%3D%20s%20*%20g%20%2B%20a%20*%20_%20%2B%20o%20*%20b%2C%20r%5B1%5D%20%3D%20l%20*%20m%20%2B%20c%20*%20v%20%2B%20h%20*%20y%2C%20r%5B4%5D%20%3D%20l%20*%20f%20%2B%20c%20*%20x%20%2B%20h%20*%20M%2C%20r%5B7%5D%20%3D%20l%20*%20g%20%2B%20c%20*%20_%20%2B%20h%20*%20b%2C%20r%5B2%5D%20%3D%20u%20*%20m%20%2B%20d%20*%20v%20%2B%20p%20*%20y%2C%20r%5B5%5D%20%3D%20u%20*%20f%20%2B%20d%20*%20x%20%2B%20p%20*%20M%2C%20r%5B8%5D%20%3D%20u%20*%20g%20%2B%20d%20*%20_%20%2B%20p%20*%20b%2C%20this%20%7D%20multiplyScalar(t)%20%7B%20const%20e%20%3D%20this.elements%3B%20return%20e%5B0%5D%20*%3D%20t%2C%20e%5B3%5D%20*%3D%20t%2C%20e%5B6%5D%20*%3D%20t%2C%20e%5B1%5D%20*%3D%20t%2C%20e%5B4%5D%20*%3D%20t%2C%20e%5B7%5D%20*%3D%20t%2C%20e%5B2%5D%20*%3D%20t%2C%20e%5B5%5D%20*%3D%20t%2C%20e%5B8%5D%20*%3D%20t%2C%20this%20%7D%20determinant()%20%7B%20const%20t%20%3D%20this.elements%2C%20e%20%3D%20t%5B0%5D%2C%20i%20%3D%20t%5B1%5D%2C%20n%20%3D%20t%5B2%5D%2C%20r%20%3D%20t%5B3%5D%2C%20s%20%3D%20t%5B4%5D%2C%20a%20%3D%20t%5B5%5D%2C%20o%20%3D%20t%5B6%5D%2C%20l%20%3D%20t%5B7%5D%2C%20c%20%3D%20t%5B8%5D%3B%20return%20e%20*%20s%20*%20c%20-%20e%20*%20a%20*%20l%20-%20i%20*%20r%20*%20c%20%2B%20i%20*%20a%20*%20o%20%2B%20n%20*%20r%20*%20l%20-%20n%20*%20s%20*%20o%20%7D%20invert()%20%7B%20const%20t%20%3D%20this.elements%2C%20e%20%3D%20t%5B0%5D%2C%20i%20%3D%20t%5B1%5D%2C%20n%20%3D%20t%5B2%5D%2C%20r%20%3D%20t%5B3%5D%2C%20s%20%3D%20t%5B4%5D%2C%20a%20%3D%20t%5B5%5D%2C%20o%20%3D%20t%5B6%5D%2C%20l%20%3D%20t%5B7%5D%2C%20c%20%3D%20t%5B8%5D%2C%20h%20%3D%20c%20*%20s%20-%20a%20*%20l%2C%20u%20%3D%20a%20*%20o%20-%20c%20*%20r%2C%20d%20%3D%20l%20*%20r%20-%20s%20*%20o%2C%20p%20%3D%20e%20*%20h%20%2B%20i%20*%20u%20%2B%20n%20*%20d%3B%20if%20(0%20%3D%3D%3D%20p)%20return%20this.set(0%2C%200%2C%200%2C%200%2C%200%2C%200%2C%200%2C%200%2C%200)%3B%20const%20m%20%3D%201%20%2F%20p%3B%20return%20t%5B0%5D%20%3D%20h%20*%20m%2C%20t%5B1%5D%20%3D%20(n%20*%20l%20-%20c%20*%20i)%20*%20m%2C%20t%5B2%5D%20%3D%20(a%20*%20i%20-%20n%20*%20s)%20*%20m%2C%20t%5B3%5D%20%3D%20u%20*%20m%2C%20t%5B4%5D%20%3D%20(c%20*%20e%20-%20n%20*%20o)%20*%20m%2C%20t%5B5%5D%20%3D%20(n%20*%20r%20-%20a%20*%20e)%20*%20m%2C%20t%5B6%5D%20%3D%20d%20*%20m%2C%20t%5B7%5D%20%3D%20(i%20*%20o%20-%20l%20*%20e)%20*%20m%2C%20t%5B8%5D%20%3D%20(s%20*%20e%20-%20i%20*%20r)%20*%20m%2C%20this%20%7D%20transpose()%20%7B%20let%20t%3B%20const%20e%20%3D%20this.elements%3B%20return%20t%20%3D%20e%5B1%5D%2C%20e%5B1%5D%20%3D%20e%5B3%5D%2C%20e%5B3%5D%20%3D%20t%2C%20t%20%3D%20e%5B2%5D%2C%20e%5B2%5D%20%3D%20e%5B6%5D%2C%20e%5B6%5D%20%3D%20t%2C%20t%20%3D%20e%5B5%5D%2C%20e%5B5%5D%20%3D%20e%5B7%5D%2C%20e%5B7%5D%20%3D%20t%2C%20this%20%7D%20getNormalMatrix(t)%20%7B%20return%20this.setFromMatrix4(t).invert().transpose()%20%7D%20transposeIntoArray(t)%20%7B%20const%20e%20%3D%20this.elements%3B%20return%20t%5B0%5D%20%3D%20e%5B0%5D%2C%20t%5B1%5D%20%3D%20e%5B3%5D%2C%20t%5B2%5D%20%3D%20e%5B6%5D%2C%20t%5B3%5D%20%3D%20e%5B1%5D%2C%20t%5B4%5D%20%3D%20e%5B4%5D%2C%20t%5B5%5D%20%3D%20e%5B7%5D%2C%20t%5B6%5D%20%3D%20e%5B2%5D%2C%20t%5B7%5D%20%3D%20e%5B5%5D%2C%20t%5B8%5D%20%3D%20e%5B8%5D%2C%20this%20%7D%20setUvTransform(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%20a)%20%7B%20const%20o%20%3D%20Math.cos(r)%2C%20l%20%3D%20Math.sin(r)%3B%20return%20this.set(i%20*%20o%2C%20i%20*%20l%2C%20-i%20*%20(o%20*%20s%20%2B%20l%20*%20a)%20%2B%20s%20%2B%20t%2C%20-n%20*%20l%2C%20n%20*%20o%2C%20-n%20*%20(-l%20*%20s%20%2B%20o%20*%20a)%20%2B%20a%20%2B%20e%2C%200%2C%200%2C%201)%2C%20this%20%7D%20scale(t%2C%20e)%20%7B%20return%20this.premultiply(Pt.makeScale(t%2C%20e))%2C%20this%20%7D%20rotate(t)%20%7B%20return%20this.premultiply(Pt.makeRotation(-t))%2C%20this%20%7D%20translate(t%2C%20e)%20%7B%20return%20this.premultiply(Pt.makeTranslation(t%2C%20e))%2C%20this%20%7D%20makeTranslation(t%2C%20e)%20%7B%20return%20this.set(1%2C%200%2C%20t%2C%200%2C%201%2C%20e%2C%200%2C%200%2C%201)%2C%20this%20%7D%20makeRotation(t)%20%7B%20const%20e%20%3D%20Math.cos(t)%2C%20i%20%3D%20Math.sin(t)%3B%20return%20this.set(e%2C%20-i%2C%200%2C%20i%2C%20e%2C%200%2C%200%2C%200%2C%201)%2C%20this%20%7D%20makeScale(t%2C%20e)%20%7B%20return%20this.set(t%2C%200%2C%200%2C%200%2C%20e%2C%200%2C%200%2C%200%2C%201)%2C%20this%20%7D%20equals(t)%20%7B%20const%20e%20%3D%20this.elements%2C%20i%20%3D%20t.elements%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%209%3B%20t%2B%2B)if%20(e%5Bt%5D%20!%3D%3D%20i%5Bt%5D)%20return%20!1%3B%20return%20!0%20%7D%20fromArray(t%2C%20e%20%3D%200)%20%7B%20for%20(let%20i%20%3D%200%3B%20i%20%3C%209%3B%20i%2B%2B)this.elements%5Bi%5D%20%3D%20t%5Bi%20%2B%20e%5D%3B%20return%20this%20%7D%20toArray(t%20%3D%20%5B%5D%2C%20e%20%3D%200)%20%7B%20const%20i%20%3D%20this.elements%3B%20return%20t%5Be%5D%20%3D%20i%5B0%5D%2C%20t%5Be%20%2B%201%5D%20%3D%20i%5B1%5D%2C%20t%5Be%20%2B%202%5D%20%3D%20i%5B2%5D%2C%20t%5Be%20%2B%203%5D%20%3D%20i%5B3%5D%2C%20t%5Be%20%2B%204%5D%20%3D%20i%5B4%5D%2C%20t%5Be%20%2B%205%5D%20%3D%20i%5B5%5D%2C%20t%5Be%20%2B%206%5D%20%3D%20i%5B6%5D%2C%20t%5Be%20%2B%207%5D%20%3D%20i%5B7%5D%2C%20t%5Be%20%2B%208%5D%20%3D%20i%5B8%5D%2C%20t%20%7D%20clone()%20%7B%20return%20(new%20this.constructor).fromArray(this.elements)%20%7D%20%7D%20const%20Pt%20%3D%20new%20Rt%3B%20function%20It(t)%20%7B%20for%20(let%20e%20%3D%20t.length%20-%201%3B%20e%20%3E%3D%200%3B%20--e)if%20(t%5Be%5D%20%3E%3D%2065535)%20return%20!0%3B%20return%20!1%20%7D%20const%20Dt%20%3D%20%7B%20Int8Array%3A%20Int8Array%2C%20Uint8Array%3A%20Uint8Array%2C%20Uint8ClampedArray%3A%20Uint8ClampedArray%2C%20Int16Array%3A%20Int16Array%2C%20Uint16Array%3A%20Uint16Array%2C%20Int32Array%3A%20Int32Array%2C%20Uint32Array%3A%20Uint32Array%2C%20Float32Array%3A%20Float32Array%2C%20Float64Array%3A%20Float64Array%20%7D%3B%20function%20Nt(t%2C%20e)%20%7B%20return%20new%20Dt%5Bt%5D(e)%20%7D%20function%20Ot(t)%20%7B%20return%20document.createElementNS(%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22%2C%20t)%20%7D%20function%20zt(t)%20%7B%20return%20t%20%3C%20.04045%20%3F%20.0773993808%20*%20t%20%3A%20Math.pow(.9478672986%20*%20t%20%2B%20.0521327014%2C%202.4)%20%7D%20function%20Ut(t)%20%7B%20return%20t%20%3C%20.0031308%20%3F%2012.92%20*%20t%20%3A%201.055%20*%20Math.pow(t%2C%20.41666)%20-%20.055%20%7D%20const%20Bt%20%3D%20%7B%20%5Blt%5D%3A%20%7B%20%5Bct%5D%3A%20zt%20%7D%2C%20%5Bct%5D%3A%20%7B%20%5Blt%5D%3A%20Ut%20%7D%20%7D%2C%20Ft%20%3D%20%7B%20legacyMode%3A%20!0%2C%20get%20workingColorSpace()%20%7B%20return%20ct%20%7D%2C%20set%20workingColorSpace(t)%20%7B%20console.warn(%22THREE.ColorManagement%3A%20.workingColorSpace%20is%20readonly.%22)%20%7D%2C%20convert%3A%20function%20(t%2C%20e%2C%20i)%20%7B%20if%20(this.legacyMode%20%7C%7C%20e%20%3D%3D%3D%20i%20%7C%7C%20!e%20%7C%7C%20!i)%20return%20t%3B%20if%20(Bt%5Be%5D%20%26%26%20void%200%20!%3D%3D%20Bt%5Be%5D%5Bi%5D)%20%7B%20const%20n%20%3D%20Bt%5Be%5D%5Bi%5D%3B%20return%20t.r%20%3D%20n(t.r)%2C%20t.g%20%3D%20n(t.g)%2C%20t.b%20%3D%20n(t.b)%2C%20t%20%7D%20throw%20new%20Error(%22Unsupported%20color%20space%20conversion.%22)%20%7D%2C%20fromWorkingColorSpace%3A%20function%20(t%2C%20e)%20%7B%20return%20this.convert(t%2C%20this.workingColorSpace%2C%20e)%20%7D%2C%20toWorkingColorSpace%3A%20function%20(t%2C%20e)%20%7B%20return%20this.convert(t%2C%20e%2C%20this.workingColorSpace)%20%7D%20%7D%2C%20kt%20%3D%20%7B%20aliceblue%3A%2015792383%2C%20antiquewhite%3A%2016444375%2C%20aqua%3A%2065535%2C%20aquamarine%3A%208388564%2C%20azure%3A%2015794175%2C%20beige%3A%2016119260%2C%20bisque%3A%2016770244%2C%20black%3A%200%2C%20blanchedalmond%3A%2016772045%2C%20blue%3A%20255%2C%20blueviolet%3A%209055202%2C%20brown%3A%2010824234%2C%20burlywood%3A%2014596231%2C%20cadetblue%3A%206266528%2C%20chartreuse%3A%208388352%2C%20chocolate%3A%2013789470%2C%20coral%3A%2016744272%2C%20cornflowerblue%3A%206591981%2C%20cornsilk%3A%2016775388%2C%20crimson%3A%2014423100%2C%20cyan%3A%2065535%2C%20darkblue%3A%20139%2C%20darkcyan%3A%2035723%2C%20darkgoldenrod%3A%2012092939%2C%20darkgray%3A%2011119017%2C%20darkgreen%3A%2025600%2C%20darkgrey%3A%2011119017%2C%20darkkhaki%3A%2012433259%2C%20darkmagenta%3A%209109643%2C%20darkolivegreen%3A%205597999%2C%20darkorange%3A%2016747520%2C%20darkorchid%3A%2010040012%2C%20darkred%3A%209109504%2C%20darksalmon%3A%2015308410%2C%20darkseagreen%3A%209419919%2C%20darkslateblue%3A%204734347%2C%20darkslategray%3A%203100495%2C%20darkslategrey%3A%203100495%2C%20darkturquoise%3A%2052945%2C%20darkviolet%3A%209699539%2C%20deeppink%3A%2016716947%2C%20deepskyblue%3A%2049151%2C%20dimgray%3A%206908265%2C%20dimgrey%3A%206908265%2C%20dodgerblue%3A%202003199%2C%20firebrick%3A%2011674146%2C%20floralwhite%3A%2016775920%2C%20forestgreen%3A%202263842%2C%20fuchsia%3A%2016711935%2C%20gainsboro%3A%2014474460%2C%20ghostwhite%3A%2016316671%2C%20gold%3A%2016766720%2C%20goldenrod%3A%2014329120%2C%20gray%3A%208421504%2C%20green%3A%2032768%2C%20greenyellow%3A%2011403055%2C%20grey%3A%208421504%2C%20honeydew%3A%2015794160%2C%20hotpink%3A%2016738740%2C%20indianred%3A%2013458524%2C%20indigo%3A%204915330%2C%20ivory%3A%2016777200%2C%20khaki%3A%2015787660%2C%20lavender%3A%2015132410%2C%20lavenderblush%3A%2016773365%2C%20lawngreen%3A%208190976%2C%20lemonchiffon%3A%2016775885%2C%20lightblue%3A%2011393254%2C%20lightcoral%3A%2015761536%2C%20lightcyan%3A%2014745599%2C%20lightgoldenrodyellow%3A%2016448210%2C%20lightgray%3A%2013882323%2C%20lightgreen%3A%209498256%2C%20lightgrey%3A%2013882323%2C%20lightpink%3A%2016758465%2C%20lightsalmon%3A%2016752762%2C%20lightseagreen%3A%202142890%2C%20lightskyblue%3A%208900346%2C%20lightslategray%3A%207833753%2C%20lightslategrey%3A%207833753%2C%20lightsteelblue%3A%2011584734%2C%20lightyellow%3A%2016777184%2C%20lime%3A%2065280%2C%20limegreen%3A%203329330%2C%20linen%3A%2016445670%2C%20magenta%3A%2016711935%2C%20maroon%3A%208388608%2C%20mediumaquamarine%3A%206737322%2C%20mediumblue%3A%20205%2C%20mediumorchid%3A%2012211667%2C%20mediumpurple%3A%209662683%2C%20mediumseagreen%3A%203978097%2C%20mediumslateblue%3A%208087790%2C%20mediumspringgreen%3A%2064154%2C%20mediumturquoise%3A%204772300%2C%20mediumvioletred%3A%2013047173%2C%20midnightblue%3A%201644912%2C%20mintcream%3A%2016121850%2C%20mistyrose%3A%2016770273%2C%20moccasin%3A%2016770229%2C%20navajowhite%3A%2016768685%2C%20navy%3A%20128%2C%20oldlace%3A%2016643558%2C%20olive%3A%208421376%2C%20olivedrab%3A%207048739%2C%20orange%3A%2016753920%2C%20orangered%3A%2016729344%2C%20orchid%3A%2014315734%2C%20palegoldenrod%3A%2015657130%2C%20palegreen%3A%2010025880%2C%20paleturquoise%3A%2011529966%2C%20palevioletred%3A%2014381203%2C%20papayawhip%3A%2016773077%2C%20peachpuff%3A%2016767673%2C%20peru%3A%2013468991%2C%20pink%3A%2016761035%2C%20plum%3A%2014524637%2C%20powderblue%3A%2011591910%2C%20purple%3A%208388736%2C%20rebeccapurple%3A%206697881%2C%20red%3A%2016711680%2C%20rosybrown%3A%2012357519%2C%20royalblue%3A%204286945%2C%20saddlebrown%3A%209127187%2C%20salmon%3A%2016416882%2C%20sandybrown%3A%2016032864%2C%20seagreen%3A%203050327%2C%20seashell%3A%2016774638%2C%20sienna%3A%2010506797%2C%20silver%3A%2012632256%2C%20skyblue%3A%208900331%2C%20slateblue%3A%206970061%2C%20slategray%3A%207372944%2C%20slategrey%3A%207372944%2C%20snow%3A%2016775930%2C%20springgreen%3A%2065407%2C%20steelblue%3A%204620980%2C%20tan%3A%2013808780%2C%20teal%3A%2032896%2C%20thistle%3A%2014204888%2C%20tomato%3A%2016737095%2C%20turquoise%3A%204251856%2C%20violet%3A%2015631086%2C%20wheat%3A%2016113331%2C%20white%3A%2016777215%2C%20whitesmoke%3A%2016119285%2C%20yellow%3A%2016776960%2C%20yellowgreen%3A%2010145074%20%7D%2C%20Gt%20%3D%20%7B%20r%3A%200%2C%20g%3A%200%2C%20b%3A%200%20%7D%2C%20Vt%20%3D%20%7B%20h%3A%200%2C%20s%3A%200%2C%20l%3A%200%20%7D%2C%20Ht%20%3D%20%7B%20h%3A%200%2C%20s%3A%200%2C%20l%3A%200%20%7D%3B%20function%20Wt(t%2C%20e%2C%20i)%20%7B%20return%20i%20%3C%200%20%26%26%20(i%20%2B%3D%201)%2C%20i%20%3E%201%20%26%26%20(i%20-%3D%201)%2C%20i%20%3C%201%20%2F%206%20%3F%20t%20%2B%206%20*%20(e%20-%20t)%20*%20i%20%3A%20i%20%3C%20.5%20%3F%20e%20%3A%20i%20%3C%202%20%2F%203%20%3F%20t%20%2B%206%20*%20(e%20-%20t)%20*%20(2%20%2F%203%20-%20i)%20%3A%20t%20%7D%20function%20jt(t%2C%20e)%20%7B%20return%20e.r%20%3D%20t.r%2C%20e.g%20%3D%20t.g%2C%20e.b%20%3D%20t.b%2C%20e%20%7D%20class%20qt%20%7B%20constructor(t%2C%20e%2C%20i)%20%7B%20return%20this.isColor%20%3D%20!0%2C%20this.r%20%3D%201%2C%20this.g%20%3D%201%2C%20this.b%20%3D%201%2C%20void%200%20%3D%3D%3D%20e%20%26%26%20void%200%20%3D%3D%3D%20i%20%3F%20this.set(t)%20%3A%20this.setRGB(t%2C%20e%2C%20i)%20%7D%20set(t)%20%7B%20return%20t%20%26%26%20t.isColor%20%3F%20this.copy(t)%20%3A%20%22number%22%20%3D%3D%20typeof%20t%20%3F%20this.setHex(t)%20%3A%20%22string%22%20%3D%3D%20typeof%20t%20%26%26%20this.setStyle(t)%2C%20this%20%7D%20setScalar(t)%20%7B%20return%20this.r%20%3D%20t%2C%20this.g%20%3D%20t%2C%20this.b%20%3D%20t%2C%20this%20%7D%20setHex(t%2C%20e%20%3D%20lt)%20%7B%20return%20t%20%3D%20Math.floor(t)%2C%20this.r%20%3D%20(t%20%3E%3E%2016%20%26%20255)%20%2F%20255%2C%20this.g%20%3D%20(t%20%3E%3E%208%20%26%20255)%20%2F%20255%2C%20this.b%20%3D%20(255%20%26%20t)%20%2F%20255%2C%20Ft.toWorkingColorSpace(this%2C%20e)%2C%20this%20%7D%20setRGB(t%2C%20e%2C%20i%2C%20n%20%3D%20Ft.workingColorSpace)%20%7B%20return%20this.r%20%3D%20t%2C%20this.g%20%3D%20e%2C%20this.b%20%3D%20i%2C%20Ft.toWorkingColorSpace(this%2C%20n)%2C%20this%20%7D%20setHSL(t%2C%20e%2C%20i%2C%20n%20%3D%20Ft.workingColorSpace)%20%7B%20if%20(t%20%3D%20Mt(t%2C%201)%2C%20e%20%3D%20yt(e%2C%200%2C%201)%2C%20i%20%3D%20yt(i%2C%200%2C%201)%2C%200%20%3D%3D%3D%20e)%20this.r%20%3D%20this.g%20%3D%20this.b%20%3D%20i%3B%20else%20%7B%20const%20n%20%3D%20i%20%3C%3D%20.5%20%3F%20i%20*%20(1%20%2B%20e)%20%3A%20i%20%2B%20e%20-%20i%20*%20e%2C%20r%20%3D%202%20*%20i%20-%20n%3B%20this.r%20%3D%20Wt(r%2C%20n%2C%20t%20%2B%201%20%2F%203)%2C%20this.g%20%3D%20Wt(r%2C%20n%2C%20t)%2C%20this.b%20%3D%20Wt(r%2C%20n%2C%20t%20-%201%20%2F%203)%20%7D%20return%20Ft.toWorkingColorSpace(this%2C%20n)%2C%20this%20%7D%20setStyle(t%2C%20e%20%3D%20lt)%20%7B%20function%20i(e)%20%7B%20void%200%20!%3D%3D%20e%20%26%26%20parseFloat(e)%20%3C%201%20%26%26%20console.warn(%22THREE.Color%3A%20Alpha%20component%20of%20%22%20%2B%20t%20%2B%20%22%20will%20be%20ignored.%22)%20%7D%20let%20n%3B%20if%20(n%20%3D%20%2F%5E((%3F%3Argb%7Chsl)a%3F)%5C((%5B%5E%5C)%5D*)%5C)%2F.exec(t))%20%7B%20let%20t%3B%20const%20r%20%3D%20n%5B1%5D%2C%20s%20%3D%20n%5B2%5D%3B%20switch%20(r)%20%7B%20case%20%22rgb%22%3A%20case%20%22rgba%22%3A%20if%20(t%20%3D%20%2F%5E%5Cs*(%5Cd%2B)%5Cs*%2C%5Cs*(%5Cd%2B)%5Cs*%2C%5Cs*(%5Cd%2B)%5Cs*(%3F%3A%2C%5Cs*(%5Cd*%5C.%3F%5Cd%2B)%5Cs*)%3F%24%2F.exec(s))%20return%20this.r%20%3D%20Math.min(255%2C%20parseInt(t%5B1%5D%2C%2010))%20%2F%20255%2C%20this.g%20%3D%20Math.min(255%2C%20parseInt(t%5B2%5D%2C%2010))%20%2F%20255%2C%20this.b%20%3D%20Math.min(255%2C%20parseInt(t%5B3%5D%2C%2010))%20%2F%20255%2C%20Ft.toWorkingColorSpace(this%2C%20e)%2C%20i(t%5B4%5D)%2C%20this%3B%20if%20(t%20%3D%20%2F%5E%5Cs*(%5Cd%2B)%5C%25%5Cs*%2C%5Cs*(%5Cd%2B)%5C%25%5Cs*%2C%5Cs*(%5Cd%2B)%5C%25%5Cs*(%3F%3A%2C%5Cs*(%5Cd*%5C.%3F%5Cd%2B)%5Cs*)%3F%24%2F.exec(s))%20return%20this.r%20%3D%20Math.min(100%2C%20parseInt(t%5B1%5D%2C%2010))%20%2F%20100%2C%20this.g%20%3D%20Math.min(100%2C%20parseInt(t%5B2%5D%2C%2010))%20%2F%20100%2C%20this.b%20%3D%20Math.min(100%2C%20parseInt(t%5B3%5D%2C%2010))%20%2F%20100%2C%20Ft.toWorkingColorSpace(this%2C%20e)%2C%20i(t%5B4%5D)%2C%20this%3B%20break%3B%20case%20%22hsl%22%3A%20case%20%22hsla%22%3A%20if%20(t%20%3D%20%2F%5E%5Cs*(%5Cd*%5C.%3F%5Cd%2B)%5Cs*%2C%5Cs*(%5Cd*%5C.%3F%5Cd%2B)%5C%25%5Cs*%2C%5Cs*(%5Cd*%5C.%3F%5Cd%2B)%5C%25%5Cs*(%3F%3A%2C%5Cs*(%5Cd*%5C.%3F%5Cd%2B)%5Cs*)%3F%24%2F.exec(s))%20%7B%20const%20n%20%3D%20parseFloat(t%5B1%5D)%20%2F%20360%2C%20r%20%3D%20parseFloat(t%5B2%5D)%20%2F%20100%2C%20s%20%3D%20parseFloat(t%5B3%5D)%20%2F%20100%3B%20return%20i(t%5B4%5D)%2C%20this.setHSL(n%2C%20r%2C%20s%2C%20e)%20%7D%20%7D%20%7D%20else%20if%20(n%20%3D%20%2F%5E%5C%23(%5BA-Fa-f%5Cd%5D%2B)%24%2F.exec(t))%20%7B%20const%20t%20%3D%20n%5B1%5D%2C%20i%20%3D%20t.length%3B%20if%20(3%20%3D%3D%3D%20i)%20return%20this.r%20%3D%20parseInt(t.charAt(0)%20%2B%20t.charAt(0)%2C%2016)%20%2F%20255%2C%20this.g%20%3D%20parseInt(t.charAt(1)%20%2B%20t.charAt(1)%2C%2016)%20%2F%20255%2C%20this.b%20%3D%20parseInt(t.charAt(2)%20%2B%20t.charAt(2)%2C%2016)%20%2F%20255%2C%20Ft.toWorkingColorSpace(this%2C%20e)%2C%20this%3B%20if%20(6%20%3D%3D%3D%20i)%20return%20this.r%20%3D%20parseInt(t.charAt(0)%20%2B%20t.charAt(1)%2C%2016)%20%2F%20255%2C%20this.g%20%3D%20parseInt(t.charAt(2)%20%2B%20t.charAt(3)%2C%2016)%20%2F%20255%2C%20this.b%20%3D%20parseInt(t.charAt(4)%20%2B%20t.charAt(5)%2C%2016)%20%2F%20255%2C%20Ft.toWorkingColorSpace(this%2C%20e)%2C%20this%20%7D%20return%20t%20%26%26%20t.length%20%3E%200%20%3F%20this.setColorName(t%2C%20e)%20%3A%20this%20%7D%20setColorName(t%2C%20e%20%3D%20lt)%20%7B%20const%20i%20%3D%20kt%5Bt.toLowerCase()%5D%3B%20return%20void%200%20!%3D%3D%20i%20%3F%20this.setHex(i%2C%20e)%20%3A%20console.warn(%22THREE.Color%3A%20Unknown%20color%20%22%20%2B%20t)%2C%20this%20%7D%20clone()%20%7B%20return%20new%20this.constructor(this.r%2C%20this.g%2C%20this.b)%20%7D%20copy(t)%20%7B%20return%20this.r%20%3D%20t.r%2C%20this.g%20%3D%20t.g%2C%20this.b%20%3D%20t.b%2C%20this%20%7D%20copySRGBToLinear(t)%20%7B%20return%20this.r%20%3D%20zt(t.r)%2C%20this.g%20%3D%20zt(t.g)%2C%20this.b%20%3D%20zt(t.b)%2C%20this%20%7D%20copyLinearToSRGB(t)%20%7B%20return%20this.r%20%3D%20Ut(t.r)%2C%20this.g%20%3D%20Ut(t.g)%2C%20this.b%20%3D%20Ut(t.b)%2C%20this%20%7D%20convertSRGBToLinear()%20%7B%20return%20this.copySRGBToLinear(this)%2C%20this%20%7D%20convertLinearToSRGB()%20%7B%20return%20this.copyLinearToSRGB(this)%2C%20this%20%7D%20getHex(t%20%3D%20lt)%20%7B%20return%20Ft.fromWorkingColorSpace(jt(this%2C%20Gt)%2C%20t)%2C%20yt(255%20*%20Gt.r%2C%200%2C%20255)%20%3C%3C%2016%20%5E%20yt(255%20*%20Gt.g%2C%200%2C%20255)%20%3C%3C%208%20%5E%20yt(255%20*%20Gt.b%2C%200%2C%20255)%20%3C%3C%200%20%7D%20getHexString(t%20%3D%20lt)%20%7B%20return%20(%22000000%22%20%2B%20this.getHex(t).toString(16)).slice(-6)%20%7D%20getHSL(t%2C%20e%20%3D%20Ft.workingColorSpace)%20%7B%20Ft.fromWorkingColorSpace(jt(this%2C%20Gt)%2C%20e)%3B%20const%20i%20%3D%20Gt.r%2C%20n%20%3D%20Gt.g%2C%20r%20%3D%20Gt.b%2C%20s%20%3D%20Math.max(i%2C%20n%2C%20r)%2C%20a%20%3D%20Math.min(i%2C%20n%2C%20r)%3B%20let%20o%2C%20l%3B%20const%20c%20%3D%20(a%20%2B%20s)%20%2F%202%3B%20if%20(a%20%3D%3D%3D%20s)%20o%20%3D%200%2C%20l%20%3D%200%3B%20else%20%7B%20const%20t%20%3D%20s%20-%20a%3B%20switch%20(l%20%3D%20c%20%3C%3D%20.5%20%3F%20t%20%2F%20(s%20%2B%20a)%20%3A%20t%20%2F%20(2%20-%20s%20-%20a)%2C%20s)%20%7B%20case%20i%3A%20o%20%3D%20(n%20-%20r)%20%2F%20t%20%2B%20(n%20%3C%20r%20%3F%206%20%3A%200)%3B%20break%3B%20case%20n%3A%20o%20%3D%20(r%20-%20i)%20%2F%20t%20%2B%202%3B%20break%3B%20case%20r%3A%20o%20%3D%20(i%20-%20n)%20%2F%20t%20%2B%204%20%7Do%20%2F%3D%206%20%7D%20return%20t.h%20%3D%20o%2C%20t.s%20%3D%20l%2C%20t.l%20%3D%20c%2C%20t%20%7D%20getRGB(t%2C%20e%20%3D%20Ft.workingColorSpace)%20%7B%20return%20Ft.fromWorkingColorSpace(jt(this%2C%20Gt)%2C%20e)%2C%20t.r%20%3D%20Gt.r%2C%20t.g%20%3D%20Gt.g%2C%20t.b%20%3D%20Gt.b%2C%20t%20%7D%20getStyle(t%20%3D%20lt)%20%7B%20return%20Ft.fromWorkingColorSpace(jt(this%2C%20Gt)%2C%20t)%2C%20t%20!%3D%3D%20lt%20%3F%20%60color(%24%7Bt%7D%20%24%7BGt.r%7D%20%24%7BGt.g%7D%20%24%7BGt.b%7D)%60%20%3A%20%60rgb(%24%7B255%20*%20Gt.r%20%7C%200%7D%2C%24%7B255%20*%20Gt.g%20%7C%200%7D%2C%24%7B255%20*%20Gt.b%20%7C%200%7D)%60%20%7D%20offsetHSL(t%2C%20e%2C%20i)%20%7B%20return%20this.getHSL(Vt)%2C%20Vt.h%20%2B%3D%20t%2C%20Vt.s%20%2B%3D%20e%2C%20Vt.l%20%2B%3D%20i%2C%20this.setHSL(Vt.h%2C%20Vt.s%2C%20Vt.l)%2C%20this%20%7D%20add(t)%20%7B%20return%20this.r%20%2B%3D%20t.r%2C%20this.g%20%2B%3D%20t.g%2C%20this.b%20%2B%3D%20t.b%2C%20this%20%7D%20addColors(t%2C%20e)%20%7B%20return%20this.r%20%3D%20t.r%20%2B%20e.r%2C%20this.g%20%3D%20t.g%20%2B%20e.g%2C%20this.b%20%3D%20t.b%20%2B%20e.b%2C%20this%20%7D%20addScalar(t)%20%7B%20return%20this.r%20%2B%3D%20t%2C%20this.g%20%2B%3D%20t%2C%20this.b%20%2B%3D%20t%2C%20this%20%7D%20sub(t)%20%7B%20return%20this.r%20%3D%20Math.max(0%2C%20this.r%20-%20t.r)%2C%20this.g%20%3D%20Math.max(0%2C%20this.g%20-%20t.g)%2C%20this.b%20%3D%20Math.max(0%2C%20this.b%20-%20t.b)%2C%20this%20%7D%20multiply(t)%20%7B%20return%20this.r%20*%3D%20t.r%2C%20this.g%20*%3D%20t.g%2C%20this.b%20*%3D%20t.b%2C%20this%20%7D%20multiplyScalar(t)%20%7B%20return%20this.r%20*%3D%20t%2C%20this.g%20*%3D%20t%2C%20this.b%20*%3D%20t%2C%20this%20%7D%20lerp(t%2C%20e)%20%7B%20return%20this.r%20%2B%3D%20(t.r%20-%20this.r)%20*%20e%2C%20this.g%20%2B%3D%20(t.g%20-%20this.g)%20*%20e%2C%20this.b%20%2B%3D%20(t.b%20-%20this.b)%20*%20e%2C%20this%20%7D%20lerpColors(t%2C%20e%2C%20i)%20%7B%20return%20this.r%20%3D%20t.r%20%2B%20(e.r%20-%20t.r)%20*%20i%2C%20this.g%20%3D%20t.g%20%2B%20(e.g%20-%20t.g)%20*%20i%2C%20this.b%20%3D%20t.b%20%2B%20(e.b%20-%20t.b)%20*%20i%2C%20this%20%7D%20lerpHSL(t%2C%20e)%20%7B%20this.getHSL(Vt)%2C%20t.getHSL(Ht)%3B%20const%20i%20%3D%20bt(Vt.h%2C%20Ht.h%2C%20e)%2C%20n%20%3D%20bt(Vt.s%2C%20Ht.s%2C%20e)%2C%20r%20%3D%20bt(Vt.l%2C%20Ht.l%2C%20e)%3B%20return%20this.setHSL(i%2C%20n%2C%20r)%2C%20this%20%7D%20equals(t)%20%7B%20return%20t.r%20%3D%3D%3D%20this.r%20%26%26%20t.g%20%3D%3D%3D%20this.g%20%26%26%20t.b%20%3D%3D%3D%20this.b%20%7D%20fromArray(t%2C%20e%20%3D%200)%20%7B%20return%20this.r%20%3D%20t%5Be%5D%2C%20this.g%20%3D%20t%5Be%20%2B%201%5D%2C%20this.b%20%3D%20t%5Be%20%2B%202%5D%2C%20this%20%7D%20toArray(t%20%3D%20%5B%5D%2C%20e%20%3D%200)%20%7B%20return%20t%5Be%5D%20%3D%20this.r%2C%20t%5Be%20%2B%201%5D%20%3D%20this.g%2C%20t%5Be%20%2B%202%5D%20%3D%20this.b%2C%20t%20%7D%20fromBufferAttribute(t%2C%20e)%20%7B%20return%20this.r%20%3D%20t.getX(e)%2C%20this.g%20%3D%20t.getY(e)%2C%20this.b%20%3D%20t.getZ(e)%2C%20this%20%7D%20toJSON()%20%7B%20return%20this.getHex()%20%7D%20*%5BSymbol.iterator%5D()%20%7B%20yield%20this.r%2C%20yield%20this.g%2C%20yield%20this.b%20%7D%20%7D%20let%20Xt%3B%20qt.NAMES%20%3D%20kt%3B%20class%20Yt%20%7B%20static%20getDataURL(t)%20%7B%20if%20(%2F%5Edata%3A%2Fi.test(t.src))%20return%20t.src%3B%20if%20(%22undefined%22%20%3D%3D%20typeof%20HTMLCanvasElement)%20return%20t.src%3B%20let%20e%3B%20if%20(t%20instanceof%20HTMLCanvasElement)%20e%20%3D%20t%3B%20else%20%7B%20void%200%20%3D%3D%3D%20Xt%20%26%26%20(Xt%20%3D%20Ot(%22canvas%22))%2C%20Xt.width%20%3D%20t.width%2C%20Xt.height%20%3D%20t.height%3B%20const%20i%20%3D%20Xt.getContext(%222d%22)%3B%20t%20instanceof%20ImageData%20%3F%20i.putImageData(t%2C%200%2C%200)%20%3A%20i.drawImage(t%2C%200%2C%200%2C%20t.width%2C%20t.height)%2C%20e%20%3D%20Xt%20%7D%20return%20e.width%20%3E%202048%20%7C%7C%20e.height%20%3E%202048%20%3F%20(console.warn(%22THREE.ImageUtils.getDataURL%3A%20Image%20converted%20to%20jpg%20for%20performance%20reasons%22%2C%20t)%2C%20e.toDataURL(%22image%2Fjpeg%22%2C%20.6))%20%3A%20e.toDataURL(%22image%2Fpng%22)%20%7D%20static%20sRGBToLinear(t)%20%7B%20if%20(%22undefined%22%20!%3D%20typeof%20HTMLImageElement%20%26%26%20t%20instanceof%20HTMLImageElement%20%7C%7C%20%22undefined%22%20!%3D%20typeof%20HTMLCanvasElement%20%26%26%20t%20instanceof%20HTMLCanvasElement%20%7C%7C%20%22undefined%22%20!%3D%20typeof%20ImageBitmap%20%26%26%20t%20instanceof%20ImageBitmap)%20%7B%20const%20e%20%3D%20Ot(%22canvas%22)%3B%20e.width%20%3D%20t.width%2C%20e.height%20%3D%20t.height%3B%20const%20i%20%3D%20e.getContext(%222d%22)%3B%20i.drawImage(t%2C%200%2C%200%2C%20t.width%2C%20t.height)%3B%20const%20n%20%3D%20i.getImageData(0%2C%200%2C%20t.width%2C%20t.height)%2C%20r%20%3D%20n.data%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20r.length%3B%20t%2B%2B)r%5Bt%5D%20%3D%20255%20*%20zt(r%5Bt%5D%20%2F%20255)%3B%20return%20i.putImageData(n%2C%200%2C%200)%2C%20e%20%7D%20if%20(t.data)%20%7B%20const%20e%20%3D%20t.data.slice(0)%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20e.length%3B%20t%2B%2B)e%20instanceof%20Uint8Array%20%7C%7C%20e%20instanceof%20Uint8ClampedArray%20%3F%20e%5Bt%5D%20%3D%20Math.floor(255%20*%20zt(e%5Bt%5D%20%2F%20255))%20%3A%20e%5Bt%5D%20%3D%20zt(e%5Bt%5D)%3B%20return%20%7B%20data%3A%20e%2C%20width%3A%20t.width%2C%20height%3A%20t.height%20%7D%20%7D%20return%20console.warn(%22THREE.ImageUtils.sRGBToLinear()%3A%20Unsupported%20image%20type.%20No%20color%20space%20conversion%20applied.%22)%2C%20t%20%7D%20%7D%20class%20Zt%20%7B%20constructor(t%20%3D%20null)%20%7B%20this.isSource%20%3D%20!0%2C%20this.uuid%20%3D%20_t()%2C%20this.data%20%3D%20t%2C%20this.version%20%3D%200%20%7D%20set%20needsUpdate(t)%20%7B%20!0%20%3D%3D%3D%20t%20%26%26%20this.version%2B%2B%20%7D%20toJSON(t)%20%7B%20const%20e%20%3D%20void%200%20%3D%3D%3D%20t%20%7C%7C%20%22string%22%20%3D%3D%20typeof%20t%3B%20if%20(!e%20%26%26%20void%200%20!%3D%3D%20t.images%5Bthis.uuid%5D)%20return%20t.images%5Bthis.uuid%5D%3B%20const%20i%20%3D%20%7B%20uuid%3A%20this.uuid%2C%20url%3A%20%22%22%20%7D%2C%20n%20%3D%20this.data%3B%20if%20(null%20!%3D%3D%20n)%20%7B%20let%20t%3B%20if%20(Array.isArray(n))%20%7B%20t%20%3D%20%5B%5D%3B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20n.length%3B%20e%20%3C%20i%3B%20e%2B%2B)n%5Be%5D.isDataTexture%20%3F%20t.push(Jt(n%5Be%5D.image))%20%3A%20t.push(Jt(n%5Be%5D))%20%7D%20else%20t%20%3D%20Jt(n)%3B%20i.url%20%3D%20t%20%7D%20return%20e%20%7C%7C%20(t.images%5Bthis.uuid%5D%20%3D%20i)%2C%20i%20%7D%20%7D%20function%20Jt(t)%20%7B%20return%20%22undefined%22%20!%3D%20typeof%20HTMLImageElement%20%26%26%20t%20instanceof%20HTMLImageElement%20%7C%7C%20%22undefined%22%20!%3D%20typeof%20HTMLCanvasElement%20%26%26%20t%20instanceof%20HTMLCanvasElement%20%7C%7C%20%22undefined%22%20!%3D%20typeof%20ImageBitmap%20%26%26%20t%20instanceof%20ImageBitmap%20%3F%20Yt.getDataURL(t)%20%3A%20t.data%20%3F%20%7B%20data%3A%20Array.from(t.data)%2C%20width%3A%20t.width%2C%20height%3A%20t.height%2C%20type%3A%20t.data.constructor.name%20%7D%20%3A%20(console.warn(%22THREE.Texture%3A%20Unable%20to%20serialize%20Texture.%22)%2C%20%7B%7D)%20%7D%20let%20Kt%20%3D%200%3B%20class%20%24t%20extends%20mt%20%7B%20constructor(t%20%3D%20%24t.DEFAULT_IMAGE%2C%20e%20%3D%20%24t.DEFAULT_MAPPING%2C%20i%20%3D%201001%2C%20n%20%3D%201001%2C%20r%20%3D%201006%2C%20s%20%3D%201008%2C%20a%20%3D%201023%2C%20o%20%3D%201009%2C%20l%20%3D%20%24t.DEFAULT_ANISOTROPY%2C%20c%20%3D%203e3)%20%7B%20super()%2C%20this.isTexture%20%3D%20!0%2C%20Object.defineProperty(this%2C%20%22id%22%2C%20%7B%20value%3A%20Kt%2B%2B%20%7D)%2C%20this.uuid%20%3D%20_t()%2C%20this.name%20%3D%20%22%22%2C%20this.source%20%3D%20new%20Zt(t)%2C%20this.mipmaps%20%3D%20%5B%5D%2C%20this.mapping%20%3D%20e%2C%20this.wrapS%20%3D%20i%2C%20this.wrapT%20%3D%20n%2C%20this.magFilter%20%3D%20r%2C%20this.minFilter%20%3D%20s%2C%20this.anisotropy%20%3D%20l%2C%20this.format%20%3D%20a%2C%20this.internalFormat%20%3D%20null%2C%20this.type%20%3D%20o%2C%20this.offset%20%3D%20new%20Lt(0%2C%200)%2C%20this.repeat%20%3D%20new%20Lt(1%2C%201)%2C%20this.center%20%3D%20new%20Lt(0%2C%200)%2C%20this.rotation%20%3D%200%2C%20this.matrixAutoUpdate%20%3D%20!0%2C%20this.matrix%20%3D%20new%20Rt%2C%20this.generateMipmaps%20%3D%20!0%2C%20this.premultiplyAlpha%20%3D%20!1%2C%20this.flipY%20%3D%20!0%2C%20this.unpackAlignment%20%3D%204%2C%20this.encoding%20%3D%20c%2C%20this.userData%20%3D%20%7B%7D%2C%20this.version%20%3D%200%2C%20this.onUpdate%20%3D%20null%2C%20this.isRenderTargetTexture%20%3D%20!1%2C%20this.needsPMREMUpdate%20%3D%20!1%20%7D%20get%20image()%20%7B%20return%20this.source.data%20%7D%20set%20image(t)%20%7B%20this.source.data%20%3D%20t%20%7D%20updateMatrix()%20%7B%20this.matrix.setUvTransform(this.offset.x%2C%20this.offset.y%2C%20this.repeat.x%2C%20this.repeat.y%2C%20this.rotation%2C%20this.center.x%2C%20this.center.y)%20%7D%20clone()%20%7B%20return%20(new%20this.constructor).copy(this)%20%7D%20copy(t)%20%7B%20return%20this.name%20%3D%20t.name%2C%20this.source%20%3D%20t.source%2C%20this.mipmaps%20%3D%20t.mipmaps.slice(0)%2C%20this.mapping%20%3D%20t.mapping%2C%20this.wrapS%20%3D%20t.wrapS%2C%20this.wrapT%20%3D%20t.wrapT%2C%20this.magFilter%20%3D%20t.magFilter%2C%20this.minFilter%20%3D%20t.minFilter%2C%20this.anisotropy%20%3D%20t.anisotropy%2C%20this.format%20%3D%20t.format%2C%20this.internalFormat%20%3D%20t.internalFormat%2C%20this.type%20%3D%20t.type%2C%20this.offset.copy(t.offset)%2C%20this.repeat.copy(t.repeat)%2C%20this.center.copy(t.center)%2C%20this.rotation%20%3D%20t.rotation%2C%20this.matrixAutoUpdate%20%3D%20t.matrixAutoUpdate%2C%20this.matrix.copy(t.matrix)%2C%20this.generateMipmaps%20%3D%20t.generateMipmaps%2C%20this.premultiplyAlpha%20%3D%20t.premultiplyAlpha%2C%20this.flipY%20%3D%20t.flipY%2C%20this.unpackAlignment%20%3D%20t.unpackAlignment%2C%20this.encoding%20%3D%20t.encoding%2C%20this.userData%20%3D%20JSON.parse(JSON.stringify(t.userData))%2C%20this.needsUpdate%20%3D%20!0%2C%20this%20%7D%20toJSON(t)%20%7B%20const%20e%20%3D%20void%200%20%3D%3D%3D%20t%20%7C%7C%20%22string%22%20%3D%3D%20typeof%20t%3B%20if%20(!e%20%26%26%20void%200%20!%3D%3D%20t.textures%5Bthis.uuid%5D)%20return%20t.textures%5Bthis.uuid%5D%3B%20const%20i%20%3D%20%7B%20metadata%3A%20%7B%20version%3A%204.5%2C%20type%3A%20%22Texture%22%2C%20generator%3A%20%22Texture.toJSON%22%20%7D%2C%20uuid%3A%20this.uuid%2C%20name%3A%20this.name%2C%20image%3A%20this.source.toJSON(t).uuid%2C%20mapping%3A%20this.mapping%2C%20repeat%3A%20%5Bthis.repeat.x%2C%20this.repeat.y%5D%2C%20offset%3A%20%5Bthis.offset.x%2C%20this.offset.y%5D%2C%20center%3A%20%5Bthis.center.x%2C%20this.center.y%5D%2C%20rotation%3A%20this.rotation%2C%20wrap%3A%20%5Bthis.wrapS%2C%20this.wrapT%5D%2C%20format%3A%20this.format%2C%20type%3A%20this.type%2C%20encoding%3A%20this.encoding%2C%20minFilter%3A%20this.minFilter%2C%20magFilter%3A%20this.magFilter%2C%20anisotropy%3A%20this.anisotropy%2C%20flipY%3A%20this.flipY%2C%20generateMipmaps%3A%20this.generateMipmaps%2C%20premultiplyAlpha%3A%20this.premultiplyAlpha%2C%20unpackAlignment%3A%20this.unpackAlignment%20%7D%3B%20return%20Object.keys(this.userData).length%20%3E%200%20%26%26%20(i.userData%20%3D%20this.userData)%2C%20e%20%7C%7C%20(t.textures%5Bthis.uuid%5D%20%3D%20i)%2C%20i%20%7D%20dispose()%20%7B%20this.dispatchEvent(%7B%20type%3A%20%22dispose%22%20%7D)%20%7D%20transformUv(t)%20%7B%20if%20(this.mapping%20!%3D%3D%20n)%20return%20t%3B%20if%20(t.applyMatrix3(this.matrix)%2C%20t.x%20%3C%200%20%7C%7C%20t.x%20%3E%201)%20switch%20(this.wrapS)%20%7B%20case%20c%3A%20t.x%20%3D%20t.x%20-%20Math.floor(t.x)%3B%20break%3B%20case%20h%3A%20t.x%20%3D%20t.x%20%3C%200%20%3F%200%20%3A%201%3B%20break%3B%20case%20u%3A%201%20%3D%3D%3D%20Math.abs(Math.floor(t.x)%20%25%202)%20%3F%20t.x%20%3D%20Math.ceil(t.x)%20-%20t.x%20%3A%20t.x%20%3D%20t.x%20-%20Math.floor(t.x)%20%7Dif%20(t.y%20%3C%200%20%7C%7C%20t.y%20%3E%201)%20switch%20(this.wrapT)%20%7B%20case%20c%3A%20t.y%20%3D%20t.y%20-%20Math.floor(t.y)%3B%20break%3B%20case%20h%3A%20t.y%20%3D%20t.y%20%3C%200%20%3F%200%20%3A%201%3B%20break%3B%20case%20u%3A%201%20%3D%3D%3D%20Math.abs(Math.floor(t.y)%20%25%202)%20%3F%20t.y%20%3D%20Math.ceil(t.y)%20-%20t.y%20%3A%20t.y%20%3D%20t.y%20-%20Math.floor(t.y)%20%7Dreturn%20this.flipY%20%26%26%20(t.y%20%3D%201%20-%20t.y)%2C%20t%20%7D%20set%20needsUpdate(t)%20%7B%20!0%20%3D%3D%3D%20t%20%26%26%20(this.version%2B%2B%2C%20this.source.needsUpdate%20%3D%20!0)%20%7D%20%7D%20%24t.DEFAULT_IMAGE%20%3D%20null%2C%20%24t.DEFAULT_MAPPING%20%3D%20n%2C%20%24t.DEFAULT_ANISOTROPY%20%3D%201%3B%20class%20Qt%20%7B%20constructor(t%20%3D%200%2C%20e%20%3D%200%2C%20i%20%3D%200%2C%20n%20%3D%201)%20%7B%20Qt.prototype.isVector4%20%3D%20!0%2C%20this.x%20%3D%20t%2C%20this.y%20%3D%20e%2C%20this.z%20%3D%20i%2C%20this.w%20%3D%20n%20%7D%20get%20width()%20%7B%20return%20this.z%20%7D%20set%20width(t)%20%7B%20this.z%20%3D%20t%20%7D%20get%20height()%20%7B%20return%20this.w%20%7D%20set%20height(t)%20%7B%20this.w%20%3D%20t%20%7D%20set(t%2C%20e%2C%20i%2C%20n)%20%7B%20return%20this.x%20%3D%20t%2C%20this.y%20%3D%20e%2C%20this.z%20%3D%20i%2C%20this.w%20%3D%20n%2C%20this%20%7D%20setScalar(t)%20%7B%20return%20this.x%20%3D%20t%2C%20this.y%20%3D%20t%2C%20this.z%20%3D%20t%2C%20this.w%20%3D%20t%2C%20this%20%7D%20setX(t)%20%7B%20return%20this.x%20%3D%20t%2C%20this%20%7D%20setY(t)%20%7B%20return%20this.y%20%3D%20t%2C%20this%20%7D%20setZ(t)%20%7B%20return%20this.z%20%3D%20t%2C%20this%20%7D%20setW(t)%20%7B%20return%20this.w%20%3D%20t%2C%20this%20%7D%20setComponent(t%2C%20e)%20%7B%20switch%20(t)%20%7B%20case%200%3A%20this.x%20%3D%20e%3B%20break%3B%20case%201%3A%20this.y%20%3D%20e%3B%20break%3B%20case%202%3A%20this.z%20%3D%20e%3B%20break%3B%20case%203%3A%20this.w%20%3D%20e%3B%20break%3B%20default%3A%20throw%20new%20Error(%22index%20is%20out%20of%20range%3A%20%22%20%2B%20t)%20%7Dreturn%20this%20%7D%20getComponent(t)%20%7B%20switch%20(t)%20%7B%20case%200%3A%20return%20this.x%3B%20case%201%3A%20return%20this.y%3B%20case%202%3A%20return%20this.z%3B%20case%203%3A%20return%20this.w%3B%20default%3A%20throw%20new%20Error(%22index%20is%20out%20of%20range%3A%20%22%20%2B%20t)%20%7D%20%7D%20clone()%20%7B%20return%20new%20this.constructor(this.x%2C%20this.y%2C%20this.z%2C%20this.w)%20%7D%20copy(t)%20%7B%20return%20this.x%20%3D%20t.x%2C%20this.y%20%3D%20t.y%2C%20this.z%20%3D%20t.z%2C%20this.w%20%3D%20void%200%20!%3D%3D%20t.w%20%3F%20t.w%20%3A%201%2C%20this%20%7D%20add(t)%20%7B%20return%20this.x%20%2B%3D%20t.x%2C%20this.y%20%2B%3D%20t.y%2C%20this.z%20%2B%3D%20t.z%2C%20this.w%20%2B%3D%20t.w%2C%20this%20%7D%20addScalar(t)%20%7B%20return%20this.x%20%2B%3D%20t%2C%20this.y%20%2B%3D%20t%2C%20this.z%20%2B%3D%20t%2C%20this.w%20%2B%3D%20t%2C%20this%20%7D%20addVectors(t%2C%20e)%20%7B%20return%20this.x%20%3D%20t.x%20%2B%20e.x%2C%20this.y%20%3D%20t.y%20%2B%20e.y%2C%20this.z%20%3D%20t.z%20%2B%20e.z%2C%20this.w%20%3D%20t.w%20%2B%20e.w%2C%20this%20%7D%20addScaledVector(t%2C%20e)%20%7B%20return%20this.x%20%2B%3D%20t.x%20*%20e%2C%20this.y%20%2B%3D%20t.y%20*%20e%2C%20this.z%20%2B%3D%20t.z%20*%20e%2C%20this.w%20%2B%3D%20t.w%20*%20e%2C%20this%20%7D%20sub(t)%20%7B%20return%20this.x%20-%3D%20t.x%2C%20this.y%20-%3D%20t.y%2C%20this.z%20-%3D%20t.z%2C%20this.w%20-%3D%20t.w%2C%20this%20%7D%20subScalar(t)%20%7B%20return%20this.x%20-%3D%20t%2C%20this.y%20-%3D%20t%2C%20this.z%20-%3D%20t%2C%20this.w%20-%3D%20t%2C%20this%20%7D%20subVectors(t%2C%20e)%20%7B%20return%20this.x%20%3D%20t.x%20-%20e.x%2C%20this.y%20%3D%20t.y%20-%20e.y%2C%20this.z%20%3D%20t.z%20-%20e.z%2C%20this.w%20%3D%20t.w%20-%20e.w%2C%20this%20%7D%20multiply(t)%20%7B%20return%20this.x%20*%3D%20t.x%2C%20this.y%20*%3D%20t.y%2C%20this.z%20*%3D%20t.z%2C%20this.w%20*%3D%20t.w%2C%20this%20%7D%20multiplyScalar(t)%20%7B%20return%20this.x%20*%3D%20t%2C%20this.y%20*%3D%20t%2C%20this.z%20*%3D%20t%2C%20this.w%20*%3D%20t%2C%20this%20%7D%20applyMatrix4(t)%20%7B%20const%20e%20%3D%20this.x%2C%20i%20%3D%20this.y%2C%20n%20%3D%20this.z%2C%20r%20%3D%20this.w%2C%20s%20%3D%20t.elements%3B%20return%20this.x%20%3D%20s%5B0%5D%20*%20e%20%2B%20s%5B4%5D%20*%20i%20%2B%20s%5B8%5D%20*%20n%20%2B%20s%5B12%5D%20*%20r%2C%20this.y%20%3D%20s%5B1%5D%20*%20e%20%2B%20s%5B5%5D%20*%20i%20%2B%20s%5B9%5D%20*%20n%20%2B%20s%5B13%5D%20*%20r%2C%20this.z%20%3D%20s%5B2%5D%20*%20e%20%2B%20s%5B6%5D%20*%20i%20%2B%20s%5B10%5D%20*%20n%20%2B%20s%5B14%5D%20*%20r%2C%20this.w%20%3D%20s%5B3%5D%20*%20e%20%2B%20s%5B7%5D%20*%20i%20%2B%20s%5B11%5D%20*%20n%20%2B%20s%5B15%5D%20*%20r%2C%20this%20%7D%20divideScalar(t)%20%7B%20return%20this.multiplyScalar(1%20%2F%20t)%20%7D%20setAxisAngleFromQuaternion(t)%20%7B%20this.w%20%3D%202%20*%20Math.acos(t.w)%3B%20const%20e%20%3D%20Math.sqrt(1%20-%20t.w%20*%20t.w)%3B%20return%20e%20%3C%201e-4%20%3F%20(this.x%20%3D%201%2C%20this.y%20%3D%200%2C%20this.z%20%3D%200)%20%3A%20(this.x%20%3D%20t.x%20%2F%20e%2C%20this.y%20%3D%20t.y%20%2F%20e%2C%20this.z%20%3D%20t.z%20%2F%20e)%2C%20this%20%7D%20setAxisAngleFromRotationMatrix(t)%20%7B%20let%20e%2C%20i%2C%20n%2C%20r%3B%20const%20s%20%3D%20.01%2C%20a%20%3D%20.1%2C%20o%20%3D%20t.elements%2C%20l%20%3D%20o%5B0%5D%2C%20c%20%3D%20o%5B4%5D%2C%20h%20%3D%20o%5B8%5D%2C%20u%20%3D%20o%5B1%5D%2C%20d%20%3D%20o%5B5%5D%2C%20p%20%3D%20o%5B9%5D%2C%20m%20%3D%20o%5B2%5D%2C%20f%20%3D%20o%5B6%5D%2C%20g%20%3D%20o%5B10%5D%3B%20if%20(Math.abs(c%20-%20u)%20%3C%20s%20%26%26%20Math.abs(h%20-%20m)%20%3C%20s%20%26%26%20Math.abs(p%20-%20f)%20%3C%20s)%20%7B%20if%20(Math.abs(c%20%2B%20u)%20%3C%20a%20%26%26%20Math.abs(h%20%2B%20m)%20%3C%20a%20%26%26%20Math.abs(p%20%2B%20f)%20%3C%20a%20%26%26%20Math.abs(l%20%2B%20d%20%2B%20g%20-%203)%20%3C%20a)%20return%20this.set(1%2C%200%2C%200%2C%200)%2C%20this%3B%20e%20%3D%20Math.PI%3B%20const%20t%20%3D%20(l%20%2B%201)%20%2F%202%2C%20o%20%3D%20(d%20%2B%201)%20%2F%202%2C%20v%20%3D%20(g%20%2B%201)%20%2F%202%2C%20x%20%3D%20(c%20%2B%20u)%20%2F%204%2C%20_%20%3D%20(h%20%2B%20m)%20%2F%204%2C%20y%20%3D%20(p%20%2B%20f)%20%2F%204%3B%20return%20t%20%3E%20o%20%26%26%20t%20%3E%20v%20%3F%20t%20%3C%20s%20%3F%20(i%20%3D%200%2C%20n%20%3D%20.707106781%2C%20r%20%3D%20.707106781)%20%3A%20(i%20%3D%20Math.sqrt(t)%2C%20n%20%3D%20x%20%2F%20i%2C%20r%20%3D%20_%20%2F%20i)%20%3A%20o%20%3E%20v%20%3F%20o%20%3C%20s%20%3F%20(i%20%3D%20.707106781%2C%20n%20%3D%200%2C%20r%20%3D%20.707106781)%20%3A%20(n%20%3D%20Math.sqrt(o)%2C%20i%20%3D%20x%20%2F%20n%2C%20r%20%3D%20y%20%2F%20n)%20%3A%20v%20%3C%20s%20%3F%20(i%20%3D%20.707106781%2C%20n%20%3D%20.707106781%2C%20r%20%3D%200)%20%3A%20(r%20%3D%20Math.sqrt(v)%2C%20i%20%3D%20_%20%2F%20r%2C%20n%20%3D%20y%20%2F%20r)%2C%20this.set(i%2C%20n%2C%20r%2C%20e)%2C%20this%20%7D%20let%20v%20%3D%20Math.sqrt((f%20-%20p)%20*%20(f%20-%20p)%20%2B%20(h%20-%20m)%20*%20(h%20-%20m)%20%2B%20(u%20-%20c)%20*%20(u%20-%20c))%3B%20return%20Math.abs(v)%20%3C%20.001%20%26%26%20(v%20%3D%201)%2C%20this.x%20%3D%20(f%20-%20p)%20%2F%20v%2C%20this.y%20%3D%20(h%20-%20m)%20%2F%20v%2C%20this.z%20%3D%20(u%20-%20c)%20%2F%20v%2C%20this.w%20%3D%20Math.acos((l%20%2B%20d%20%2B%20g%20-%201)%20%2F%202)%2C%20this%20%7D%20min(t)%20%7B%20return%20this.x%20%3D%20Math.min(this.x%2C%20t.x)%2C%20this.y%20%3D%20Math.min(this.y%2C%20t.y)%2C%20this.z%20%3D%20Math.min(this.z%2C%20t.z)%2C%20this.w%20%3D%20Math.min(this.w%2C%20t.w)%2C%20this%20%7D%20max(t)%20%7B%20return%20this.x%20%3D%20Math.max(this.x%2C%20t.x)%2C%20this.y%20%3D%20Math.max(this.y%2C%20t.y)%2C%20this.z%20%3D%20Math.max(this.z%2C%20t.z)%2C%20this.w%20%3D%20Math.max(this.w%2C%20t.w)%2C%20this%20%7D%20clamp(t%2C%20e)%20%7B%20return%20this.x%20%3D%20Math.max(t.x%2C%20Math.min(e.x%2C%20this.x))%2C%20this.y%20%3D%20Math.max(t.y%2C%20Math.min(e.y%2C%20this.y))%2C%20this.z%20%3D%20Math.max(t.z%2C%20Math.min(e.z%2C%20this.z))%2C%20this.w%20%3D%20Math.max(t.w%2C%20Math.min(e.w%2C%20this.w))%2C%20this%20%7D%20clampScalar(t%2C%20e)%20%7B%20return%20this.x%20%3D%20Math.max(t%2C%20Math.min(e%2C%20this.x))%2C%20this.y%20%3D%20Math.max(t%2C%20Math.min(e%2C%20this.y))%2C%20this.z%20%3D%20Math.max(t%2C%20Math.min(e%2C%20this.z))%2C%20this.w%20%3D%20Math.max(t%2C%20Math.min(e%2C%20this.w))%2C%20this%20%7D%20clampLength(t%2C%20e)%20%7B%20const%20i%20%3D%20this.length()%3B%20return%20this.divideScalar(i%20%7C%7C%201).multiplyScalar(Math.max(t%2C%20Math.min(e%2C%20i)))%20%7D%20floor()%20%7B%20return%20this.x%20%3D%20Math.floor(this.x)%2C%20this.y%20%3D%20Math.floor(this.y)%2C%20this.z%20%3D%20Math.floor(this.z)%2C%20this.w%20%3D%20Math.floor(this.w)%2C%20this%20%7D%20ceil()%20%7B%20return%20this.x%20%3D%20Math.ceil(this.x)%2C%20this.y%20%3D%20Math.ceil(this.y)%2C%20this.z%20%3D%20Math.ceil(this.z)%2C%20this.w%20%3D%20Math.ceil(this.w)%2C%20this%20%7D%20round()%20%7B%20return%20this.x%20%3D%20Math.round(this.x)%2C%20this.y%20%3D%20Math.round(this.y)%2C%20this.z%20%3D%20Math.round(this.z)%2C%20this.w%20%3D%20Math.round(this.w)%2C%20this%20%7D%20roundToZero()%20%7B%20return%20this.x%20%3D%20this.x%20%3C%200%20%3F%20Math.ceil(this.x)%20%3A%20Math.floor(this.x)%2C%20this.y%20%3D%20this.y%20%3C%200%20%3F%20Math.ceil(this.y)%20%3A%20Math.floor(this.y)%2C%20this.z%20%3D%20this.z%20%3C%200%20%3F%20Math.ceil(this.z)%20%3A%20Math.floor(this.z)%2C%20this.w%20%3D%20this.w%20%3C%200%20%3F%20Math.ceil(this.w)%20%3A%20Math.floor(this.w)%2C%20this%20%7D%20negate()%20%7B%20return%20this.x%20%3D%20-this.x%2C%20this.y%20%3D%20-this.y%2C%20this.z%20%3D%20-this.z%2C%20this.w%20%3D%20-this.w%2C%20this%20%7D%20dot(t)%20%7B%20return%20this.x%20*%20t.x%20%2B%20this.y%20*%20t.y%20%2B%20this.z%20*%20t.z%20%2B%20this.w%20*%20t.w%20%7D%20lengthSq()%20%7B%20return%20this.x%20*%20this.x%20%2B%20this.y%20*%20this.y%20%2B%20this.z%20*%20this.z%20%2B%20this.w%20*%20this.w%20%7D%20length()%20%7B%20return%20Math.sqrt(this.x%20*%20this.x%20%2B%20this.y%20*%20this.y%20%2B%20this.z%20*%20this.z%20%2B%20this.w%20*%20this.w)%20%7D%20manhattanLength()%20%7B%20return%20Math.abs(this.x)%20%2B%20Math.abs(this.y)%20%2B%20Math.abs(this.z)%20%2B%20Math.abs(this.w)%20%7D%20normalize()%20%7B%20return%20this.divideScalar(this.length()%20%7C%7C%201)%20%7D%20setLength(t)%20%7B%20return%20this.normalize().multiplyScalar(t)%20%7D%20lerp(t%2C%20e)%20%7B%20return%20this.x%20%2B%3D%20(t.x%20-%20this.x)%20*%20e%2C%20this.y%20%2B%3D%20(t.y%20-%20this.y)%20*%20e%2C%20this.z%20%2B%3D%20(t.z%20-%20this.z)%20*%20e%2C%20this.w%20%2B%3D%20(t.w%20-%20this.w)%20*%20e%2C%20this%20%7D%20lerpVectors(t%2C%20e%2C%20i)%20%7B%20return%20this.x%20%3D%20t.x%20%2B%20(e.x%20-%20t.x)%20*%20i%2C%20this.y%20%3D%20t.y%20%2B%20(e.y%20-%20t.y)%20*%20i%2C%20this.z%20%3D%20t.z%20%2B%20(e.z%20-%20t.z)%20*%20i%2C%20this.w%20%3D%20t.w%20%2B%20(e.w%20-%20t.w)%20*%20i%2C%20this%20%7D%20equals(t)%20%7B%20return%20t.x%20%3D%3D%3D%20this.x%20%26%26%20t.y%20%3D%3D%3D%20this.y%20%26%26%20t.z%20%3D%3D%3D%20this.z%20%26%26%20t.w%20%3D%3D%3D%20this.w%20%7D%20fromArray(t%2C%20e%20%3D%200)%20%7B%20return%20this.x%20%3D%20t%5Be%5D%2C%20this.y%20%3D%20t%5Be%20%2B%201%5D%2C%20this.z%20%3D%20t%5Be%20%2B%202%5D%2C%20this.w%20%3D%20t%5Be%20%2B%203%5D%2C%20this%20%7D%20toArray(t%20%3D%20%5B%5D%2C%20e%20%3D%200)%20%7B%20return%20t%5Be%5D%20%3D%20this.x%2C%20t%5Be%20%2B%201%5D%20%3D%20this.y%2C%20t%5Be%20%2B%202%5D%20%3D%20this.z%2C%20t%5Be%20%2B%203%5D%20%3D%20this.w%2C%20t%20%7D%20fromBufferAttribute(t%2C%20e)%20%7B%20return%20this.x%20%3D%20t.getX(e)%2C%20this.y%20%3D%20t.getY(e)%2C%20this.z%20%3D%20t.getZ(e)%2C%20this.w%20%3D%20t.getW(e)%2C%20this%20%7D%20random()%20%7B%20return%20this.x%20%3D%20Math.random()%2C%20this.y%20%3D%20Math.random()%2C%20this.z%20%3D%20Math.random()%2C%20this.w%20%3D%20Math.random()%2C%20this%20%7D%20*%5BSymbol.iterator%5D()%20%7B%20yield%20this.x%2C%20yield%20this.y%2C%20yield%20this.z%2C%20yield%20this.w%20%7D%20%7D%20class%20te%20extends%20mt%20%7B%20constructor(t%20%3D%201%2C%20e%20%3D%201%2C%20i%20%3D%20%7B%7D)%20%7B%20super()%2C%20this.isWebGLRenderTarget%20%3D%20!0%2C%20this.width%20%3D%20t%2C%20this.height%20%3D%20e%2C%20this.depth%20%3D%201%2C%20this.scissor%20%3D%20new%20Qt(0%2C%200%2C%20t%2C%20e)%2C%20this.scissorTest%20%3D%20!1%2C%20this.viewport%20%3D%20new%20Qt(0%2C%200%2C%20t%2C%20e)%3B%20const%20n%20%3D%20%7B%20width%3A%20t%2C%20height%3A%20e%2C%20depth%3A%201%20%7D%3B%20this.texture%20%3D%20new%20%24t(n%2C%20i.mapping%2C%20i.wrapS%2C%20i.wrapT%2C%20i.magFilter%2C%20i.minFilter%2C%20i.format%2C%20i.type%2C%20i.anisotropy%2C%20i.encoding)%2C%20this.texture.isRenderTargetTexture%20%3D%20!0%2C%20this.texture.flipY%20%3D%20!1%2C%20this.texture.generateMipmaps%20%3D%20void%200%20!%3D%3D%20i.generateMipmaps%20%26%26%20i.generateMipmaps%2C%20this.texture.internalFormat%20%3D%20void%200%20!%3D%3D%20i.internalFormat%20%3F%20i.internalFormat%20%3A%20null%2C%20this.texture.minFilter%20%3D%20void%200%20!%3D%3D%20i.minFilter%20%3F%20i.minFilter%20%3A%20f%2C%20this.depthBuffer%20%3D%20void%200%20%3D%3D%3D%20i.depthBuffer%20%7C%7C%20i.depthBuffer%2C%20this.stencilBuffer%20%3D%20void%200%20!%3D%3D%20i.stencilBuffer%20%26%26%20i.stencilBuffer%2C%20this.depthTexture%20%3D%20void%200%20!%3D%3D%20i.depthTexture%20%3F%20i.depthTexture%20%3A%20null%2C%20this.samples%20%3D%20void%200%20!%3D%3D%20i.samples%20%3F%20i.samples%20%3A%200%20%7D%20setSize(t%2C%20e%2C%20i%20%3D%201)%20%7B%20this.width%20%3D%3D%3D%20t%20%26%26%20this.height%20%3D%3D%3D%20e%20%26%26%20this.depth%20%3D%3D%3D%20i%20%7C%7C%20(this.width%20%3D%20t%2C%20this.height%20%3D%20e%2C%20this.depth%20%3D%20i%2C%20this.texture.image.width%20%3D%20t%2C%20this.texture.image.height%20%3D%20e%2C%20this.texture.image.depth%20%3D%20i%2C%20this.dispose())%2C%20this.viewport.set(0%2C%200%2C%20t%2C%20e)%2C%20this.scissor.set(0%2C%200%2C%20t%2C%20e)%20%7D%20clone()%20%7B%20return%20(new%20this.constructor).copy(this)%20%7D%20copy(t)%20%7B%20this.width%20%3D%20t.width%2C%20this.height%20%3D%20t.height%2C%20this.depth%20%3D%20t.depth%2C%20this.viewport.copy(t.viewport)%2C%20this.texture%20%3D%20t.texture.clone()%2C%20this.texture.isRenderTargetTexture%20%3D%20!0%3B%20const%20e%20%3D%20Object.assign(%7B%7D%2C%20t.texture.image)%3B%20return%20this.texture.source%20%3D%20new%20Zt(e)%2C%20this.depthBuffer%20%3D%20t.depthBuffer%2C%20this.stencilBuffer%20%3D%20t.stencilBuffer%2C%20null%20!%3D%3D%20t.depthTexture%20%26%26%20(this.depthTexture%20%3D%20t.depthTexture.clone())%2C%20this.samples%20%3D%20t.samples%2C%20this%20%7D%20dispose()%20%7B%20this.dispatchEvent(%7B%20type%3A%20%22dispose%22%20%7D)%20%7D%20%7D%20class%20ee%20extends%20%24t%20%7B%20constructor(t%20%3D%20null%2C%20e%20%3D%201%2C%20i%20%3D%201%2C%20n%20%3D%201)%20%7B%20super(null)%2C%20this.isDataArrayTexture%20%3D%20!0%2C%20this.image%20%3D%20%7B%20data%3A%20t%2C%20width%3A%20e%2C%20height%3A%20i%2C%20depth%3A%20n%20%7D%2C%20this.magFilter%20%3D%20d%2C%20this.minFilter%20%3D%20d%2C%20this.wrapR%20%3D%20h%2C%20this.generateMipmaps%20%3D%20!1%2C%20this.flipY%20%3D%20!1%2C%20this.unpackAlignment%20%3D%201%20%7D%20%7D%20class%20ie%20extends%20%24t%20%7B%20constructor(t%20%3D%20null%2C%20e%20%3D%201%2C%20i%20%3D%201%2C%20n%20%3D%201)%20%7B%20super(null)%2C%20this.isData3DTexture%20%3D%20!0%2C%20this.image%20%3D%20%7B%20data%3A%20t%2C%20width%3A%20e%2C%20height%3A%20i%2C%20depth%3A%20n%20%7D%2C%20this.magFilter%20%3D%20d%2C%20this.minFilter%20%3D%20d%2C%20this.wrapR%20%3D%20h%2C%20this.generateMipmaps%20%3D%20!1%2C%20this.flipY%20%3D%20!1%2C%20this.unpackAlignment%20%3D%201%20%7D%20%7D%20class%20ne%20%7B%20constructor(t%20%3D%200%2C%20e%20%3D%200%2C%20i%20%3D%200%2C%20n%20%3D%201)%20%7B%20this.isQuaternion%20%3D%20!0%2C%20this._x%20%3D%20t%2C%20this._y%20%3D%20e%2C%20this._z%20%3D%20i%2C%20this._w%20%3D%20n%20%7D%20static%20slerpFlat(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%20a)%20%7B%20let%20o%20%3D%20i%5Bn%20%2B%200%5D%2C%20l%20%3D%20i%5Bn%20%2B%201%5D%2C%20c%20%3D%20i%5Bn%20%2B%202%5D%2C%20h%20%3D%20i%5Bn%20%2B%203%5D%3B%20const%20u%20%3D%20r%5Bs%20%2B%200%5D%2C%20d%20%3D%20r%5Bs%20%2B%201%5D%2C%20p%20%3D%20r%5Bs%20%2B%202%5D%2C%20m%20%3D%20r%5Bs%20%2B%203%5D%3B%20if%20(0%20%3D%3D%3D%20a)%20return%20t%5Be%20%2B%200%5D%20%3D%20o%2C%20t%5Be%20%2B%201%5D%20%3D%20l%2C%20t%5Be%20%2B%202%5D%20%3D%20c%2C%20void%20(t%5Be%20%2B%203%5D%20%3D%20h)%3B%20if%20(1%20%3D%3D%3D%20a)%20return%20t%5Be%20%2B%200%5D%20%3D%20u%2C%20t%5Be%20%2B%201%5D%20%3D%20d%2C%20t%5Be%20%2B%202%5D%20%3D%20p%2C%20void%20(t%5Be%20%2B%203%5D%20%3D%20m)%3B%20if%20(h%20!%3D%3D%20m%20%7C%7C%20o%20!%3D%3D%20u%20%7C%7C%20l%20!%3D%3D%20d%20%7C%7C%20c%20!%3D%3D%20p)%20%7B%20let%20t%20%3D%201%20-%20a%3B%20const%20e%20%3D%20o%20*%20u%20%2B%20l%20*%20d%20%2B%20c%20*%20p%20%2B%20h%20*%20m%2C%20i%20%3D%20e%20%3E%3D%200%20%3F%201%20%3A%20-1%2C%20n%20%3D%201%20-%20e%20*%20e%3B%20if%20(n%20%3E%20Number.EPSILON)%20%7B%20const%20r%20%3D%20Math.sqrt(n)%2C%20s%20%3D%20Math.atan2(r%2C%20e%20*%20i)%3B%20t%20%3D%20Math.sin(t%20*%20s)%20%2F%20r%2C%20a%20%3D%20Math.sin(a%20*%20s)%20%2F%20r%20%7D%20const%20r%20%3D%20a%20*%20i%3B%20if%20(o%20%3D%20o%20*%20t%20%2B%20u%20*%20r%2C%20l%20%3D%20l%20*%20t%20%2B%20d%20*%20r%2C%20c%20%3D%20c%20*%20t%20%2B%20p%20*%20r%2C%20h%20%3D%20h%20*%20t%20%2B%20m%20*%20r%2C%20t%20%3D%3D%3D%201%20-%20a)%20%7B%20const%20t%20%3D%201%20%2F%20Math.sqrt(o%20*%20o%20%2B%20l%20*%20l%20%2B%20c%20*%20c%20%2B%20h%20*%20h)%3B%20o%20*%3D%20t%2C%20l%20*%3D%20t%2C%20c%20*%3D%20t%2C%20h%20*%3D%20t%20%7D%20%7D%20t%5Be%5D%20%3D%20o%2C%20t%5Be%20%2B%201%5D%20%3D%20l%2C%20t%5Be%20%2B%202%5D%20%3D%20c%2C%20t%5Be%20%2B%203%5D%20%3D%20h%20%7D%20static%20multiplyQuaternionsFlat(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s)%20%7B%20const%20a%20%3D%20i%5Bn%5D%2C%20o%20%3D%20i%5Bn%20%2B%201%5D%2C%20l%20%3D%20i%5Bn%20%2B%202%5D%2C%20c%20%3D%20i%5Bn%20%2B%203%5D%2C%20h%20%3D%20r%5Bs%5D%2C%20u%20%3D%20r%5Bs%20%2B%201%5D%2C%20d%20%3D%20r%5Bs%20%2B%202%5D%2C%20p%20%3D%20r%5Bs%20%2B%203%5D%3B%20return%20t%5Be%5D%20%3D%20a%20*%20p%20%2B%20c%20*%20h%20%2B%20o%20*%20d%20-%20l%20*%20u%2C%20t%5Be%20%2B%201%5D%20%3D%20o%20*%20p%20%2B%20c%20*%20u%20%2B%20l%20*%20h%20-%20a%20*%20d%2C%20t%5Be%20%2B%202%5D%20%3D%20l%20*%20p%20%2B%20c%20*%20d%20%2B%20a%20*%20u%20-%20o%20*%20h%2C%20t%5Be%20%2B%203%5D%20%3D%20c%20*%20p%20-%20a%20*%20h%20-%20o%20*%20u%20-%20l%20*%20d%2C%20t%20%7D%20get%20x()%20%7B%20return%20this._x%20%7D%20set%20x(t)%20%7B%20this._x%20%3D%20t%2C%20this._onChangeCallback()%20%7D%20get%20y()%20%7B%20return%20this._y%20%7D%20set%20y(t)%20%7B%20this._y%20%3D%20t%2C%20this._onChangeCallback()%20%7D%20get%20z()%20%7B%20return%20this._z%20%7D%20set%20z(t)%20%7B%20this._z%20%3D%20t%2C%20this._onChangeCallback()%20%7D%20get%20w()%20%7B%20return%20this._w%20%7D%20set%20w(t)%20%7B%20this._w%20%3D%20t%2C%20this._onChangeCallback()%20%7D%20set(t%2C%20e%2C%20i%2C%20n)%20%7B%20return%20this._x%20%3D%20t%2C%20this._y%20%3D%20e%2C%20this._z%20%3D%20i%2C%20this._w%20%3D%20n%2C%20this._onChangeCallback()%2C%20this%20%7D%20clone()%20%7B%20return%20new%20this.constructor(this._x%2C%20this._y%2C%20this._z%2C%20this._w)%20%7D%20copy(t)%20%7B%20return%20this._x%20%3D%20t.x%2C%20this._y%20%3D%20t.y%2C%20this._z%20%3D%20t.z%2C%20this._w%20%3D%20t.w%2C%20this._onChangeCallback()%2C%20this%20%7D%20setFromEuler(t%2C%20e)%20%7B%20const%20i%20%3D%20t._x%2C%20n%20%3D%20t._y%2C%20r%20%3D%20t._z%2C%20s%20%3D%20t._order%2C%20a%20%3D%20Math.cos%2C%20o%20%3D%20Math.sin%2C%20l%20%3D%20a(i%20%2F%202)%2C%20c%20%3D%20a(n%20%2F%202)%2C%20h%20%3D%20a(r%20%2F%202)%2C%20u%20%3D%20o(i%20%2F%202)%2C%20d%20%3D%20o(n%20%2F%202)%2C%20p%20%3D%20o(r%20%2F%202)%3B%20switch%20(s)%20%7B%20case%20%22XYZ%22%3A%20this._x%20%3D%20u%20*%20c%20*%20h%20%2B%20l%20*%20d%20*%20p%2C%20this._y%20%3D%20l%20*%20d%20*%20h%20-%20u%20*%20c%20*%20p%2C%20this._z%20%3D%20l%20*%20c%20*%20p%20%2B%20u%20*%20d%20*%20h%2C%20this._w%20%3D%20l%20*%20c%20*%20h%20-%20u%20*%20d%20*%20p%3B%20break%3B%20case%20%22YXZ%22%3A%20this._x%20%3D%20u%20*%20c%20*%20h%20%2B%20l%20*%20d%20*%20p%2C%20this._y%20%3D%20l%20*%20d%20*%20h%20-%20u%20*%20c%20*%20p%2C%20this._z%20%3D%20l%20*%20c%20*%20p%20-%20u%20*%20d%20*%20h%2C%20this._w%20%3D%20l%20*%20c%20*%20h%20%2B%20u%20*%20d%20*%20p%3B%20break%3B%20case%20%22ZXY%22%3A%20this._x%20%3D%20u%20*%20c%20*%20h%20-%20l%20*%20d%20*%20p%2C%20this._y%20%3D%20l%20*%20d%20*%20h%20%2B%20u%20*%20c%20*%20p%2C%20this._z%20%3D%20l%20*%20c%20*%20p%20%2B%20u%20*%20d%20*%20h%2C%20this._w%20%3D%20l%20*%20c%20*%20h%20-%20u%20*%20d%20*%20p%3B%20break%3B%20case%20%22ZYX%22%3A%20this._x%20%3D%20u%20*%20c%20*%20h%20-%20l%20*%20d%20*%20p%2C%20this._y%20%3D%20l%20*%20d%20*%20h%20%2B%20u%20*%20c%20*%20p%2C%20this._z%20%3D%20l%20*%20c%20*%20p%20-%20u%20*%20d%20*%20h%2C%20this._w%20%3D%20l%20*%20c%20*%20h%20%2B%20u%20*%20d%20*%20p%3B%20break%3B%20case%20%22YZX%22%3A%20this._x%20%3D%20u%20*%20c%20*%20h%20%2B%20l%20*%20d%20*%20p%2C%20this._y%20%3D%20l%20*%20d%20*%20h%20%2B%20u%20*%20c%20*%20p%2C%20this._z%20%3D%20l%20*%20c%20*%20p%20-%20u%20*%20d%20*%20h%2C%20this._w%20%3D%20l%20*%20c%20*%20h%20-%20u%20*%20d%20*%20p%3B%20break%3B%20case%20%22XZY%22%3A%20this._x%20%3D%20u%20*%20c%20*%20h%20-%20l%20*%20d%20*%20p%2C%20this._y%20%3D%20l%20*%20d%20*%20h%20-%20u%20*%20c%20*%20p%2C%20this._z%20%3D%20l%20*%20c%20*%20p%20%2B%20u%20*%20d%20*%20h%2C%20this._w%20%3D%20l%20*%20c%20*%20h%20%2B%20u%20*%20d%20*%20p%3B%20break%3B%20default%3A%20console.warn(%22THREE.Quaternion%3A%20.setFromEuler()%20encountered%20an%20unknown%20order%3A%20%22%20%2B%20s)%20%7Dreturn%20!1%20!%3D%3D%20e%20%26%26%20this._onChangeCallback()%2C%20this%20%7D%20setFromAxisAngle(t%2C%20e)%20%7B%20const%20i%20%3D%20e%20%2F%202%2C%20n%20%3D%20Math.sin(i)%3B%20return%20this._x%20%3D%20t.x%20*%20n%2C%20this._y%20%3D%20t.y%20*%20n%2C%20this._z%20%3D%20t.z%20*%20n%2C%20this._w%20%3D%20Math.cos(i)%2C%20this._onChangeCallback()%2C%20this%20%7D%20setFromRotationMatrix(t)%20%7B%20const%20e%20%3D%20t.elements%2C%20i%20%3D%20e%5B0%5D%2C%20n%20%3D%20e%5B4%5D%2C%20r%20%3D%20e%5B8%5D%2C%20s%20%3D%20e%5B1%5D%2C%20a%20%3D%20e%5B5%5D%2C%20o%20%3D%20e%5B9%5D%2C%20l%20%3D%20e%5B2%5D%2C%20c%20%3D%20e%5B6%5D%2C%20h%20%3D%20e%5B10%5D%2C%20u%20%3D%20i%20%2B%20a%20%2B%20h%3B%20if%20(u%20%3E%200)%20%7B%20const%20t%20%3D%20.5%20%2F%20Math.sqrt(u%20%2B%201)%3B%20this._w%20%3D%20.25%20%2F%20t%2C%20this._x%20%3D%20(c%20-%20o)%20*%20t%2C%20this._y%20%3D%20(r%20-%20l)%20*%20t%2C%20this._z%20%3D%20(s%20-%20n)%20*%20t%20%7D%20else%20if%20(i%20%3E%20a%20%26%26%20i%20%3E%20h)%20%7B%20const%20t%20%3D%202%20*%20Math.sqrt(1%20%2B%20i%20-%20a%20-%20h)%3B%20this._w%20%3D%20(c%20-%20o)%20%2F%20t%2C%20this._x%20%3D%20.25%20*%20t%2C%20this._y%20%3D%20(n%20%2B%20s)%20%2F%20t%2C%20this._z%20%3D%20(r%20%2B%20l)%20%2F%20t%20%7D%20else%20if%20(a%20%3E%20h)%20%7B%20const%20t%20%3D%202%20*%20Math.sqrt(1%20%2B%20a%20-%20i%20-%20h)%3B%20this._w%20%3D%20(r%20-%20l)%20%2F%20t%2C%20this._x%20%3D%20(n%20%2B%20s)%20%2F%20t%2C%20this._y%20%3D%20.25%20*%20t%2C%20this._z%20%3D%20(o%20%2B%20c)%20%2F%20t%20%7D%20else%20%7B%20const%20t%20%3D%202%20*%20Math.sqrt(1%20%2B%20h%20-%20i%20-%20a)%3B%20this._w%20%3D%20(s%20-%20n)%20%2F%20t%2C%20this._x%20%3D%20(r%20%2B%20l)%20%2F%20t%2C%20this._y%20%3D%20(o%20%2B%20c)%20%2F%20t%2C%20this._z%20%3D%20.25%20*%20t%20%7D%20return%20this._onChangeCallback()%2C%20this%20%7D%20setFromUnitVectors(t%2C%20e)%20%7B%20let%20i%20%3D%20t.dot(e)%20%2B%201%3B%20return%20i%20%3C%20Number.EPSILON%20%3F%20(i%20%3D%200%2C%20Math.abs(t.x)%20%3E%20Math.abs(t.z)%20%3F%20(this._x%20%3D%20-t.y%2C%20this._y%20%3D%20t.x%2C%20this._z%20%3D%200%2C%20this._w%20%3D%20i)%20%3A%20(this._x%20%3D%200%2C%20this._y%20%3D%20-t.z%2C%20this._z%20%3D%20t.y%2C%20this._w%20%3D%20i))%20%3A%20(this._x%20%3D%20t.y%20*%20e.z%20-%20t.z%20*%20e.y%2C%20this._y%20%3D%20t.z%20*%20e.x%20-%20t.x%20*%20e.z%2C%20this._z%20%3D%20t.x%20*%20e.y%20-%20t.y%20*%20e.x%2C%20this._w%20%3D%20i)%2C%20this.normalize()%20%7D%20angleTo(t)%20%7B%20return%202%20*%20Math.acos(Math.abs(yt(this.dot(t)%2C%20-1%2C%201)))%20%7D%20rotateTowards(t%2C%20e)%20%7B%20const%20i%20%3D%20this.angleTo(t)%3B%20if%20(0%20%3D%3D%3D%20i)%20return%20this%3B%20const%20n%20%3D%20Math.min(1%2C%20e%20%2F%20i)%3B%20return%20this.slerp(t%2C%20n)%2C%20this%20%7D%20identity()%20%7B%20return%20this.set(0%2C%200%2C%200%2C%201)%20%7D%20invert()%20%7B%20return%20this.conjugate()%20%7D%20conjugate()%20%7B%20return%20this._x%20*%3D%20-1%2C%20this._y%20*%3D%20-1%2C%20this._z%20*%3D%20-1%2C%20this._onChangeCallback()%2C%20this%20%7D%20dot(t)%20%7B%20return%20this._x%20*%20t._x%20%2B%20this._y%20*%20t._y%20%2B%20this._z%20*%20t._z%20%2B%20this._w%20*%20t._w%20%7D%20lengthSq()%20%7B%20return%20this._x%20*%20this._x%20%2B%20this._y%20*%20this._y%20%2B%20this._z%20*%20this._z%20%2B%20this._w%20*%20this._w%20%7D%20length()%20%7B%20return%20Math.sqrt(this._x%20*%20this._x%20%2B%20this._y%20*%20this._y%20%2B%20this._z%20*%20this._z%20%2B%20this._w%20*%20this._w)%20%7D%20normalize()%20%7B%20let%20t%20%3D%20this.length()%3B%20return%200%20%3D%3D%3D%20t%20%3F%20(this._x%20%3D%200%2C%20this._y%20%3D%200%2C%20this._z%20%3D%200%2C%20this._w%20%3D%201)%20%3A%20(t%20%3D%201%20%2F%20t%2C%20this._x%20%3D%20this._x%20*%20t%2C%20this._y%20%3D%20this._y%20*%20t%2C%20this._z%20%3D%20this._z%20*%20t%2C%20this._w%20%3D%20this._w%20*%20t)%2C%20this._onChangeCallback()%2C%20this%20%7D%20multiply(t)%20%7B%20return%20this.multiplyQuaternions(this%2C%20t)%20%7D%20premultiply(t)%20%7B%20return%20this.multiplyQuaternions(t%2C%20this)%20%7D%20multiplyQuaternions(t%2C%20e)%20%7B%20const%20i%20%3D%20t._x%2C%20n%20%3D%20t._y%2C%20r%20%3D%20t._z%2C%20s%20%3D%20t._w%2C%20a%20%3D%20e._x%2C%20o%20%3D%20e._y%2C%20l%20%3D%20e._z%2C%20c%20%3D%20e._w%3B%20return%20this._x%20%3D%20i%20*%20c%20%2B%20s%20*%20a%20%2B%20n%20*%20l%20-%20r%20*%20o%2C%20this._y%20%3D%20n%20*%20c%20%2B%20s%20*%20o%20%2B%20r%20*%20a%20-%20i%20*%20l%2C%20this._z%20%3D%20r%20*%20c%20%2B%20s%20*%20l%20%2B%20i%20*%20o%20-%20n%20*%20a%2C%20this._w%20%3D%20s%20*%20c%20-%20i%20*%20a%20-%20n%20*%20o%20-%20r%20*%20l%2C%20this._onChangeCallback()%2C%20this%20%7D%20slerp(t%2C%20e)%20%7B%20if%20(0%20%3D%3D%3D%20e)%20return%20this%3B%20if%20(1%20%3D%3D%3D%20e)%20return%20this.copy(t)%3B%20const%20i%20%3D%20this._x%2C%20n%20%3D%20this._y%2C%20r%20%3D%20this._z%2C%20s%20%3D%20this._w%3B%20let%20a%20%3D%20s%20*%20t._w%20%2B%20i%20*%20t._x%20%2B%20n%20*%20t._y%20%2B%20r%20*%20t._z%3B%20if%20(a%20%3C%200%20%3F%20(this._w%20%3D%20-t._w%2C%20this._x%20%3D%20-t._x%2C%20this._y%20%3D%20-t._y%2C%20this._z%20%3D%20-t._z%2C%20a%20%3D%20-a)%20%3A%20this.copy(t)%2C%20a%20%3E%3D%201)%20return%20this._w%20%3D%20s%2C%20this._x%20%3D%20i%2C%20this._y%20%3D%20n%2C%20this._z%20%3D%20r%2C%20this%3B%20const%20o%20%3D%201%20-%20a%20*%20a%3B%20if%20(o%20%3C%3D%20Number.EPSILON)%20%7B%20const%20t%20%3D%201%20-%20e%3B%20return%20this._w%20%3D%20t%20*%20s%20%2B%20e%20*%20this._w%2C%20this._x%20%3D%20t%20*%20i%20%2B%20e%20*%20this._x%2C%20this._y%20%3D%20t%20*%20n%20%2B%20e%20*%20this._y%2C%20this._z%20%3D%20t%20*%20r%20%2B%20e%20*%20this._z%2C%20this.normalize()%2C%20this._onChangeCallback()%2C%20this%20%7D%20const%20l%20%3D%20Math.sqrt(o)%2C%20c%20%3D%20Math.atan2(l%2C%20a)%2C%20h%20%3D%20Math.sin((1%20-%20e)%20*%20c)%20%2F%20l%2C%20u%20%3D%20Math.sin(e%20*%20c)%20%2F%20l%3B%20return%20this._w%20%3D%20s%20*%20h%20%2B%20this._w%20*%20u%2C%20this._x%20%3D%20i%20*%20h%20%2B%20this._x%20*%20u%2C%20this._y%20%3D%20n%20*%20h%20%2B%20this._y%20*%20u%2C%20this._z%20%3D%20r%20*%20h%20%2B%20this._z%20*%20u%2C%20this._onChangeCallback()%2C%20this%20%7D%20slerpQuaternions(t%2C%20e%2C%20i)%20%7B%20return%20this.copy(t).slerp(e%2C%20i)%20%7D%20random()%20%7B%20const%20t%20%3D%20Math.random()%2C%20e%20%3D%20Math.sqrt(1%20-%20t)%2C%20i%20%3D%20Math.sqrt(t)%2C%20n%20%3D%202%20*%20Math.PI%20*%20Math.random()%2C%20r%20%3D%202%20*%20Math.PI%20*%20Math.random()%3B%20return%20this.set(e%20*%20Math.cos(n)%2C%20i%20*%20Math.sin(r)%2C%20i%20*%20Math.cos(r)%2C%20e%20*%20Math.sin(n))%20%7D%20equals(t)%20%7B%20return%20t._x%20%3D%3D%3D%20this._x%20%26%26%20t._y%20%3D%3D%3D%20this._y%20%26%26%20t._z%20%3D%3D%3D%20this._z%20%26%26%20t._w%20%3D%3D%3D%20this._w%20%7D%20fromArray(t%2C%20e%20%3D%200)%20%7B%20return%20this._x%20%3D%20t%5Be%5D%2C%20this._y%20%3D%20t%5Be%20%2B%201%5D%2C%20this._z%20%3D%20t%5Be%20%2B%202%5D%2C%20this._w%20%3D%20t%5Be%20%2B%203%5D%2C%20this._onChangeCallback()%2C%20this%20%7D%20toArray(t%20%3D%20%5B%5D%2C%20e%20%3D%200)%20%7B%20return%20t%5Be%5D%20%3D%20this._x%2C%20t%5Be%20%2B%201%5D%20%3D%20this._y%2C%20t%5Be%20%2B%202%5D%20%3D%20this._z%2C%20t%5Be%20%2B%203%5D%20%3D%20this._w%2C%20t%20%7D%20fromBufferAttribute(t%2C%20e)%20%7B%20return%20this._x%20%3D%20t.getX(e)%2C%20this._y%20%3D%20t.getY(e)%2C%20this._z%20%3D%20t.getZ(e)%2C%20this._w%20%3D%20t.getW(e)%2C%20this%20%7D%20_onChange(t)%20%7B%20return%20this._onChangeCallback%20%3D%20t%2C%20this%20%7D%20_onChangeCallback()%20%7B%20%7D%20*%5BSymbol.iterator%5D()%20%7B%20yield%20this._x%2C%20yield%20this._y%2C%20yield%20this._z%2C%20yield%20this._w%20%7D%20%7D%20class%20re%20%7B%20constructor(t%20%3D%200%2C%20e%20%3D%200%2C%20i%20%3D%200)%20%7B%20re.prototype.isVector3%20%3D%20!0%2C%20this.x%20%3D%20t%2C%20this.y%20%3D%20e%2C%20this.z%20%3D%20i%20%7D%20set(t%2C%20e%2C%20i)%20%7B%20return%20void%200%20%3D%3D%3D%20i%20%26%26%20(i%20%3D%20this.z)%2C%20this.x%20%3D%20t%2C%20this.y%20%3D%20e%2C%20this.z%20%3D%20i%2C%20this%20%7D%20setScalar(t)%20%7B%20return%20this.x%20%3D%20t%2C%20this.y%20%3D%20t%2C%20this.z%20%3D%20t%2C%20this%20%7D%20setX(t)%20%7B%20return%20this.x%20%3D%20t%2C%20this%20%7D%20setY(t)%20%7B%20return%20this.y%20%3D%20t%2C%20this%20%7D%20setZ(t)%20%7B%20return%20this.z%20%3D%20t%2C%20this%20%7D%20setComponent(t%2C%20e)%20%7B%20switch%20(t)%20%7B%20case%200%3A%20this.x%20%3D%20e%3B%20break%3B%20case%201%3A%20this.y%20%3D%20e%3B%20break%3B%20case%202%3A%20this.z%20%3D%20e%3B%20break%3B%20default%3A%20throw%20new%20Error(%22index%20is%20out%20of%20range%3A%20%22%20%2B%20t)%20%7Dreturn%20this%20%7D%20getComponent(t)%20%7B%20switch%20(t)%20%7B%20case%200%3A%20return%20this.x%3B%20case%201%3A%20return%20this.y%3B%20case%202%3A%20return%20this.z%3B%20default%3A%20throw%20new%20Error(%22index%20is%20out%20of%20range%3A%20%22%20%2B%20t)%20%7D%20%7D%20clone()%20%7B%20return%20new%20this.constructor(this.x%2C%20this.y%2C%20this.z)%20%7D%20copy(t)%20%7B%20return%20this.x%20%3D%20t.x%2C%20this.y%20%3D%20t.y%2C%20this.z%20%3D%20t.z%2C%20this%20%7D%20add(t)%20%7B%20return%20this.x%20%2B%3D%20t.x%2C%20this.y%20%2B%3D%20t.y%2C%20this.z%20%2B%3D%20t.z%2C%20this%20%7D%20addScalar(t)%20%7B%20return%20this.x%20%2B%3D%20t%2C%20this.y%20%2B%3D%20t%2C%20this.z%20%2B%3D%20t%2C%20this%20%7D%20addVectors(t%2C%20e)%20%7B%20return%20this.x%20%3D%20t.x%20%2B%20e.x%2C%20this.y%20%3D%20t.y%20%2B%20e.y%2C%20this.z%20%3D%20t.z%20%2B%20e.z%2C%20this%20%7D%20addScaledVector(t%2C%20e)%20%7B%20return%20this.x%20%2B%3D%20t.x%20*%20e%2C%20this.y%20%2B%3D%20t.y%20*%20e%2C%20this.z%20%2B%3D%20t.z%20*%20e%2C%20this%20%7D%20sub(t)%20%7B%20return%20this.x%20-%3D%20t.x%2C%20this.y%20-%3D%20t.y%2C%20this.z%20-%3D%20t.z%2C%20this%20%7D%20subScalar(t)%20%7B%20return%20this.x%20-%3D%20t%2C%20this.y%20-%3D%20t%2C%20this.z%20-%3D%20t%2C%20this%20%7D%20subVectors(t%2C%20e)%20%7B%20return%20this.x%20%3D%20t.x%20-%20e.x%2C%20this.y%20%3D%20t.y%20-%20e.y%2C%20this.z%20%3D%20t.z%20-%20e.z%2C%20this%20%7D%20multiply(t)%20%7B%20return%20this.x%20*%3D%20t.x%2C%20this.y%20*%3D%20t.y%2C%20this.z%20*%3D%20t.z%2C%20this%20%7D%20multiplyScalar(t)%20%7B%20return%20this.x%20*%3D%20t%2C%20this.y%20*%3D%20t%2C%20this.z%20*%3D%20t%2C%20this%20%7D%20multiplyVectors(t%2C%20e)%20%7B%20return%20this.x%20%3D%20t.x%20*%20e.x%2C%20this.y%20%3D%20t.y%20*%20e.y%2C%20this.z%20%3D%20t.z%20*%20e.z%2C%20this%20%7D%20applyEuler(t)%20%7B%20return%20this.applyQuaternion(ae.setFromEuler(t))%20%7D%20applyAxisAngle(t%2C%20e)%20%7B%20return%20this.applyQuaternion(ae.setFromAxisAngle(t%2C%20e))%20%7D%20applyMatrix3(t)%20%7B%20const%20e%20%3D%20this.x%2C%20i%20%3D%20this.y%2C%20n%20%3D%20this.z%2C%20r%20%3D%20t.elements%3B%20return%20this.x%20%3D%20r%5B0%5D%20*%20e%20%2B%20r%5B3%5D%20*%20i%20%2B%20r%5B6%5D%20*%20n%2C%20this.y%20%3D%20r%5B1%5D%20*%20e%20%2B%20r%5B4%5D%20*%20i%20%2B%20r%5B7%5D%20*%20n%2C%20this.z%20%3D%20r%5B2%5D%20*%20e%20%2B%20r%5B5%5D%20*%20i%20%2B%20r%5B8%5D%20*%20n%2C%20this%20%7D%20applyNormalMatrix(t)%20%7B%20return%20this.applyMatrix3(t).normalize()%20%7D%20applyMatrix4(t)%20%7B%20const%20e%20%3D%20this.x%2C%20i%20%3D%20this.y%2C%20n%20%3D%20this.z%2C%20r%20%3D%20t.elements%2C%20s%20%3D%201%20%2F%20(r%5B3%5D%20*%20e%20%2B%20r%5B7%5D%20*%20i%20%2B%20r%5B11%5D%20*%20n%20%2B%20r%5B15%5D)%3B%20return%20this.x%20%3D%20(r%5B0%5D%20*%20e%20%2B%20r%5B4%5D%20*%20i%20%2B%20r%5B8%5D%20*%20n%20%2B%20r%5B12%5D)%20*%20s%2C%20this.y%20%3D%20(r%5B1%5D%20*%20e%20%2B%20r%5B5%5D%20*%20i%20%2B%20r%5B9%5D%20*%20n%20%2B%20r%5B13%5D)%20*%20s%2C%20this.z%20%3D%20(r%5B2%5D%20*%20e%20%2B%20r%5B6%5D%20*%20i%20%2B%20r%5B10%5D%20*%20n%20%2B%20r%5B14%5D)%20*%20s%2C%20this%20%7D%20applyQuaternion(t)%20%7B%20const%20e%20%3D%20this.x%2C%20i%20%3D%20this.y%2C%20n%20%3D%20this.z%2C%20r%20%3D%20t.x%2C%20s%20%3D%20t.y%2C%20a%20%3D%20t.z%2C%20o%20%3D%20t.w%2C%20l%20%3D%20o%20*%20e%20%2B%20s%20*%20n%20-%20a%20*%20i%2C%20c%20%3D%20o%20*%20i%20%2B%20a%20*%20e%20-%20r%20*%20n%2C%20h%20%3D%20o%20*%20n%20%2B%20r%20*%20i%20-%20s%20*%20e%2C%20u%20%3D%20-r%20*%20e%20-%20s%20*%20i%20-%20a%20*%20n%3B%20return%20this.x%20%3D%20l%20*%20o%20%2B%20u%20*%20-r%20%2B%20c%20*%20-a%20-%20h%20*%20-s%2C%20this.y%20%3D%20c%20*%20o%20%2B%20u%20*%20-s%20%2B%20h%20*%20-r%20-%20l%20*%20-a%2C%20this.z%20%3D%20h%20*%20o%20%2B%20u%20*%20-a%20%2B%20l%20*%20-s%20-%20c%20*%20-r%2C%20this%20%7D%20project(t)%20%7B%20return%20this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)%20%7D%20unproject(t)%20%7B%20return%20this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)%20%7D%20transformDirection(t)%20%7B%20const%20e%20%3D%20this.x%2C%20i%20%3D%20this.y%2C%20n%20%3D%20this.z%2C%20r%20%3D%20t.elements%3B%20return%20this.x%20%3D%20r%5B0%5D%20*%20e%20%2B%20r%5B4%5D%20*%20i%20%2B%20r%5B8%5D%20*%20n%2C%20this.y%20%3D%20r%5B1%5D%20*%20e%20%2B%20r%5B5%5D%20*%20i%20%2B%20r%5B9%5D%20*%20n%2C%20this.z%20%3D%20r%5B2%5D%20*%20e%20%2B%20r%5B6%5D%20*%20i%20%2B%20r%5B10%5D%20*%20n%2C%20this.normalize()%20%7D%20divide(t)%20%7B%20return%20this.x%20%2F%3D%20t.x%2C%20this.y%20%2F%3D%20t.y%2C%20this.z%20%2F%3D%20t.z%2C%20this%20%7D%20divideScalar(t)%20%7B%20return%20this.multiplyScalar(1%20%2F%20t)%20%7D%20min(t)%20%7B%20return%20this.x%20%3D%20Math.min(this.x%2C%20t.x)%2C%20this.y%20%3D%20Math.min(this.y%2C%20t.y)%2C%20this.z%20%3D%20Math.min(this.z%2C%20t.z)%2C%20this%20%7D%20max(t)%20%7B%20return%20this.x%20%3D%20Math.max(this.x%2C%20t.x)%2C%20this.y%20%3D%20Math.max(this.y%2C%20t.y)%2C%20this.z%20%3D%20Math.max(this.z%2C%20t.z)%2C%20this%20%7D%20clamp(t%2C%20e)%20%7B%20return%20this.x%20%3D%20Math.max(t.x%2C%20Math.min(e.x%2C%20this.x))%2C%20this.y%20%3D%20Math.max(t.y%2C%20Math.min(e.y%2C%20this.y))%2C%20this.z%20%3D%20Math.max(t.z%2C%20Math.min(e.z%2C%20this.z))%2C%20this%20%7D%20clampScalar(t%2C%20e)%20%7B%20return%20this.x%20%3D%20Math.max(t%2C%20Math.min(e%2C%20this.x))%2C%20this.y%20%3D%20Math.max(t%2C%20Math.min(e%2C%20this.y))%2C%20this.z%20%3D%20Math.max(t%2C%20Math.min(e%2C%20this.z))%2C%20this%20%7D%20clampLength(t%2C%20e)%20%7B%20const%20i%20%3D%20this.length()%3B%20return%20this.divideScalar(i%20%7C%7C%201).multiplyScalar(Math.max(t%2C%20Math.min(e%2C%20i)))%20%7D%20floor()%20%7B%20return%20this.x%20%3D%20Math.floor(this.x)%2C%20this.y%20%3D%20Math.floor(this.y)%2C%20this.z%20%3D%20Math.floor(this.z)%2C%20this%20%7D%20ceil()%20%7B%20return%20this.x%20%3D%20Math.ceil(this.x)%2C%20this.y%20%3D%20Math.ceil(this.y)%2C%20this.z%20%3D%20Math.ceil(this.z)%2C%20this%20%7D%20round()%20%7B%20return%20this.x%20%3D%20Math.round(this.x)%2C%20this.y%20%3D%20Math.round(this.y)%2C%20this.z%20%3D%20Math.round(this.z)%2C%20this%20%7D%20roundToZero()%20%7B%20return%20this.x%20%3D%20this.x%20%3C%200%20%3F%20Math.ceil(this.x)%20%3A%20Math.floor(this.x)%2C%20this.y%20%3D%20this.y%20%3C%200%20%3F%20Math.ceil(this.y)%20%3A%20Math.floor(this.y)%2C%20this.z%20%3D%20this.z%20%3C%200%20%3F%20Math.ceil(this.z)%20%3A%20Math.floor(this.z)%2C%20this%20%7D%20negate()%20%7B%20return%20this.x%20%3D%20-this.x%2C%20this.y%20%3D%20-this.y%2C%20this.z%20%3D%20-this.z%2C%20this%20%7D%20dot(t)%20%7B%20return%20this.x%20*%20t.x%20%2B%20this.y%20*%20t.y%20%2B%20this.z%20*%20t.z%20%7D%20lengthSq()%20%7B%20return%20this.x%20*%20this.x%20%2B%20this.y%20*%20this.y%20%2B%20this.z%20*%20this.z%20%7D%20length()%20%7B%20return%20Math.sqrt(this.x%20*%20this.x%20%2B%20this.y%20*%20this.y%20%2B%20this.z%20*%20this.z)%20%7D%20manhattanLength()%20%7B%20return%20Math.abs(this.x)%20%2B%20Math.abs(this.y)%20%2B%20Math.abs(this.z)%20%7D%20normalize()%20%7B%20return%20this.divideScalar(this.length()%20%7C%7C%201)%20%7D%20setLength(t)%20%7B%20return%20this.normalize().multiplyScalar(t)%20%7D%20lerp(t%2C%20e)%20%7B%20return%20this.x%20%2B%3D%20(t.x%20-%20this.x)%20*%20e%2C%20this.y%20%2B%3D%20(t.y%20-%20this.y)%20*%20e%2C%20this.z%20%2B%3D%20(t.z%20-%20this.z)%20*%20e%2C%20this%20%7D%20lerpVectors(t%2C%20e%2C%20i)%20%7B%20return%20this.x%20%3D%20t.x%20%2B%20(e.x%20-%20t.x)%20*%20i%2C%20this.y%20%3D%20t.y%20%2B%20(e.y%20-%20t.y)%20*%20i%2C%20this.z%20%3D%20t.z%20%2B%20(e.z%20-%20t.z)%20*%20i%2C%20this%20%7D%20cross(t)%20%7B%20return%20this.crossVectors(this%2C%20t)%20%7D%20crossVectors(t%2C%20e)%20%7B%20const%20i%20%3D%20t.x%2C%20n%20%3D%20t.y%2C%20r%20%3D%20t.z%2C%20s%20%3D%20e.x%2C%20a%20%3D%20e.y%2C%20o%20%3D%20e.z%3B%20return%20this.x%20%3D%20n%20*%20o%20-%20r%20*%20a%2C%20this.y%20%3D%20r%20*%20s%20-%20i%20*%20o%2C%20this.z%20%3D%20i%20*%20a%20-%20n%20*%20s%2C%20this%20%7D%20projectOnVector(t)%20%7B%20const%20e%20%3D%20t.lengthSq()%3B%20if%20(0%20%3D%3D%3D%20e)%20return%20this.set(0%2C%200%2C%200)%3B%20const%20i%20%3D%20t.dot(this)%20%2F%20e%3B%20return%20this.copy(t).multiplyScalar(i)%20%7D%20projectOnPlane(t)%20%7B%20return%20se.copy(this).projectOnVector(t)%2C%20this.sub(se)%20%7D%20reflect(t)%20%7B%20return%20this.sub(se.copy(t).multiplyScalar(2%20*%20this.dot(t)))%20%7D%20angleTo(t)%20%7B%20const%20e%20%3D%20Math.sqrt(this.lengthSq()%20*%20t.lengthSq())%3B%20if%20(0%20%3D%3D%3D%20e)%20return%20Math.PI%20%2F%202%3B%20const%20i%20%3D%20this.dot(t)%20%2F%20e%3B%20return%20Math.acos(yt(i%2C%20-1%2C%201))%20%7D%20distanceTo(t)%20%7B%20return%20Math.sqrt(this.distanceToSquared(t))%20%7D%20distanceToSquared(t)%20%7B%20const%20e%20%3D%20this.x%20-%20t.x%2C%20i%20%3D%20this.y%20-%20t.y%2C%20n%20%3D%20this.z%20-%20t.z%3B%20return%20e%20*%20e%20%2B%20i%20*%20i%20%2B%20n%20*%20n%20%7D%20manhattanDistanceTo(t)%20%7B%20return%20Math.abs(this.x%20-%20t.x)%20%2B%20Math.abs(this.y%20-%20t.y)%20%2B%20Math.abs(this.z%20-%20t.z)%20%7D%20setFromSpherical(t)%20%7B%20return%20this.setFromSphericalCoords(t.radius%2C%20t.phi%2C%20t.theta)%20%7D%20setFromSphericalCoords(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20Math.sin(e)%20*%20t%3B%20return%20this.x%20%3D%20n%20*%20Math.sin(i)%2C%20this.y%20%3D%20Math.cos(e)%20*%20t%2C%20this.z%20%3D%20n%20*%20Math.cos(i)%2C%20this%20%7D%20setFromCylindrical(t)%20%7B%20return%20this.setFromCylindricalCoords(t.radius%2C%20t.theta%2C%20t.y)%20%7D%20setFromCylindricalCoords(t%2C%20e%2C%20i)%20%7B%20return%20this.x%20%3D%20t%20*%20Math.sin(e)%2C%20this.y%20%3D%20i%2C%20this.z%20%3D%20t%20*%20Math.cos(e)%2C%20this%20%7D%20setFromMatrixPosition(t)%20%7B%20const%20e%20%3D%20t.elements%3B%20return%20this.x%20%3D%20e%5B12%5D%2C%20this.y%20%3D%20e%5B13%5D%2C%20this.z%20%3D%20e%5B14%5D%2C%20this%20%7D%20setFromMatrixScale(t)%20%7B%20const%20e%20%3D%20this.setFromMatrixColumn(t%2C%200).length()%2C%20i%20%3D%20this.setFromMatrixColumn(t%2C%201).length()%2C%20n%20%3D%20this.setFromMatrixColumn(t%2C%202).length()%3B%20return%20this.x%20%3D%20e%2C%20this.y%20%3D%20i%2C%20this.z%20%3D%20n%2C%20this%20%7D%20setFromMatrixColumn(t%2C%20e)%20%7B%20return%20this.fromArray(t.elements%2C%204%20*%20e)%20%7D%20setFromMatrix3Column(t%2C%20e)%20%7B%20return%20this.fromArray(t.elements%2C%203%20*%20e)%20%7D%20setFromEuler(t)%20%7B%20return%20this.x%20%3D%20t._x%2C%20this.y%20%3D%20t._y%2C%20this.z%20%3D%20t._z%2C%20this%20%7D%20equals(t)%20%7B%20return%20t.x%20%3D%3D%3D%20this.x%20%26%26%20t.y%20%3D%3D%3D%20this.y%20%26%26%20t.z%20%3D%3D%3D%20this.z%20%7D%20fromArray(t%2C%20e%20%3D%200)%20%7B%20return%20this.x%20%3D%20t%5Be%5D%2C%20this.y%20%3D%20t%5Be%20%2B%201%5D%2C%20this.z%20%3D%20t%5Be%20%2B%202%5D%2C%20this%20%7D%20toArray(t%20%3D%20%5B%5D%2C%20e%20%3D%200)%20%7B%20return%20t%5Be%5D%20%3D%20this.x%2C%20t%5Be%20%2B%201%5D%20%3D%20this.y%2C%20t%5Be%20%2B%202%5D%20%3D%20this.z%2C%20t%20%7D%20fromBufferAttribute(t%2C%20e)%20%7B%20return%20this.x%20%3D%20t.getX(e)%2C%20this.y%20%3D%20t.getY(e)%2C%20this.z%20%3D%20t.getZ(e)%2C%20this%20%7D%20random()%20%7B%20return%20this.x%20%3D%20Math.random()%2C%20this.y%20%3D%20Math.random()%2C%20this.z%20%3D%20Math.random()%2C%20this%20%7D%20randomDirection()%20%7B%20const%20t%20%3D%202%20*%20(Math.random()%20-%20.5)%2C%20e%20%3D%20Math.random()%20*%20Math.PI%20*%202%2C%20i%20%3D%20Math.sqrt(1%20-%20t%20**%202)%3B%20return%20this.x%20%3D%20i%20*%20Math.cos(e)%2C%20this.y%20%3D%20i%20*%20Math.sin(e)%2C%20this.z%20%3D%20t%2C%20this%20%7D%20*%5BSymbol.iterator%5D()%20%7B%20yield%20this.x%2C%20yield%20this.y%2C%20yield%20this.z%20%7D%20%7D%20const%20se%20%3D%20new%20re%2C%20ae%20%3D%20new%20ne%3B%20class%20oe%20%7B%20constructor(t%20%3D%20new%20re(1%20%2F%200%2C%201%20%2F%200%2C%201%20%2F%200)%2C%20e%20%3D%20new%20re(-1%20%2F%200%2C%20-1%20%2F%200%2C%20-1%20%2F%200))%20%7B%20this.isBox3%20%3D%20!0%2C%20this.min%20%3D%20t%2C%20this.max%20%3D%20e%20%7D%20set(t%2C%20e)%20%7B%20return%20this.min.copy(t)%2C%20this.max.copy(e)%2C%20this%20%7D%20setFromArray(t)%20%7B%20let%20e%20%3D%201%20%2F%200%2C%20i%20%3D%201%20%2F%200%2C%20n%20%3D%201%20%2F%200%2C%20r%20%3D%20-1%20%2F%200%2C%20s%20%3D%20-1%20%2F%200%2C%20a%20%3D%20-1%20%2F%200%3B%20for%20(let%20o%20%3D%200%2C%20l%20%3D%20t.length%3B%20o%20%3C%20l%3B%20o%20%2B%3D%203)%20%7B%20const%20l%20%3D%20t%5Bo%5D%2C%20c%20%3D%20t%5Bo%20%2B%201%5D%2C%20h%20%3D%20t%5Bo%20%2B%202%5D%3B%20l%20%3C%20e%20%26%26%20(e%20%3D%20l)%2C%20c%20%3C%20i%20%26%26%20(i%20%3D%20c)%2C%20h%20%3C%20n%20%26%26%20(n%20%3D%20h)%2C%20l%20%3E%20r%20%26%26%20(r%20%3D%20l)%2C%20c%20%3E%20s%20%26%26%20(s%20%3D%20c)%2C%20h%20%3E%20a%20%26%26%20(a%20%3D%20h)%20%7D%20return%20this.min.set(e%2C%20i%2C%20n)%2C%20this.max.set(r%2C%20s%2C%20a)%2C%20this%20%7D%20setFromBufferAttribute(t)%20%7B%20let%20e%20%3D%201%20%2F%200%2C%20i%20%3D%201%20%2F%200%2C%20n%20%3D%201%20%2F%200%2C%20r%20%3D%20-1%20%2F%200%2C%20s%20%3D%20-1%20%2F%200%2C%20a%20%3D%20-1%20%2F%200%3B%20for%20(let%20o%20%3D%200%2C%20l%20%3D%20t.count%3B%20o%20%3C%20l%3B%20o%2B%2B)%20%7B%20const%20l%20%3D%20t.getX(o)%2C%20c%20%3D%20t.getY(o)%2C%20h%20%3D%20t.getZ(o)%3B%20l%20%3C%20e%20%26%26%20(e%20%3D%20l)%2C%20c%20%3C%20i%20%26%26%20(i%20%3D%20c)%2C%20h%20%3C%20n%20%26%26%20(n%20%3D%20h)%2C%20l%20%3E%20r%20%26%26%20(r%20%3D%20l)%2C%20c%20%3E%20s%20%26%26%20(s%20%3D%20c)%2C%20h%20%3E%20a%20%26%26%20(a%20%3D%20h)%20%7D%20return%20this.min.set(e%2C%20i%2C%20n)%2C%20this.max.set(r%2C%20s%2C%20a)%2C%20this%20%7D%20setFromPoints(t)%20%7B%20this.makeEmpty()%3B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20t.length%3B%20e%20%3C%20i%3B%20e%2B%2B)this.expandByPoint(t%5Be%5D)%3B%20return%20this%20%7D%20setFromCenterAndSize(t%2C%20e)%20%7B%20const%20i%20%3D%20ce.copy(e).multiplyScalar(.5)%3B%20return%20this.min.copy(t).sub(i)%2C%20this.max.copy(t).add(i)%2C%20this%20%7D%20setFromObject(t%2C%20e%20%3D%20!1)%20%7B%20return%20this.makeEmpty()%2C%20this.expandByObject(t%2C%20e)%20%7D%20clone()%20%7B%20return%20(new%20this.constructor).copy(this)%20%7D%20copy(t)%20%7B%20return%20this.min.copy(t.min)%2C%20this.max.copy(t.max)%2C%20this%20%7D%20makeEmpty()%20%7B%20return%20this.min.x%20%3D%20this.min.y%20%3D%20this.min.z%20%3D%201%20%2F%200%2C%20this.max.x%20%3D%20this.max.y%20%3D%20this.max.z%20%3D%20-1%20%2F%200%2C%20this%20%7D%20isEmpty()%20%7B%20return%20this.max.x%20%3C%20this.min.x%20%7C%7C%20this.max.y%20%3C%20this.min.y%20%7C%7C%20this.max.z%20%3C%20this.min.z%20%7D%20getCenter(t)%20%7B%20return%20this.isEmpty()%20%3F%20t.set(0%2C%200%2C%200)%20%3A%20t.addVectors(this.min%2C%20this.max).multiplyScalar(.5)%20%7D%20getSize(t)%20%7B%20return%20this.isEmpty()%20%3F%20t.set(0%2C%200%2C%200)%20%3A%20t.subVectors(this.max%2C%20this.min)%20%7D%20expandByPoint(t)%20%7B%20return%20this.min.min(t)%2C%20this.max.max(t)%2C%20this%20%7D%20expandByVector(t)%20%7B%20return%20this.min.sub(t)%2C%20this.max.add(t)%2C%20this%20%7D%20expandByScalar(t)%20%7B%20return%20this.min.addScalar(-t)%2C%20this.max.addScalar(t)%2C%20this%20%7D%20expandByObject(t%2C%20e%20%3D%20!1)%20%7B%20t.updateWorldMatrix(!1%2C%20!1)%3B%20const%20i%20%3D%20t.geometry%3B%20if%20(void%200%20!%3D%3D%20i)%20if%20(e%20%26%26%20null%20!%3D%20i.attributes%20%26%26%20void%200%20!%3D%3D%20i.attributes.position)%20%7B%20const%20e%20%3D%20i.attributes.position%3B%20for%20(let%20i%20%3D%200%2C%20n%20%3D%20e.count%3B%20i%20%3C%20n%3B%20i%2B%2B)ce.fromBufferAttribute(e%2C%20i).applyMatrix4(t.matrixWorld)%2C%20this.expandByPoint(ce)%20%7D%20else%20null%20%3D%3D%3D%20i.boundingBox%20%26%26%20i.computeBoundingBox()%2C%20he.copy(i.boundingBox)%2C%20he.applyMatrix4(t.matrixWorld)%2C%20this.union(he)%3B%20const%20n%20%3D%20t.children%3B%20for%20(let%20t%20%3D%200%2C%20i%20%3D%20n.length%3B%20t%20%3C%20i%3B%20t%2B%2B)this.expandByObject(n%5Bt%5D%2C%20e)%3B%20return%20this%20%7D%20containsPoint(t)%20%7B%20return%20!(t.x%20%3C%20this.min.x%20%7C%7C%20t.x%20%3E%20this.max.x%20%7C%7C%20t.y%20%3C%20this.min.y%20%7C%7C%20t.y%20%3E%20this.max.y%20%7C%7C%20t.z%20%3C%20this.min.z%20%7C%7C%20t.z%20%3E%20this.max.z)%20%7D%20containsBox(t)%20%7B%20return%20this.min.x%20%3C%3D%20t.min.x%20%26%26%20t.max.x%20%3C%3D%20this.max.x%20%26%26%20this.min.y%20%3C%3D%20t.min.y%20%26%26%20t.max.y%20%3C%3D%20this.max.y%20%26%26%20this.min.z%20%3C%3D%20t.min.z%20%26%26%20t.max.z%20%3C%3D%20this.max.z%20%7D%20getParameter(t%2C%20e)%20%7B%20return%20e.set((t.x%20-%20this.min.x)%20%2F%20(this.max.x%20-%20this.min.x)%2C%20(t.y%20-%20this.min.y)%20%2F%20(this.max.y%20-%20this.min.y)%2C%20(t.z%20-%20this.min.z)%20%2F%20(this.max.z%20-%20this.min.z))%20%7D%20intersectsBox(t)%20%7B%20return%20!(t.max.x%20%3C%20this.min.x%20%7C%7C%20t.min.x%20%3E%20this.max.x%20%7C%7C%20t.max.y%20%3C%20this.min.y%20%7C%7C%20t.min.y%20%3E%20this.max.y%20%7C%7C%20t.max.z%20%3C%20this.min.z%20%7C%7C%20t.min.z%20%3E%20this.max.z)%20%7D%20intersectsSphere(t)%20%7B%20return%20this.clampPoint(t.center%2C%20ce)%2C%20ce.distanceToSquared(t.center)%20%3C%3D%20t.radius%20*%20t.radius%20%7D%20intersectsPlane(t)%20%7B%20let%20e%2C%20i%3B%20return%20t.normal.x%20%3E%200%20%3F%20(e%20%3D%20t.normal.x%20*%20this.min.x%2C%20i%20%3D%20t.normal.x%20*%20this.max.x)%20%3A%20(e%20%3D%20t.normal.x%20*%20this.max.x%2C%20i%20%3D%20t.normal.x%20*%20this.min.x)%2C%20t.normal.y%20%3E%200%20%3F%20(e%20%2B%3D%20t.normal.y%20*%20this.min.y%2C%20i%20%2B%3D%20t.normal.y%20*%20this.max.y)%20%3A%20(e%20%2B%3D%20t.normal.y%20*%20this.max.y%2C%20i%20%2B%3D%20t.normal.y%20*%20this.min.y)%2C%20t.normal.z%20%3E%200%20%3F%20(e%20%2B%3D%20t.normal.z%20*%20this.min.z%2C%20i%20%2B%3D%20t.normal.z%20*%20this.max.z)%20%3A%20(e%20%2B%3D%20t.normal.z%20*%20this.max.z%2C%20i%20%2B%3D%20t.normal.z%20*%20this.min.z)%2C%20e%20%3C%3D%20-t.constant%20%26%26%20i%20%3E%3D%20-t.constant%20%7D%20intersectsTriangle(t)%20%7B%20if%20(this.isEmpty())%20return%20!1%3B%20this.getCenter(ve)%2C%20xe.subVectors(this.max%2C%20ve)%2C%20ue.subVectors(t.a%2C%20ve)%2C%20de.subVectors(t.b%2C%20ve)%2C%20pe.subVectors(t.c%2C%20ve)%2C%20me.subVectors(de%2C%20ue)%2C%20fe.subVectors(pe%2C%20de)%2C%20ge.subVectors(ue%2C%20pe)%3B%20let%20e%20%3D%20%5B0%2C%20-me.z%2C%20me.y%2C%200%2C%20-fe.z%2C%20fe.y%2C%200%2C%20-ge.z%2C%20ge.y%2C%20me.z%2C%200%2C%20-me.x%2C%20fe.z%2C%200%2C%20-fe.x%2C%20ge.z%2C%200%2C%20-ge.x%2C%20-me.y%2C%20me.x%2C%200%2C%20-fe.y%2C%20fe.x%2C%200%2C%20-ge.y%2C%20ge.x%2C%200%5D%3B%20return%20!!Me(e%2C%20ue%2C%20de%2C%20pe%2C%20xe)%20%26%26%20(e%20%3D%20%5B1%2C%200%2C%200%2C%200%2C%201%2C%200%2C%200%2C%200%2C%201%5D%2C%20!!Me(e%2C%20ue%2C%20de%2C%20pe%2C%20xe)%20%26%26%20(_e.crossVectors(me%2C%20fe)%2C%20e%20%3D%20%5B_e.x%2C%20_e.y%2C%20_e.z%5D%2C%20Me(e%2C%20ue%2C%20de%2C%20pe%2C%20xe)))%20%7D%20clampPoint(t%2C%20e)%20%7B%20return%20e.copy(t).clamp(this.min%2C%20this.max)%20%7D%20distanceToPoint(t)%20%7B%20return%20ce.copy(t).clamp(this.min%2C%20this.max).sub(t).length()%20%7D%20getBoundingSphere(t)%20%7B%20return%20this.getCenter(t.center)%2C%20t.radius%20%3D%20.5%20*%20this.getSize(ce).length()%2C%20t%20%7D%20intersect(t)%20%7B%20return%20this.min.max(t.min)%2C%20this.max.min(t.max)%2C%20this.isEmpty()%20%26%26%20this.makeEmpty()%2C%20this%20%7D%20union(t)%20%7B%20return%20this.min.min(t.min)%2C%20this.max.max(t.max)%2C%20this%20%7D%20applyMatrix4(t)%20%7B%20return%20this.isEmpty()%20%7C%7C%20(le%5B0%5D.set(this.min.x%2C%20this.min.y%2C%20this.min.z).applyMatrix4(t)%2C%20le%5B1%5D.set(this.min.x%2C%20this.min.y%2C%20this.max.z).applyMatrix4(t)%2C%20le%5B2%5D.set(this.min.x%2C%20this.max.y%2C%20this.min.z).applyMatrix4(t)%2C%20le%5B3%5D.set(this.min.x%2C%20this.max.y%2C%20this.max.z).applyMatrix4(t)%2C%20le%5B4%5D.set(this.max.x%2C%20this.min.y%2C%20this.min.z).applyMatrix4(t)%2C%20le%5B5%5D.set(this.max.x%2C%20this.min.y%2C%20this.max.z).applyMatrix4(t)%2C%20le%5B6%5D.set(this.max.x%2C%20this.max.y%2C%20this.min.z).applyMatrix4(t)%2C%20le%5B7%5D.set(this.max.x%2C%20this.max.y%2C%20this.max.z).applyMatrix4(t)%2C%20this.setFromPoints(le))%2C%20this%20%7D%20translate(t)%20%7B%20return%20this.min.add(t)%2C%20this.max.add(t)%2C%20this%20%7D%20equals(t)%20%7B%20return%20t.min.equals(this.min)%20%26%26%20t.max.equals(this.max)%20%7D%20%7D%20const%20le%20%3D%20%5Bnew%20re%2C%20new%20re%2C%20new%20re%2C%20new%20re%2C%20new%20re%2C%20new%20re%2C%20new%20re%2C%20new%20re%5D%2C%20ce%20%3D%20new%20re%2C%20he%20%3D%20new%20oe%2C%20ue%20%3D%20new%20re%2C%20de%20%3D%20new%20re%2C%20pe%20%3D%20new%20re%2C%20me%20%3D%20new%20re%2C%20fe%20%3D%20new%20re%2C%20ge%20%3D%20new%20re%2C%20ve%20%3D%20new%20re%2C%20xe%20%3D%20new%20re%2C%20_e%20%3D%20new%20re%2C%20ye%20%3D%20new%20re%3B%20function%20Me(t%2C%20e%2C%20i%2C%20n%2C%20r)%20%7B%20for%20(let%20s%20%3D%200%2C%20a%20%3D%20t.length%20-%203%3B%20s%20%3C%3D%20a%3B%20s%20%2B%3D%203)%20%7B%20ye.fromArray(t%2C%20s)%3B%20const%20a%20%3D%20r.x%20*%20Math.abs(ye.x)%20%2B%20r.y%20*%20Math.abs(ye.y)%20%2B%20r.z%20*%20Math.abs(ye.z)%2C%20o%20%3D%20e.dot(ye)%2C%20l%20%3D%20i.dot(ye)%2C%20c%20%3D%20n.dot(ye)%3B%20if%20(Math.max(-Math.max(o%2C%20l%2C%20c)%2C%20Math.min(o%2C%20l%2C%20c))%20%3E%20a)%20return%20!1%20%7D%20return%20!0%20%7D%20const%20be%20%3D%20new%20oe%2C%20Se%20%3D%20new%20re%2C%20we%20%3D%20new%20re%3B%20class%20Te%20%7B%20constructor(t%20%3D%20new%20re%2C%20e%20%3D%20-1)%20%7B%20this.center%20%3D%20t%2C%20this.radius%20%3D%20e%20%7D%20set(t%2C%20e)%20%7B%20return%20this.center.copy(t)%2C%20this.radius%20%3D%20e%2C%20this%20%7D%20setFromPoints(t%2C%20e)%20%7B%20const%20i%20%3D%20this.center%3B%20void%200%20!%3D%3D%20e%20%3F%20i.copy(e)%20%3A%20be.setFromPoints(t).getCenter(i)%3B%20let%20n%20%3D%200%3B%20for%20(let%20e%20%3D%200%2C%20r%20%3D%20t.length%3B%20e%20%3C%20r%3B%20e%2B%2B)n%20%3D%20Math.max(n%2C%20i.distanceToSquared(t%5Be%5D))%3B%20return%20this.radius%20%3D%20Math.sqrt(n)%2C%20this%20%7D%20copy(t)%20%7B%20return%20this.center.copy(t.center)%2C%20this.radius%20%3D%20t.radius%2C%20this%20%7D%20isEmpty()%20%7B%20return%20this.radius%20%3C%200%20%7D%20makeEmpty()%20%7B%20return%20this.center.set(0%2C%200%2C%200)%2C%20this.radius%20%3D%20-1%2C%20this%20%7D%20containsPoint(t)%20%7B%20return%20t.distanceToSquared(this.center)%20%3C%3D%20this.radius%20*%20this.radius%20%7D%20distanceToPoint(t)%20%7B%20return%20t.distanceTo(this.center)%20-%20this.radius%20%7D%20intersectsSphere(t)%20%7B%20const%20e%20%3D%20this.radius%20%2B%20t.radius%3B%20return%20t.center.distanceToSquared(this.center)%20%3C%3D%20e%20*%20e%20%7D%20intersectsBox(t)%20%7B%20return%20t.intersectsSphere(this)%20%7D%20intersectsPlane(t)%20%7B%20return%20Math.abs(t.distanceToPoint(this.center))%20%3C%3D%20this.radius%20%7D%20clampPoint(t%2C%20e)%20%7B%20const%20i%20%3D%20this.center.distanceToSquared(t)%3B%20return%20e.copy(t)%2C%20i%20%3E%20this.radius%20*%20this.radius%20%26%26%20(e.sub(this.center).normalize()%2C%20e.multiplyScalar(this.radius).add(this.center))%2C%20e%20%7D%20getBoundingBox(t)%20%7B%20return%20this.isEmpty()%20%3F%20(t.makeEmpty()%2C%20t)%20%3A%20(t.set(this.center%2C%20this.center)%2C%20t.expandByScalar(this.radius)%2C%20t)%20%7D%20applyMatrix4(t)%20%7B%20return%20this.center.applyMatrix4(t)%2C%20this.radius%20%3D%20this.radius%20*%20t.getMaxScaleOnAxis()%2C%20this%20%7D%20translate(t)%20%7B%20return%20this.center.add(t)%2C%20this%20%7D%20expandByPoint(t)%20%7B%20if%20(this.isEmpty())%20return%20this.center.copy(t)%2C%20this.radius%20%3D%200%2C%20this%3B%20Se.subVectors(t%2C%20this.center)%3B%20const%20e%20%3D%20Se.lengthSq()%3B%20if%20(e%20%3E%20this.radius%20*%20this.radius)%20%7B%20const%20t%20%3D%20Math.sqrt(e)%2C%20i%20%3D%20.5%20*%20(t%20-%20this.radius)%3B%20this.center.addScaledVector(Se%2C%20i%20%2F%20t)%2C%20this.radius%20%2B%3D%20i%20%7D%20return%20this%20%7D%20union(t)%20%7B%20return%20t.isEmpty()%20%3F%20this%20%3A%20this.isEmpty()%20%3F%20(this.copy(t)%2C%20this)%20%3A%20(!0%20%3D%3D%3D%20this.center.equals(t.center)%20%3F%20this.radius%20%3D%20Math.max(this.radius%2C%20t.radius)%20%3A%20(we.subVectors(t.center%2C%20this.center).setLength(t.radius)%2C%20this.expandByPoint(Se.copy(t.center).add(we))%2C%20this.expandByPoint(Se.copy(t.center).sub(we)))%2C%20this)%20%7D%20equals(t)%20%7B%20return%20t.center.equals(this.center)%20%26%26%20t.radius%20%3D%3D%3D%20this.radius%20%7D%20clone()%20%7B%20return%20(new%20this.constructor).copy(this)%20%7D%20%7D%20const%20Ae%20%3D%20new%20re%2C%20Ee%20%3D%20new%20re%2C%20Ce%20%3D%20new%20re%2C%20Le%20%3D%20new%20re%2C%20Re%20%3D%20new%20re%2C%20Pe%20%3D%20new%20re%2C%20Ie%20%3D%20new%20re%3B%20class%20De%20%7B%20constructor(t%20%3D%20new%20re%2C%20e%20%3D%20new%20re(0%2C%200%2C%20-1))%20%7B%20this.origin%20%3D%20t%2C%20this.direction%20%3D%20e%20%7D%20set(t%2C%20e)%20%7B%20return%20this.origin.copy(t)%2C%20this.direction.copy(e)%2C%20this%20%7D%20copy(t)%20%7B%20return%20this.origin.copy(t.origin)%2C%20this.direction.copy(t.direction)%2C%20this%20%7D%20at(t%2C%20e)%20%7B%20return%20e.copy(this.direction).multiplyScalar(t).add(this.origin)%20%7D%20lookAt(t)%20%7B%20return%20this.direction.copy(t).sub(this.origin).normalize()%2C%20this%20%7D%20recast(t)%20%7B%20return%20this.origin.copy(this.at(t%2C%20Ae))%2C%20this%20%7D%20closestPointToPoint(t%2C%20e)%20%7B%20e.subVectors(t%2C%20this.origin)%3B%20const%20i%20%3D%20e.dot(this.direction)%3B%20return%20i%20%3C%200%20%3F%20e.copy(this.origin)%20%3A%20e.copy(this.direction).multiplyScalar(i).add(this.origin)%20%7D%20distanceToPoint(t)%20%7B%20return%20Math.sqrt(this.distanceSqToPoint(t))%20%7D%20distanceSqToPoint(t)%20%7B%20const%20e%20%3D%20Ae.subVectors(t%2C%20this.origin).dot(this.direction)%3B%20return%20e%20%3C%200%20%3F%20this.origin.distanceToSquared(t)%20%3A%20(Ae.copy(this.direction).multiplyScalar(e).add(this.origin)%2C%20Ae.distanceToSquared(t))%20%7D%20distanceSqToSegment(t%2C%20e%2C%20i%2C%20n)%20%7B%20Ee.copy(t).add(e).multiplyScalar(.5)%2C%20Ce.copy(e).sub(t).normalize()%2C%20Le.copy(this.origin).sub(Ee)%3B%20const%20r%20%3D%20.5%20*%20t.distanceTo(e)%2C%20s%20%3D%20-this.direction.dot(Ce)%2C%20a%20%3D%20Le.dot(this.direction)%2C%20o%20%3D%20-Le.dot(Ce)%2C%20l%20%3D%20Le.lengthSq()%2C%20c%20%3D%20Math.abs(1%20-%20s%20*%20s)%3B%20let%20h%2C%20u%2C%20d%2C%20p%3B%20if%20(c%20%3E%200)%20if%20(h%20%3D%20s%20*%20o%20-%20a%2C%20u%20%3D%20s%20*%20a%20-%20o%2C%20p%20%3D%20r%20*%20c%2C%20h%20%3E%3D%200)%20if%20(u%20%3E%3D%20-p)%20if%20(u%20%3C%3D%20p)%20%7B%20const%20t%20%3D%201%20%2F%20c%3B%20h%20*%3D%20t%2C%20u%20*%3D%20t%2C%20d%20%3D%20h%20*%20(h%20%2B%20s%20*%20u%20%2B%202%20*%20a)%20%2B%20u%20*%20(s%20*%20h%20%2B%20u%20%2B%202%20*%20o)%20%2B%20l%20%7D%20else%20u%20%3D%20r%2C%20h%20%3D%20Math.max(0%2C%20-(s%20*%20u%20%2B%20a))%2C%20d%20%3D%20-h%20*%20h%20%2B%20u%20*%20(u%20%2B%202%20*%20o)%20%2B%20l%3B%20else%20u%20%3D%20-r%2C%20h%20%3D%20Math.max(0%2C%20-(s%20*%20u%20%2B%20a))%2C%20d%20%3D%20-h%20*%20h%20%2B%20u%20*%20(u%20%2B%202%20*%20o)%20%2B%20l%3B%20else%20u%20%3C%3D%20-p%20%3F%20(h%20%3D%20Math.max(0%2C%20-(-s%20*%20r%20%2B%20a))%2C%20u%20%3D%20h%20%3E%200%20%3F%20-r%20%3A%20Math.min(Math.max(-r%2C%20-o)%2C%20r)%2C%20d%20%3D%20-h%20*%20h%20%2B%20u%20*%20(u%20%2B%202%20*%20o)%20%2B%20l)%20%3A%20u%20%3C%3D%20p%20%3F%20(h%20%3D%200%2C%20u%20%3D%20Math.min(Math.max(-r%2C%20-o)%2C%20r)%2C%20d%20%3D%20u%20*%20(u%20%2B%202%20*%20o)%20%2B%20l)%20%3A%20(h%20%3D%20Math.max(0%2C%20-(s%20*%20r%20%2B%20a))%2C%20u%20%3D%20h%20%3E%200%20%3F%20r%20%3A%20Math.min(Math.max(-r%2C%20-o)%2C%20r)%2C%20d%20%3D%20-h%20*%20h%20%2B%20u%20*%20(u%20%2B%202%20*%20o)%20%2B%20l)%3B%20else%20u%20%3D%20s%20%3E%200%20%3F%20-r%20%3A%20r%2C%20h%20%3D%20Math.max(0%2C%20-(s%20*%20u%20%2B%20a))%2C%20d%20%3D%20-h%20*%20h%20%2B%20u%20*%20(u%20%2B%202%20*%20o)%20%2B%20l%3B%20return%20i%20%26%26%20i.copy(this.direction).multiplyScalar(h).add(this.origin)%2C%20n%20%26%26%20n.copy(Ce).multiplyScalar(u).add(Ee)%2C%20d%20%7D%20intersectSphere(t%2C%20e)%20%7B%20Ae.subVectors(t.center%2C%20this.origin)%3B%20const%20i%20%3D%20Ae.dot(this.direction)%2C%20n%20%3D%20Ae.dot(Ae)%20-%20i%20*%20i%2C%20r%20%3D%20t.radius%20*%20t.radius%3B%20if%20(n%20%3E%20r)%20return%20null%3B%20const%20s%20%3D%20Math.sqrt(r%20-%20n)%2C%20a%20%3D%20i%20-%20s%2C%20o%20%3D%20i%20%2B%20s%3B%20return%20a%20%3C%200%20%26%26%20o%20%3C%200%20%3F%20null%20%3A%20a%20%3C%200%20%3F%20this.at(o%2C%20e)%20%3A%20this.at(a%2C%20e)%20%7D%20intersectsSphere(t)%20%7B%20return%20this.distanceSqToPoint(t.center)%20%3C%3D%20t.radius%20*%20t.radius%20%7D%20distanceToPlane(t)%20%7B%20const%20e%20%3D%20t.normal.dot(this.direction)%3B%20if%20(0%20%3D%3D%3D%20e)%20return%200%20%3D%3D%3D%20t.distanceToPoint(this.origin)%20%3F%200%20%3A%20null%3B%20const%20i%20%3D%20-(this.origin.dot(t.normal)%20%2B%20t.constant)%20%2F%20e%3B%20return%20i%20%3E%3D%200%20%3F%20i%20%3A%20null%20%7D%20intersectPlane(t%2C%20e)%20%7B%20const%20i%20%3D%20this.distanceToPlane(t)%3B%20return%20null%20%3D%3D%3D%20i%20%3F%20null%20%3A%20this.at(i%2C%20e)%20%7D%20intersectsPlane(t)%20%7B%20const%20e%20%3D%20t.distanceToPoint(this.origin)%3B%20if%20(0%20%3D%3D%3D%20e)%20return%20!0%3B%20return%20t.normal.dot(this.direction)%20*%20e%20%3C%200%20%7D%20intersectBox(t%2C%20e)%20%7B%20let%20i%2C%20n%2C%20r%2C%20s%2C%20a%2C%20o%3B%20const%20l%20%3D%201%20%2F%20this.direction.x%2C%20c%20%3D%201%20%2F%20this.direction.y%2C%20h%20%3D%201%20%2F%20this.direction.z%2C%20u%20%3D%20this.origin%3B%20return%20l%20%3E%3D%200%20%3F%20(i%20%3D%20(t.min.x%20-%20u.x)%20*%20l%2C%20n%20%3D%20(t.max.x%20-%20u.x)%20*%20l)%20%3A%20(i%20%3D%20(t.max.x%20-%20u.x)%20*%20l%2C%20n%20%3D%20(t.min.x%20-%20u.x)%20*%20l)%2C%20c%20%3E%3D%200%20%3F%20(r%20%3D%20(t.min.y%20-%20u.y)%20*%20c%2C%20s%20%3D%20(t.max.y%20-%20u.y)%20*%20c)%20%3A%20(r%20%3D%20(t.max.y%20-%20u.y)%20*%20c%2C%20s%20%3D%20(t.min.y%20-%20u.y)%20*%20c)%2C%20i%20%3E%20s%20%7C%7C%20r%20%3E%20n%20%3F%20null%20%3A%20((r%20%3E%20i%20%7C%7C%20isNaN(i))%20%26%26%20(i%20%3D%20r)%2C%20(s%20%3C%20n%20%7C%7C%20isNaN(n))%20%26%26%20(n%20%3D%20s)%2C%20h%20%3E%3D%200%20%3F%20(a%20%3D%20(t.min.z%20-%20u.z)%20*%20h%2C%20o%20%3D%20(t.max.z%20-%20u.z)%20*%20h)%20%3A%20(a%20%3D%20(t.max.z%20-%20u.z)%20*%20h%2C%20o%20%3D%20(t.min.z%20-%20u.z)%20*%20h)%2C%20i%20%3E%20o%20%7C%7C%20a%20%3E%20n%20%3F%20null%20%3A%20((a%20%3E%20i%20%7C%7C%20i%20!%3D%20i)%20%26%26%20(i%20%3D%20a)%2C%20(o%20%3C%20n%20%7C%7C%20n%20!%3D%20n)%20%26%26%20(n%20%3D%20o)%2C%20n%20%3C%200%20%3F%20null%20%3A%20this.at(i%20%3E%3D%200%20%3F%20i%20%3A%20n%2C%20e)))%20%7D%20intersectsBox(t)%20%7B%20return%20null%20!%3D%3D%20this.intersectBox(t%2C%20Ae)%20%7D%20intersectTriangle(t%2C%20e%2C%20i%2C%20n%2C%20r)%20%7B%20Re.subVectors(e%2C%20t)%2C%20Pe.subVectors(i%2C%20t)%2C%20Ie.crossVectors(Re%2C%20Pe)%3B%20let%20s%2C%20a%20%3D%20this.direction.dot(Ie)%3B%20if%20(a%20%3E%200)%20%7B%20if%20(n)%20return%20null%3B%20s%20%3D%201%20%7D%20else%20%7B%20if%20(!(a%20%3C%200))%20return%20null%3B%20s%20%3D%20-1%2C%20a%20%3D%20-a%20%7D%20Le.subVectors(this.origin%2C%20t)%3B%20const%20o%20%3D%20s%20*%20this.direction.dot(Pe.crossVectors(Le%2C%20Pe))%3B%20if%20(o%20%3C%200)%20return%20null%3B%20const%20l%20%3D%20s%20*%20this.direction.dot(Re.cross(Le))%3B%20if%20(l%20%3C%200)%20return%20null%3B%20if%20(o%20%2B%20l%20%3E%20a)%20return%20null%3B%20const%20c%20%3D%20-s%20*%20Le.dot(Ie)%3B%20return%20c%20%3C%200%20%3F%20null%20%3A%20this.at(c%20%2F%20a%2C%20r)%20%7D%20applyMatrix4(t)%20%7B%20return%20this.origin.applyMatrix4(t)%2C%20this.direction.transformDirection(t)%2C%20this%20%7D%20equals(t)%20%7B%20return%20t.origin.equals(this.origin)%20%26%26%20t.direction.equals(this.direction)%20%7D%20clone()%20%7B%20return%20(new%20this.constructor).copy(this)%20%7D%20%7D%20class%20Ne%20%7B%20constructor()%20%7B%20Ne.prototype.isMatrix4%20%3D%20!0%2C%20this.elements%20%3D%20%5B1%2C%200%2C%200%2C%200%2C%200%2C%201%2C%200%2C%200%2C%200%2C%200%2C%201%2C%200%2C%200%2C%200%2C%200%2C%201%5D%20%7D%20set(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%20a%2C%20o%2C%20l%2C%20c%2C%20h%2C%20u%2C%20d%2C%20p%2C%20m%2C%20f)%20%7B%20const%20g%20%3D%20this.elements%3B%20return%20g%5B0%5D%20%3D%20t%2C%20g%5B4%5D%20%3D%20e%2C%20g%5B8%5D%20%3D%20i%2C%20g%5B12%5D%20%3D%20n%2C%20g%5B1%5D%20%3D%20r%2C%20g%5B5%5D%20%3D%20s%2C%20g%5B9%5D%20%3D%20a%2C%20g%5B13%5D%20%3D%20o%2C%20g%5B2%5D%20%3D%20l%2C%20g%5B6%5D%20%3D%20c%2C%20g%5B10%5D%20%3D%20h%2C%20g%5B14%5D%20%3D%20u%2C%20g%5B3%5D%20%3D%20d%2C%20g%5B7%5D%20%3D%20p%2C%20g%5B11%5D%20%3D%20m%2C%20g%5B15%5D%20%3D%20f%2C%20this%20%7D%20identity()%20%7B%20return%20this.set(1%2C%200%2C%200%2C%200%2C%200%2C%201%2C%200%2C%200%2C%200%2C%200%2C%201%2C%200%2C%200%2C%200%2C%200%2C%201)%2C%20this%20%7D%20clone()%20%7B%20return%20(new%20Ne).fromArray(this.elements)%20%7D%20copy(t)%20%7B%20const%20e%20%3D%20this.elements%2C%20i%20%3D%20t.elements%3B%20return%20e%5B0%5D%20%3D%20i%5B0%5D%2C%20e%5B1%5D%20%3D%20i%5B1%5D%2C%20e%5B2%5D%20%3D%20i%5B2%5D%2C%20e%5B3%5D%20%3D%20i%5B3%5D%2C%20e%5B4%5D%20%3D%20i%5B4%5D%2C%20e%5B5%5D%20%3D%20i%5B5%5D%2C%20e%5B6%5D%20%3D%20i%5B6%5D%2C%20e%5B7%5D%20%3D%20i%5B7%5D%2C%20e%5B8%5D%20%3D%20i%5B8%5D%2C%20e%5B9%5D%20%3D%20i%5B9%5D%2C%20e%5B10%5D%20%3D%20i%5B10%5D%2C%20e%5B11%5D%20%3D%20i%5B11%5D%2C%20e%5B12%5D%20%3D%20i%5B12%5D%2C%20e%5B13%5D%20%3D%20i%5B13%5D%2C%20e%5B14%5D%20%3D%20i%5B14%5D%2C%20e%5B15%5D%20%3D%20i%5B15%5D%2C%20this%20%7D%20copyPosition(t)%20%7B%20const%20e%20%3D%20this.elements%2C%20i%20%3D%20t.elements%3B%20return%20e%5B12%5D%20%3D%20i%5B12%5D%2C%20e%5B13%5D%20%3D%20i%5B13%5D%2C%20e%5B14%5D%20%3D%20i%5B14%5D%2C%20this%20%7D%20setFromMatrix3(t)%20%7B%20const%20e%20%3D%20t.elements%3B%20return%20this.set(e%5B0%5D%2C%20e%5B3%5D%2C%20e%5B6%5D%2C%200%2C%20e%5B1%5D%2C%20e%5B4%5D%2C%20e%5B7%5D%2C%200%2C%20e%5B2%5D%2C%20e%5B5%5D%2C%20e%5B8%5D%2C%200%2C%200%2C%200%2C%200%2C%201)%2C%20this%20%7D%20extractBasis(t%2C%20e%2C%20i)%20%7B%20return%20t.setFromMatrixColumn(this%2C%200)%2C%20e.setFromMatrixColumn(this%2C%201)%2C%20i.setFromMatrixColumn(this%2C%202)%2C%20this%20%7D%20makeBasis(t%2C%20e%2C%20i)%20%7B%20return%20this.set(t.x%2C%20e.x%2C%20i.x%2C%200%2C%20t.y%2C%20e.y%2C%20i.y%2C%200%2C%20t.z%2C%20e.z%2C%20i.z%2C%200%2C%200%2C%200%2C%200%2C%201)%2C%20this%20%7D%20extractRotation(t)%20%7B%20const%20e%20%3D%20this.elements%2C%20i%20%3D%20t.elements%2C%20n%20%3D%201%20%2F%20Oe.setFromMatrixColumn(t%2C%200).length()%2C%20r%20%3D%201%20%2F%20Oe.setFromMatrixColumn(t%2C%201).length()%2C%20s%20%3D%201%20%2F%20Oe.setFromMatrixColumn(t%2C%202).length()%3B%20return%20e%5B0%5D%20%3D%20i%5B0%5D%20*%20n%2C%20e%5B1%5D%20%3D%20i%5B1%5D%20*%20n%2C%20e%5B2%5D%20%3D%20i%5B2%5D%20*%20n%2C%20e%5B3%5D%20%3D%200%2C%20e%5B4%5D%20%3D%20i%5B4%5D%20*%20r%2C%20e%5B5%5D%20%3D%20i%5B5%5D%20*%20r%2C%20e%5B6%5D%20%3D%20i%5B6%5D%20*%20r%2C%20e%5B7%5D%20%3D%200%2C%20e%5B8%5D%20%3D%20i%5B8%5D%20*%20s%2C%20e%5B9%5D%20%3D%20i%5B9%5D%20*%20s%2C%20e%5B10%5D%20%3D%20i%5B10%5D%20*%20s%2C%20e%5B11%5D%20%3D%200%2C%20e%5B12%5D%20%3D%200%2C%20e%5B13%5D%20%3D%200%2C%20e%5B14%5D%20%3D%200%2C%20e%5B15%5D%20%3D%201%2C%20this%20%7D%20makeRotationFromEuler(t)%20%7B%20const%20e%20%3D%20this.elements%2C%20i%20%3D%20t.x%2C%20n%20%3D%20t.y%2C%20r%20%3D%20t.z%2C%20s%20%3D%20Math.cos(i)%2C%20a%20%3D%20Math.sin(i)%2C%20o%20%3D%20Math.cos(n)%2C%20l%20%3D%20Math.sin(n)%2C%20c%20%3D%20Math.cos(r)%2C%20h%20%3D%20Math.sin(r)%3B%20if%20(%22XYZ%22%20%3D%3D%3D%20t.order)%20%7B%20const%20t%20%3D%20s%20*%20c%2C%20i%20%3D%20s%20*%20h%2C%20n%20%3D%20a%20*%20c%2C%20r%20%3D%20a%20*%20h%3B%20e%5B0%5D%20%3D%20o%20*%20c%2C%20e%5B4%5D%20%3D%20-o%20*%20h%2C%20e%5B8%5D%20%3D%20l%2C%20e%5B1%5D%20%3D%20i%20%2B%20n%20*%20l%2C%20e%5B5%5D%20%3D%20t%20-%20r%20*%20l%2C%20e%5B9%5D%20%3D%20-a%20*%20o%2C%20e%5B2%5D%20%3D%20r%20-%20t%20*%20l%2C%20e%5B6%5D%20%3D%20n%20%2B%20i%20*%20l%2C%20e%5B10%5D%20%3D%20s%20*%20o%20%7D%20else%20if%20(%22YXZ%22%20%3D%3D%3D%20t.order)%20%7B%20const%20t%20%3D%20o%20*%20c%2C%20i%20%3D%20o%20*%20h%2C%20n%20%3D%20l%20*%20c%2C%20r%20%3D%20l%20*%20h%3B%20e%5B0%5D%20%3D%20t%20%2B%20r%20*%20a%2C%20e%5B4%5D%20%3D%20n%20*%20a%20-%20i%2C%20e%5B8%5D%20%3D%20s%20*%20l%2C%20e%5B1%5D%20%3D%20s%20*%20h%2C%20e%5B5%5D%20%3D%20s%20*%20c%2C%20e%5B9%5D%20%3D%20-a%2C%20e%5B2%5D%20%3D%20i%20*%20a%20-%20n%2C%20e%5B6%5D%20%3D%20r%20%2B%20t%20*%20a%2C%20e%5B10%5D%20%3D%20s%20*%20o%20%7D%20else%20if%20(%22ZXY%22%20%3D%3D%3D%20t.order)%20%7B%20const%20t%20%3D%20o%20*%20c%2C%20i%20%3D%20o%20*%20h%2C%20n%20%3D%20l%20*%20c%2C%20r%20%3D%20l%20*%20h%3B%20e%5B0%5D%20%3D%20t%20-%20r%20*%20a%2C%20e%5B4%5D%20%3D%20-s%20*%20h%2C%20e%5B8%5D%20%3D%20n%20%2B%20i%20*%20a%2C%20e%5B1%5D%20%3D%20i%20%2B%20n%20*%20a%2C%20e%5B5%5D%20%3D%20s%20*%20c%2C%20e%5B9%5D%20%3D%20r%20-%20t%20*%20a%2C%20e%5B2%5D%20%3D%20-s%20*%20l%2C%20e%5B6%5D%20%3D%20a%2C%20e%5B10%5D%20%3D%20s%20*%20o%20%7D%20else%20if%20(%22ZYX%22%20%3D%3D%3D%20t.order)%20%7B%20const%20t%20%3D%20s%20*%20c%2C%20i%20%3D%20s%20*%20h%2C%20n%20%3D%20a%20*%20c%2C%20r%20%3D%20a%20*%20h%3B%20e%5B0%5D%20%3D%20o%20*%20c%2C%20e%5B4%5D%20%3D%20n%20*%20l%20-%20i%2C%20e%5B8%5D%20%3D%20t%20*%20l%20%2B%20r%2C%20e%5B1%5D%20%3D%20o%20*%20h%2C%20e%5B5%5D%20%3D%20r%20*%20l%20%2B%20t%2C%20e%5B9%5D%20%3D%20i%20*%20l%20-%20n%2C%20e%5B2%5D%20%3D%20-l%2C%20e%5B6%5D%20%3D%20a%20*%20o%2C%20e%5B10%5D%20%3D%20s%20*%20o%20%7D%20else%20if%20(%22YZX%22%20%3D%3D%3D%20t.order)%20%7B%20const%20t%20%3D%20s%20*%20o%2C%20i%20%3D%20s%20*%20l%2C%20n%20%3D%20a%20*%20o%2C%20r%20%3D%20a%20*%20l%3B%20e%5B0%5D%20%3D%20o%20*%20c%2C%20e%5B4%5D%20%3D%20r%20-%20t%20*%20h%2C%20e%5B8%5D%20%3D%20n%20*%20h%20%2B%20i%2C%20e%5B1%5D%20%3D%20h%2C%20e%5B5%5D%20%3D%20s%20*%20c%2C%20e%5B9%5D%20%3D%20-a%20*%20c%2C%20e%5B2%5D%20%3D%20-l%20*%20c%2C%20e%5B6%5D%20%3D%20i%20*%20h%20%2B%20n%2C%20e%5B10%5D%20%3D%20t%20-%20r%20*%20h%20%7D%20else%20if%20(%22XZY%22%20%3D%3D%3D%20t.order)%20%7B%20const%20t%20%3D%20s%20*%20o%2C%20i%20%3D%20s%20*%20l%2C%20n%20%3D%20a%20*%20o%2C%20r%20%3D%20a%20*%20l%3B%20e%5B0%5D%20%3D%20o%20*%20c%2C%20e%5B4%5D%20%3D%20-h%2C%20e%5B8%5D%20%3D%20l%20*%20c%2C%20e%5B1%5D%20%3D%20t%20*%20h%20%2B%20r%2C%20e%5B5%5D%20%3D%20s%20*%20c%2C%20e%5B9%5D%20%3D%20i%20*%20h%20-%20n%2C%20e%5B2%5D%20%3D%20n%20*%20h%20-%20i%2C%20e%5B6%5D%20%3D%20a%20*%20c%2C%20e%5B10%5D%20%3D%20r%20*%20h%20%2B%20t%20%7D%20return%20e%5B3%5D%20%3D%200%2C%20e%5B7%5D%20%3D%200%2C%20e%5B11%5D%20%3D%200%2C%20e%5B12%5D%20%3D%200%2C%20e%5B13%5D%20%3D%200%2C%20e%5B14%5D%20%3D%200%2C%20e%5B15%5D%20%3D%201%2C%20this%20%7D%20makeRotationFromQuaternion(t)%20%7B%20return%20this.compose(Ue%2C%20t%2C%20Be)%20%7D%20lookAt(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20this.elements%3B%20return%20Ge.subVectors(t%2C%20e)%2C%200%20%3D%3D%3D%20Ge.lengthSq()%20%26%26%20(Ge.z%20%3D%201)%2C%20Ge.normalize()%2C%20Fe.crossVectors(i%2C%20Ge)%2C%200%20%3D%3D%3D%20Fe.lengthSq()%20%26%26%20(1%20%3D%3D%3D%20Math.abs(i.z)%20%3F%20Ge.x%20%2B%3D%201e-4%20%3A%20Ge.z%20%2B%3D%201e-4%2C%20Ge.normalize()%2C%20Fe.crossVectors(i%2C%20Ge))%2C%20Fe.normalize()%2C%20ke.crossVectors(Ge%2C%20Fe)%2C%20n%5B0%5D%20%3D%20Fe.x%2C%20n%5B4%5D%20%3D%20ke.x%2C%20n%5B8%5D%20%3D%20Ge.x%2C%20n%5B1%5D%20%3D%20Fe.y%2C%20n%5B5%5D%20%3D%20ke.y%2C%20n%5B9%5D%20%3D%20Ge.y%2C%20n%5B2%5D%20%3D%20Fe.z%2C%20n%5B6%5D%20%3D%20ke.z%2C%20n%5B10%5D%20%3D%20Ge.z%2C%20this%20%7D%20multiply(t)%20%7B%20return%20this.multiplyMatrices(this%2C%20t)%20%7D%20premultiply(t)%20%7B%20return%20this.multiplyMatrices(t%2C%20this)%20%7D%20multiplyMatrices(t%2C%20e)%20%7B%20const%20i%20%3D%20t.elements%2C%20n%20%3D%20e.elements%2C%20r%20%3D%20this.elements%2C%20s%20%3D%20i%5B0%5D%2C%20a%20%3D%20i%5B4%5D%2C%20o%20%3D%20i%5B8%5D%2C%20l%20%3D%20i%5B12%5D%2C%20c%20%3D%20i%5B1%5D%2C%20h%20%3D%20i%5B5%5D%2C%20u%20%3D%20i%5B9%5D%2C%20d%20%3D%20i%5B13%5D%2C%20p%20%3D%20i%5B2%5D%2C%20m%20%3D%20i%5B6%5D%2C%20f%20%3D%20i%5B10%5D%2C%20g%20%3D%20i%5B14%5D%2C%20v%20%3D%20i%5B3%5D%2C%20x%20%3D%20i%5B7%5D%2C%20_%20%3D%20i%5B11%5D%2C%20y%20%3D%20i%5B15%5D%2C%20M%20%3D%20n%5B0%5D%2C%20b%20%3D%20n%5B4%5D%2C%20S%20%3D%20n%5B8%5D%2C%20w%20%3D%20n%5B12%5D%2C%20T%20%3D%20n%5B1%5D%2C%20A%20%3D%20n%5B5%5D%2C%20E%20%3D%20n%5B9%5D%2C%20C%20%3D%20n%5B13%5D%2C%20L%20%3D%20n%5B2%5D%2C%20R%20%3D%20n%5B6%5D%2C%20P%20%3D%20n%5B10%5D%2C%20I%20%3D%20n%5B14%5D%2C%20D%20%3D%20n%5B3%5D%2C%20N%20%3D%20n%5B7%5D%2C%20O%20%3D%20n%5B11%5D%2C%20z%20%3D%20n%5B15%5D%3B%20return%20r%5B0%5D%20%3D%20s%20*%20M%20%2B%20a%20*%20T%20%2B%20o%20*%20L%20%2B%20l%20*%20D%2C%20r%5B4%5D%20%3D%20s%20*%20b%20%2B%20a%20*%20A%20%2B%20o%20*%20R%20%2B%20l%20*%20N%2C%20r%5B8%5D%20%3D%20s%20*%20S%20%2B%20a%20*%20E%20%2B%20o%20*%20P%20%2B%20l%20*%20O%2C%20r%5B12%5D%20%3D%20s%20*%20w%20%2B%20a%20*%20C%20%2B%20o%20*%20I%20%2B%20l%20*%20z%2C%20r%5B1%5D%20%3D%20c%20*%20M%20%2B%20h%20*%20T%20%2B%20u%20*%20L%20%2B%20d%20*%20D%2C%20r%5B5%5D%20%3D%20c%20*%20b%20%2B%20h%20*%20A%20%2B%20u%20*%20R%20%2B%20d%20*%20N%2C%20r%5B9%5D%20%3D%20c%20*%20S%20%2B%20h%20*%20E%20%2B%20u%20*%20P%20%2B%20d%20*%20O%2C%20r%5B13%5D%20%3D%20c%20*%20w%20%2B%20h%20*%20C%20%2B%20u%20*%20I%20%2B%20d%20*%20z%2C%20r%5B2%5D%20%3D%20p%20*%20M%20%2B%20m%20*%20T%20%2B%20f%20*%20L%20%2B%20g%20*%20D%2C%20r%5B6%5D%20%3D%20p%20*%20b%20%2B%20m%20*%20A%20%2B%20f%20*%20R%20%2B%20g%20*%20N%2C%20r%5B10%5D%20%3D%20p%20*%20S%20%2B%20m%20*%20E%20%2B%20f%20*%20P%20%2B%20g%20*%20O%2C%20r%5B14%5D%20%3D%20p%20*%20w%20%2B%20m%20*%20C%20%2B%20f%20*%20I%20%2B%20g%20*%20z%2C%20r%5B3%5D%20%3D%20v%20*%20M%20%2B%20x%20*%20T%20%2B%20_%20*%20L%20%2B%20y%20*%20D%2C%20r%5B7%5D%20%3D%20v%20*%20b%20%2B%20x%20*%20A%20%2B%20_%20*%20R%20%2B%20y%20*%20N%2C%20r%5B11%5D%20%3D%20v%20*%20S%20%2B%20x%20*%20E%20%2B%20_%20*%20P%20%2B%20y%20*%20O%2C%20r%5B15%5D%20%3D%20v%20*%20w%20%2B%20x%20*%20C%20%2B%20_%20*%20I%20%2B%20y%20*%20z%2C%20this%20%7D%20multiplyScalar(t)%20%7B%20const%20e%20%3D%20this.elements%3B%20return%20e%5B0%5D%20*%3D%20t%2C%20e%5B4%5D%20*%3D%20t%2C%20e%5B8%5D%20*%3D%20t%2C%20e%5B12%5D%20*%3D%20t%2C%20e%5B1%5D%20*%3D%20t%2C%20e%5B5%5D%20*%3D%20t%2C%20e%5B9%5D%20*%3D%20t%2C%20e%5B13%5D%20*%3D%20t%2C%20e%5B2%5D%20*%3D%20t%2C%20e%5B6%5D%20*%3D%20t%2C%20e%5B10%5D%20*%3D%20t%2C%20e%5B14%5D%20*%3D%20t%2C%20e%5B3%5D%20*%3D%20t%2C%20e%5B7%5D%20*%3D%20t%2C%20e%5B11%5D%20*%3D%20t%2C%20e%5B15%5D%20*%3D%20t%2C%20this%20%7D%20determinant()%20%7B%20const%20t%20%3D%20this.elements%2C%20e%20%3D%20t%5B0%5D%2C%20i%20%3D%20t%5B4%5D%2C%20n%20%3D%20t%5B8%5D%2C%20r%20%3D%20t%5B12%5D%2C%20s%20%3D%20t%5B1%5D%2C%20a%20%3D%20t%5B5%5D%2C%20o%20%3D%20t%5B9%5D%2C%20l%20%3D%20t%5B13%5D%2C%20c%20%3D%20t%5B2%5D%2C%20h%20%3D%20t%5B6%5D%2C%20u%20%3D%20t%5B10%5D%2C%20d%20%3D%20t%5B14%5D%3B%20return%20t%5B3%5D%20*%20(%2Br%20*%20o%20*%20h%20-%20n%20*%20l%20*%20h%20-%20r%20*%20a%20*%20u%20%2B%20i%20*%20l%20*%20u%20%2B%20n%20*%20a%20*%20d%20-%20i%20*%20o%20*%20d)%20%2B%20t%5B7%5D%20*%20(%2Be%20*%20o%20*%20d%20-%20e%20*%20l%20*%20u%20%2B%20r%20*%20s%20*%20u%20-%20n%20*%20s%20*%20d%20%2B%20n%20*%20l%20*%20c%20-%20r%20*%20o%20*%20c)%20%2B%20t%5B11%5D%20*%20(%2Be%20*%20l%20*%20h%20-%20e%20*%20a%20*%20d%20-%20r%20*%20s%20*%20h%20%2B%20i%20*%20s%20*%20d%20%2B%20r%20*%20a%20*%20c%20-%20i%20*%20l%20*%20c)%20%2B%20t%5B15%5D%20*%20(-n%20*%20a%20*%20c%20-%20e%20*%20o%20*%20h%20%2B%20e%20*%20a%20*%20u%20%2B%20n%20*%20s%20*%20h%20-%20i%20*%20s%20*%20u%20%2B%20i%20*%20o%20*%20c)%20%7D%20transpose()%20%7B%20const%20t%20%3D%20this.elements%3B%20let%20e%3B%20return%20e%20%3D%20t%5B1%5D%2C%20t%5B1%5D%20%3D%20t%5B4%5D%2C%20t%5B4%5D%20%3D%20e%2C%20e%20%3D%20t%5B2%5D%2C%20t%5B2%5D%20%3D%20t%5B8%5D%2C%20t%5B8%5D%20%3D%20e%2C%20e%20%3D%20t%5B6%5D%2C%20t%5B6%5D%20%3D%20t%5B9%5D%2C%20t%5B9%5D%20%3D%20e%2C%20e%20%3D%20t%5B3%5D%2C%20t%5B3%5D%20%3D%20t%5B12%5D%2C%20t%5B12%5D%20%3D%20e%2C%20e%20%3D%20t%5B7%5D%2C%20t%5B7%5D%20%3D%20t%5B13%5D%2C%20t%5B13%5D%20%3D%20e%2C%20e%20%3D%20t%5B11%5D%2C%20t%5B11%5D%20%3D%20t%5B14%5D%2C%20t%5B14%5D%20%3D%20e%2C%20this%20%7D%20setPosition(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20this.elements%3B%20return%20t.isVector3%20%3F%20(n%5B12%5D%20%3D%20t.x%2C%20n%5B13%5D%20%3D%20t.y%2C%20n%5B14%5D%20%3D%20t.z)%20%3A%20(n%5B12%5D%20%3D%20t%2C%20n%5B13%5D%20%3D%20e%2C%20n%5B14%5D%20%3D%20i)%2C%20this%20%7D%20invert()%20%7B%20const%20t%20%3D%20this.elements%2C%20e%20%3D%20t%5B0%5D%2C%20i%20%3D%20t%5B1%5D%2C%20n%20%3D%20t%5B2%5D%2C%20r%20%3D%20t%5B3%5D%2C%20s%20%3D%20t%5B4%5D%2C%20a%20%3D%20t%5B5%5D%2C%20o%20%3D%20t%5B6%5D%2C%20l%20%3D%20t%5B7%5D%2C%20c%20%3D%20t%5B8%5D%2C%20h%20%3D%20t%5B9%5D%2C%20u%20%3D%20t%5B10%5D%2C%20d%20%3D%20t%5B11%5D%2C%20p%20%3D%20t%5B12%5D%2C%20m%20%3D%20t%5B13%5D%2C%20f%20%3D%20t%5B14%5D%2C%20g%20%3D%20t%5B15%5D%2C%20v%20%3D%20h%20*%20f%20*%20l%20-%20m%20*%20u%20*%20l%20%2B%20m%20*%20o%20*%20d%20-%20a%20*%20f%20*%20d%20-%20h%20*%20o%20*%20g%20%2B%20a%20*%20u%20*%20g%2C%20x%20%3D%20p%20*%20u%20*%20l%20-%20c%20*%20f%20*%20l%20-%20p%20*%20o%20*%20d%20%2B%20s%20*%20f%20*%20d%20%2B%20c%20*%20o%20*%20g%20-%20s%20*%20u%20*%20g%2C%20_%20%3D%20c%20*%20m%20*%20l%20-%20p%20*%20h%20*%20l%20%2B%20p%20*%20a%20*%20d%20-%20s%20*%20m%20*%20d%20-%20c%20*%20a%20*%20g%20%2B%20s%20*%20h%20*%20g%2C%20y%20%3D%20p%20*%20h%20*%20o%20-%20c%20*%20m%20*%20o%20-%20p%20*%20a%20*%20u%20%2B%20s%20*%20m%20*%20u%20%2B%20c%20*%20a%20*%20f%20-%20s%20*%20h%20*%20f%2C%20M%20%3D%20e%20*%20v%20%2B%20i%20*%20x%20%2B%20n%20*%20_%20%2B%20r%20*%20y%3B%20if%20(0%20%3D%3D%3D%20M)%20return%20this.set(0%2C%200%2C%200%2C%200%2C%200%2C%200%2C%200%2C%200%2C%200%2C%200%2C%200%2C%200%2C%200%2C%200%2C%200%2C%200)%3B%20const%20b%20%3D%201%20%2F%20M%3B%20return%20t%5B0%5D%20%3D%20v%20*%20b%2C%20t%5B1%5D%20%3D%20(m%20*%20u%20*%20r%20-%20h%20*%20f%20*%20r%20-%20m%20*%20n%20*%20d%20%2B%20i%20*%20f%20*%20d%20%2B%20h%20*%20n%20*%20g%20-%20i%20*%20u%20*%20g)%20*%20b%2C%20t%5B2%5D%20%3D%20(a%20*%20f%20*%20r%20-%20m%20*%20o%20*%20r%20%2B%20m%20*%20n%20*%20l%20-%20i%20*%20f%20*%20l%20-%20a%20*%20n%20*%20g%20%2B%20i%20*%20o%20*%20g)%20*%20b%2C%20t%5B3%5D%20%3D%20(h%20*%20o%20*%20r%20-%20a%20*%20u%20*%20r%20-%20h%20*%20n%20*%20l%20%2B%20i%20*%20u%20*%20l%20%2B%20a%20*%20n%20*%20d%20-%20i%20*%20o%20*%20d)%20*%20b%2C%20t%5B4%5D%20%3D%20x%20*%20b%2C%20t%5B5%5D%20%3D%20(c%20*%20f%20*%20r%20-%20p%20*%20u%20*%20r%20%2B%20p%20*%20n%20*%20d%20-%20e%20*%20f%20*%20d%20-%20c%20*%20n%20*%20g%20%2B%20e%20*%20u%20*%20g)%20*%20b%2C%20t%5B6%5D%20%3D%20(p%20*%20o%20*%20r%20-%20s%20*%20f%20*%20r%20-%20p%20*%20n%20*%20l%20%2B%20e%20*%20f%20*%20l%20%2B%20s%20*%20n%20*%20g%20-%20e%20*%20o%20*%20g)%20*%20b%2C%20t%5B7%5D%20%3D%20(s%20*%20u%20*%20r%20-%20c%20*%20o%20*%20r%20%2B%20c%20*%20n%20*%20l%20-%20e%20*%20u%20*%20l%20-%20s%20*%20n%20*%20d%20%2B%20e%20*%20o%20*%20d)%20*%20b%2C%20t%5B8%5D%20%3D%20_%20*%20b%2C%20t%5B9%5D%20%3D%20(p%20*%20h%20*%20r%20-%20c%20*%20m%20*%20r%20-%20p%20*%20i%20*%20d%20%2B%20e%20*%20m%20*%20d%20%2B%20c%20*%20i%20*%20g%20-%20e%20*%20h%20*%20g)%20*%20b%2C%20t%5B10%5D%20%3D%20(s%20*%20m%20*%20r%20-%20p%20*%20a%20*%20r%20%2B%20p%20*%20i%20*%20l%20-%20e%20*%20m%20*%20l%20-%20s%20*%20i%20*%20g%20%2B%20e%20*%20a%20*%20g)%20*%20b%2C%20t%5B11%5D%20%3D%20(c%20*%20a%20*%20r%20-%20s%20*%20h%20*%20r%20-%20c%20*%20i%20*%20l%20%2B%20e%20*%20h%20*%20l%20%2B%20s%20*%20i%20*%20d%20-%20e%20*%20a%20*%20d)%20*%20b%2C%20t%5B12%5D%20%3D%20y%20*%20b%2C%20t%5B13%5D%20%3D%20(c%20*%20m%20*%20n%20-%20p%20*%20h%20*%20n%20%2B%20p%20*%20i%20*%20u%20-%20e%20*%20m%20*%20u%20-%20c%20*%20i%20*%20f%20%2B%20e%20*%20h%20*%20f)%20*%20b%2C%20t%5B14%5D%20%3D%20(p%20*%20a%20*%20n%20-%20s%20*%20m%20*%20n%20-%20p%20*%20i%20*%20o%20%2B%20e%20*%20m%20*%20o%20%2B%20s%20*%20i%20*%20f%20-%20e%20*%20a%20*%20f)%20*%20b%2C%20t%5B15%5D%20%3D%20(s%20*%20h%20*%20n%20-%20c%20*%20a%20*%20n%20%2B%20c%20*%20i%20*%20o%20-%20e%20*%20h%20*%20o%20-%20s%20*%20i%20*%20u%20%2B%20e%20*%20a%20*%20u)%20*%20b%2C%20this%20%7D%20scale(t)%20%7B%20const%20e%20%3D%20this.elements%2C%20i%20%3D%20t.x%2C%20n%20%3D%20t.y%2C%20r%20%3D%20t.z%3B%20return%20e%5B0%5D%20*%3D%20i%2C%20e%5B4%5D%20*%3D%20n%2C%20e%5B8%5D%20*%3D%20r%2C%20e%5B1%5D%20*%3D%20i%2C%20e%5B5%5D%20*%3D%20n%2C%20e%5B9%5D%20*%3D%20r%2C%20e%5B2%5D%20*%3D%20i%2C%20e%5B6%5D%20*%3D%20n%2C%20e%5B10%5D%20*%3D%20r%2C%20e%5B3%5D%20*%3D%20i%2C%20e%5B7%5D%20*%3D%20n%2C%20e%5B11%5D%20*%3D%20r%2C%20this%20%7D%20getMaxScaleOnAxis()%20%7B%20const%20t%20%3D%20this.elements%2C%20e%20%3D%20t%5B0%5D%20*%20t%5B0%5D%20%2B%20t%5B1%5D%20*%20t%5B1%5D%20%2B%20t%5B2%5D%20*%20t%5B2%5D%2C%20i%20%3D%20t%5B4%5D%20*%20t%5B4%5D%20%2B%20t%5B5%5D%20*%20t%5B5%5D%20%2B%20t%5B6%5D%20*%20t%5B6%5D%2C%20n%20%3D%20t%5B8%5D%20*%20t%5B8%5D%20%2B%20t%5B9%5D%20*%20t%5B9%5D%20%2B%20t%5B10%5D%20*%20t%5B10%5D%3B%20return%20Math.sqrt(Math.max(e%2C%20i%2C%20n))%20%7D%20makeTranslation(t%2C%20e%2C%20i)%20%7B%20return%20this.set(1%2C%200%2C%200%2C%20t%2C%200%2C%201%2C%200%2C%20e%2C%200%2C%200%2C%201%2C%20i%2C%200%2C%200%2C%200%2C%201)%2C%20this%20%7D%20makeRotationX(t)%20%7B%20const%20e%20%3D%20Math.cos(t)%2C%20i%20%3D%20Math.sin(t)%3B%20return%20this.set(1%2C%200%2C%200%2C%200%2C%200%2C%20e%2C%20-i%2C%200%2C%200%2C%20i%2C%20e%2C%200%2C%200%2C%200%2C%200%2C%201)%2C%20this%20%7D%20makeRotationY(t)%20%7B%20const%20e%20%3D%20Math.cos(t)%2C%20i%20%3D%20Math.sin(t)%3B%20return%20this.set(e%2C%200%2C%20i%2C%200%2C%200%2C%201%2C%200%2C%200%2C%20-i%2C%200%2C%20e%2C%200%2C%200%2C%200%2C%200%2C%201)%2C%20this%20%7D%20makeRotationZ(t)%20%7B%20const%20e%20%3D%20Math.cos(t)%2C%20i%20%3D%20Math.sin(t)%3B%20return%20this.set(e%2C%20-i%2C%200%2C%200%2C%20i%2C%20e%2C%200%2C%200%2C%200%2C%200%2C%201%2C%200%2C%200%2C%200%2C%200%2C%201)%2C%20this%20%7D%20makeRotationAxis(t%2C%20e)%20%7B%20const%20i%20%3D%20Math.cos(e)%2C%20n%20%3D%20Math.sin(e)%2C%20r%20%3D%201%20-%20i%2C%20s%20%3D%20t.x%2C%20a%20%3D%20t.y%2C%20o%20%3D%20t.z%2C%20l%20%3D%20r%20*%20s%2C%20c%20%3D%20r%20*%20a%3B%20return%20this.set(l%20*%20s%20%2B%20i%2C%20l%20*%20a%20-%20n%20*%20o%2C%20l%20*%20o%20%2B%20n%20*%20a%2C%200%2C%20l%20*%20a%20%2B%20n%20*%20o%2C%20c%20*%20a%20%2B%20i%2C%20c%20*%20o%20-%20n%20*%20s%2C%200%2C%20l%20*%20o%20-%20n%20*%20a%2C%20c%20*%20o%20%2B%20n%20*%20s%2C%20r%20*%20o%20*%20o%20%2B%20i%2C%200%2C%200%2C%200%2C%200%2C%201)%2C%20this%20%7D%20makeScale(t%2C%20e%2C%20i)%20%7B%20return%20this.set(t%2C%200%2C%200%2C%200%2C%200%2C%20e%2C%200%2C%200%2C%200%2C%200%2C%20i%2C%200%2C%200%2C%200%2C%200%2C%201)%2C%20this%20%7D%20makeShear(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s)%20%7B%20return%20this.set(1%2C%20i%2C%20r%2C%200%2C%20t%2C%201%2C%20s%2C%200%2C%20e%2C%20n%2C%201%2C%200%2C%200%2C%200%2C%200%2C%201)%2C%20this%20%7D%20compose(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20this.elements%2C%20r%20%3D%20e._x%2C%20s%20%3D%20e._y%2C%20a%20%3D%20e._z%2C%20o%20%3D%20e._w%2C%20l%20%3D%20r%20%2B%20r%2C%20c%20%3D%20s%20%2B%20s%2C%20h%20%3D%20a%20%2B%20a%2C%20u%20%3D%20r%20*%20l%2C%20d%20%3D%20r%20*%20c%2C%20p%20%3D%20r%20*%20h%2C%20m%20%3D%20s%20*%20c%2C%20f%20%3D%20s%20*%20h%2C%20g%20%3D%20a%20*%20h%2C%20v%20%3D%20o%20*%20l%2C%20x%20%3D%20o%20*%20c%2C%20_%20%3D%20o%20*%20h%2C%20y%20%3D%20i.x%2C%20M%20%3D%20i.y%2C%20b%20%3D%20i.z%3B%20return%20n%5B0%5D%20%3D%20(1%20-%20(m%20%2B%20g))%20*%20y%2C%20n%5B1%5D%20%3D%20(d%20%2B%20_)%20*%20y%2C%20n%5B2%5D%20%3D%20(p%20-%20x)%20*%20y%2C%20n%5B3%5D%20%3D%200%2C%20n%5B4%5D%20%3D%20(d%20-%20_)%20*%20M%2C%20n%5B5%5D%20%3D%20(1%20-%20(u%20%2B%20g))%20*%20M%2C%20n%5B6%5D%20%3D%20(f%20%2B%20v)%20*%20M%2C%20n%5B7%5D%20%3D%200%2C%20n%5B8%5D%20%3D%20(p%20%2B%20x)%20*%20b%2C%20n%5B9%5D%20%3D%20(f%20-%20v)%20*%20b%2C%20n%5B10%5D%20%3D%20(1%20-%20(u%20%2B%20m))%20*%20b%2C%20n%5B11%5D%20%3D%200%2C%20n%5B12%5D%20%3D%20t.x%2C%20n%5B13%5D%20%3D%20t.y%2C%20n%5B14%5D%20%3D%20t.z%2C%20n%5B15%5D%20%3D%201%2C%20this%20%7D%20decompose(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20this.elements%3B%20let%20r%20%3D%20Oe.set(n%5B0%5D%2C%20n%5B1%5D%2C%20n%5B2%5D).length()%3B%20const%20s%20%3D%20Oe.set(n%5B4%5D%2C%20n%5B5%5D%2C%20n%5B6%5D).length()%2C%20a%20%3D%20Oe.set(n%5B8%5D%2C%20n%5B9%5D%2C%20n%5B10%5D).length()%3B%20this.determinant()%20%3C%200%20%26%26%20(r%20%3D%20-r)%2C%20t.x%20%3D%20n%5B12%5D%2C%20t.y%20%3D%20n%5B13%5D%2C%20t.z%20%3D%20n%5B14%5D%2C%20ze.copy(this)%3B%20const%20o%20%3D%201%20%2F%20r%2C%20l%20%3D%201%20%2F%20s%2C%20c%20%3D%201%20%2F%20a%3B%20return%20ze.elements%5B0%5D%20*%3D%20o%2C%20ze.elements%5B1%5D%20*%3D%20o%2C%20ze.elements%5B2%5D%20*%3D%20o%2C%20ze.elements%5B4%5D%20*%3D%20l%2C%20ze.elements%5B5%5D%20*%3D%20l%2C%20ze.elements%5B6%5D%20*%3D%20l%2C%20ze.elements%5B8%5D%20*%3D%20c%2C%20ze.elements%5B9%5D%20*%3D%20c%2C%20ze.elements%5B10%5D%20*%3D%20c%2C%20e.setFromRotationMatrix(ze)%2C%20i.x%20%3D%20r%2C%20i.y%20%3D%20s%2C%20i.z%20%3D%20a%2C%20this%20%7D%20makePerspective(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s)%20%7B%20const%20a%20%3D%20this.elements%2C%20o%20%3D%202%20*%20r%20%2F%20(e%20-%20t)%2C%20l%20%3D%202%20*%20r%20%2F%20(i%20-%20n)%2C%20c%20%3D%20(e%20%2B%20t)%20%2F%20(e%20-%20t)%2C%20h%20%3D%20(i%20%2B%20n)%20%2F%20(i%20-%20n)%2C%20u%20%3D%20-(s%20%2B%20r)%20%2F%20(s%20-%20r)%2C%20d%20%3D%20-2%20*%20s%20*%20r%20%2F%20(s%20-%20r)%3B%20return%20a%5B0%5D%20%3D%20o%2C%20a%5B4%5D%20%3D%200%2C%20a%5B8%5D%20%3D%20c%2C%20a%5B12%5D%20%3D%200%2C%20a%5B1%5D%20%3D%200%2C%20a%5B5%5D%20%3D%20l%2C%20a%5B9%5D%20%3D%20h%2C%20a%5B13%5D%20%3D%200%2C%20a%5B2%5D%20%3D%200%2C%20a%5B6%5D%20%3D%200%2C%20a%5B10%5D%20%3D%20u%2C%20a%5B14%5D%20%3D%20d%2C%20a%5B3%5D%20%3D%200%2C%20a%5B7%5D%20%3D%200%2C%20a%5B11%5D%20%3D%20-1%2C%20a%5B15%5D%20%3D%200%2C%20this%20%7D%20makeOrthographic(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s)%20%7B%20const%20a%20%3D%20this.elements%2C%20o%20%3D%201%20%2F%20(e%20-%20t)%2C%20l%20%3D%201%20%2F%20(i%20-%20n)%2C%20c%20%3D%201%20%2F%20(s%20-%20r)%2C%20h%20%3D%20(e%20%2B%20t)%20*%20o%2C%20u%20%3D%20(i%20%2B%20n)%20*%20l%2C%20d%20%3D%20(s%20%2B%20r)%20*%20c%3B%20return%20a%5B0%5D%20%3D%202%20*%20o%2C%20a%5B4%5D%20%3D%200%2C%20a%5B8%5D%20%3D%200%2C%20a%5B12%5D%20%3D%20-h%2C%20a%5B1%5D%20%3D%200%2C%20a%5B5%5D%20%3D%202%20*%20l%2C%20a%5B9%5D%20%3D%200%2C%20a%5B13%5D%20%3D%20-u%2C%20a%5B2%5D%20%3D%200%2C%20a%5B6%5D%20%3D%200%2C%20a%5B10%5D%20%3D%20-2%20*%20c%2C%20a%5B14%5D%20%3D%20-d%2C%20a%5B3%5D%20%3D%200%2C%20a%5B7%5D%20%3D%200%2C%20a%5B11%5D%20%3D%200%2C%20a%5B15%5D%20%3D%201%2C%20this%20%7D%20equals(t)%20%7B%20const%20e%20%3D%20this.elements%2C%20i%20%3D%20t.elements%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%2016%3B%20t%2B%2B)if%20(e%5Bt%5D%20!%3D%3D%20i%5Bt%5D)%20return%20!1%3B%20return%20!0%20%7D%20fromArray(t%2C%20e%20%3D%200)%20%7B%20for%20(let%20i%20%3D%200%3B%20i%20%3C%2016%3B%20i%2B%2B)this.elements%5Bi%5D%20%3D%20t%5Bi%20%2B%20e%5D%3B%20return%20this%20%7D%20toArray(t%20%3D%20%5B%5D%2C%20e%20%3D%200)%20%7B%20const%20i%20%3D%20this.elements%3B%20return%20t%5Be%5D%20%3D%20i%5B0%5D%2C%20t%5Be%20%2B%201%5D%20%3D%20i%5B1%5D%2C%20t%5Be%20%2B%202%5D%20%3D%20i%5B2%5D%2C%20t%5Be%20%2B%203%5D%20%3D%20i%5B3%5D%2C%20t%5Be%20%2B%204%5D%20%3D%20i%5B4%5D%2C%20t%5Be%20%2B%205%5D%20%3D%20i%5B5%5D%2C%20t%5Be%20%2B%206%5D%20%3D%20i%5B6%5D%2C%20t%5Be%20%2B%207%5D%20%3D%20i%5B7%5D%2C%20t%5Be%20%2B%208%5D%20%3D%20i%5B8%5D%2C%20t%5Be%20%2B%209%5D%20%3D%20i%5B9%5D%2C%20t%5Be%20%2B%2010%5D%20%3D%20i%5B10%5D%2C%20t%5Be%20%2B%2011%5D%20%3D%20i%5B11%5D%2C%20t%5Be%20%2B%2012%5D%20%3D%20i%5B12%5D%2C%20t%5Be%20%2B%2013%5D%20%3D%20i%5B13%5D%2C%20t%5Be%20%2B%2014%5D%20%3D%20i%5B14%5D%2C%20t%5Be%20%2B%2015%5D%20%3D%20i%5B15%5D%2C%20t%20%7D%20%7D%20const%20Oe%20%3D%20new%20re%2C%20ze%20%3D%20new%20Ne%2C%20Ue%20%3D%20new%20re(0%2C%200%2C%200)%2C%20Be%20%3D%20new%20re(1%2C%201%2C%201)%2C%20Fe%20%3D%20new%20re%2C%20ke%20%3D%20new%20re%2C%20Ge%20%3D%20new%20re%2C%20Ve%20%3D%20new%20Ne%2C%20He%20%3D%20new%20ne%3B%20class%20We%20%7B%20constructor(t%20%3D%200%2C%20e%20%3D%200%2C%20i%20%3D%200%2C%20n%20%3D%20We.DefaultOrder)%20%7B%20this.isEuler%20%3D%20!0%2C%20this._x%20%3D%20t%2C%20this._y%20%3D%20e%2C%20this._z%20%3D%20i%2C%20this._order%20%3D%20n%20%7D%20get%20x()%20%7B%20return%20this._x%20%7D%20set%20x(t)%20%7B%20this._x%20%3D%20t%2C%20this._onChangeCallback()%20%7D%20get%20y()%20%7B%20return%20this._y%20%7D%20set%20y(t)%20%7B%20this._y%20%3D%20t%2C%20this._onChangeCallback()%20%7D%20get%20z()%20%7B%20return%20this._z%20%7D%20set%20z(t)%20%7B%20this._z%20%3D%20t%2C%20this._onChangeCallback()%20%7D%20get%20order()%20%7B%20return%20this._order%20%7D%20set%20order(t)%20%7B%20this._order%20%3D%20t%2C%20this._onChangeCallback()%20%7D%20set(t%2C%20e%2C%20i%2C%20n%20%3D%20this._order)%20%7B%20return%20this._x%20%3D%20t%2C%20this._y%20%3D%20e%2C%20this._z%20%3D%20i%2C%20this._order%20%3D%20n%2C%20this._onChangeCallback()%2C%20this%20%7D%20clone()%20%7B%20return%20new%20this.constructor(this._x%2C%20this._y%2C%20this._z%2C%20this._order)%20%7D%20copy(t)%20%7B%20return%20this._x%20%3D%20t._x%2C%20this._y%20%3D%20t._y%2C%20this._z%20%3D%20t._z%2C%20this._order%20%3D%20t._order%2C%20this._onChangeCallback()%2C%20this%20%7D%20setFromRotationMatrix(t%2C%20e%20%3D%20this._order%2C%20i%20%3D%20!0)%20%7B%20const%20n%20%3D%20t.elements%2C%20r%20%3D%20n%5B0%5D%2C%20s%20%3D%20n%5B4%5D%2C%20a%20%3D%20n%5B8%5D%2C%20o%20%3D%20n%5B1%5D%2C%20l%20%3D%20n%5B5%5D%2C%20c%20%3D%20n%5B9%5D%2C%20h%20%3D%20n%5B2%5D%2C%20u%20%3D%20n%5B6%5D%2C%20d%20%3D%20n%5B10%5D%3B%20switch%20(e)%20%7B%20case%20%22XYZ%22%3A%20this._y%20%3D%20Math.asin(yt(a%2C%20-1%2C%201))%2C%20Math.abs(a)%20%3C%20.9999999%20%3F%20(this._x%20%3D%20Math.atan2(-c%2C%20d)%2C%20this._z%20%3D%20Math.atan2(-s%2C%20r))%20%3A%20(this._x%20%3D%20Math.atan2(u%2C%20l)%2C%20this._z%20%3D%200)%3B%20break%3B%20case%20%22YXZ%22%3A%20this._x%20%3D%20Math.asin(-yt(c%2C%20-1%2C%201))%2C%20Math.abs(c)%20%3C%20.9999999%20%3F%20(this._y%20%3D%20Math.atan2(a%2C%20d)%2C%20this._z%20%3D%20Math.atan2(o%2C%20l))%20%3A%20(this._y%20%3D%20Math.atan2(-h%2C%20r)%2C%20this._z%20%3D%200)%3B%20break%3B%20case%20%22ZXY%22%3A%20this._x%20%3D%20Math.asin(yt(u%2C%20-1%2C%201))%2C%20Math.abs(u)%20%3C%20.9999999%20%3F%20(this._y%20%3D%20Math.atan2(-h%2C%20d)%2C%20this._z%20%3D%20Math.atan2(-s%2C%20l))%20%3A%20(this._y%20%3D%200%2C%20this._z%20%3D%20Math.atan2(o%2C%20r))%3B%20break%3B%20case%20%22ZYX%22%3A%20this._y%20%3D%20Math.asin(-yt(h%2C%20-1%2C%201))%2C%20Math.abs(h)%20%3C%20.9999999%20%3F%20(this._x%20%3D%20Math.atan2(u%2C%20d)%2C%20this._z%20%3D%20Math.atan2(o%2C%20r))%20%3A%20(this._x%20%3D%200%2C%20this._z%20%3D%20Math.atan2(-s%2C%20l))%3B%20break%3B%20case%20%22YZX%22%3A%20this._z%20%3D%20Math.asin(yt(o%2C%20-1%2C%201))%2C%20Math.abs(o)%20%3C%20.9999999%20%3F%20(this._x%20%3D%20Math.atan2(-c%2C%20l)%2C%20this._y%20%3D%20Math.atan2(-h%2C%20r))%20%3A%20(this._x%20%3D%200%2C%20this._y%20%3D%20Math.atan2(a%2C%20d))%3B%20break%3B%20case%20%22XZY%22%3A%20this._z%20%3D%20Math.asin(-yt(s%2C%20-1%2C%201))%2C%20Math.abs(s)%20%3C%20.9999999%20%3F%20(this._x%20%3D%20Math.atan2(u%2C%20l)%2C%20this._y%20%3D%20Math.atan2(a%2C%20r))%20%3A%20(this._x%20%3D%20Math.atan2(-c%2C%20d)%2C%20this._y%20%3D%200)%3B%20break%3B%20default%3A%20console.warn(%22THREE.Euler%3A%20.setFromRotationMatrix()%20encountered%20an%20unknown%20order%3A%20%22%20%2B%20e)%20%7Dreturn%20this._order%20%3D%20e%2C%20!0%20%3D%3D%3D%20i%20%26%26%20this._onChangeCallback()%2C%20this%20%7D%20setFromQuaternion(t%2C%20e%2C%20i)%20%7B%20return%20Ve.makeRotationFromQuaternion(t)%2C%20this.setFromRotationMatrix(Ve%2C%20e%2C%20i)%20%7D%20setFromVector3(t%2C%20e%20%3D%20this._order)%20%7B%20return%20this.set(t.x%2C%20t.y%2C%20t.z%2C%20e)%20%7D%20reorder(t)%20%7B%20return%20He.setFromEuler(this)%2C%20this.setFromQuaternion(He%2C%20t)%20%7D%20equals(t)%20%7B%20return%20t._x%20%3D%3D%3D%20this._x%20%26%26%20t._y%20%3D%3D%3D%20this._y%20%26%26%20t._z%20%3D%3D%3D%20this._z%20%26%26%20t._order%20%3D%3D%3D%20this._order%20%7D%20fromArray(t)%20%7B%20return%20this._x%20%3D%20t%5B0%5D%2C%20this._y%20%3D%20t%5B1%5D%2C%20this._z%20%3D%20t%5B2%5D%2C%20void%200%20!%3D%3D%20t%5B3%5D%20%26%26%20(this._order%20%3D%20t%5B3%5D)%2C%20this._onChangeCallback()%2C%20this%20%7D%20toArray(t%20%3D%20%5B%5D%2C%20e%20%3D%200)%20%7B%20return%20t%5Be%5D%20%3D%20this._x%2C%20t%5Be%20%2B%201%5D%20%3D%20this._y%2C%20t%5Be%20%2B%202%5D%20%3D%20this._z%2C%20t%5Be%20%2B%203%5D%20%3D%20this._order%2C%20t%20%7D%20_onChange(t)%20%7B%20return%20this._onChangeCallback%20%3D%20t%2C%20this%20%7D%20_onChangeCallback()%20%7B%20%7D%20*%5BSymbol.iterator%5D()%20%7B%20yield%20this._x%2C%20yield%20this._y%2C%20yield%20this._z%2C%20yield%20this._order%20%7D%20toVector3()%20%7B%20console.error(%22THREE.Euler%3A%20.toVector3()%20has%20been%20removed.%20Use%20Vector3.setFromEuler()%20instead%22)%20%7D%20%7D%20We.DefaultOrder%20%3D%20%22XYZ%22%2C%20We.RotationOrders%20%3D%20%5B%22XYZ%22%2C%20%22YZX%22%2C%20%22ZXY%22%2C%20%22XZY%22%2C%20%22YXZ%22%2C%20%22ZYX%22%5D%3B%20class%20je%20%7B%20constructor()%20%7B%20this.mask%20%3D%201%20%7D%20set(t)%20%7B%20this.mask%20%3D%20(1%20%3C%3C%20t%20%7C%200)%20%3E%3E%3E%200%20%7D%20enable(t)%20%7B%20this.mask%20%7C%3D%201%20%3C%3C%20t%20%7C%200%20%7D%20enableAll()%20%7B%20this.mask%20%3D%20-1%20%7D%20toggle(t)%20%7B%20this.mask%20%5E%3D%201%20%3C%3C%20t%20%7C%200%20%7D%20disable(t)%20%7B%20this.mask%20%26%3D%20~(1%20%3C%3C%20t%20%7C%200)%20%7D%20disableAll()%20%7B%20this.mask%20%3D%200%20%7D%20test(t)%20%7B%20return%200%20!%3D%20(this.mask%20%26%20t.mask)%20%7D%20isEnabled(t)%20%7B%20return%200%20!%3D%20(this.mask%20%26%20(1%20%3C%3C%20t%20%7C%200))%20%7D%20%7D%20let%20qe%20%3D%200%3B%20const%20Xe%20%3D%20new%20re%2C%20Ye%20%3D%20new%20ne%2C%20Ze%20%3D%20new%20Ne%2C%20Je%20%3D%20new%20re%2C%20Ke%20%3D%20new%20re%2C%20%24e%20%3D%20new%20re%2C%20Qe%20%3D%20new%20ne%2C%20ti%20%3D%20new%20re(1%2C%200%2C%200)%2C%20ei%20%3D%20new%20re(0%2C%201%2C%200)%2C%20ii%20%3D%20new%20re(0%2C%200%2C%201)%2C%20ni%20%3D%20%7B%20type%3A%20%22added%22%20%7D%2C%20ri%20%3D%20%7B%20type%3A%20%22removed%22%20%7D%3B%20class%20si%20extends%20mt%20%7B%20constructor()%20%7B%20super()%2C%20this.isObject3D%20%3D%20!0%2C%20Object.defineProperty(this%2C%20%22id%22%2C%20%7B%20value%3A%20qe%2B%2B%20%7D)%2C%20this.uuid%20%3D%20_t()%2C%20this.name%20%3D%20%22%22%2C%20this.type%20%3D%20%22Object3D%22%2C%20this.parent%20%3D%20null%2C%20this.children%20%3D%20%5B%5D%2C%20this.up%20%3D%20si.DefaultUp.clone()%3B%20const%20t%20%3D%20new%20re%2C%20e%20%3D%20new%20We%2C%20i%20%3D%20new%20ne%2C%20n%20%3D%20new%20re(1%2C%201%2C%201)%3B%20e._onChange((function%20()%20%7B%20i.setFromEuler(e%2C%20!1)%20%7D))%2C%20i._onChange((function%20()%20%7B%20e.setFromQuaternion(i%2C%20void%200%2C%20!1)%20%7D))%2C%20Object.defineProperties(this%2C%20%7B%20position%3A%20%7B%20configurable%3A%20!0%2C%20enumerable%3A%20!0%2C%20value%3A%20t%20%7D%2C%20rotation%3A%20%7B%20configurable%3A%20!0%2C%20enumerable%3A%20!0%2C%20value%3A%20e%20%7D%2C%20quaternion%3A%20%7B%20configurable%3A%20!0%2C%20enumerable%3A%20!0%2C%20value%3A%20i%20%7D%2C%20scale%3A%20%7B%20configurable%3A%20!0%2C%20enumerable%3A%20!0%2C%20value%3A%20n%20%7D%2C%20modelViewMatrix%3A%20%7B%20value%3A%20new%20Ne%20%7D%2C%20normalMatrix%3A%20%7B%20value%3A%20new%20Rt%20%7D%20%7D)%2C%20this.matrix%20%3D%20new%20Ne%2C%20this.matrixWorld%20%3D%20new%20Ne%2C%20this.matrixAutoUpdate%20%3D%20si.DefaultMatrixAutoUpdate%2C%20this.matrixWorldNeedsUpdate%20%3D%20!1%2C%20this.matrixWorldAutoUpdate%20%3D%20si.DefaultMatrixWorldAutoUpdate%2C%20this.layers%20%3D%20new%20je%2C%20this.visible%20%3D%20!0%2C%20this.castShadow%20%3D%20!1%2C%20this.receiveShadow%20%3D%20!1%2C%20this.frustumCulled%20%3D%20!0%2C%20this.renderOrder%20%3D%200%2C%20this.animations%20%3D%20%5B%5D%2C%20this.userData%20%3D%20%7B%7D%20%7D%20onBeforeRender()%20%7B%20%7D%20onAfterRender()%20%7B%20%7D%20applyMatrix4(t)%20%7B%20this.matrixAutoUpdate%20%26%26%20this.updateMatrix()%2C%20this.matrix.premultiply(t)%2C%20this.matrix.decompose(this.position%2C%20this.quaternion%2C%20this.scale)%20%7D%20applyQuaternion(t)%20%7B%20return%20this.quaternion.premultiply(t)%2C%20this%20%7D%20setRotationFromAxisAngle(t%2C%20e)%20%7B%20this.quaternion.setFromAxisAngle(t%2C%20e)%20%7D%20setRotationFromEuler(t)%20%7B%20this.quaternion.setFromEuler(t%2C%20!0)%20%7D%20setRotationFromMatrix(t)%20%7B%20this.quaternion.setFromRotationMatrix(t)%20%7D%20setRotationFromQuaternion(t)%20%7B%20this.quaternion.copy(t)%20%7D%20rotateOnAxis(t%2C%20e)%20%7B%20return%20Ye.setFromAxisAngle(t%2C%20e)%2C%20this.quaternion.multiply(Ye)%2C%20this%20%7D%20rotateOnWorldAxis(t%2C%20e)%20%7B%20return%20Ye.setFromAxisAngle(t%2C%20e)%2C%20this.quaternion.premultiply(Ye)%2C%20this%20%7D%20rotateX(t)%20%7B%20return%20this.rotateOnAxis(ti%2C%20t)%20%7D%20rotateY(t)%20%7B%20return%20this.rotateOnAxis(ei%2C%20t)%20%7D%20rotateZ(t)%20%7B%20return%20this.rotateOnAxis(ii%2C%20t)%20%7D%20translateOnAxis(t%2C%20e)%20%7B%20return%20Xe.copy(t).applyQuaternion(this.quaternion)%2C%20this.position.add(Xe.multiplyScalar(e))%2C%20this%20%7D%20translateX(t)%20%7B%20return%20this.translateOnAxis(ti%2C%20t)%20%7D%20translateY(t)%20%7B%20return%20this.translateOnAxis(ei%2C%20t)%20%7D%20translateZ(t)%20%7B%20return%20this.translateOnAxis(ii%2C%20t)%20%7D%20localToWorld(t)%20%7B%20return%20this.updateWorldMatrix(!0%2C%20!1)%2C%20t.applyMatrix4(this.matrixWorld)%20%7D%20worldToLocal(t)%20%7B%20return%20this.updateWorldMatrix(!0%2C%20!1)%2C%20t.applyMatrix4(Ze.copy(this.matrixWorld).invert())%20%7D%20lookAt(t%2C%20e%2C%20i)%20%7B%20t.isVector3%20%3F%20Je.copy(t)%20%3A%20Je.set(t%2C%20e%2C%20i)%3B%20const%20n%20%3D%20this.parent%3B%20this.updateWorldMatrix(!0%2C%20!1)%2C%20Ke.setFromMatrixPosition(this.matrixWorld)%2C%20this.isCamera%20%7C%7C%20this.isLight%20%3F%20Ze.lookAt(Ke%2C%20Je%2C%20this.up)%20%3A%20Ze.lookAt(Je%2C%20Ke%2C%20this.up)%2C%20this.quaternion.setFromRotationMatrix(Ze)%2C%20n%20%26%26%20(Ze.extractRotation(n.matrixWorld)%2C%20Ye.setFromRotationMatrix(Ze)%2C%20this.quaternion.premultiply(Ye.invert()))%20%7D%20add(t)%20%7B%20if%20(arguments.length%20%3E%201)%20%7B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20arguments.length%3B%20t%2B%2B)this.add(arguments%5Bt%5D)%3B%20return%20this%20%7D%20return%20t%20%3D%3D%3D%20this%20%3F%20(console.error(%22THREE.Object3D.add%3A%20object%20can't%20be%20added%20as%20a%20child%20of%20itself.%22%2C%20t)%2C%20this)%20%3A%20(t%20%26%26%20t.isObject3D%20%3F%20(null%20!%3D%3D%20t.parent%20%26%26%20t.parent.remove(t)%2C%20t.parent%20%3D%20this%2C%20this.children.push(t)%2C%20t.dispatchEvent(ni))%20%3A%20console.error(%22THREE.Object3D.add%3A%20object%20not%20an%20instance%20of%20THREE.Object3D.%22%2C%20t)%2C%20this)%20%7D%20remove(t)%20%7B%20if%20(arguments.length%20%3E%201)%20%7B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20arguments.length%3B%20t%2B%2B)this.remove(arguments%5Bt%5D)%3B%20return%20this%20%7D%20const%20e%20%3D%20this.children.indexOf(t)%3B%20return%20-1%20!%3D%3D%20e%20%26%26%20(t.parent%20%3D%20null%2C%20this.children.splice(e%2C%201)%2C%20t.dispatchEvent(ri))%2C%20this%20%7D%20removeFromParent()%20%7B%20const%20t%20%3D%20this.parent%3B%20return%20null%20!%3D%3D%20t%20%26%26%20t.remove(this)%2C%20this%20%7D%20clear()%20%7B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20this.children.length%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20this.children%5Bt%5D%3B%20e.parent%20%3D%20null%2C%20e.dispatchEvent(ri)%20%7D%20return%20this.children.length%20%3D%200%2C%20this%20%7D%20attach(t)%20%7B%20return%20this.updateWorldMatrix(!0%2C%20!1)%2C%20Ze.copy(this.matrixWorld).invert()%2C%20null%20!%3D%3D%20t.parent%20%26%26%20(t.parent.updateWorldMatrix(!0%2C%20!1)%2C%20Ze.multiply(t.parent.matrixWorld))%2C%20t.applyMatrix4(Ze)%2C%20this.add(t)%2C%20t.updateWorldMatrix(!1%2C%20!0)%2C%20this%20%7D%20getObjectById(t)%20%7B%20return%20this.getObjectByProperty(%22id%22%2C%20t)%20%7D%20getObjectByName(t)%20%7B%20return%20this.getObjectByProperty(%22name%22%2C%20t)%20%7D%20getObjectByProperty(t%2C%20e)%20%7B%20if%20(this%5Bt%5D%20%3D%3D%3D%20e)%20return%20this%3B%20for%20(let%20i%20%3D%200%2C%20n%20%3D%20this.children.length%3B%20i%20%3C%20n%3B%20i%2B%2B)%20%7B%20const%20n%20%3D%20this.children%5Bi%5D.getObjectByProperty(t%2C%20e)%3B%20if%20(void%200%20!%3D%3D%20n)%20return%20n%20%7D%20%7D%20getObjectsByProperty(t%2C%20e)%20%7B%20let%20i%20%3D%20%5B%5D%3B%20this%5Bt%5D%20%3D%3D%3D%20e%20%26%26%20i.push(this)%3B%20for%20(let%20n%20%3D%200%2C%20r%20%3D%20this.children.length%3B%20n%20%3C%20r%3B%20n%2B%2B)%20%7B%20const%20r%20%3D%20this.children%5Bn%5D.getObjectsByProperty(t%2C%20e)%3B%20r.length%20%3E%200%20%26%26%20(i%20%3D%20i.concat(r))%20%7D%20return%20i%20%7D%20getWorldPosition(t)%20%7B%20return%20this.updateWorldMatrix(!0%2C%20!1)%2C%20t.setFromMatrixPosition(this.matrixWorld)%20%7D%20getWorldQuaternion(t)%20%7B%20return%20this.updateWorldMatrix(!0%2C%20!1)%2C%20this.matrixWorld.decompose(Ke%2C%20t%2C%20%24e)%2C%20t%20%7D%20getWorldScale(t)%20%7B%20return%20this.updateWorldMatrix(!0%2C%20!1)%2C%20this.matrixWorld.decompose(Ke%2C%20Qe%2C%20t)%2C%20t%20%7D%20getWorldDirection(t)%20%7B%20this.updateWorldMatrix(!0%2C%20!1)%3B%20const%20e%20%3D%20this.matrixWorld.elements%3B%20return%20t.set(e%5B8%5D%2C%20e%5B9%5D%2C%20e%5B10%5D).normalize()%20%7D%20raycast()%20%7B%20%7D%20traverse(t)%20%7B%20t(this)%3B%20const%20e%20%3D%20this.children%3B%20for%20(let%20i%20%3D%200%2C%20n%20%3D%20e.length%3B%20i%20%3C%20n%3B%20i%2B%2B)e%5Bi%5D.traverse(t)%20%7D%20traverseVisible(t)%20%7B%20if%20(!1%20%3D%3D%3D%20this.visible)%20return%3B%20t(this)%3B%20const%20e%20%3D%20this.children%3B%20for%20(let%20i%20%3D%200%2C%20n%20%3D%20e.length%3B%20i%20%3C%20n%3B%20i%2B%2B)e%5Bi%5D.traverseVisible(t)%20%7D%20traverseAncestors(t)%20%7B%20const%20e%20%3D%20this.parent%3B%20null%20!%3D%3D%20e%20%26%26%20(t(e)%2C%20e.traverseAncestors(t))%20%7D%20updateMatrix()%20%7B%20this.matrix.compose(this.position%2C%20this.quaternion%2C%20this.scale)%2C%20this.matrixWorldNeedsUpdate%20%3D%20!0%20%7D%20updateMatrixWorld(t)%20%7B%20this.matrixAutoUpdate%20%26%26%20this.updateMatrix()%2C%20(this.matrixWorldNeedsUpdate%20%7C%7C%20t)%20%26%26%20(null%20%3D%3D%3D%20this.parent%20%3F%20this.matrixWorld.copy(this.matrix)%20%3A%20this.matrixWorld.multiplyMatrices(this.parent.matrixWorld%2C%20this.matrix)%2C%20this.matrixWorldNeedsUpdate%20%3D%20!1%2C%20t%20%3D%20!0)%3B%20const%20e%20%3D%20this.children%3B%20for%20(let%20i%20%3D%200%2C%20n%20%3D%20e.length%3B%20i%20%3C%20n%3B%20i%2B%2B)%20%7B%20const%20n%20%3D%20e%5Bi%5D%3B%20!0%20!%3D%3D%20n.matrixWorldAutoUpdate%20%26%26%20!0%20!%3D%3D%20t%20%7C%7C%20n.updateMatrixWorld(t)%20%7D%20%7D%20updateWorldMatrix(t%2C%20e)%20%7B%20const%20i%20%3D%20this.parent%3B%20if%20(!0%20%3D%3D%3D%20t%20%26%26%20null%20!%3D%3D%20i%20%26%26%20!0%20%3D%3D%3D%20i.matrixWorldAutoUpdate%20%26%26%20i.updateWorldMatrix(!0%2C%20!1)%2C%20this.matrixAutoUpdate%20%26%26%20this.updateMatrix()%2C%20null%20%3D%3D%3D%20this.parent%20%3F%20this.matrixWorld.copy(this.matrix)%20%3A%20this.matrixWorld.multiplyMatrices(this.parent.matrixWorld%2C%20this.matrix)%2C%20!0%20%3D%3D%3D%20e)%20%7B%20const%20t%20%3D%20this.children%3B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20t.length%3B%20e%20%3C%20i%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20t%5Be%5D%3B%20!0%20%3D%3D%3D%20i.matrixWorldAutoUpdate%20%26%26%20i.updateWorldMatrix(!1%2C%20!0)%20%7D%20%7D%20%7D%20toJSON(t)%20%7B%20const%20e%20%3D%20void%200%20%3D%3D%3D%20t%20%7C%7C%20%22string%22%20%3D%3D%20typeof%20t%2C%20i%20%3D%20%7B%7D%3B%20e%20%26%26%20(t%20%3D%20%7B%20geometries%3A%20%7B%7D%2C%20materials%3A%20%7B%7D%2C%20textures%3A%20%7B%7D%2C%20images%3A%20%7B%7D%2C%20shapes%3A%20%7B%7D%2C%20skeletons%3A%20%7B%7D%2C%20animations%3A%20%7B%7D%2C%20nodes%3A%20%7B%7D%20%7D%2C%20i.metadata%20%3D%20%7B%20version%3A%204.5%2C%20type%3A%20%22Object%22%2C%20generator%3A%20%22Object3D.toJSON%22%20%7D)%3B%20const%20n%20%3D%20%7B%7D%3B%20function%20r(e%2C%20i)%20%7B%20return%20void%200%20%3D%3D%3D%20e%5Bi.uuid%5D%20%26%26%20(e%5Bi.uuid%5D%20%3D%20i.toJSON(t))%2C%20i.uuid%20%7D%20if%20(n.uuid%20%3D%20this.uuid%2C%20n.type%20%3D%20this.type%2C%20%22%22%20!%3D%3D%20this.name%20%26%26%20(n.name%20%3D%20this.name)%2C%20!0%20%3D%3D%3D%20this.castShadow%20%26%26%20(n.castShadow%20%3D%20!0)%2C%20!0%20%3D%3D%3D%20this.receiveShadow%20%26%26%20(n.receiveShadow%20%3D%20!0)%2C%20!1%20%3D%3D%3D%20this.visible%20%26%26%20(n.visible%20%3D%20!1)%2C%20!1%20%3D%3D%3D%20this.frustumCulled%20%26%26%20(n.frustumCulled%20%3D%20!1)%2C%200%20!%3D%3D%20this.renderOrder%20%26%26%20(n.renderOrder%20%3D%20this.renderOrder)%2C%20Object.keys(this.userData).length%20%3E%200%20%26%26%20(n.userData%20%3D%20this.userData)%2C%20n.layers%20%3D%20this.layers.mask%2C%20n.matrix%20%3D%20this.matrix.toArray()%2C%20!1%20%3D%3D%3D%20this.matrixAutoUpdate%20%26%26%20(n.matrixAutoUpdate%20%3D%20!1)%2C%20this.isInstancedMesh%20%26%26%20(n.type%20%3D%20%22InstancedMesh%22%2C%20n.count%20%3D%20this.count%2C%20n.instanceMatrix%20%3D%20this.instanceMatrix.toJSON()%2C%20null%20!%3D%3D%20this.instanceColor%20%26%26%20(n.instanceColor%20%3D%20this.instanceColor.toJSON()))%2C%20this.isScene)%20this.background%20%26%26%20(this.background.isColor%20%3F%20n.background%20%3D%20this.background.toJSON()%20%3A%20this.background.isTexture%20%26%26%20(n.background%20%3D%20this.background.toJSON(t).uuid))%2C%20this.environment%20%26%26%20this.environment.isTexture%20%26%26%20!0%20!%3D%3D%20this.environment.isRenderTargetTexture%20%26%26%20(n.environment%20%3D%20this.environment.toJSON(t).uuid)%3B%20else%20if%20(this.isMesh%20%7C%7C%20this.isLine%20%7C%7C%20this.isPoints)%20%7B%20n.geometry%20%3D%20r(t.geometries%2C%20this.geometry)%3B%20const%20e%20%3D%20this.geometry.parameters%3B%20if%20(void%200%20!%3D%3D%20e%20%26%26%20void%200%20!%3D%3D%20e.shapes)%20%7B%20const%20i%20%3D%20e.shapes%3B%20if%20(Array.isArray(i))%20for%20(let%20e%20%3D%200%2C%20n%20%3D%20i.length%3B%20e%20%3C%20n%3B%20e%2B%2B)%20%7B%20const%20n%20%3D%20i%5Be%5D%3B%20r(t.shapes%2C%20n)%20%7D%20else%20r(t.shapes%2C%20i)%20%7D%20%7D%20if%20(this.isSkinnedMesh%20%26%26%20(n.bindMode%20%3D%20this.bindMode%2C%20n.bindMatrix%20%3D%20this.bindMatrix.toArray()%2C%20void%200%20!%3D%3D%20this.skeleton%20%26%26%20(r(t.skeletons%2C%20this.skeleton)%2C%20n.skeleton%20%3D%20this.skeleton.uuid))%2C%20void%200%20!%3D%3D%20this.material)%20if%20(Array.isArray(this.material))%20%7B%20const%20e%20%3D%20%5B%5D%3B%20for%20(let%20i%20%3D%200%2C%20n%20%3D%20this.material.length%3B%20i%20%3C%20n%3B%20i%2B%2B)e.push(r(t.materials%2C%20this.material%5Bi%5D))%3B%20n.material%20%3D%20e%20%7D%20else%20n.material%20%3D%20r(t.materials%2C%20this.material)%3B%20if%20(this.children.length%20%3E%200)%20%7B%20n.children%20%3D%20%5B%5D%3B%20for%20(let%20e%20%3D%200%3B%20e%20%3C%20this.children.length%3B%20e%2B%2B)n.children.push(this.children%5Be%5D.toJSON(t).object)%20%7D%20if%20(this.animations.length%20%3E%200)%20%7B%20n.animations%20%3D%20%5B%5D%3B%20for%20(let%20e%20%3D%200%3B%20e%20%3C%20this.animations.length%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20this.animations%5Be%5D%3B%20n.animations.push(r(t.animations%2C%20i))%20%7D%20%7D%20if%20(e)%20%7B%20const%20e%20%3D%20s(t.geometries)%2C%20n%20%3D%20s(t.materials)%2C%20r%20%3D%20s(t.textures)%2C%20a%20%3D%20s(t.images)%2C%20o%20%3D%20s(t.shapes)%2C%20l%20%3D%20s(t.skeletons)%2C%20c%20%3D%20s(t.animations)%2C%20h%20%3D%20s(t.nodes)%3B%20e.length%20%3E%200%20%26%26%20(i.geometries%20%3D%20e)%2C%20n.length%20%3E%200%20%26%26%20(i.materials%20%3D%20n)%2C%20r.length%20%3E%200%20%26%26%20(i.textures%20%3D%20r)%2C%20a.length%20%3E%200%20%26%26%20(i.images%20%3D%20a)%2C%20o.length%20%3E%200%20%26%26%20(i.shapes%20%3D%20o)%2C%20l.length%20%3E%200%20%26%26%20(i.skeletons%20%3D%20l)%2C%20c.length%20%3E%200%20%26%26%20(i.animations%20%3D%20c)%2C%20h.length%20%3E%200%20%26%26%20(i.nodes%20%3D%20h)%20%7D%20return%20i.object%20%3D%20n%2C%20i%3B%20function%20s(t)%20%7B%20const%20e%20%3D%20%5B%5D%3B%20for%20(const%20i%20in%20t)%20%7B%20const%20n%20%3D%20t%5Bi%5D%3B%20delete%20n.metadata%2C%20e.push(n)%20%7D%20return%20e%20%7D%20%7D%20clone(t)%20%7B%20return%20(new%20this.constructor).copy(this%2C%20t)%20%7D%20copy(t%2C%20e%20%3D%20!0)%20%7B%20if%20(this.name%20%3D%20t.name%2C%20this.up.copy(t.up)%2C%20this.position.copy(t.position)%2C%20this.rotation.order%20%3D%20t.rotation.order%2C%20this.quaternion.copy(t.quaternion)%2C%20this.scale.copy(t.scale)%2C%20this.matrix.copy(t.matrix)%2C%20this.matrixWorld.copy(t.matrixWorld)%2C%20this.matrixAutoUpdate%20%3D%20t.matrixAutoUpdate%2C%20this.matrixWorldNeedsUpdate%20%3D%20t.matrixWorldNeedsUpdate%2C%20this.matrixWorldAutoUpdate%20%3D%20t.matrixWorldAutoUpdate%2C%20this.layers.mask%20%3D%20t.layers.mask%2C%20this.visible%20%3D%20t.visible%2C%20this.castShadow%20%3D%20t.castShadow%2C%20this.receiveShadow%20%3D%20t.receiveShadow%2C%20this.frustumCulled%20%3D%20t.frustumCulled%2C%20this.renderOrder%20%3D%20t.renderOrder%2C%20this.userData%20%3D%20JSON.parse(JSON.stringify(t.userData))%2C%20!0%20%3D%3D%3D%20e)%20for%20(let%20e%20%3D%200%3B%20e%20%3C%20t.children.length%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20t.children%5Be%5D%3B%20this.add(i.clone())%20%7D%20return%20this%20%7D%20%7D%20si.DefaultUp%20%3D%20new%20re(0%2C%201%2C%200)%2C%20si.DefaultMatrixAutoUpdate%20%3D%20!0%2C%20si.DefaultMatrixWorldAutoUpdate%20%3D%20!0%3B%20const%20ai%20%3D%20new%20re%2C%20oi%20%3D%20new%20re%2C%20li%20%3D%20new%20re%2C%20ci%20%3D%20new%20re%2C%20hi%20%3D%20new%20re%2C%20ui%20%3D%20new%20re%2C%20di%20%3D%20new%20re%2C%20pi%20%3D%20new%20re%2C%20mi%20%3D%20new%20re%2C%20fi%20%3D%20new%20re%3B%20class%20gi%20%7B%20constructor(t%20%3D%20new%20re%2C%20e%20%3D%20new%20re%2C%20i%20%3D%20new%20re)%20%7B%20this.a%20%3D%20t%2C%20this.b%20%3D%20e%2C%20this.c%20%3D%20i%20%7D%20static%20getNormal(t%2C%20e%2C%20i%2C%20n)%20%7B%20n.subVectors(i%2C%20e)%2C%20ai.subVectors(t%2C%20e)%2C%20n.cross(ai)%3B%20const%20r%20%3D%20n.lengthSq()%3B%20return%20r%20%3E%200%20%3F%20n.multiplyScalar(1%20%2F%20Math.sqrt(r))%20%3A%20n.set(0%2C%200%2C%200)%20%7D%20static%20getBarycoord(t%2C%20e%2C%20i%2C%20n%2C%20r)%20%7B%20ai.subVectors(n%2C%20e)%2C%20oi.subVectors(i%2C%20e)%2C%20li.subVectors(t%2C%20e)%3B%20const%20s%20%3D%20ai.dot(ai)%2C%20a%20%3D%20ai.dot(oi)%2C%20o%20%3D%20ai.dot(li)%2C%20l%20%3D%20oi.dot(oi)%2C%20c%20%3D%20oi.dot(li)%2C%20h%20%3D%20s%20*%20l%20-%20a%20*%20a%3B%20if%20(0%20%3D%3D%3D%20h)%20return%20r.set(-2%2C%20-1%2C%20-1)%3B%20const%20u%20%3D%201%20%2F%20h%2C%20d%20%3D%20(l%20*%20o%20-%20a%20*%20c)%20*%20u%2C%20p%20%3D%20(s%20*%20c%20-%20a%20*%20o)%20*%20u%3B%20return%20r.set(1%20-%20d%20-%20p%2C%20p%2C%20d)%20%7D%20static%20containsPoint(t%2C%20e%2C%20i%2C%20n)%20%7B%20return%20this.getBarycoord(t%2C%20e%2C%20i%2C%20n%2C%20ci)%2C%20ci.x%20%3E%3D%200%20%26%26%20ci.y%20%3E%3D%200%20%26%26%20ci.x%20%2B%20ci.y%20%3C%3D%201%20%7D%20static%20getUV(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%20a%2C%20o)%20%7B%20return%20this.getBarycoord(t%2C%20e%2C%20i%2C%20n%2C%20ci)%2C%20o.set(0%2C%200)%2C%20o.addScaledVector(r%2C%20ci.x)%2C%20o.addScaledVector(s%2C%20ci.y)%2C%20o.addScaledVector(a%2C%20ci.z)%2C%20o%20%7D%20static%20isFrontFacing(t%2C%20e%2C%20i%2C%20n)%20%7B%20return%20ai.subVectors(i%2C%20e)%2C%20oi.subVectors(t%2C%20e)%2C%20ai.cross(oi).dot(n)%20%3C%200%20%7D%20set(t%2C%20e%2C%20i)%20%7B%20return%20this.a.copy(t)%2C%20this.b.copy(e)%2C%20this.c.copy(i)%2C%20this%20%7D%20setFromPointsAndIndices(t%2C%20e%2C%20i%2C%20n)%20%7B%20return%20this.a.copy(t%5Be%5D)%2C%20this.b.copy(t%5Bi%5D)%2C%20this.c.copy(t%5Bn%5D)%2C%20this%20%7D%20setFromAttributeAndIndices(t%2C%20e%2C%20i%2C%20n)%20%7B%20return%20this.a.fromBufferAttribute(t%2C%20e)%2C%20this.b.fromBufferAttribute(t%2C%20i)%2C%20this.c.fromBufferAttribute(t%2C%20n)%2C%20this%20%7D%20clone()%20%7B%20return%20(new%20this.constructor).copy(this)%20%7D%20copy(t)%20%7B%20return%20this.a.copy(t.a)%2C%20this.b.copy(t.b)%2C%20this.c.copy(t.c)%2C%20this%20%7D%20getArea()%20%7B%20return%20ai.subVectors(this.c%2C%20this.b)%2C%20oi.subVectors(this.a%2C%20this.b)%2C%20.5%20*%20ai.cross(oi).length()%20%7D%20getMidpoint(t)%20%7B%20return%20t.addVectors(this.a%2C%20this.b).add(this.c).multiplyScalar(1%20%2F%203)%20%7D%20getNormal(t)%20%7B%20return%20gi.getNormal(this.a%2C%20this.b%2C%20this.c%2C%20t)%20%7D%20getPlane(t)%20%7B%20return%20t.setFromCoplanarPoints(this.a%2C%20this.b%2C%20this.c)%20%7D%20getBarycoord(t%2C%20e)%20%7B%20return%20gi.getBarycoord(t%2C%20this.a%2C%20this.b%2C%20this.c%2C%20e)%20%7D%20getUV(t%2C%20e%2C%20i%2C%20n%2C%20r)%20%7B%20return%20gi.getUV(t%2C%20this.a%2C%20this.b%2C%20this.c%2C%20e%2C%20i%2C%20n%2C%20r)%20%7D%20containsPoint(t)%20%7B%20return%20gi.containsPoint(t%2C%20this.a%2C%20this.b%2C%20this.c)%20%7D%20isFrontFacing(t)%20%7B%20return%20gi.isFrontFacing(this.a%2C%20this.b%2C%20this.c%2C%20t)%20%7D%20intersectsBox(t)%20%7B%20return%20t.intersectsTriangle(this)%20%7D%20closestPointToPoint(t%2C%20e)%20%7B%20const%20i%20%3D%20this.a%2C%20n%20%3D%20this.b%2C%20r%20%3D%20this.c%3B%20let%20s%2C%20a%3B%20hi.subVectors(n%2C%20i)%2C%20ui.subVectors(r%2C%20i)%2C%20pi.subVectors(t%2C%20i)%3B%20const%20o%20%3D%20hi.dot(pi)%2C%20l%20%3D%20ui.dot(pi)%3B%20if%20(o%20%3C%3D%200%20%26%26%20l%20%3C%3D%200)%20return%20e.copy(i)%3B%20mi.subVectors(t%2C%20n)%3B%20const%20c%20%3D%20hi.dot(mi)%2C%20h%20%3D%20ui.dot(mi)%3B%20if%20(c%20%3E%3D%200%20%26%26%20h%20%3C%3D%20c)%20return%20e.copy(n)%3B%20const%20u%20%3D%20o%20*%20h%20-%20c%20*%20l%3B%20if%20(u%20%3C%3D%200%20%26%26%20o%20%3E%3D%200%20%26%26%20c%20%3C%3D%200)%20return%20s%20%3D%20o%20%2F%20(o%20-%20c)%2C%20e.copy(i).addScaledVector(hi%2C%20s)%3B%20fi.subVectors(t%2C%20r)%3B%20const%20d%20%3D%20hi.dot(fi)%2C%20p%20%3D%20ui.dot(fi)%3B%20if%20(p%20%3E%3D%200%20%26%26%20d%20%3C%3D%20p)%20return%20e.copy(r)%3B%20const%20m%20%3D%20d%20*%20l%20-%20o%20*%20p%3B%20if%20(m%20%3C%3D%200%20%26%26%20l%20%3E%3D%200%20%26%26%20p%20%3C%3D%200)%20return%20a%20%3D%20l%20%2F%20(l%20-%20p)%2C%20e.copy(i).addScaledVector(ui%2C%20a)%3B%20const%20f%20%3D%20c%20*%20p%20-%20d%20*%20h%3B%20if%20(f%20%3C%3D%200%20%26%26%20h%20-%20c%20%3E%3D%200%20%26%26%20d%20-%20p%20%3E%3D%200)%20return%20di.subVectors(r%2C%20n)%2C%20a%20%3D%20(h%20-%20c)%20%2F%20(h%20-%20c%20%2B%20(d%20-%20p))%2C%20e.copy(n).addScaledVector(di%2C%20a)%3B%20const%20g%20%3D%201%20%2F%20(f%20%2B%20m%20%2B%20u)%3B%20return%20s%20%3D%20m%20*%20g%2C%20a%20%3D%20u%20*%20g%2C%20e.copy(i).addScaledVector(hi%2C%20s).addScaledVector(ui%2C%20a)%20%7D%20equals(t)%20%7B%20return%20t.a.equals(this.a)%20%26%26%20t.b.equals(this.b)%20%26%26%20t.c.equals(this.c)%20%7D%20%7D%20let%20vi%20%3D%200%3B%20class%20xi%20extends%20mt%20%7B%20constructor()%20%7B%20super()%2C%20this.isMaterial%20%3D%20!0%2C%20Object.defineProperty(this%2C%20%22id%22%2C%20%7B%20value%3A%20vi%2B%2B%20%7D)%2C%20this.uuid%20%3D%20_t()%2C%20this.name%20%3D%20%22%22%2C%20this.type%20%3D%20%22Material%22%2C%20this.blending%20%3D%201%2C%20this.side%20%3D%200%2C%20this.vertexColors%20%3D%20!1%2C%20this.opacity%20%3D%201%2C%20this.transparent%20%3D%20!1%2C%20this.blendSrc%20%3D%20204%2C%20this.blendDst%20%3D%20205%2C%20this.blendEquation%20%3D%20i%2C%20this.blendSrcAlpha%20%3D%20null%2C%20this.blendDstAlpha%20%3D%20null%2C%20this.blendEquationAlpha%20%3D%20null%2C%20this.depthFunc%20%3D%203%2C%20this.depthTest%20%3D%20!0%2C%20this.depthWrite%20%3D%20!0%2C%20this.stencilWriteMask%20%3D%20255%2C%20this.stencilFunc%20%3D%20519%2C%20this.stencilRef%20%3D%200%2C%20this.stencilFuncMask%20%3D%20255%2C%20this.stencilFail%20%3D%20ht%2C%20this.stencilZFail%20%3D%20ht%2C%20this.stencilZPass%20%3D%20ht%2C%20this.stencilWrite%20%3D%20!1%2C%20this.clippingPlanes%20%3D%20null%2C%20this.clipIntersection%20%3D%20!1%2C%20this.clipShadows%20%3D%20!1%2C%20this.shadowSide%20%3D%20null%2C%20this.colorWrite%20%3D%20!0%2C%20this.precision%20%3D%20null%2C%20this.polygonOffset%20%3D%20!1%2C%20this.polygonOffsetFactor%20%3D%200%2C%20this.polygonOffsetUnits%20%3D%200%2C%20this.dithering%20%3D%20!1%2C%20this.alphaToCoverage%20%3D%20!1%2C%20this.premultipliedAlpha%20%3D%20!1%2C%20this.visible%20%3D%20!0%2C%20this.toneMapped%20%3D%20!0%2C%20this.userData%20%3D%20%7B%7D%2C%20this.version%20%3D%200%2C%20this._alphaTest%20%3D%200%20%7D%20get%20alphaTest()%20%7B%20return%20this._alphaTest%20%7D%20set%20alphaTest(t)%20%7B%20this._alphaTest%20%3E%200%20!%3D%20t%20%3E%200%20%26%26%20this.version%2B%2B%2C%20this._alphaTest%20%3D%20t%20%7D%20onBuild()%20%7B%20%7D%20onBeforeRender()%20%7B%20%7D%20onBeforeCompile()%20%7B%20%7D%20customProgramCacheKey()%20%7B%20return%20this.onBeforeCompile.toString()%20%7D%20setValues(t)%20%7B%20if%20(void%200%20!%3D%3D%20t)%20for%20(const%20e%20in%20t)%20%7B%20const%20i%20%3D%20t%5Be%5D%3B%20if%20(void%200%20%3D%3D%3D%20i)%20%7B%20console.warn(%22THREE.Material%3A%20'%22%20%2B%20e%20%2B%20%22'%20parameter%20is%20undefined.%22)%3B%20continue%20%7D%20const%20n%20%3D%20this%5Be%5D%3B%20void%200%20!%3D%3D%20n%20%3F%20n%20%26%26%20n.isColor%20%3F%20n.set(i)%20%3A%20n%20%26%26%20n.isVector3%20%26%26%20i%20%26%26%20i.isVector3%20%3F%20n.copy(i)%20%3A%20this%5Be%5D%20%3D%20i%20%3A%20console.warn(%22THREE.%22%20%2B%20this.type%20%2B%20%22%3A%20'%22%20%2B%20e%20%2B%20%22'%20is%20not%20a%20property%20of%20this%20material.%22)%20%7D%20%7D%20toJSON(t)%20%7B%20const%20e%20%3D%20void%200%20%3D%3D%3D%20t%20%7C%7C%20%22string%22%20%3D%3D%20typeof%20t%3B%20e%20%26%26%20(t%20%3D%20%7B%20textures%3A%20%7B%7D%2C%20images%3A%20%7B%7D%20%7D)%3B%20const%20i%20%3D%20%7B%20metadata%3A%20%7B%20version%3A%204.5%2C%20type%3A%20%22Material%22%2C%20generator%3A%20%22Material.toJSON%22%20%7D%20%7D%3B%20function%20n(t)%20%7B%20const%20e%20%3D%20%5B%5D%3B%20for%20(const%20i%20in%20t)%20%7B%20const%20n%20%3D%20t%5Bi%5D%3B%20delete%20n.metadata%2C%20e.push(n)%20%7D%20return%20e%20%7D%20if%20(i.uuid%20%3D%20this.uuid%2C%20i.type%20%3D%20this.type%2C%20%22%22%20!%3D%3D%20this.name%20%26%26%20(i.name%20%3D%20this.name)%2C%20this.color%20%26%26%20this.color.isColor%20%26%26%20(i.color%20%3D%20this.color.getHex())%2C%20void%200%20!%3D%3D%20this.roughness%20%26%26%20(i.roughness%20%3D%20this.roughness)%2C%20void%200%20!%3D%3D%20this.metalness%20%26%26%20(i.metalness%20%3D%20this.metalness)%2C%20void%200%20!%3D%3D%20this.sheen%20%26%26%20(i.sheen%20%3D%20this.sheen)%2C%20this.sheenColor%20%26%26%20this.sheenColor.isColor%20%26%26%20(i.sheenColor%20%3D%20this.sheenColor.getHex())%2C%20void%200%20!%3D%3D%20this.sheenRoughness%20%26%26%20(i.sheenRoughness%20%3D%20this.sheenRoughness)%2C%20this.emissive%20%26%26%20this.emissive.isColor%20%26%26%20(i.emissive%20%3D%20this.emissive.getHex())%2C%20this.emissiveIntensity%20%26%26%201%20!%3D%3D%20this.emissiveIntensity%20%26%26%20(i.emissiveIntensity%20%3D%20this.emissiveIntensity)%2C%20this.specular%20%26%26%20this.specular.isColor%20%26%26%20(i.specular%20%3D%20this.specular.getHex())%2C%20void%200%20!%3D%3D%20this.specularIntensity%20%26%26%20(i.specularIntensity%20%3D%20this.specularIntensity)%2C%20this.specularColor%20%26%26%20this.specularColor.isColor%20%26%26%20(i.specularColor%20%3D%20this.specularColor.getHex())%2C%20void%200%20!%3D%3D%20this.shininess%20%26%26%20(i.shininess%20%3D%20this.shininess)%2C%20void%200%20!%3D%3D%20this.clearcoat%20%26%26%20(i.clearcoat%20%3D%20this.clearcoat)%2C%20void%200%20!%3D%3D%20this.clearcoatRoughness%20%26%26%20(i.clearcoatRoughness%20%3D%20this.clearcoatRoughness)%2C%20this.clearcoatMap%20%26%26%20this.clearcoatMap.isTexture%20%26%26%20(i.clearcoatMap%20%3D%20this.clearcoatMap.toJSON(t).uuid)%2C%20this.clearcoatRoughnessMap%20%26%26%20this.clearcoatRoughnessMap.isTexture%20%26%26%20(i.clearcoatRoughnessMap%20%3D%20this.clearcoatRoughnessMap.toJSON(t).uuid)%2C%20this.clearcoatNormalMap%20%26%26%20this.clearcoatNormalMap.isTexture%20%26%26%20(i.clearcoatNormalMap%20%3D%20this.clearcoatNormalMap.toJSON(t).uuid%2C%20i.clearcoatNormalScale%20%3D%20this.clearcoatNormalScale.toArray())%2C%20void%200%20!%3D%3D%20this.iridescence%20%26%26%20(i.iridescence%20%3D%20this.iridescence)%2C%20void%200%20!%3D%3D%20this.iridescenceIOR%20%26%26%20(i.iridescenceIOR%20%3D%20this.iridescenceIOR)%2C%20void%200%20!%3D%3D%20this.iridescenceThicknessRange%20%26%26%20(i.iridescenceThicknessRange%20%3D%20this.iridescenceThicknessRange)%2C%20this.iridescenceMap%20%26%26%20this.iridescenceMap.isTexture%20%26%26%20(i.iridescenceMap%20%3D%20this.iridescenceMap.toJSON(t).uuid)%2C%20this.iridescenceThicknessMap%20%26%26%20this.iridescenceThicknessMap.isTexture%20%26%26%20(i.iridescenceThicknessMap%20%3D%20this.iridescenceThicknessMap.toJSON(t).uuid)%2C%20this.map%20%26%26%20this.map.isTexture%20%26%26%20(i.map%20%3D%20this.map.toJSON(t).uuid)%2C%20this.matcap%20%26%26%20this.matcap.isTexture%20%26%26%20(i.matcap%20%3D%20this.matcap.toJSON(t).uuid)%2C%20this.alphaMap%20%26%26%20this.alphaMap.isTexture%20%26%26%20(i.alphaMap%20%3D%20this.alphaMap.toJSON(t).uuid)%2C%20this.lightMap%20%26%26%20this.lightMap.isTexture%20%26%26%20(i.lightMap%20%3D%20this.lightMap.toJSON(t).uuid%2C%20i.lightMapIntensity%20%3D%20this.lightMapIntensity)%2C%20this.aoMap%20%26%26%20this.aoMap.isTexture%20%26%26%20(i.aoMap%20%3D%20this.aoMap.toJSON(t).uuid%2C%20i.aoMapIntensity%20%3D%20this.aoMapIntensity)%2C%20this.bumpMap%20%26%26%20this.bumpMap.isTexture%20%26%26%20(i.bumpMap%20%3D%20this.bumpMap.toJSON(t).uuid%2C%20i.bumpScale%20%3D%20this.bumpScale)%2C%20this.normalMap%20%26%26%20this.normalMap.isTexture%20%26%26%20(i.normalMap%20%3D%20this.normalMap.toJSON(t).uuid%2C%20i.normalMapType%20%3D%20this.normalMapType%2C%20i.normalScale%20%3D%20this.normalScale.toArray())%2C%20this.displacementMap%20%26%26%20this.displacementMap.isTexture%20%26%26%20(i.displacementMap%20%3D%20this.displacementMap.toJSON(t).uuid%2C%20i.displacementScale%20%3D%20this.displacementScale%2C%20i.displacementBias%20%3D%20this.displacementBias)%2C%20this.roughnessMap%20%26%26%20this.roughnessMap.isTexture%20%26%26%20(i.roughnessMap%20%3D%20this.roughnessMap.toJSON(t).uuid)%2C%20this.metalnessMap%20%26%26%20this.metalnessMap.isTexture%20%26%26%20(i.metalnessMap%20%3D%20this.metalnessMap.toJSON(t).uuid)%2C%20this.emissiveMap%20%26%26%20this.emissiveMap.isTexture%20%26%26%20(i.emissiveMap%20%3D%20this.emissiveMap.toJSON(t).uuid)%2C%20this.specularMap%20%26%26%20this.specularMap.isTexture%20%26%26%20(i.specularMap%20%3D%20this.specularMap.toJSON(t).uuid)%2C%20this.specularIntensityMap%20%26%26%20this.specularIntensityMap.isTexture%20%26%26%20(i.specularIntensityMap%20%3D%20this.specularIntensityMap.toJSON(t).uuid)%2C%20this.specularColorMap%20%26%26%20this.specularColorMap.isTexture%20%26%26%20(i.specularColorMap%20%3D%20this.specularColorMap.toJSON(t).uuid)%2C%20this.envMap%20%26%26%20this.envMap.isTexture%20%26%26%20(i.envMap%20%3D%20this.envMap.toJSON(t).uuid%2C%20void%200%20!%3D%3D%20this.combine%20%26%26%20(i.combine%20%3D%20this.combine))%2C%20void%200%20!%3D%3D%20this.envMapIntensity%20%26%26%20(i.envMapIntensity%20%3D%20this.envMapIntensity)%2C%20void%200%20!%3D%3D%20this.reflectivity%20%26%26%20(i.reflectivity%20%3D%20this.reflectivity)%2C%20void%200%20!%3D%3D%20this.refractionRatio%20%26%26%20(i.refractionRatio%20%3D%20this.refractionRatio)%2C%20this.gradientMap%20%26%26%20this.gradientMap.isTexture%20%26%26%20(i.gradientMap%20%3D%20this.gradientMap.toJSON(t).uuid)%2C%20void%200%20!%3D%3D%20this.transmission%20%26%26%20(i.transmission%20%3D%20this.transmission)%2C%20this.transmissionMap%20%26%26%20this.transmissionMap.isTexture%20%26%26%20(i.transmissionMap%20%3D%20this.transmissionMap.toJSON(t).uuid)%2C%20void%200%20!%3D%3D%20this.thickness%20%26%26%20(i.thickness%20%3D%20this.thickness)%2C%20this.thicknessMap%20%26%26%20this.thicknessMap.isTexture%20%26%26%20(i.thicknessMap%20%3D%20this.thicknessMap.toJSON(t).uuid)%2C%20void%200%20!%3D%3D%20this.attenuationDistance%20%26%26%20this.attenuationDistance%20!%3D%3D%201%20%2F%200%20%26%26%20(i.attenuationDistance%20%3D%20this.attenuationDistance)%2C%20void%200%20!%3D%3D%20this.attenuationColor%20%26%26%20(i.attenuationColor%20%3D%20this.attenuationColor.getHex())%2C%20void%200%20!%3D%3D%20this.size%20%26%26%20(i.size%20%3D%20this.size)%2C%20null%20!%3D%3D%20this.shadowSide%20%26%26%20(i.shadowSide%20%3D%20this.shadowSide)%2C%20void%200%20!%3D%3D%20this.sizeAttenuation%20%26%26%20(i.sizeAttenuation%20%3D%20this.sizeAttenuation)%2C%201%20!%3D%3D%20this.blending%20%26%26%20(i.blending%20%3D%20this.blending)%2C%200%20!%3D%3D%20this.side%20%26%26%20(i.side%20%3D%20this.side)%2C%20this.vertexColors%20%26%26%20(i.vertexColors%20%3D%20!0)%2C%20this.opacity%20%3C%201%20%26%26%20(i.opacity%20%3D%20this.opacity)%2C%20!0%20%3D%3D%3D%20this.transparent%20%26%26%20(i.transparent%20%3D%20this.transparent)%2C%20i.depthFunc%20%3D%20this.depthFunc%2C%20i.depthTest%20%3D%20this.depthTest%2C%20i.depthWrite%20%3D%20this.depthWrite%2C%20i.colorWrite%20%3D%20this.colorWrite%2C%20i.stencilWrite%20%3D%20this.stencilWrite%2C%20i.stencilWriteMask%20%3D%20this.stencilWriteMask%2C%20i.stencilFunc%20%3D%20this.stencilFunc%2C%20i.stencilRef%20%3D%20this.stencilRef%2C%20i.stencilFuncMask%20%3D%20this.stencilFuncMask%2C%20i.stencilFail%20%3D%20this.stencilFail%2C%20i.stencilZFail%20%3D%20this.stencilZFail%2C%20i.stencilZPass%20%3D%20this.stencilZPass%2C%20void%200%20!%3D%3D%20this.rotation%20%26%26%200%20!%3D%3D%20this.rotation%20%26%26%20(i.rotation%20%3D%20this.rotation)%2C%20!0%20%3D%3D%3D%20this.polygonOffset%20%26%26%20(i.polygonOffset%20%3D%20!0)%2C%200%20!%3D%3D%20this.polygonOffsetFactor%20%26%26%20(i.polygonOffsetFactor%20%3D%20this.polygonOffsetFactor)%2C%200%20!%3D%3D%20this.polygonOffsetUnits%20%26%26%20(i.polygonOffsetUnits%20%3D%20this.polygonOffsetUnits)%2C%20void%200%20!%3D%3D%20this.linewidth%20%26%26%201%20!%3D%3D%20this.linewidth%20%26%26%20(i.linewidth%20%3D%20this.linewidth)%2C%20void%200%20!%3D%3D%20this.dashSize%20%26%26%20(i.dashSize%20%3D%20this.dashSize)%2C%20void%200%20!%3D%3D%20this.gapSize%20%26%26%20(i.gapSize%20%3D%20this.gapSize)%2C%20void%200%20!%3D%3D%20this.scale%20%26%26%20(i.scale%20%3D%20this.scale)%2C%20!0%20%3D%3D%3D%20this.dithering%20%26%26%20(i.dithering%20%3D%20!0)%2C%20this.alphaTest%20%3E%200%20%26%26%20(i.alphaTest%20%3D%20this.alphaTest)%2C%20!0%20%3D%3D%3D%20this.alphaToCoverage%20%26%26%20(i.alphaToCoverage%20%3D%20this.alphaToCoverage)%2C%20!0%20%3D%3D%3D%20this.premultipliedAlpha%20%26%26%20(i.premultipliedAlpha%20%3D%20this.premultipliedAlpha)%2C%20!0%20%3D%3D%3D%20this.wireframe%20%26%26%20(i.wireframe%20%3D%20this.wireframe)%2C%20this.wireframeLinewidth%20%3E%201%20%26%26%20(i.wireframeLinewidth%20%3D%20this.wireframeLinewidth)%2C%20%22round%22%20!%3D%3D%20this.wireframeLinecap%20%26%26%20(i.wireframeLinecap%20%3D%20this.wireframeLinecap)%2C%20%22round%22%20!%3D%3D%20this.wireframeLinejoin%20%26%26%20(i.wireframeLinejoin%20%3D%20this.wireframeLinejoin)%2C%20!0%20%3D%3D%3D%20this.flatShading%20%26%26%20(i.flatShading%20%3D%20this.flatShading)%2C%20!1%20%3D%3D%3D%20this.visible%20%26%26%20(i.visible%20%3D%20!1)%2C%20!1%20%3D%3D%3D%20this.toneMapped%20%26%26%20(i.toneMapped%20%3D%20!1)%2C%20!1%20%3D%3D%3D%20this.fog%20%26%26%20(i.fog%20%3D%20!1)%2C%20Object.keys(this.userData).length%20%3E%200%20%26%26%20(i.userData%20%3D%20this.userData)%2C%20e)%20%7B%20const%20e%20%3D%20n(t.textures)%2C%20r%20%3D%20n(t.images)%3B%20e.length%20%3E%200%20%26%26%20(i.textures%20%3D%20e)%2C%20r.length%20%3E%200%20%26%26%20(i.images%20%3D%20r)%20%7D%20return%20i%20%7D%20clone()%20%7B%20return%20(new%20this.constructor).copy(this)%20%7D%20copy(t)%20%7B%20this.name%20%3D%20t.name%2C%20this.blending%20%3D%20t.blending%2C%20this.side%20%3D%20t.side%2C%20this.vertexColors%20%3D%20t.vertexColors%2C%20this.opacity%20%3D%20t.opacity%2C%20this.transparent%20%3D%20t.transparent%2C%20this.blendSrc%20%3D%20t.blendSrc%2C%20this.blendDst%20%3D%20t.blendDst%2C%20this.blendEquation%20%3D%20t.blendEquation%2C%20this.blendSrcAlpha%20%3D%20t.blendSrcAlpha%2C%20this.blendDstAlpha%20%3D%20t.blendDstAlpha%2C%20this.blendEquationAlpha%20%3D%20t.blendEquationAlpha%2C%20this.depthFunc%20%3D%20t.depthFunc%2C%20this.depthTest%20%3D%20t.depthTest%2C%20this.depthWrite%20%3D%20t.depthWrite%2C%20this.stencilWriteMask%20%3D%20t.stencilWriteMask%2C%20this.stencilFunc%20%3D%20t.stencilFunc%2C%20this.stencilRef%20%3D%20t.stencilRef%2C%20this.stencilFuncMask%20%3D%20t.stencilFuncMask%2C%20this.stencilFail%20%3D%20t.stencilFail%2C%20this.stencilZFail%20%3D%20t.stencilZFail%2C%20this.stencilZPass%20%3D%20t.stencilZPass%2C%20this.stencilWrite%20%3D%20t.stencilWrite%3B%20const%20e%20%3D%20t.clippingPlanes%3B%20let%20i%20%3D%20null%3B%20if%20(null%20!%3D%3D%20e)%20%7B%20const%20t%20%3D%20e.length%3B%20i%20%3D%20new%20Array(t)%3B%20for%20(let%20n%20%3D%200%3B%20n%20!%3D%3D%20t%3B%20%2B%2Bn)i%5Bn%5D%20%3D%20e%5Bn%5D.clone()%20%7D%20return%20this.clippingPlanes%20%3D%20i%2C%20this.clipIntersection%20%3D%20t.clipIntersection%2C%20this.clipShadows%20%3D%20t.clipShadows%2C%20this.shadowSide%20%3D%20t.shadowSide%2C%20this.colorWrite%20%3D%20t.colorWrite%2C%20this.precision%20%3D%20t.precision%2C%20this.polygonOffset%20%3D%20t.polygonOffset%2C%20this.polygonOffsetFactor%20%3D%20t.polygonOffsetFactor%2C%20this.polygonOffsetUnits%20%3D%20t.polygonOffsetUnits%2C%20this.dithering%20%3D%20t.dithering%2C%20this.alphaTest%20%3D%20t.alphaTest%2C%20this.alphaToCoverage%20%3D%20t.alphaToCoverage%2C%20this.premultipliedAlpha%20%3D%20t.premultipliedAlpha%2C%20this.visible%20%3D%20t.visible%2C%20this.toneMapped%20%3D%20t.toneMapped%2C%20this.userData%20%3D%20JSON.parse(JSON.stringify(t.userData))%2C%20this%20%7D%20dispose()%20%7B%20this.dispatchEvent(%7B%20type%3A%20%22dispose%22%20%7D)%20%7D%20set%20needsUpdate(t)%20%7B%20!0%20%3D%3D%3D%20t%20%26%26%20this.version%2B%2B%20%7D%20%7D%20class%20_i%20extends%20xi%20%7B%20constructor(t)%20%7B%20super()%2C%20this.isMeshBasicMaterial%20%3D%20!0%2C%20this.type%20%3D%20%22MeshBasicMaterial%22%2C%20this.color%20%3D%20new%20qt(16777215)%2C%20this.map%20%3D%20null%2C%20this.lightMap%20%3D%20null%2C%20this.lightMapIntensity%20%3D%201%2C%20this.aoMap%20%3D%20null%2C%20this.aoMapIntensity%20%3D%201%2C%20this.specularMap%20%3D%20null%2C%20this.alphaMap%20%3D%20null%2C%20this.envMap%20%3D%20null%2C%20this.combine%20%3D%200%2C%20this.reflectivity%20%3D%201%2C%20this.refractionRatio%20%3D%20.98%2C%20this.wireframe%20%3D%20!1%2C%20this.wireframeLinewidth%20%3D%201%2C%20this.wireframeLinecap%20%3D%20%22round%22%2C%20this.wireframeLinejoin%20%3D%20%22round%22%2C%20this.fog%20%3D%20!0%2C%20this.setValues(t)%20%7D%20copy(t)%20%7B%20return%20super.copy(t)%2C%20this.color.copy(t.color)%2C%20this.map%20%3D%20t.map%2C%20this.lightMap%20%3D%20t.lightMap%2C%20this.lightMapIntensity%20%3D%20t.lightMapIntensity%2C%20this.aoMap%20%3D%20t.aoMap%2C%20this.aoMapIntensity%20%3D%20t.aoMapIntensity%2C%20this.specularMap%20%3D%20t.specularMap%2C%20this.alphaMap%20%3D%20t.alphaMap%2C%20this.envMap%20%3D%20t.envMap%2C%20this.combine%20%3D%20t.combine%2C%20this.reflectivity%20%3D%20t.reflectivity%2C%20this.refractionRatio%20%3D%20t.refractionRatio%2C%20this.wireframe%20%3D%20t.wireframe%2C%20this.wireframeLinewidth%20%3D%20t.wireframeLinewidth%2C%20this.wireframeLinecap%20%3D%20t.wireframeLinecap%2C%20this.wireframeLinejoin%20%3D%20t.wireframeLinejoin%2C%20this.fog%20%3D%20t.fog%2C%20this%20%7D%20%7D%20const%20yi%20%3D%20new%20re%2C%20Mi%20%3D%20new%20Lt%3B%20class%20bi%20%7B%20constructor(t%2C%20e%2C%20i%20%3D%20!1)%20%7B%20if%20(Array.isArray(t))%20throw%20new%20TypeError(%22THREE.BufferAttribute%3A%20array%20should%20be%20a%20Typed%20Array.%22)%3B%20this.isBufferAttribute%20%3D%20!0%2C%20this.name%20%3D%20%22%22%2C%20this.array%20%3D%20t%2C%20this.itemSize%20%3D%20e%2C%20this.count%20%3D%20void%200%20!%3D%3D%20t%20%3F%20t.length%20%2F%20e%20%3A%200%2C%20this.normalized%20%3D%20i%2C%20this.usage%20%3D%20ut%2C%20this.updateRange%20%3D%20%7B%20offset%3A%200%2C%20count%3A%20-1%20%7D%2C%20this.version%20%3D%200%20%7D%20onUploadCallback()%20%7B%20%7D%20set%20needsUpdate(t)%20%7B%20!0%20%3D%3D%3D%20t%20%26%26%20this.version%2B%2B%20%7D%20setUsage(t)%20%7B%20return%20this.usage%20%3D%20t%2C%20this%20%7D%20copy(t)%20%7B%20return%20this.name%20%3D%20t.name%2C%20this.array%20%3D%20new%20t.array.constructor(t.array)%2C%20this.itemSize%20%3D%20t.itemSize%2C%20this.count%20%3D%20t.count%2C%20this.normalized%20%3D%20t.normalized%2C%20this.usage%20%3D%20t.usage%2C%20this%20%7D%20copyAt(t%2C%20e%2C%20i)%20%7B%20t%20*%3D%20this.itemSize%2C%20i%20*%3D%20e.itemSize%3B%20for%20(let%20n%20%3D%200%2C%20r%20%3D%20this.itemSize%3B%20n%20%3C%20r%3B%20n%2B%2B)this.array%5Bt%20%2B%20n%5D%20%3D%20e.array%5Bi%20%2B%20n%5D%3B%20return%20this%20%7D%20copyArray(t)%20%7B%20return%20this.array.set(t)%2C%20this%20%7D%20applyMatrix3(t)%20%7B%20if%20(2%20%3D%3D%3D%20this.itemSize)%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20this.count%3B%20e%20%3C%20i%3B%20e%2B%2B)Mi.fromBufferAttribute(this%2C%20e)%2C%20Mi.applyMatrix3(t)%2C%20this.setXY(e%2C%20Mi.x%2C%20Mi.y)%3B%20else%20if%20(3%20%3D%3D%3D%20this.itemSize)%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20this.count%3B%20e%20%3C%20i%3B%20e%2B%2B)yi.fromBufferAttribute(this%2C%20e)%2C%20yi.applyMatrix3(t)%2C%20this.setXYZ(e%2C%20yi.x%2C%20yi.y%2C%20yi.z)%3B%20return%20this%20%7D%20applyMatrix4(t)%20%7B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20this.count%3B%20e%20%3C%20i%3B%20e%2B%2B)yi.fromBufferAttribute(this%2C%20e)%2C%20yi.applyMatrix4(t)%2C%20this.setXYZ(e%2C%20yi.x%2C%20yi.y%2C%20yi.z)%3B%20return%20this%20%7D%20applyNormalMatrix(t)%20%7B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20this.count%3B%20e%20%3C%20i%3B%20e%2B%2B)yi.fromBufferAttribute(this%2C%20e)%2C%20yi.applyNormalMatrix(t)%2C%20this.setXYZ(e%2C%20yi.x%2C%20yi.y%2C%20yi.z)%3B%20return%20this%20%7D%20transformDirection(t)%20%7B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20this.count%3B%20e%20%3C%20i%3B%20e%2B%2B)yi.fromBufferAttribute(this%2C%20e)%2C%20yi.transformDirection(t)%2C%20this.setXYZ(e%2C%20yi.x%2C%20yi.y%2C%20yi.z)%3B%20return%20this%20%7D%20set(t%2C%20e%20%3D%200)%20%7B%20return%20this.array.set(t%2C%20e)%2C%20this%20%7D%20getX(t)%20%7B%20let%20e%20%3D%20this.array%5Bt%20*%20this.itemSize%5D%3B%20return%20this.normalized%20%26%26%20(e%20%3D%20At(e%2C%20this.array))%2C%20e%20%7D%20setX(t%2C%20e)%20%7B%20return%20this.normalized%20%26%26%20(e%20%3D%20Et(e%2C%20this.array))%2C%20this.array%5Bt%20*%20this.itemSize%5D%20%3D%20e%2C%20this%20%7D%20getY(t)%20%7B%20let%20e%20%3D%20this.array%5Bt%20*%20this.itemSize%20%2B%201%5D%3B%20return%20this.normalized%20%26%26%20(e%20%3D%20At(e%2C%20this.array))%2C%20e%20%7D%20setY(t%2C%20e)%20%7B%20return%20this.normalized%20%26%26%20(e%20%3D%20Et(e%2C%20this.array))%2C%20this.array%5Bt%20*%20this.itemSize%20%2B%201%5D%20%3D%20e%2C%20this%20%7D%20getZ(t)%20%7B%20let%20e%20%3D%20this.array%5Bt%20*%20this.itemSize%20%2B%202%5D%3B%20return%20this.normalized%20%26%26%20(e%20%3D%20At(e%2C%20this.array))%2C%20e%20%7D%20setZ(t%2C%20e)%20%7B%20return%20this.normalized%20%26%26%20(e%20%3D%20Et(e%2C%20this.array))%2C%20this.array%5Bt%20*%20this.itemSize%20%2B%202%5D%20%3D%20e%2C%20this%20%7D%20getW(t)%20%7B%20let%20e%20%3D%20this.array%5Bt%20*%20this.itemSize%20%2B%203%5D%3B%20return%20this.normalized%20%26%26%20(e%20%3D%20At(e%2C%20this.array))%2C%20e%20%7D%20setW(t%2C%20e)%20%7B%20return%20this.normalized%20%26%26%20(e%20%3D%20Et(e%2C%20this.array))%2C%20this.array%5Bt%20*%20this.itemSize%20%2B%203%5D%20%3D%20e%2C%20this%20%7D%20setXY(t%2C%20e%2C%20i)%20%7B%20return%20t%20*%3D%20this.itemSize%2C%20this.normalized%20%26%26%20(e%20%3D%20Et(e%2C%20this.array)%2C%20i%20%3D%20Et(i%2C%20this.array))%2C%20this.array%5Bt%20%2B%200%5D%20%3D%20e%2C%20this.array%5Bt%20%2B%201%5D%20%3D%20i%2C%20this%20%7D%20setXYZ(t%2C%20e%2C%20i%2C%20n)%20%7B%20return%20t%20*%3D%20this.itemSize%2C%20this.normalized%20%26%26%20(e%20%3D%20Et(e%2C%20this.array)%2C%20i%20%3D%20Et(i%2C%20this.array)%2C%20n%20%3D%20Et(n%2C%20this.array))%2C%20this.array%5Bt%20%2B%200%5D%20%3D%20e%2C%20this.array%5Bt%20%2B%201%5D%20%3D%20i%2C%20this.array%5Bt%20%2B%202%5D%20%3D%20n%2C%20this%20%7D%20setXYZW(t%2C%20e%2C%20i%2C%20n%2C%20r)%20%7B%20return%20t%20*%3D%20this.itemSize%2C%20this.normalized%20%26%26%20(e%20%3D%20Et(e%2C%20this.array)%2C%20i%20%3D%20Et(i%2C%20this.array)%2C%20n%20%3D%20Et(n%2C%20this.array)%2C%20r%20%3D%20Et(r%2C%20this.array))%2C%20this.array%5Bt%20%2B%200%5D%20%3D%20e%2C%20this.array%5Bt%20%2B%201%5D%20%3D%20i%2C%20this.array%5Bt%20%2B%202%5D%20%3D%20n%2C%20this.array%5Bt%20%2B%203%5D%20%3D%20r%2C%20this%20%7D%20onUpload(t)%20%7B%20return%20this.onUploadCallback%20%3D%20t%2C%20this%20%7D%20clone()%20%7B%20return%20new%20this.constructor(this.array%2C%20this.itemSize).copy(this)%20%7D%20toJSON()%20%7B%20const%20t%20%3D%20%7B%20itemSize%3A%20this.itemSize%2C%20type%3A%20this.array.constructor.name%2C%20array%3A%20Array.from(this.array)%2C%20normalized%3A%20this.normalized%20%7D%3B%20return%20%22%22%20!%3D%3D%20this.name%20%26%26%20(t.name%20%3D%20this.name)%2C%20this.usage%20!%3D%3D%20ut%20%26%26%20(t.usage%20%3D%20this.usage)%2C%200%20%3D%3D%3D%20this.updateRange.offset%20%26%26%20-1%20%3D%3D%3D%20this.updateRange.count%20%7C%7C%20(t.updateRange%20%3D%20this.updateRange)%2C%20t%20%7D%20copyColorsArray()%20%7B%20console.error(%22THREE.BufferAttribute%3A%20copyColorsArray()%20was%20removed%20in%20r144.%22)%20%7D%20copyVector2sArray()%20%7B%20console.error(%22THREE.BufferAttribute%3A%20copyVector2sArray()%20was%20removed%20in%20r144.%22)%20%7D%20copyVector3sArray()%20%7B%20console.error(%22THREE.BufferAttribute%3A%20copyVector3sArray()%20was%20removed%20in%20r144.%22)%20%7D%20copyVector4sArray()%20%7B%20console.error(%22THREE.BufferAttribute%3A%20copyVector4sArray()%20was%20removed%20in%20r144.%22)%20%7D%20%7D%20class%20Si%20extends%20bi%20%7B%20constructor(t%2C%20e%2C%20i)%20%7B%20super(new%20Uint16Array(t)%2C%20e%2C%20i)%20%7D%20%7D%20class%20wi%20extends%20bi%20%7B%20constructor(t%2C%20e%2C%20i)%20%7B%20super(new%20Uint32Array(t)%2C%20e%2C%20i)%20%7D%20%7D%20class%20Ti%20extends%20bi%20%7B%20constructor(t%2C%20e%2C%20i)%20%7B%20super(new%20Float32Array(t)%2C%20e%2C%20i)%20%7D%20%7D%20let%20Ai%20%3D%200%3B%20const%20Ei%20%3D%20new%20Ne%2C%20Ci%20%3D%20new%20si%2C%20Li%20%3D%20new%20re%2C%20Ri%20%3D%20new%20oe%2C%20Pi%20%3D%20new%20oe%2C%20Ii%20%3D%20new%20re%3B%20class%20Di%20extends%20mt%20%7B%20constructor()%20%7B%20super()%2C%20this.isBufferGeometry%20%3D%20!0%2C%20Object.defineProperty(this%2C%20%22id%22%2C%20%7B%20value%3A%20Ai%2B%2B%20%7D)%2C%20this.uuid%20%3D%20_t()%2C%20this.name%20%3D%20%22%22%2C%20this.type%20%3D%20%22BufferGeometry%22%2C%20this.index%20%3D%20null%2C%20this.attributes%20%3D%20%7B%7D%2C%20this.morphAttributes%20%3D%20%7B%7D%2C%20this.morphTargetsRelative%20%3D%20!1%2C%20this.groups%20%3D%20%5B%5D%2C%20this.boundingBox%20%3D%20null%2C%20this.boundingSphere%20%3D%20null%2C%20this.drawRange%20%3D%20%7B%20start%3A%200%2C%20count%3A%201%20%2F%200%20%7D%2C%20this.userData%20%3D%20%7B%7D%20%7D%20getIndex()%20%7B%20return%20this.index%20%7D%20setIndex(t)%20%7B%20return%20Array.isArray(t)%20%3F%20this.index%20%3D%20new%20(It(t)%20%3F%20wi%20%3A%20Si)(t%2C%201)%20%3A%20this.index%20%3D%20t%2C%20this%20%7D%20getAttribute(t)%20%7B%20return%20this.attributes%5Bt%5D%20%7D%20setAttribute(t%2C%20e)%20%7B%20return%20this.attributes%5Bt%5D%20%3D%20e%2C%20this%20%7D%20deleteAttribute(t)%20%7B%20return%20delete%20this.attributes%5Bt%5D%2C%20this%20%7D%20hasAttribute(t)%20%7B%20return%20void%200%20!%3D%3D%20this.attributes%5Bt%5D%20%7D%20addGroup(t%2C%20e%2C%20i%20%3D%200)%20%7B%20this.groups.push(%7B%20start%3A%20t%2C%20count%3A%20e%2C%20materialIndex%3A%20i%20%7D)%20%7D%20clearGroups()%20%7B%20this.groups%20%3D%20%5B%5D%20%7D%20setDrawRange(t%2C%20e)%20%7B%20this.drawRange.start%20%3D%20t%2C%20this.drawRange.count%20%3D%20e%20%7D%20applyMatrix4(t)%20%7B%20const%20e%20%3D%20this.attributes.position%3B%20void%200%20!%3D%3D%20e%20%26%26%20(e.applyMatrix4(t)%2C%20e.needsUpdate%20%3D%20!0)%3B%20const%20i%20%3D%20this.attributes.normal%3B%20if%20(void%200%20!%3D%3D%20i)%20%7B%20const%20e%20%3D%20(new%20Rt).getNormalMatrix(t)%3B%20i.applyNormalMatrix(e)%2C%20i.needsUpdate%20%3D%20!0%20%7D%20const%20n%20%3D%20this.attributes.tangent%3B%20return%20void%200%20!%3D%3D%20n%20%26%26%20(n.transformDirection(t)%2C%20n.needsUpdate%20%3D%20!0)%2C%20null%20!%3D%3D%20this.boundingBox%20%26%26%20this.computeBoundingBox()%2C%20null%20!%3D%3D%20this.boundingSphere%20%26%26%20this.computeBoundingSphere()%2C%20this%20%7D%20applyQuaternion(t)%20%7B%20return%20Ei.makeRotationFromQuaternion(t)%2C%20this.applyMatrix4(Ei)%2C%20this%20%7D%20rotateX(t)%20%7B%20return%20Ei.makeRotationX(t)%2C%20this.applyMatrix4(Ei)%2C%20this%20%7D%20rotateY(t)%20%7B%20return%20Ei.makeRotationY(t)%2C%20this.applyMatrix4(Ei)%2C%20this%20%7D%20rotateZ(t)%20%7B%20return%20Ei.makeRotationZ(t)%2C%20this.applyMatrix4(Ei)%2C%20this%20%7D%20translate(t%2C%20e%2C%20i)%20%7B%20return%20Ei.makeTranslation(t%2C%20e%2C%20i)%2C%20this.applyMatrix4(Ei)%2C%20this%20%7D%20scale(t%2C%20e%2C%20i)%20%7B%20return%20Ei.makeScale(t%2C%20e%2C%20i)%2C%20this.applyMatrix4(Ei)%2C%20this%20%7D%20lookAt(t)%20%7B%20return%20Ci.lookAt(t)%2C%20Ci.updateMatrix()%2C%20this.applyMatrix4(Ci.matrix)%2C%20this%20%7D%20center()%20%7B%20return%20this.computeBoundingBox()%2C%20this.boundingBox.getCenter(Li).negate()%2C%20this.translate(Li.x%2C%20Li.y%2C%20Li.z)%2C%20this%20%7D%20setFromPoints(t)%20%7B%20const%20e%20%3D%20%5B%5D%3B%20for%20(let%20i%20%3D%200%2C%20n%20%3D%20t.length%3B%20i%20%3C%20n%3B%20i%2B%2B)%20%7B%20const%20n%20%3D%20t%5Bi%5D%3B%20e.push(n.x%2C%20n.y%2C%20n.z%20%7C%7C%200)%20%7D%20return%20this.setAttribute(%22position%22%2C%20new%20Ti(e%2C%203))%2C%20this%20%7D%20computeBoundingBox()%20%7B%20null%20%3D%3D%3D%20this.boundingBox%20%26%26%20(this.boundingBox%20%3D%20new%20oe)%3B%20const%20t%20%3D%20this.attributes.position%2C%20e%20%3D%20this.morphAttributes.position%3B%20if%20(t%20%26%26%20t.isGLBufferAttribute)%20return%20console.error('THREE.BufferGeometry.computeBoundingBox()%3A%20GLBufferAttribute%20requires%20a%20manual%20bounding%20box.%20Alternatively%20set%20%22mesh.frustumCulled%22%20to%20%22false%22.'%2C%20this)%2C%20void%20this.boundingBox.set(new%20re(-1%20%2F%200%2C%20-1%20%2F%200%2C%20-1%20%2F%200)%2C%20new%20re(1%20%2F%200%2C%201%20%2F%200%2C%201%20%2F%200))%3B%20if%20(void%200%20!%3D%3D%20t)%20%7B%20if%20(this.boundingBox.setFromBufferAttribute(t)%2C%20e)%20for%20(let%20t%20%3D%200%2C%20i%20%3D%20e.length%3B%20t%20%3C%20i%3B%20t%2B%2B)%20%7B%20const%20i%20%3D%20e%5Bt%5D%3B%20Ri.setFromBufferAttribute(i)%2C%20this.morphTargetsRelative%20%3F%20(Ii.addVectors(this.boundingBox.min%2C%20Ri.min)%2C%20this.boundingBox.expandByPoint(Ii)%2C%20Ii.addVectors(this.boundingBox.max%2C%20Ri.max)%2C%20this.boundingBox.expandByPoint(Ii))%20%3A%20(this.boundingBox.expandByPoint(Ri.min)%2C%20this.boundingBox.expandByPoint(Ri.max))%20%7D%20%7D%20else%20this.boundingBox.makeEmpty()%3B%20(isNaN(this.boundingBox.min.x)%20%7C%7C%20isNaN(this.boundingBox.min.y)%20%7C%7C%20isNaN(this.boundingBox.min.z))%20%26%26%20console.error('THREE.BufferGeometry.computeBoundingBox()%3A%20Computed%20min%2Fmax%20have%20NaN%20values.%20The%20%22position%22%20attribute%20is%20likely%20to%20have%20NaN%20values.'%2C%20this)%20%7D%20computeBoundingSphere()%20%7B%20null%20%3D%3D%3D%20this.boundingSphere%20%26%26%20(this.boundingSphere%20%3D%20new%20Te)%3B%20const%20t%20%3D%20this.attributes.position%2C%20e%20%3D%20this.morphAttributes.position%3B%20if%20(t%20%26%26%20t.isGLBufferAttribute)%20return%20console.error('THREE.BufferGeometry.computeBoundingSphere()%3A%20GLBufferAttribute%20requires%20a%20manual%20bounding%20sphere.%20Alternatively%20set%20%22mesh.frustumCulled%22%20to%20%22false%22.'%2C%20this)%2C%20void%20this.boundingSphere.set(new%20re%2C%201%20%2F%200)%3B%20if%20(t)%20%7B%20const%20i%20%3D%20this.boundingSphere.center%3B%20if%20(Ri.setFromBufferAttribute(t)%2C%20e)%20for%20(let%20t%20%3D%200%2C%20i%20%3D%20e.length%3B%20t%20%3C%20i%3B%20t%2B%2B)%20%7B%20const%20i%20%3D%20e%5Bt%5D%3B%20Pi.setFromBufferAttribute(i)%2C%20this.morphTargetsRelative%20%3F%20(Ii.addVectors(Ri.min%2C%20Pi.min)%2C%20Ri.expandByPoint(Ii)%2C%20Ii.addVectors(Ri.max%2C%20Pi.max)%2C%20Ri.expandByPoint(Ii))%20%3A%20(Ri.expandByPoint(Pi.min)%2C%20Ri.expandByPoint(Pi.max))%20%7D%20Ri.getCenter(i)%3B%20let%20n%20%3D%200%3B%20for%20(let%20e%20%3D%200%2C%20r%20%3D%20t.count%3B%20e%20%3C%20r%3B%20e%2B%2B)Ii.fromBufferAttribute(t%2C%20e)%2C%20n%20%3D%20Math.max(n%2C%20i.distanceToSquared(Ii))%3B%20if%20(e)%20for%20(let%20r%20%3D%200%2C%20s%20%3D%20e.length%3B%20r%20%3C%20s%3B%20r%2B%2B)%20%7B%20const%20s%20%3D%20e%5Br%5D%2C%20a%20%3D%20this.morphTargetsRelative%3B%20for%20(let%20e%20%3D%200%2C%20r%20%3D%20s.count%3B%20e%20%3C%20r%3B%20e%2B%2B)Ii.fromBufferAttribute(s%2C%20e)%2C%20a%20%26%26%20(Li.fromBufferAttribute(t%2C%20e)%2C%20Ii.add(Li))%2C%20n%20%3D%20Math.max(n%2C%20i.distanceToSquared(Ii))%20%7D%20this.boundingSphere.radius%20%3D%20Math.sqrt(n)%2C%20isNaN(this.boundingSphere.radius)%20%26%26%20console.error('THREE.BufferGeometry.computeBoundingSphere()%3A%20Computed%20radius%20is%20NaN.%20The%20%22position%22%20attribute%20is%20likely%20to%20have%20NaN%20values.'%2C%20this)%20%7D%20%7D%20computeTangents()%20%7B%20const%20t%20%3D%20this.index%2C%20e%20%3D%20this.attributes%3B%20if%20(null%20%3D%3D%3D%20t%20%7C%7C%20void%200%20%3D%3D%3D%20e.position%20%7C%7C%20void%200%20%3D%3D%3D%20e.normal%20%7C%7C%20void%200%20%3D%3D%3D%20e.uv)%20return%20void%20console.error(%22THREE.BufferGeometry%3A%20.computeTangents()%20failed.%20Missing%20required%20attributes%20(index%2C%20position%2C%20normal%20or%20uv)%22)%3B%20const%20i%20%3D%20t.array%2C%20n%20%3D%20e.position.array%2C%20r%20%3D%20e.normal.array%2C%20s%20%3D%20e.uv.array%2C%20a%20%3D%20n.length%20%2F%203%3B%20!1%20%3D%3D%3D%20this.hasAttribute(%22tangent%22)%20%26%26%20this.setAttribute(%22tangent%22%2C%20new%20bi(new%20Float32Array(4%20*%20a)%2C%204))%3B%20const%20o%20%3D%20this.getAttribute(%22tangent%22).array%2C%20l%20%3D%20%5B%5D%2C%20c%20%3D%20%5B%5D%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20a%3B%20t%2B%2B)l%5Bt%5D%20%3D%20new%20re%2C%20c%5Bt%5D%20%3D%20new%20re%3B%20const%20h%20%3D%20new%20re%2C%20u%20%3D%20new%20re%2C%20d%20%3D%20new%20re%2C%20p%20%3D%20new%20Lt%2C%20m%20%3D%20new%20Lt%2C%20f%20%3D%20new%20Lt%2C%20g%20%3D%20new%20re%2C%20v%20%3D%20new%20re%3B%20function%20x(t%2C%20e%2C%20i)%20%7B%20h.fromArray(n%2C%203%20*%20t)%2C%20u.fromArray(n%2C%203%20*%20e)%2C%20d.fromArray(n%2C%203%20*%20i)%2C%20p.fromArray(s%2C%202%20*%20t)%2C%20m.fromArray(s%2C%202%20*%20e)%2C%20f.fromArray(s%2C%202%20*%20i)%2C%20u.sub(h)%2C%20d.sub(h)%2C%20m.sub(p)%2C%20f.sub(p)%3B%20const%20r%20%3D%201%20%2F%20(m.x%20*%20f.y%20-%20f.x%20*%20m.y)%3B%20isFinite(r)%20%26%26%20(g.copy(u).multiplyScalar(f.y).addScaledVector(d%2C%20-m.y).multiplyScalar(r)%2C%20v.copy(d).multiplyScalar(m.x).addScaledVector(u%2C%20-f.x).multiplyScalar(r)%2C%20l%5Bt%5D.add(g)%2C%20l%5Be%5D.add(g)%2C%20l%5Bi%5D.add(g)%2C%20c%5Bt%5D.add(v)%2C%20c%5Be%5D.add(v)%2C%20c%5Bi%5D.add(v))%20%7D%20let%20_%20%3D%20this.groups%3B%200%20%3D%3D%3D%20_.length%20%26%26%20(_%20%3D%20%5B%7B%20start%3A%200%2C%20count%3A%20i.length%20%7D%5D)%3B%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20_.length%3B%20t%20%3C%20e%3B%20%2B%2Bt)%20%7B%20const%20e%20%3D%20_%5Bt%5D%2C%20n%20%3D%20e.start%3B%20for%20(let%20t%20%3D%20n%2C%20r%20%3D%20n%20%2B%20e.count%3B%20t%20%3C%20r%3B%20t%20%2B%3D%203)x(i%5Bt%20%2B%200%5D%2C%20i%5Bt%20%2B%201%5D%2C%20i%5Bt%20%2B%202%5D)%20%7D%20const%20y%20%3D%20new%20re%2C%20M%20%3D%20new%20re%2C%20b%20%3D%20new%20re%2C%20S%20%3D%20new%20re%3B%20function%20w(t)%20%7B%20b.fromArray(r%2C%203%20*%20t)%2C%20S.copy(b)%3B%20const%20e%20%3D%20l%5Bt%5D%3B%20y.copy(e)%2C%20y.sub(b.multiplyScalar(b.dot(e))).normalize()%2C%20M.crossVectors(S%2C%20e)%3B%20const%20i%20%3D%20M.dot(c%5Bt%5D)%20%3C%200%20%3F%20-1%20%3A%201%3B%20o%5B4%20*%20t%5D%20%3D%20y.x%2C%20o%5B4%20*%20t%20%2B%201%5D%20%3D%20y.y%2C%20o%5B4%20*%20t%20%2B%202%5D%20%3D%20y.z%2C%20o%5B4%20*%20t%20%2B%203%5D%20%3D%20i%20%7D%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20_.length%3B%20t%20%3C%20e%3B%20%2B%2Bt)%20%7B%20const%20e%20%3D%20_%5Bt%5D%2C%20n%20%3D%20e.start%3B%20for%20(let%20t%20%3D%20n%2C%20r%20%3D%20n%20%2B%20e.count%3B%20t%20%3C%20r%3B%20t%20%2B%3D%203)w(i%5Bt%20%2B%200%5D)%2C%20w(i%5Bt%20%2B%201%5D)%2C%20w(i%5Bt%20%2B%202%5D)%20%7D%20%7D%20computeVertexNormals()%20%7B%20const%20t%20%3D%20this.index%2C%20e%20%3D%20this.getAttribute(%22position%22)%3B%20if%20(void%200%20!%3D%3D%20e)%20%7B%20let%20i%20%3D%20this.getAttribute(%22normal%22)%3B%20if%20(void%200%20%3D%3D%3D%20i)%20i%20%3D%20new%20bi(new%20Float32Array(3%20*%20e.count)%2C%203)%2C%20this.setAttribute(%22normal%22%2C%20i)%3B%20else%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20i.count%3B%20t%20%3C%20e%3B%20t%2B%2B)i.setXYZ(t%2C%200%2C%200%2C%200)%3B%20const%20n%20%3D%20new%20re%2C%20r%20%3D%20new%20re%2C%20s%20%3D%20new%20re%2C%20a%20%3D%20new%20re%2C%20o%20%3D%20new%20re%2C%20l%20%3D%20new%20re%2C%20c%20%3D%20new%20re%2C%20h%20%3D%20new%20re%3B%20if%20(t)%20for%20(let%20u%20%3D%200%2C%20d%20%3D%20t.count%3B%20u%20%3C%20d%3B%20u%20%2B%3D%203)%20%7B%20const%20d%20%3D%20t.getX(u%20%2B%200)%2C%20p%20%3D%20t.getX(u%20%2B%201)%2C%20m%20%3D%20t.getX(u%20%2B%202)%3B%20n.fromBufferAttribute(e%2C%20d)%2C%20r.fromBufferAttribute(e%2C%20p)%2C%20s.fromBufferAttribute(e%2C%20m)%2C%20c.subVectors(s%2C%20r)%2C%20h.subVectors(n%2C%20r)%2C%20c.cross(h)%2C%20a.fromBufferAttribute(i%2C%20d)%2C%20o.fromBufferAttribute(i%2C%20p)%2C%20l.fromBufferAttribute(i%2C%20m)%2C%20a.add(c)%2C%20o.add(c)%2C%20l.add(c)%2C%20i.setXYZ(d%2C%20a.x%2C%20a.y%2C%20a.z)%2C%20i.setXYZ(p%2C%20o.x%2C%20o.y%2C%20o.z)%2C%20i.setXYZ(m%2C%20l.x%2C%20l.y%2C%20l.z)%20%7D%20else%20for%20(let%20t%20%3D%200%2C%20a%20%3D%20e.count%3B%20t%20%3C%20a%3B%20t%20%2B%3D%203)n.fromBufferAttribute(e%2C%20t%20%2B%200)%2C%20r.fromBufferAttribute(e%2C%20t%20%2B%201)%2C%20s.fromBufferAttribute(e%2C%20t%20%2B%202)%2C%20c.subVectors(s%2C%20r)%2C%20h.subVectors(n%2C%20r)%2C%20c.cross(h)%2C%20i.setXYZ(t%20%2B%200%2C%20c.x%2C%20c.y%2C%20c.z)%2C%20i.setXYZ(t%20%2B%201%2C%20c.x%2C%20c.y%2C%20c.z)%2C%20i.setXYZ(t%20%2B%202%2C%20c.x%2C%20c.y%2C%20c.z)%3B%20this.normalizeNormals()%2C%20i.needsUpdate%20%3D%20!0%20%7D%20%7D%20merge()%20%7B%20return%20console.error(%22THREE.BufferGeometry.merge()%20has%20been%20removed.%20Use%20THREE.BufferGeometryUtils.mergeBufferGeometries()%20instead.%22)%2C%20this%20%7D%20normalizeNormals()%20%7B%20const%20t%20%3D%20this.attributes.normal%3B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20t.count%3B%20e%20%3C%20i%3B%20e%2B%2B)Ii.fromBufferAttribute(t%2C%20e)%2C%20Ii.normalize()%2C%20t.setXYZ(e%2C%20Ii.x%2C%20Ii.y%2C%20Ii.z)%20%7D%20toNonIndexed()%20%7B%20function%20t(t%2C%20e)%20%7B%20const%20i%20%3D%20t.array%2C%20n%20%3D%20t.itemSize%2C%20r%20%3D%20t.normalized%2C%20s%20%3D%20new%20i.constructor(e.length%20*%20n)%3B%20let%20a%20%3D%200%2C%20o%20%3D%200%3B%20for%20(let%20r%20%3D%200%2C%20l%20%3D%20e.length%3B%20r%20%3C%20l%3B%20r%2B%2B)%20%7B%20a%20%3D%20t.isInterleavedBufferAttribute%20%3F%20e%5Br%5D%20*%20t.data.stride%20%2B%20t.offset%20%3A%20e%5Br%5D%20*%20n%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20n%3B%20t%2B%2B)s%5Bo%2B%2B%5D%20%3D%20i%5Ba%2B%2B%5D%20%7D%20return%20new%20bi(s%2C%20n%2C%20r)%20%7D%20if%20(null%20%3D%3D%3D%20this.index)%20return%20console.warn(%22THREE.BufferGeometry.toNonIndexed()%3A%20BufferGeometry%20is%20already%20non-indexed.%22)%2C%20this%3B%20const%20e%20%3D%20new%20Di%2C%20i%20%3D%20this.index.array%2C%20n%20%3D%20this.attributes%3B%20for%20(const%20r%20in%20n)%20%7B%20const%20s%20%3D%20t(n%5Br%5D%2C%20i)%3B%20e.setAttribute(r%2C%20s)%20%7D%20const%20r%20%3D%20this.morphAttributes%3B%20for%20(const%20n%20in%20r)%20%7B%20const%20s%20%3D%20%5B%5D%2C%20a%20%3D%20r%5Bn%5D%3B%20for%20(let%20e%20%3D%200%2C%20n%20%3D%20a.length%3B%20e%20%3C%20n%3B%20e%2B%2B)%20%7B%20const%20n%20%3D%20t(a%5Be%5D%2C%20i)%3B%20s.push(n)%20%7D%20e.morphAttributes%5Bn%5D%20%3D%20s%20%7D%20e.morphTargetsRelative%20%3D%20this.morphTargetsRelative%3B%20const%20s%20%3D%20this.groups%3B%20for%20(let%20t%20%3D%200%2C%20i%20%3D%20s.length%3B%20t%20%3C%20i%3B%20t%2B%2B)%20%7B%20const%20i%20%3D%20s%5Bt%5D%3B%20e.addGroup(i.start%2C%20i.count%2C%20i.materialIndex)%20%7D%20return%20e%20%7D%20toJSON()%20%7B%20const%20t%20%3D%20%7B%20metadata%3A%20%7B%20version%3A%204.5%2C%20type%3A%20%22BufferGeometry%22%2C%20generator%3A%20%22BufferGeometry.toJSON%22%20%7D%20%7D%3B%20if%20(t.uuid%20%3D%20this.uuid%2C%20t.type%20%3D%20this.type%2C%20%22%22%20!%3D%3D%20this.name%20%26%26%20(t.name%20%3D%20this.name)%2C%20Object.keys(this.userData).length%20%3E%200%20%26%26%20(t.userData%20%3D%20this.userData)%2C%20void%200%20!%3D%3D%20this.parameters)%20%7B%20const%20e%20%3D%20this.parameters%3B%20for%20(const%20i%20in%20e)%20void%200%20!%3D%3D%20e%5Bi%5D%20%26%26%20(t%5Bi%5D%20%3D%20e%5Bi%5D)%3B%20return%20t%20%7D%20t.data%20%3D%20%7B%20attributes%3A%20%7B%7D%20%7D%3B%20const%20e%20%3D%20this.index%3B%20null%20!%3D%3D%20e%20%26%26%20(t.data.index%20%3D%20%7B%20type%3A%20e.array.constructor.name%2C%20array%3A%20Array.prototype.slice.call(e.array)%20%7D)%3B%20const%20i%20%3D%20this.attributes%3B%20for%20(const%20e%20in%20i)%20%7B%20const%20n%20%3D%20i%5Be%5D%3B%20t.data.attributes%5Be%5D%20%3D%20n.toJSON(t.data)%20%7D%20const%20n%20%3D%20%7B%7D%3B%20let%20r%20%3D%20!1%3B%20for%20(const%20e%20in%20this.morphAttributes)%20%7B%20const%20i%20%3D%20this.morphAttributes%5Be%5D%2C%20s%20%3D%20%5B%5D%3B%20for%20(let%20e%20%3D%200%2C%20n%20%3D%20i.length%3B%20e%20%3C%20n%3B%20e%2B%2B)%20%7B%20const%20n%20%3D%20i%5Be%5D%3B%20s.push(n.toJSON(t.data))%20%7D%20s.length%20%3E%200%20%26%26%20(n%5Be%5D%20%3D%20s%2C%20r%20%3D%20!0)%20%7D%20r%20%26%26%20(t.data.morphAttributes%20%3D%20n%2C%20t.data.morphTargetsRelative%20%3D%20this.morphTargetsRelative)%3B%20const%20s%20%3D%20this.groups%3B%20s.length%20%3E%200%20%26%26%20(t.data.groups%20%3D%20JSON.parse(JSON.stringify(s)))%3B%20const%20a%20%3D%20this.boundingSphere%3B%20return%20null%20!%3D%3D%20a%20%26%26%20(t.data.boundingSphere%20%3D%20%7B%20center%3A%20a.center.toArray()%2C%20radius%3A%20a.radius%20%7D)%2C%20t%20%7D%20clone()%20%7B%20return%20(new%20this.constructor).copy(this)%20%7D%20copy(t)%20%7B%20this.index%20%3D%20null%2C%20this.attributes%20%3D%20%7B%7D%2C%20this.morphAttributes%20%3D%20%7B%7D%2C%20this.groups%20%3D%20%5B%5D%2C%20this.boundingBox%20%3D%20null%2C%20this.boundingSphere%20%3D%20null%3B%20const%20e%20%3D%20%7B%7D%3B%20this.name%20%3D%20t.name%3B%20const%20i%20%3D%20t.index%3B%20null%20!%3D%3D%20i%20%26%26%20this.setIndex(i.clone(e))%3B%20const%20n%20%3D%20t.attributes%3B%20for%20(const%20t%20in%20n)%20%7B%20const%20i%20%3D%20n%5Bt%5D%3B%20this.setAttribute(t%2C%20i.clone(e))%20%7D%20const%20r%20%3D%20t.morphAttributes%3B%20for%20(const%20t%20in%20r)%20%7B%20const%20i%20%3D%20%5B%5D%2C%20n%20%3D%20r%5Bt%5D%3B%20for%20(let%20t%20%3D%200%2C%20r%20%3D%20n.length%3B%20t%20%3C%20r%3B%20t%2B%2B)i.push(n%5Bt%5D.clone(e))%3B%20this.morphAttributes%5Bt%5D%20%3D%20i%20%7D%20this.morphTargetsRelative%20%3D%20t.morphTargetsRelative%3B%20const%20s%20%3D%20t.groups%3B%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20s.length%3B%20t%20%3C%20e%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20s%5Bt%5D%3B%20this.addGroup(e.start%2C%20e.count%2C%20e.materialIndex)%20%7D%20const%20a%20%3D%20t.boundingBox%3B%20null%20!%3D%3D%20a%20%26%26%20(this.boundingBox%20%3D%20a.clone())%3B%20const%20o%20%3D%20t.boundingSphere%3B%20return%20null%20!%3D%3D%20o%20%26%26%20(this.boundingSphere%20%3D%20o.clone())%2C%20this.drawRange.start%20%3D%20t.drawRange.start%2C%20this.drawRange.count%20%3D%20t.drawRange.count%2C%20this.userData%20%3D%20t.userData%2C%20void%200%20!%3D%3D%20t.parameters%20%26%26%20(this.parameters%20%3D%20Object.assign(%7B%7D%2C%20t.parameters))%2C%20this%20%7D%20dispose()%20%7B%20this.dispatchEvent(%7B%20type%3A%20%22dispose%22%20%7D)%20%7D%20%7D%20const%20Ni%20%3D%20new%20Ne%2C%20Oi%20%3D%20new%20De%2C%20zi%20%3D%20new%20Te%2C%20Ui%20%3D%20new%20re%2C%20Bi%20%3D%20new%20re%2C%20Fi%20%3D%20new%20re%2C%20ki%20%3D%20new%20re%2C%20Gi%20%3D%20new%20re%2C%20Vi%20%3D%20new%20Lt%2C%20Hi%20%3D%20new%20Lt%2C%20Wi%20%3D%20new%20Lt%2C%20ji%20%3D%20new%20re%2C%20qi%20%3D%20new%20re%3B%20class%20Xi%20extends%20si%20%7B%20constructor(t%20%3D%20new%20Di%2C%20e%20%3D%20new%20_i)%20%7B%20super()%2C%20this.isMesh%20%3D%20!0%2C%20this.type%20%3D%20%22Mesh%22%2C%20this.geometry%20%3D%20t%2C%20this.material%20%3D%20e%2C%20this.updateMorphTargets()%20%7D%20copy(t%2C%20e)%20%7B%20return%20super.copy(t%2C%20e)%2C%20void%200%20!%3D%3D%20t.morphTargetInfluences%20%26%26%20(this.morphTargetInfluences%20%3D%20t.morphTargetInfluences.slice())%2C%20void%200%20!%3D%3D%20t.morphTargetDictionary%20%26%26%20(this.morphTargetDictionary%20%3D%20Object.assign(%7B%7D%2C%20t.morphTargetDictionary))%2C%20this.material%20%3D%20t.material%2C%20this.geometry%20%3D%20t.geometry%2C%20this%20%7D%20updateMorphTargets()%20%7B%20const%20t%20%3D%20this.geometry.morphAttributes%2C%20e%20%3D%20Object.keys(t)%3B%20if%20(e.length%20%3E%200)%20%7B%20const%20i%20%3D%20t%5Be%5B0%5D%5D%3B%20if%20(void%200%20!%3D%3D%20i)%20%7B%20this.morphTargetInfluences%20%3D%20%5B%5D%2C%20this.morphTargetDictionary%20%3D%20%7B%7D%3B%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20i.length%3B%20t%20%3C%20e%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20i%5Bt%5D.name%20%7C%7C%20String(t)%3B%20this.morphTargetInfluences.push(0)%2C%20this.morphTargetDictionary%5Be%5D%20%3D%20t%20%7D%20%7D%20%7D%20%7D%20getVertexPosition(t%2C%20e)%20%7B%20const%20i%20%3D%20this.geometry%2C%20n%20%3D%20i.attributes.position%2C%20r%20%3D%20i.morphAttributes.position%2C%20s%20%3D%20i.morphTargetsRelative%3B%20e.fromBufferAttribute(n%2C%20t)%3B%20const%20a%20%3D%20this.morphTargetInfluences%3B%20if%20(r%20%26%26%20a)%20%7B%20Gi.set(0%2C%200%2C%200)%3B%20for%20(let%20i%20%3D%200%2C%20n%20%3D%20r.length%3B%20i%20%3C%20n%3B%20i%2B%2B)%20%7B%20const%20n%20%3D%20a%5Bi%5D%2C%20o%20%3D%20r%5Bi%5D%3B%200%20!%3D%3D%20n%20%26%26%20(ki.fromBufferAttribute(o%2C%20t)%2C%20s%20%3F%20Gi.addScaledVector(ki%2C%20n)%20%3A%20Gi.addScaledVector(ki.sub(e)%2C%20n))%20%7D%20e.add(Gi)%20%7D%20return%20this.isSkinnedMesh%20%26%26%20this.boneTransform(t%2C%20e)%2C%20e%20%7D%20raycast(t%2C%20e)%20%7B%20const%20i%20%3D%20this.geometry%2C%20n%20%3D%20this.material%2C%20r%20%3D%20this.matrixWorld%3B%20if%20(void%200%20%3D%3D%3D%20n)%20return%3B%20if%20(null%20%3D%3D%3D%20i.boundingSphere%20%26%26%20i.computeBoundingSphere()%2C%20zi.copy(i.boundingSphere)%2C%20zi.applyMatrix4(r)%2C%20!1%20%3D%3D%3D%20t.ray.intersectsSphere(zi))%20return%3B%20if%20(Ni.copy(r).invert()%2C%20Oi.copy(t.ray).applyMatrix4(Ni)%2C%20null%20!%3D%3D%20i.boundingBox%20%26%26%20!1%20%3D%3D%3D%20Oi.intersectsBox(i.boundingBox))%20return%3B%20let%20s%3B%20const%20a%20%3D%20i.index%2C%20o%20%3D%20i.attributes.position%2C%20l%20%3D%20i.attributes.uv%2C%20c%20%3D%20i.attributes.uv2%2C%20h%20%3D%20i.groups%2C%20u%20%3D%20i.drawRange%3B%20if%20(null%20!%3D%3D%20a)%20if%20(Array.isArray(n))%20for%20(let%20i%20%3D%200%2C%20r%20%3D%20h.length%3B%20i%20%3C%20r%3B%20i%2B%2B)%20%7B%20const%20r%20%3D%20h%5Bi%5D%2C%20o%20%3D%20n%5Br.materialIndex%5D%3B%20for%20(let%20i%20%3D%20Math.max(r.start%2C%20u.start)%2C%20n%20%3D%20Math.min(a.count%2C%20Math.min(r.start%20%2B%20r.count%2C%20u.start%20%2B%20u.count))%3B%20i%20%3C%20n%3B%20i%20%2B%3D%203)%20%7B%20const%20n%20%3D%20a.getX(i)%2C%20h%20%3D%20a.getX(i%20%2B%201)%2C%20u%20%3D%20a.getX(i%20%2B%202)%3B%20s%20%3D%20Yi(this%2C%20o%2C%20t%2C%20Oi%2C%20l%2C%20c%2C%20n%2C%20h%2C%20u)%2C%20s%20%26%26%20(s.faceIndex%20%3D%20Math.floor(i%20%2F%203)%2C%20s.face.materialIndex%20%3D%20r.materialIndex%2C%20e.push(s))%20%7D%20%7D%20else%20%7B%20for%20(let%20i%20%3D%20Math.max(0%2C%20u.start)%2C%20r%20%3D%20Math.min(a.count%2C%20u.start%20%2B%20u.count)%3B%20i%20%3C%20r%3B%20i%20%2B%3D%203)%20%7B%20const%20r%20%3D%20a.getX(i)%2C%20o%20%3D%20a.getX(i%20%2B%201)%2C%20h%20%3D%20a.getX(i%20%2B%202)%3B%20s%20%3D%20Yi(this%2C%20n%2C%20t%2C%20Oi%2C%20l%2C%20c%2C%20r%2C%20o%2C%20h)%2C%20s%20%26%26%20(s.faceIndex%20%3D%20Math.floor(i%20%2F%203)%2C%20e.push(s))%20%7D%20%7D%20else%20if%20(void%200%20!%3D%3D%20o)%20if%20(Array.isArray(n))%20for%20(let%20i%20%3D%200%2C%20r%20%3D%20h.length%3B%20i%20%3C%20r%3B%20i%2B%2B)%20%7B%20const%20r%20%3D%20h%5Bi%5D%2C%20a%20%3D%20n%5Br.materialIndex%5D%3B%20for%20(let%20i%20%3D%20Math.max(r.start%2C%20u.start)%2C%20n%20%3D%20Math.min(o.count%2C%20Math.min(r.start%20%2B%20r.count%2C%20u.start%20%2B%20u.count))%3B%20i%20%3C%20n%3B%20i%20%2B%3D%203)%20%7B%20s%20%3D%20Yi(this%2C%20a%2C%20t%2C%20Oi%2C%20l%2C%20c%2C%20i%2C%20i%20%2B%201%2C%20i%20%2B%202)%2C%20s%20%26%26%20(s.faceIndex%20%3D%20Math.floor(i%20%2F%203)%2C%20s.face.materialIndex%20%3D%20r.materialIndex%2C%20e.push(s))%20%7D%20%7D%20else%20%7B%20for%20(let%20i%20%3D%20Math.max(0%2C%20u.start)%2C%20r%20%3D%20Math.min(o.count%2C%20u.start%20%2B%20u.count)%3B%20i%20%3C%20r%3B%20i%20%2B%3D%203)%20%7B%20s%20%3D%20Yi(this%2C%20n%2C%20t%2C%20Oi%2C%20l%2C%20c%2C%20i%2C%20i%20%2B%201%2C%20i%20%2B%202)%2C%20s%20%26%26%20(s.faceIndex%20%3D%20Math.floor(i%20%2F%203)%2C%20e.push(s))%20%7D%20%7D%20%7D%20%7D%20function%20Yi(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%20a%2C%20o%2C%20l)%20%7B%20t.getVertexPosition(a%2C%20Ui)%2C%20t.getVertexPosition(o%2C%20Bi)%2C%20t.getVertexPosition(l%2C%20Fi)%3B%20const%20c%20%3D%20function%20(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%20a%2C%20o)%20%7B%20let%20l%3B%20if%20(l%20%3D%201%20%3D%3D%3D%20e.side%20%3F%20n.intersectTriangle(a%2C%20s%2C%20r%2C%20!0%2C%20o)%20%3A%20n.intersectTriangle(r%2C%20s%2C%20a%2C%200%20%3D%3D%3D%20e.side%2C%20o)%2C%20null%20%3D%3D%3D%20l)%20return%20null%3B%20qi.copy(o)%2C%20qi.applyMatrix4(t.matrixWorld)%3B%20const%20c%20%3D%20i.ray.origin.distanceTo(qi)%3B%20return%20c%20%3C%20i.near%20%7C%7C%20c%20%3E%20i.far%20%3F%20null%20%3A%20%7B%20distance%3A%20c%2C%20point%3A%20qi.clone()%2C%20object%3A%20t%20%7D%20%7D(t%2C%20e%2C%20i%2C%20n%2C%20Ui%2C%20Bi%2C%20Fi%2C%20ji)%3B%20if%20(c)%20%7B%20r%20%26%26%20(Vi.fromBufferAttribute(r%2C%20a)%2C%20Hi.fromBufferAttribute(r%2C%20o)%2C%20Wi.fromBufferAttribute(r%2C%20l)%2C%20c.uv%20%3D%20gi.getUV(ji%2C%20Ui%2C%20Bi%2C%20Fi%2C%20Vi%2C%20Hi%2C%20Wi%2C%20new%20Lt))%2C%20s%20%26%26%20(Vi.fromBufferAttribute(s%2C%20a)%2C%20Hi.fromBufferAttribute(s%2C%20o)%2C%20Wi.fromBufferAttribute(s%2C%20l)%2C%20c.uv2%20%3D%20gi.getUV(ji%2C%20Ui%2C%20Bi%2C%20Fi%2C%20Vi%2C%20Hi%2C%20Wi%2C%20new%20Lt))%3B%20const%20t%20%3D%20%7B%20a%3A%20a%2C%20b%3A%20o%2C%20c%3A%20l%2C%20normal%3A%20new%20re%2C%20materialIndex%3A%200%20%7D%3B%20gi.getNormal(Ui%2C%20Bi%2C%20Fi%2C%20t.normal)%2C%20c.face%20%3D%20t%20%7D%20return%20c%20%7D%20class%20Zi%20extends%20Di%20%7B%20constructor(t%20%3D%201%2C%20e%20%3D%201%2C%20i%20%3D%201%2C%20n%20%3D%201%2C%20r%20%3D%201%2C%20s%20%3D%201)%20%7B%20super()%2C%20this.type%20%3D%20%22BoxGeometry%22%2C%20this.parameters%20%3D%20%7B%20width%3A%20t%2C%20height%3A%20e%2C%20depth%3A%20i%2C%20widthSegments%3A%20n%2C%20heightSegments%3A%20r%2C%20depthSegments%3A%20s%20%7D%3B%20const%20a%20%3D%20this%3B%20n%20%3D%20Math.floor(n)%2C%20r%20%3D%20Math.floor(r)%2C%20s%20%3D%20Math.floor(s)%3B%20const%20o%20%3D%20%5B%5D%2C%20l%20%3D%20%5B%5D%2C%20c%20%3D%20%5B%5D%2C%20h%20%3D%20%5B%5D%3B%20let%20u%20%3D%200%2C%20d%20%3D%200%3B%20function%20p(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%20p%2C%20m%2C%20f%2C%20g%2C%20v)%20%7B%20const%20x%20%3D%20s%20%2F%20f%2C%20_%20%3D%20p%20%2F%20g%2C%20y%20%3D%20s%20%2F%202%2C%20M%20%3D%20p%20%2F%202%2C%20b%20%3D%20m%20%2F%202%2C%20S%20%3D%20f%20%2B%201%2C%20w%20%3D%20g%20%2B%201%3B%20let%20T%20%3D%200%2C%20A%20%3D%200%3B%20const%20E%20%3D%20new%20re%3B%20for%20(let%20s%20%3D%200%3B%20s%20%3C%20w%3B%20s%2B%2B)%20%7B%20const%20a%20%3D%20s%20*%20_%20-%20M%3B%20for%20(let%20o%20%3D%200%3B%20o%20%3C%20S%3B%20o%2B%2B)%20%7B%20const%20u%20%3D%20o%20*%20x%20-%20y%3B%20E%5Bt%5D%20%3D%20u%20*%20n%2C%20E%5Be%5D%20%3D%20a%20*%20r%2C%20E%5Bi%5D%20%3D%20b%2C%20l.push(E.x%2C%20E.y%2C%20E.z)%2C%20E%5Bt%5D%20%3D%200%2C%20E%5Be%5D%20%3D%200%2C%20E%5Bi%5D%20%3D%20m%20%3E%200%20%3F%201%20%3A%20-1%2C%20c.push(E.x%2C%20E.y%2C%20E.z)%2C%20h.push(o%20%2F%20f)%2C%20h.push(1%20-%20s%20%2F%20g)%2C%20T%20%2B%3D%201%20%7D%20%7D%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20g%3B%20t%2B%2B)for%20(let%20e%20%3D%200%3B%20e%20%3C%20f%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20u%20%2B%20e%20%2B%20S%20*%20t%2C%20n%20%3D%20u%20%2B%20e%20%2B%20S%20*%20(t%20%2B%201)%2C%20r%20%3D%20u%20%2B%20(e%20%2B%201)%20%2B%20S%20*%20(t%20%2B%201)%2C%20s%20%3D%20u%20%2B%20(e%20%2B%201)%20%2B%20S%20*%20t%3B%20o.push(i%2C%20n%2C%20s)%2C%20o.push(n%2C%20r%2C%20s)%2C%20A%20%2B%3D%206%20%7D%20a.addGroup(d%2C%20A%2C%20v)%2C%20d%20%2B%3D%20A%2C%20u%20%2B%3D%20T%20%7D%20p(%22z%22%2C%20%22y%22%2C%20%22x%22%2C%20-1%2C%20-1%2C%20i%2C%20e%2C%20t%2C%20s%2C%20r%2C%200)%2C%20p(%22z%22%2C%20%22y%22%2C%20%22x%22%2C%201%2C%20-1%2C%20i%2C%20e%2C%20-t%2C%20s%2C%20r%2C%201)%2C%20p(%22x%22%2C%20%22z%22%2C%20%22y%22%2C%201%2C%201%2C%20t%2C%20i%2C%20e%2C%20n%2C%20s%2C%202)%2C%20p(%22x%22%2C%20%22z%22%2C%20%22y%22%2C%201%2C%20-1%2C%20t%2C%20i%2C%20-e%2C%20n%2C%20s%2C%203)%2C%20p(%22x%22%2C%20%22y%22%2C%20%22z%22%2C%201%2C%20-1%2C%20t%2C%20e%2C%20i%2C%20n%2C%20r%2C%204)%2C%20p(%22x%22%2C%20%22y%22%2C%20%22z%22%2C%20-1%2C%20-1%2C%20t%2C%20e%2C%20-i%2C%20n%2C%20r%2C%205)%2C%20this.setIndex(o)%2C%20this.setAttribute(%22position%22%2C%20new%20Ti(l%2C%203))%2C%20this.setAttribute(%22normal%22%2C%20new%20Ti(c%2C%203))%2C%20this.setAttribute(%22uv%22%2C%20new%20Ti(h%2C%202))%20%7D%20static%20fromJSON(t)%20%7B%20return%20new%20Zi(t.width%2C%20t.height%2C%20t.depth%2C%20t.widthSegments%2C%20t.heightSegments%2C%20t.depthSegments)%20%7D%20%7D%20function%20Ji(t)%20%7B%20const%20e%20%3D%20%7B%7D%3B%20for%20(const%20i%20in%20t)%20%7B%20e%5Bi%5D%20%3D%20%7B%7D%3B%20for%20(const%20n%20in%20t%5Bi%5D)%20%7B%20const%20r%20%3D%20t%5Bi%5D%5Bn%5D%3B%20r%20%26%26%20(r.isColor%20%7C%7C%20r.isMatrix3%20%7C%7C%20r.isMatrix4%20%7C%7C%20r.isVector2%20%7C%7C%20r.isVector3%20%7C%7C%20r.isVector4%20%7C%7C%20r.isTexture%20%7C%7C%20r.isQuaternion)%20%3F%20e%5Bi%5D%5Bn%5D%20%3D%20r.clone()%20%3A%20Array.isArray(r)%20%3F%20e%5Bi%5D%5Bn%5D%20%3D%20r.slice()%20%3A%20e%5Bi%5D%5Bn%5D%20%3D%20r%20%7D%20%7D%20return%20e%20%7D%20function%20Ki(t)%20%7B%20const%20e%20%3D%20%7B%7D%3B%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20t.length%3B%20i%2B%2B)%20%7B%20const%20n%20%3D%20Ji(t%5Bi%5D)%3B%20for%20(const%20t%20in%20n)%20e%5Bt%5D%20%3D%20n%5Bt%5D%20%7D%20return%20e%20%7D%20function%20%24i(t)%20%7B%20return%20null%20%3D%3D%3D%20t.getRenderTarget()%20%26%26%20t.outputEncoding%20%3D%3D%3D%20ot%20%3F%20lt%20%3A%20ct%20%7D%20const%20Qi%20%3D%20%7B%20clone%3A%20Ji%2C%20merge%3A%20Ki%20%7D%3B%20class%20tn%20extends%20xi%20%7B%20constructor(t)%20%7B%20super()%2C%20this.isShaderMaterial%20%3D%20!0%2C%20this.type%20%3D%20%22ShaderMaterial%22%2C%20this.defines%20%3D%20%7B%7D%2C%20this.uniforms%20%3D%20%7B%7D%2C%20this.uniformsGroups%20%3D%20%5B%5D%2C%20this.vertexShader%20%3D%20%22void%20main()%20%7B%5Cn%5Ctgl_Position%20%3D%20projectionMatrix%20*%20modelViewMatrix%20*%20vec4(%20position%2C%201.0%20)%3B%5Cn%7D%22%2C%20this.fragmentShader%20%3D%20%22void%20main()%20%7B%5Cn%5Ctgl_FragColor%20%3D%20vec4(%201.0%2C%200.0%2C%200.0%2C%201.0%20)%3B%5Cn%7D%22%2C%20this.linewidth%20%3D%201%2C%20this.wireframe%20%3D%20!1%2C%20this.wireframeLinewidth%20%3D%201%2C%20this.fog%20%3D%20!1%2C%20this.lights%20%3D%20!1%2C%20this.clipping%20%3D%20!1%2C%20this.extensions%20%3D%20%7B%20derivatives%3A%20!1%2C%20fragDepth%3A%20!1%2C%20drawBuffers%3A%20!1%2C%20shaderTextureLOD%3A%20!1%20%7D%2C%20this.defaultAttributeValues%20%3D%20%7B%20color%3A%20%5B1%2C%201%2C%201%5D%2C%20uv%3A%20%5B0%2C%200%5D%2C%20uv2%3A%20%5B0%2C%200%5D%20%7D%2C%20this.index0AttributeName%20%3D%20void%200%2C%20this.uniformsNeedUpdate%20%3D%20!1%2C%20this.glslVersion%20%3D%20null%2C%20void%200%20!%3D%3D%20t%20%26%26%20this.setValues(t)%20%7D%20copy(t)%20%7B%20return%20super.copy(t)%2C%20this.fragmentShader%20%3D%20t.fragmentShader%2C%20this.vertexShader%20%3D%20t.vertexShader%2C%20this.uniforms%20%3D%20Ji(t.uniforms)%2C%20this.uniformsGroups%20%3D%20function%20(t)%20%7B%20const%20e%20%3D%20%5B%5D%3B%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20t.length%3B%20i%2B%2B)e.push(t%5Bi%5D.clone())%3B%20return%20e%20%7D(t.uniformsGroups)%2C%20this.defines%20%3D%20Object.assign(%7B%7D%2C%20t.defines)%2C%20this.wireframe%20%3D%20t.wireframe%2C%20this.wireframeLinewidth%20%3D%20t.wireframeLinewidth%2C%20this.fog%20%3D%20t.fog%2C%20this.lights%20%3D%20t.lights%2C%20this.clipping%20%3D%20t.clipping%2C%20this.extensions%20%3D%20Object.assign(%7B%7D%2C%20t.extensions)%2C%20this.glslVersion%20%3D%20t.glslVersion%2C%20this%20%7D%20toJSON(t)%20%7B%20const%20e%20%3D%20super.toJSON(t)%3B%20e.glslVersion%20%3D%20this.glslVersion%2C%20e.uniforms%20%3D%20%7B%7D%3B%20for%20(const%20i%20in%20this.uniforms)%20%7B%20const%20n%20%3D%20this.uniforms%5Bi%5D.value%3B%20n%20%26%26%20n.isTexture%20%3F%20e.uniforms%5Bi%5D%20%3D%20%7B%20type%3A%20%22t%22%2C%20value%3A%20n.toJSON(t).uuid%20%7D%20%3A%20n%20%26%26%20n.isColor%20%3F%20e.uniforms%5Bi%5D%20%3D%20%7B%20type%3A%20%22c%22%2C%20value%3A%20n.getHex()%20%7D%20%3A%20n%20%26%26%20n.isVector2%20%3F%20e.uniforms%5Bi%5D%20%3D%20%7B%20type%3A%20%22v2%22%2C%20value%3A%20n.toArray()%20%7D%20%3A%20n%20%26%26%20n.isVector3%20%3F%20e.uniforms%5Bi%5D%20%3D%20%7B%20type%3A%20%22v3%22%2C%20value%3A%20n.toArray()%20%7D%20%3A%20n%20%26%26%20n.isVector4%20%3F%20e.uniforms%5Bi%5D%20%3D%20%7B%20type%3A%20%22v4%22%2C%20value%3A%20n.toArray()%20%7D%20%3A%20n%20%26%26%20n.isMatrix3%20%3F%20e.uniforms%5Bi%5D%20%3D%20%7B%20type%3A%20%22m3%22%2C%20value%3A%20n.toArray()%20%7D%20%3A%20n%20%26%26%20n.isMatrix4%20%3F%20e.uniforms%5Bi%5D%20%3D%20%7B%20type%3A%20%22m4%22%2C%20value%3A%20n.toArray()%20%7D%20%3A%20e.uniforms%5Bi%5D%20%3D%20%7B%20value%3A%20n%20%7D%20%7D%20Object.keys(this.defines).length%20%3E%200%20%26%26%20(e.defines%20%3D%20this.defines)%2C%20e.vertexShader%20%3D%20this.vertexShader%2C%20e.fragmentShader%20%3D%20this.fragmentShader%3B%20const%20i%20%3D%20%7B%7D%3B%20for%20(const%20t%20in%20this.extensions)%20!0%20%3D%3D%3D%20this.extensions%5Bt%5D%20%26%26%20(i%5Bt%5D%20%3D%20!0)%3B%20return%20Object.keys(i).length%20%3E%200%20%26%26%20(e.extensions%20%3D%20i)%2C%20e%20%7D%20%7D%20class%20en%20extends%20si%20%7B%20constructor()%20%7B%20super()%2C%20this.isCamera%20%3D%20!0%2C%20this.type%20%3D%20%22Camera%22%2C%20this.matrixWorldInverse%20%3D%20new%20Ne%2C%20this.projectionMatrix%20%3D%20new%20Ne%2C%20this.projectionMatrixInverse%20%3D%20new%20Ne%20%7D%20copy(t%2C%20e)%20%7B%20return%20super.copy(t%2C%20e)%2C%20this.matrixWorldInverse.copy(t.matrixWorldInverse)%2C%20this.projectionMatrix.copy(t.projectionMatrix)%2C%20this.projectionMatrixInverse.copy(t.projectionMatrixInverse)%2C%20this%20%7D%20getWorldDirection(t)%20%7B%20this.updateWorldMatrix(!0%2C%20!1)%3B%20const%20e%20%3D%20this.matrixWorld.elements%3B%20return%20t.set(-e%5B8%5D%2C%20-e%5B9%5D%2C%20-e%5B10%5D).normalize()%20%7D%20updateMatrixWorld(t)%20%7B%20super.updateMatrixWorld(t)%2C%20this.matrixWorldInverse.copy(this.matrixWorld).invert()%20%7D%20updateWorldMatrix(t%2C%20e)%20%7B%20super.updateWorldMatrix(t%2C%20e)%2C%20this.matrixWorldInverse.copy(this.matrixWorld).invert()%20%7D%20clone()%20%7B%20return%20(new%20this.constructor).copy(this)%20%7D%20%7D%20class%20nn%20extends%20en%20%7B%20constructor(t%20%3D%2050%2C%20e%20%3D%201%2C%20i%20%3D%20.1%2C%20n%20%3D%202e3)%20%7B%20super()%2C%20this.isPerspectiveCamera%20%3D%20!0%2C%20this.type%20%3D%20%22PerspectiveCamera%22%2C%20this.fov%20%3D%20t%2C%20this.zoom%20%3D%201%2C%20this.near%20%3D%20i%2C%20this.far%20%3D%20n%2C%20this.focus%20%3D%2010%2C%20this.aspect%20%3D%20e%2C%20this.view%20%3D%20null%2C%20this.filmGauge%20%3D%2035%2C%20this.filmOffset%20%3D%200%2C%20this.updateProjectionMatrix()%20%7D%20copy(t%2C%20e)%20%7B%20return%20super.copy(t%2C%20e)%2C%20this.fov%20%3D%20t.fov%2C%20this.zoom%20%3D%20t.zoom%2C%20this.near%20%3D%20t.near%2C%20this.far%20%3D%20t.far%2C%20this.focus%20%3D%20t.focus%2C%20this.aspect%20%3D%20t.aspect%2C%20this.view%20%3D%20null%20%3D%3D%3D%20t.view%20%3F%20null%20%3A%20Object.assign(%7B%7D%2C%20t.view)%2C%20this.filmGauge%20%3D%20t.filmGauge%2C%20this.filmOffset%20%3D%20t.filmOffset%2C%20this%20%7D%20setFocalLength(t)%20%7B%20const%20e%20%3D%20.5%20*%20this.getFilmHeight()%20%2F%20t%3B%20this.fov%20%3D%202%20*%20xt%20*%20Math.atan(e)%2C%20this.updateProjectionMatrix()%20%7D%20getFocalLength()%20%7B%20const%20t%20%3D%20Math.tan(.5%20*%20vt%20*%20this.fov)%3B%20return%20.5%20*%20this.getFilmHeight()%20%2F%20t%20%7D%20getEffectiveFOV()%20%7B%20return%202%20*%20xt%20*%20Math.atan(Math.tan(.5%20*%20vt%20*%20this.fov)%20%2F%20this.zoom)%20%7D%20getFilmWidth()%20%7B%20return%20this.filmGauge%20*%20Math.min(this.aspect%2C%201)%20%7D%20getFilmHeight()%20%7B%20return%20this.filmGauge%20%2F%20Math.max(this.aspect%2C%201)%20%7D%20setViewOffset(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s)%20%7B%20this.aspect%20%3D%20t%20%2F%20e%2C%20null%20%3D%3D%3D%20this.view%20%26%26%20(this.view%20%3D%20%7B%20enabled%3A%20!0%2C%20fullWidth%3A%201%2C%20fullHeight%3A%201%2C%20offsetX%3A%200%2C%20offsetY%3A%200%2C%20width%3A%201%2C%20height%3A%201%20%7D)%2C%20this.view.enabled%20%3D%20!0%2C%20this.view.fullWidth%20%3D%20t%2C%20this.view.fullHeight%20%3D%20e%2C%20this.view.offsetX%20%3D%20i%2C%20this.view.offsetY%20%3D%20n%2C%20this.view.width%20%3D%20r%2C%20this.view.height%20%3D%20s%2C%20this.updateProjectionMatrix()%20%7D%20clearViewOffset()%20%7B%20null%20!%3D%3D%20this.view%20%26%26%20(this.view.enabled%20%3D%20!1)%2C%20this.updateProjectionMatrix()%20%7D%20updateProjectionMatrix()%20%7B%20const%20t%20%3D%20this.near%3B%20let%20e%20%3D%20t%20*%20Math.tan(.5%20*%20vt%20*%20this.fov)%20%2F%20this.zoom%2C%20i%20%3D%202%20*%20e%2C%20n%20%3D%20this.aspect%20*%20i%2C%20r%20%3D%20-.5%20*%20n%3B%20const%20s%20%3D%20this.view%3B%20if%20(null%20!%3D%3D%20this.view%20%26%26%20this.view.enabled)%20%7B%20const%20t%20%3D%20s.fullWidth%2C%20a%20%3D%20s.fullHeight%3B%20r%20%2B%3D%20s.offsetX%20*%20n%20%2F%20t%2C%20e%20-%3D%20s.offsetY%20*%20i%20%2F%20a%2C%20n%20*%3D%20s.width%20%2F%20t%2C%20i%20*%3D%20s.height%20%2F%20a%20%7D%20const%20a%20%3D%20this.filmOffset%3B%200%20!%3D%3D%20a%20%26%26%20(r%20%2B%3D%20t%20*%20a%20%2F%20this.getFilmWidth())%2C%20this.projectionMatrix.makePerspective(r%2C%20r%20%2B%20n%2C%20e%2C%20e%20-%20i%2C%20t%2C%20this.far)%2C%20this.projectionMatrixInverse.copy(this.projectionMatrix).invert()%20%7D%20toJSON(t)%20%7B%20const%20e%20%3D%20super.toJSON(t)%3B%20return%20e.object.fov%20%3D%20this.fov%2C%20e.object.zoom%20%3D%20this.zoom%2C%20e.object.near%20%3D%20this.near%2C%20e.object.far%20%3D%20this.far%2C%20e.object.focus%20%3D%20this.focus%2C%20e.object.aspect%20%3D%20this.aspect%2C%20null%20!%3D%3D%20this.view%20%26%26%20(e.object.view%20%3D%20Object.assign(%7B%7D%2C%20this.view))%2C%20e.object.filmGauge%20%3D%20this.filmGauge%2C%20e.object.filmOffset%20%3D%20this.filmOffset%2C%20e%20%7D%20%7D%20const%20rn%20%3D%20-90%3B%20class%20sn%20extends%20si%20%7B%20constructor(t%2C%20e%2C%20i)%20%7B%20super()%2C%20this.type%20%3D%20%22CubeCamera%22%2C%20this.renderTarget%20%3D%20i%3B%20const%20n%20%3D%20new%20nn(rn%2C%201%2C%20t%2C%20e)%3B%20n.layers%20%3D%20this.layers%2C%20n.up.set(0%2C%201%2C%200)%2C%20n.lookAt(1%2C%200%2C%200)%2C%20this.add(n)%3B%20const%20r%20%3D%20new%20nn(rn%2C%201%2C%20t%2C%20e)%3B%20r.layers%20%3D%20this.layers%2C%20r.up.set(0%2C%201%2C%200)%2C%20r.lookAt(-1%2C%200%2C%200)%2C%20this.add(r)%3B%20const%20s%20%3D%20new%20nn(rn%2C%201%2C%20t%2C%20e)%3B%20s.layers%20%3D%20this.layers%2C%20s.up.set(0%2C%200%2C%20-1)%2C%20s.lookAt(0%2C%201%2C%200)%2C%20this.add(s)%3B%20const%20a%20%3D%20new%20nn(rn%2C%201%2C%20t%2C%20e)%3B%20a.layers%20%3D%20this.layers%2C%20a.up.set(0%2C%200%2C%201)%2C%20a.lookAt(0%2C%20-1%2C%200)%2C%20this.add(a)%3B%20const%20o%20%3D%20new%20nn(rn%2C%201%2C%20t%2C%20e)%3B%20o.layers%20%3D%20this.layers%2C%20o.up.set(0%2C%201%2C%200)%2C%20o.lookAt(0%2C%200%2C%201)%2C%20this.add(o)%3B%20const%20l%20%3D%20new%20nn(rn%2C%201%2C%20t%2C%20e)%3B%20l.layers%20%3D%20this.layers%2C%20l.up.set(0%2C%201%2C%200)%2C%20l.lookAt(0%2C%200%2C%20-1)%2C%20this.add(l)%20%7D%20update(t%2C%20e)%20%7B%20null%20%3D%3D%3D%20this.parent%20%26%26%20this.updateMatrixWorld()%3B%20const%20i%20%3D%20this.renderTarget%2C%20%5Bn%2C%20r%2C%20s%2C%20a%2C%20o%2C%20l%5D%20%3D%20this.children%2C%20c%20%3D%20t.getRenderTarget()%2C%20h%20%3D%20t.toneMapping%2C%20u%20%3D%20t.xr.enabled%3B%20t.toneMapping%20%3D%200%2C%20t.xr.enabled%20%3D%20!1%3B%20const%20d%20%3D%20i.texture.generateMipmaps%3B%20i.texture.generateMipmaps%20%3D%20!1%2C%20t.setRenderTarget(i%2C%200)%2C%20t.render(e%2C%20n)%2C%20t.setRenderTarget(i%2C%201)%2C%20t.render(e%2C%20r)%2C%20t.setRenderTarget(i%2C%202)%2C%20t.render(e%2C%20s)%2C%20t.setRenderTarget(i%2C%203)%2C%20t.render(e%2C%20a)%2C%20t.setRenderTarget(i%2C%204)%2C%20t.render(e%2C%20o)%2C%20i.texture.generateMipmaps%20%3D%20d%2C%20t.setRenderTarget(i%2C%205)%2C%20t.render(e%2C%20l)%2C%20t.setRenderTarget(c)%2C%20t.toneMapping%20%3D%20h%2C%20t.xr.enabled%20%3D%20u%2C%20i.texture.needsPMREMUpdate%20%3D%20!0%20%7D%20%7D%20class%20an%20extends%20%24t%20%7B%20constructor(t%2C%20e%2C%20i%2C%20n%2C%20s%2C%20a%2C%20o%2C%20l%2C%20c%2C%20h)%20%7B%20super(t%20%3D%20void%200%20!%3D%3D%20t%20%3F%20t%20%3A%20%5B%5D%2C%20e%20%3D%20void%200%20!%3D%3D%20e%20%3F%20e%20%3A%20r%2C%20i%2C%20n%2C%20s%2C%20a%2C%20o%2C%20l%2C%20c%2C%20h)%2C%20this.isCubeTexture%20%3D%20!0%2C%20this.flipY%20%3D%20!1%20%7D%20get%20images()%20%7B%20return%20this.image%20%7D%20set%20images(t)%20%7B%20this.image%20%3D%20t%20%7D%20%7D%20class%20on%20extends%20te%20%7B%20constructor(t%20%3D%201%2C%20e%20%3D%20%7B%7D)%20%7B%20super(t%2C%20t%2C%20e)%2C%20this.isWebGLCubeRenderTarget%20%3D%20!0%3B%20const%20i%20%3D%20%7B%20width%3A%20t%2C%20height%3A%20t%2C%20depth%3A%201%20%7D%2C%20n%20%3D%20%5Bi%2C%20i%2C%20i%2C%20i%2C%20i%2C%20i%5D%3B%20this.texture%20%3D%20new%20an(n%2C%20e.mapping%2C%20e.wrapS%2C%20e.wrapT%2C%20e.magFilter%2C%20e.minFilter%2C%20e.format%2C%20e.type%2C%20e.anisotropy%2C%20e.encoding)%2C%20this.texture.isRenderTargetTexture%20%3D%20!0%2C%20this.texture.generateMipmaps%20%3D%20void%200%20!%3D%3D%20e.generateMipmaps%20%26%26%20e.generateMipmaps%2C%20this.texture.minFilter%20%3D%20void%200%20!%3D%3D%20e.minFilter%20%3F%20e.minFilter%20%3A%20f%20%7D%20fromEquirectangularTexture(t%2C%20e)%20%7B%20this.texture.type%20%3D%20e.type%2C%20this.texture.encoding%20%3D%20e.encoding%2C%20this.texture.generateMipmaps%20%3D%20e.generateMipmaps%2C%20this.texture.minFilter%20%3D%20e.minFilter%2C%20this.texture.magFilter%20%3D%20e.magFilter%3B%20const%20i%20%3D%20%7B%20uniforms%3A%20%7B%20tEquirect%3A%20%7B%20value%3A%20null%20%7D%20%7D%2C%20vertexShader%3A%20%22%5Cn%5Cn%5Ct%5Ct%5Ct%5Ctvarying%20vec3%20vWorldDirection%3B%5Cn%5Cn%5Ct%5Ct%5Ct%5Ctvec3%20transformDirection(%20in%20vec3%20dir%2C%20in%20mat4%20matrix%20)%20%7B%5Cn%5Cn%5Ct%5Ct%5Ct%5Ct%5Ctreturn%20normalize(%20(%20matrix%20*%20vec4(%20dir%2C%200.0%20)%20).xyz%20)%3B%5Cn%5Cn%5Ct%5Ct%5Ct%5Ct%7D%5Cn%5Cn%5Ct%5Ct%5Ct%5Ctvoid%20main()%20%7B%5Cn%5Cn%5Ct%5Ct%5Ct%5Ct%5CtvWorldDirection%20%3D%20transformDirection(%20position%2C%20modelMatrix%20)%3B%5Cn%5Cn%5Ct%5Ct%5Ct%5Ct%5Ct%23include%20%3Cbegin_vertex%3E%5Cn%5Ct%5Ct%5Ct%5Ct%5Ct%23include%20%3Cproject_vertex%3E%5Cn%5Cn%5Ct%5Ct%5Ct%5Ct%7D%5Cn%5Ct%5Ct%5Ct%22%2C%20fragmentShader%3A%20%22%5Cn%5Cn%5Ct%5Ct%5Ct%5Ctuniform%20sampler2D%20tEquirect%3B%5Cn%5Cn%5Ct%5Ct%5Ct%5Ctvarying%20vec3%20vWorldDirection%3B%5Cn%5Cn%5Ct%5Ct%5Ct%5Ct%23include%20%3Ccommon%3E%5Cn%5Cn%5Ct%5Ct%5Ct%5Ctvoid%20main()%20%7B%5Cn%5Cn%5Ct%5Ct%5Ct%5Ct%5Ctvec3%20direction%20%3D%20normalize(%20vWorldDirection%20)%3B%5Cn%5Cn%5Ct%5Ct%5Ct%5Ct%5Ctvec2%20sampleUV%20%3D%20equirectUv(%20direction%20)%3B%5Cn%5Cn%5Ct%5Ct%5Ct%5Ct%5Ctgl_FragColor%20%3D%20texture2D(%20tEquirect%2C%20sampleUV%20)%3B%5Cn%5Cn%5Ct%5Ct%5Ct%5Ct%7D%5Cn%5Ct%5Ct%5Ct%22%20%7D%2C%20n%20%3D%20new%20Zi(5%2C%205%2C%205)%2C%20r%20%3D%20new%20tn(%7B%20name%3A%20%22CubemapFromEquirect%22%2C%20uniforms%3A%20Ji(i.uniforms)%2C%20vertexShader%3A%20i.vertexShader%2C%20fragmentShader%3A%20i.fragmentShader%2C%20side%3A%201%2C%20blending%3A%200%20%7D)%3B%20r.uniforms.tEquirect.value%20%3D%20e%3B%20const%20s%20%3D%20new%20Xi(n%2C%20r)%2C%20a%20%3D%20e.minFilter%3B%20e.minFilter%20%3D%3D%3D%20v%20%26%26%20(e.minFilter%20%3D%20f)%3B%20return%20new%20sn(1%2C%2010%2C%20this).update(t%2C%20s)%2C%20e.minFilter%20%3D%20a%2C%20s.geometry.dispose()%2C%20s.material.dispose()%2C%20this%20%7D%20clear(t%2C%20e%2C%20i%2C%20n)%20%7B%20const%20r%20%3D%20t.getRenderTarget()%3B%20for%20(let%20r%20%3D%200%3B%20r%20%3C%206%3B%20r%2B%2B)t.setRenderTarget(this%2C%20r)%2C%20t.clear(e%2C%20i%2C%20n)%3B%20t.setRenderTarget(r)%20%7D%20%7D%20const%20ln%20%3D%20new%20re%2C%20cn%20%3D%20new%20re%2C%20hn%20%3D%20new%20Rt%3B%20class%20un%20%7B%20constructor(t%20%3D%20new%20re(1%2C%200%2C%200)%2C%20e%20%3D%200)%20%7B%20this.isPlane%20%3D%20!0%2C%20this.normal%20%3D%20t%2C%20this.constant%20%3D%20e%20%7D%20set(t%2C%20e)%20%7B%20return%20this.normal.copy(t)%2C%20this.constant%20%3D%20e%2C%20this%20%7D%20setComponents(t%2C%20e%2C%20i%2C%20n)%20%7B%20return%20this.normal.set(t%2C%20e%2C%20i)%2C%20this.constant%20%3D%20n%2C%20this%20%7D%20setFromNormalAndCoplanarPoint(t%2C%20e)%20%7B%20return%20this.normal.copy(t)%2C%20this.constant%20%3D%20-e.dot(this.normal)%2C%20this%20%7D%20setFromCoplanarPoints(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20ln.subVectors(i%2C%20e).cross(cn.subVectors(t%2C%20e)).normalize()%3B%20return%20this.setFromNormalAndCoplanarPoint(n%2C%20t)%2C%20this%20%7D%20copy(t)%20%7B%20return%20this.normal.copy(t.normal)%2C%20this.constant%20%3D%20t.constant%2C%20this%20%7D%20normalize()%20%7B%20const%20t%20%3D%201%20%2F%20this.normal.length()%3B%20return%20this.normal.multiplyScalar(t)%2C%20this.constant%20*%3D%20t%2C%20this%20%7D%20negate()%20%7B%20return%20this.constant%20*%3D%20-1%2C%20this.normal.negate()%2C%20this%20%7D%20distanceToPoint(t)%20%7B%20return%20this.normal.dot(t)%20%2B%20this.constant%20%7D%20distanceToSphere(t)%20%7B%20return%20this.distanceToPoint(t.center)%20-%20t.radius%20%7D%20projectPoint(t%2C%20e)%20%7B%20return%20e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)%20%7D%20intersectLine(t%2C%20e)%20%7B%20const%20i%20%3D%20t.delta(ln)%2C%20n%20%3D%20this.normal.dot(i)%3B%20if%20(0%20%3D%3D%3D%20n)%20return%200%20%3D%3D%3D%20this.distanceToPoint(t.start)%20%3F%20e.copy(t.start)%20%3A%20null%3B%20const%20r%20%3D%20-(t.start.dot(this.normal)%20%2B%20this.constant)%20%2F%20n%3B%20return%20r%20%3C%200%20%7C%7C%20r%20%3E%201%20%3F%20null%20%3A%20e.copy(i).multiplyScalar(r).add(t.start)%20%7D%20intersectsLine(t)%20%7B%20const%20e%20%3D%20this.distanceToPoint(t.start)%2C%20i%20%3D%20this.distanceToPoint(t.end)%3B%20return%20e%20%3C%200%20%26%26%20i%20%3E%200%20%7C%7C%20i%20%3C%200%20%26%26%20e%20%3E%200%20%7D%20intersectsBox(t)%20%7B%20return%20t.intersectsPlane(this)%20%7D%20intersectsSphere(t)%20%7B%20return%20t.intersectsPlane(this)%20%7D%20coplanarPoint(t)%20%7B%20return%20t.copy(this.normal).multiplyScalar(-this.constant)%20%7D%20applyMatrix4(t%2C%20e)%20%7B%20const%20i%20%3D%20e%20%7C%7C%20hn.getNormalMatrix(t)%2C%20n%20%3D%20this.coplanarPoint(ln).applyMatrix4(t)%2C%20r%20%3D%20this.normal.applyMatrix3(i).normalize()%3B%20return%20this.constant%20%3D%20-n.dot(r)%2C%20this%20%7D%20translate(t)%20%7B%20return%20this.constant%20-%3D%20t.dot(this.normal)%2C%20this%20%7D%20equals(t)%20%7B%20return%20t.normal.equals(this.normal)%20%26%26%20t.constant%20%3D%3D%3D%20this.constant%20%7D%20clone()%20%7B%20return%20(new%20this.constructor).copy(this)%20%7D%20%7D%20const%20dn%20%3D%20new%20Te%2C%20pn%20%3D%20new%20re%3B%20class%20mn%20%7B%20constructor(t%20%3D%20new%20un%2C%20e%20%3D%20new%20un%2C%20i%20%3D%20new%20un%2C%20n%20%3D%20new%20un%2C%20r%20%3D%20new%20un%2C%20s%20%3D%20new%20un)%20%7B%20this.planes%20%3D%20%5Bt%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%5D%20%7D%20set(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s)%20%7B%20const%20a%20%3D%20this.planes%3B%20return%20a%5B0%5D.copy(t)%2C%20a%5B1%5D.copy(e)%2C%20a%5B2%5D.copy(i)%2C%20a%5B3%5D.copy(n)%2C%20a%5B4%5D.copy(r)%2C%20a%5B5%5D.copy(s)%2C%20this%20%7D%20copy(t)%20%7B%20const%20e%20%3D%20this.planes%3B%20for%20(let%20i%20%3D%200%3B%20i%20%3C%206%3B%20i%2B%2B)e%5Bi%5D.copy(t.planes%5Bi%5D)%3B%20return%20this%20%7D%20setFromProjectionMatrix(t)%20%7B%20const%20e%20%3D%20this.planes%2C%20i%20%3D%20t.elements%2C%20n%20%3D%20i%5B0%5D%2C%20r%20%3D%20i%5B1%5D%2C%20s%20%3D%20i%5B2%5D%2C%20a%20%3D%20i%5B3%5D%2C%20o%20%3D%20i%5B4%5D%2C%20l%20%3D%20i%5B5%5D%2C%20c%20%3D%20i%5B6%5D%2C%20h%20%3D%20i%5B7%5D%2C%20u%20%3D%20i%5B8%5D%2C%20d%20%3D%20i%5B9%5D%2C%20p%20%3D%20i%5B10%5D%2C%20m%20%3D%20i%5B11%5D%2C%20f%20%3D%20i%5B12%5D%2C%20g%20%3D%20i%5B13%5D%2C%20v%20%3D%20i%5B14%5D%2C%20x%20%3D%20i%5B15%5D%3B%20return%20e%5B0%5D.setComponents(a%20-%20n%2C%20h%20-%20o%2C%20m%20-%20u%2C%20x%20-%20f).normalize()%2C%20e%5B1%5D.setComponents(a%20%2B%20n%2C%20h%20%2B%20o%2C%20m%20%2B%20u%2C%20x%20%2B%20f).normalize()%2C%20e%5B2%5D.setComponents(a%20%2B%20r%2C%20h%20%2B%20l%2C%20m%20%2B%20d%2C%20x%20%2B%20g).normalize()%2C%20e%5B3%5D.setComponents(a%20-%20r%2C%20h%20-%20l%2C%20m%20-%20d%2C%20x%20-%20g).normalize()%2C%20e%5B4%5D.setComponents(a%20-%20s%2C%20h%20-%20c%2C%20m%20-%20p%2C%20x%20-%20v).normalize()%2C%20e%5B5%5D.setComponents(a%20%2B%20s%2C%20h%20%2B%20c%2C%20m%20%2B%20p%2C%20x%20%2B%20v).normalize()%2C%20this%20%7D%20intersectsObject(t)%20%7B%20const%20e%20%3D%20t.geometry%3B%20return%20null%20%3D%3D%3D%20e.boundingSphere%20%26%26%20e.computeBoundingSphere()%2C%20dn.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)%2C%20this.intersectsSphere(dn)%20%7D%20intersectsSprite(t)%20%7B%20return%20dn.center.set(0%2C%200%2C%200)%2C%20dn.radius%20%3D%20.7071067811865476%2C%20dn.applyMatrix4(t.matrixWorld)%2C%20this.intersectsSphere(dn)%20%7D%20intersectsSphere(t)%20%7B%20const%20e%20%3D%20this.planes%2C%20i%20%3D%20t.center%2C%20n%20%3D%20-t.radius%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%206%3B%20t%2B%2B)%20%7B%20if%20(e%5Bt%5D.distanceToPoint(i)%20%3C%20n)%20return%20!1%20%7D%20return%20!0%20%7D%20intersectsBox(t)%20%7B%20const%20e%20%3D%20this.planes%3B%20for%20(let%20i%20%3D%200%3B%20i%20%3C%206%3B%20i%2B%2B)%20%7B%20const%20n%20%3D%20e%5Bi%5D%3B%20if%20(pn.x%20%3D%20n.normal.x%20%3E%200%20%3F%20t.max.x%20%3A%20t.min.x%2C%20pn.y%20%3D%20n.normal.y%20%3E%200%20%3F%20t.max.y%20%3A%20t.min.y%2C%20pn.z%20%3D%20n.normal.z%20%3E%200%20%3F%20t.max.z%20%3A%20t.min.z%2C%20n.distanceToPoint(pn)%20%3C%200)%20return%20!1%20%7D%20return%20!0%20%7D%20containsPoint(t)%20%7B%20const%20e%20%3D%20this.planes%3B%20for%20(let%20i%20%3D%200%3B%20i%20%3C%206%3B%20i%2B%2B)if%20(e%5Bi%5D.distanceToPoint(t)%20%3C%200)%20return%20!1%3B%20return%20!0%20%7D%20clone()%20%7B%20return%20(new%20this.constructor).copy(this)%20%7D%20%7D%20function%20fn()%20%7B%20let%20t%20%3D%20null%2C%20e%20%3D%20!1%2C%20i%20%3D%20null%2C%20n%20%3D%20null%3B%20function%20r(e%2C%20s)%20%7B%20i(e%2C%20s)%2C%20n%20%3D%20t.requestAnimationFrame(r)%20%7D%20return%20%7B%20start%3A%20function%20()%20%7B%20!0%20!%3D%3D%20e%20%26%26%20null%20!%3D%3D%20i%20%26%26%20(n%20%3D%20t.requestAnimationFrame(r)%2C%20e%20%3D%20!0)%20%7D%2C%20stop%3A%20function%20()%20%7B%20t.cancelAnimationFrame(n)%2C%20e%20%3D%20!1%20%7D%2C%20setAnimationLoop%3A%20function%20(t)%20%7B%20i%20%3D%20t%20%7D%2C%20setContext%3A%20function%20(e)%20%7B%20t%20%3D%20e%20%7D%20%7D%20%7D%20function%20gn(t%2C%20e)%20%7B%20const%20i%20%3D%20e.isWebGL2%2C%20n%20%3D%20new%20WeakMap%3B%20return%20%7B%20get%3A%20function%20(t)%20%7B%20return%20t.isInterleavedBufferAttribute%20%26%26%20(t%20%3D%20t.data)%2C%20n.get(t)%20%7D%2C%20remove%3A%20function%20(e)%20%7B%20e.isInterleavedBufferAttribute%20%26%26%20(e%20%3D%20e.data)%3B%20const%20i%20%3D%20n.get(e)%3B%20i%20%26%26%20(t.deleteBuffer(i.buffer)%2C%20n.delete(e))%20%7D%2C%20update%3A%20function%20(e%2C%20r)%20%7B%20if%20(e.isGLBufferAttribute)%20%7B%20const%20t%20%3D%20n.get(e)%3B%20return%20void%20((!t%20%7C%7C%20t.version%20%3C%20e.version)%20%26%26%20n.set(e%2C%20%7B%20buffer%3A%20e.buffer%2C%20type%3A%20e.type%2C%20bytesPerElement%3A%20e.elementSize%2C%20version%3A%20e.version%20%7D))%20%7D%20e.isInterleavedBufferAttribute%20%26%26%20(e%20%3D%20e.data)%3B%20const%20s%20%3D%20n.get(e)%3B%20void%200%20%3D%3D%3D%20s%20%3F%20n.set(e%2C%20function%20(e%2C%20n)%20%7B%20const%20r%20%3D%20e.array%2C%20s%20%3D%20e.usage%2C%20a%20%3D%20t.createBuffer()%3B%20let%20o%3B%20if%20(t.bindBuffer(n%2C%20a)%2C%20t.bufferData(n%2C%20r%2C%20s)%2C%20e.onUploadCallback()%2C%20r%20instanceof%20Float32Array)%20o%20%3D%205126%3B%20else%20if%20(r%20instanceof%20Uint16Array)%20if%20(e.isFloat16BufferAttribute)%20%7B%20if%20(!i)%20throw%20new%20Error(%22THREE.WebGLAttributes%3A%20Usage%20of%20Float16BufferAttribute%20requires%20WebGL2.%22)%3B%20o%20%3D%205131%20%7D%20else%20o%20%3D%205123%3B%20else%20if%20(r%20instanceof%20Int16Array)%20o%20%3D%205122%3B%20else%20if%20(r%20instanceof%20Uint32Array)%20o%20%3D%205125%3B%20else%20if%20(r%20instanceof%20Int32Array)%20o%20%3D%205124%3B%20else%20if%20(r%20instanceof%20Int8Array)%20o%20%3D%205120%3B%20else%20if%20(r%20instanceof%20Uint8Array)%20o%20%3D%205121%3B%20else%20%7B%20if%20(!(r%20instanceof%20Uint8ClampedArray))%20throw%20new%20Error(%22THREE.WebGLAttributes%3A%20Unsupported%20buffer%20data%20format%3A%20%22%20%2B%20r)%3B%20o%20%3D%205121%20%7D%20return%20%7B%20buffer%3A%20a%2C%20type%3A%20o%2C%20bytesPerElement%3A%20r.BYTES_PER_ELEMENT%2C%20version%3A%20e.version%20%7D%20%7D(e%2C%20r))%20%3A%20s.version%20%3C%20e.version%20%26%26%20(!function%20(e%2C%20n%2C%20r)%20%7B%20const%20s%20%3D%20n.array%2C%20a%20%3D%20n.updateRange%3B%20t.bindBuffer(r%2C%20e)%2C%20-1%20%3D%3D%3D%20a.count%20%3F%20t.bufferSubData(r%2C%200%2C%20s)%20%3A%20(i%20%3F%20t.bufferSubData(r%2C%20a.offset%20*%20s.BYTES_PER_ELEMENT%2C%20s%2C%20a.offset%2C%20a.count)%20%3A%20t.bufferSubData(r%2C%20a.offset%20*%20s.BYTES_PER_ELEMENT%2C%20s.subarray(a.offset%2C%20a.offset%20%2B%20a.count))%2C%20a.count%20%3D%20-1)%2C%20n.onUploadCallback()%20%7D(s.buffer%2C%20e%2C%20r)%2C%20s.version%20%3D%20e.version)%20%7D%20%7D%20%7D%20class%20vn%20extends%20Di%20%7B%20constructor(t%20%3D%201%2C%20e%20%3D%201%2C%20i%20%3D%201%2C%20n%20%3D%201)%20%7B%20super()%2C%20this.type%20%3D%20%22PlaneGeometry%22%2C%20this.parameters%20%3D%20%7B%20width%3A%20t%2C%20height%3A%20e%2C%20widthSegments%3A%20i%2C%20heightSegments%3A%20n%20%7D%3B%20const%20r%20%3D%20t%20%2F%202%2C%20s%20%3D%20e%20%2F%202%2C%20a%20%3D%20Math.floor(i)%2C%20o%20%3D%20Math.floor(n)%2C%20l%20%3D%20a%20%2B%201%2C%20c%20%3D%20o%20%2B%201%2C%20h%20%3D%20t%20%2F%20a%2C%20u%20%3D%20e%20%2F%20o%2C%20d%20%3D%20%5B%5D%2C%20p%20%3D%20%5B%5D%2C%20m%20%3D%20%5B%5D%2C%20f%20%3D%20%5B%5D%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20c%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20t%20*%20u%20-%20s%3B%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20l%3B%20i%2B%2B)%20%7B%20const%20n%20%3D%20i%20*%20h%20-%20r%3B%20p.push(n%2C%20-e%2C%200)%2C%20m.push(0%2C%200%2C%201)%2C%20f.push(i%20%2F%20a)%2C%20f.push(1%20-%20t%20%2F%20o)%20%7D%20%7D%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20o%3B%20t%2B%2B)for%20(let%20e%20%3D%200%3B%20e%20%3C%20a%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20e%20%2B%20l%20*%20t%2C%20n%20%3D%20e%20%2B%20l%20*%20(t%20%2B%201)%2C%20r%20%3D%20e%20%2B%201%20%2B%20l%20*%20(t%20%2B%201)%2C%20s%20%3D%20e%20%2B%201%20%2B%20l%20*%20t%3B%20d.push(i%2C%20n%2C%20s)%2C%20d.push(n%2C%20r%2C%20s)%20%7D%20this.setIndex(d)%2C%20this.setAttribute(%22position%22%2C%20new%20Ti(p%2C%203))%2C%20this.setAttribute(%22normal%22%2C%20new%20Ti(m%2C%203))%2C%20this.setAttribute(%22uv%22%2C%20new%20Ti(f%2C%202))%20%7D%20static%20fromJSON(t)%20%7B%20return%20new%20vn(t.width%2C%20t.height%2C%20t.widthSegments%2C%20t.heightSegments)%20%7D%20%7D%20const%20xn%20%3D%20%7B%20alphamap_fragment%3A%20%22%23ifdef%20USE_ALPHAMAP%5Cn%5CtdiffuseColor.a%20*%3D%20texture2D(%20alphaMap%2C%20vUv%20).g%3B%5Cn%23endif%22%2C%20alphamap_pars_fragment%3A%20%22%23ifdef%20USE_ALPHAMAP%5Cn%5Ctuniform%20sampler2D%20alphaMap%3B%5Cn%23endif%22%2C%20alphatest_fragment%3A%20%22%23ifdef%20USE_ALPHATEST%5Cn%5Ctif%20(%20diffuseColor.a%20%3C%20alphaTest%20)%20discard%3B%5Cn%23endif%22%2C%20alphatest_pars_fragment%3A%20%22%23ifdef%20USE_ALPHATEST%5Cn%5Ctuniform%20float%20alphaTest%3B%5Cn%23endif%22%2C%20aomap_fragment%3A%20%22%23ifdef%20USE_AOMAP%5Cn%5Ctfloat%20ambientOcclusion%20%3D%20(%20texture2D(%20aoMap%2C%20vUv2%20).r%20-%201.0%20)%20*%20aoMapIntensity%20%2B%201.0%3B%5Cn%5CtreflectedLight.indirectDiffuse%20*%3D%20ambientOcclusion%3B%5Cn%5Ct%23if%20defined(%20USE_ENVMAP%20)%20%26%26%20defined(%20STANDARD%20)%5Cn%5Ct%5Ctfloat%20dotNV%20%3D%20saturate(%20dot(%20geometry.normal%2C%20geometry.viewDir%20)%20)%3B%5Cn%5Ct%5CtreflectedLight.indirectSpecular%20*%3D%20computeSpecularOcclusion(%20dotNV%2C%20ambientOcclusion%2C%20material.roughness%20)%3B%5Cn%5Ct%23endif%5Cn%23endif%22%2C%20aomap_pars_fragment%3A%20%22%23ifdef%20USE_AOMAP%5Cn%5Ctuniform%20sampler2D%20aoMap%3B%5Cn%5Ctuniform%20float%20aoMapIntensity%3B%5Cn%23endif%22%2C%20begin_vertex%3A%20%22vec3%20transformed%20%3D%20vec3(%20position%20)%3B%22%2C%20beginnormal_vertex%3A%20%22vec3%20objectNormal%20%3D%20vec3(%20normal%20)%3B%5Cn%23ifdef%20USE_TANGENT%5Cn%5Ctvec3%20objectTangent%20%3D%20vec3(%20tangent.xyz%20)%3B%5Cn%23endif%22%2C%20bsdfs%3A%20%22vec3%20BRDF_Lambert(%20const%20in%20vec3%20diffuseColor%20)%20%7B%5Cn%5Ctreturn%20RECIPROCAL_PI%20*%20diffuseColor%3B%5Cn%7D%5Cnvec3%20F_Schlick(%20const%20in%20vec3%20f0%2C%20const%20in%20float%20f90%2C%20const%20in%20float%20dotVH%20)%20%7B%5Cn%5Ctfloat%20fresnel%20%3D%20exp2(%20(%20-%205.55473%20*%20dotVH%20-%206.98316%20)%20*%20dotVH%20)%3B%5Cn%5Ctreturn%20f0%20*%20(%201.0%20-%20fresnel%20)%20%2B%20(%20f90%20*%20fresnel%20)%3B%5Cn%7D%5Cnfloat%20F_Schlick(%20const%20in%20float%20f0%2C%20const%20in%20float%20f90%2C%20const%20in%20float%20dotVH%20)%20%7B%5Cn%5Ctfloat%20fresnel%20%3D%20exp2(%20(%20-%205.55473%20*%20dotVH%20-%206.98316%20)%20*%20dotVH%20)%3B%5Cn%5Ctreturn%20f0%20*%20(%201.0%20-%20fresnel%20)%20%2B%20(%20f90%20*%20fresnel%20)%3B%5Cn%7D%5Cnvec3%20Schlick_to_F0(%20const%20in%20vec3%20f%2C%20const%20in%20float%20f90%2C%20const%20in%20float%20dotVH%20)%20%7B%5Cn%5Ct%5Ctfloat%20x%20%3D%20clamp(%201.0%20-%20dotVH%2C%200.0%2C%201.0%20)%3B%5Cn%5Ct%5Ctfloat%20x2%20%3D%20x%20*%20x%3B%5Cn%5Ct%5Ctfloat%20x5%20%3D%20clamp(%20x%20*%20x2%20*%20x2%2C%200.0%2C%200.9999%20)%3B%5Cn%5Ct%5Ctreturn%20(%20f%20-%20vec3(%20f90%20)%20*%20x5%20)%20%2F%20(%201.0%20-%20x5%20)%3B%5Cn%7D%5Cnfloat%20V_GGX_SmithCorrelated(%20const%20in%20float%20alpha%2C%20const%20in%20float%20dotNL%2C%20const%20in%20float%20dotNV%20)%20%7B%5Cn%5Ctfloat%20a2%20%3D%20pow2(%20alpha%20)%3B%5Cn%5Ctfloat%20gv%20%3D%20dotNL%20*%20sqrt(%20a2%20%2B%20(%201.0%20-%20a2%20)%20*%20pow2(%20dotNV%20)%20)%3B%5Cn%5Ctfloat%20gl%20%3D%20dotNV%20*%20sqrt(%20a2%20%2B%20(%201.0%20-%20a2%20)%20*%20pow2(%20dotNL%20)%20)%3B%5Cn%5Ctreturn%200.5%20%2F%20max(%20gv%20%2B%20gl%2C%20EPSILON%20)%3B%5Cn%7D%5Cnfloat%20D_GGX(%20const%20in%20float%20alpha%2C%20const%20in%20float%20dotNH%20)%20%7B%5Cn%5Ctfloat%20a2%20%3D%20pow2(%20alpha%20)%3B%5Cn%5Ctfloat%20denom%20%3D%20pow2(%20dotNH%20)%20*%20(%20a2%20-%201.0%20)%20%2B%201.0%3B%5Cn%5Ctreturn%20RECIPROCAL_PI%20*%20a2%20%2F%20pow2(%20denom%20)%3B%5Cn%7D%5Cnvec3%20BRDF_GGX(%20const%20in%20vec3%20lightDir%2C%20const%20in%20vec3%20viewDir%2C%20const%20in%20vec3%20normal%2C%20const%20in%20vec3%20f0%2C%20const%20in%20float%20f90%2C%20const%20in%20float%20roughness%20)%20%7B%5Cn%5Ctfloat%20alpha%20%3D%20pow2(%20roughness%20)%3B%5Cn%5Ctvec3%20halfDir%20%3D%20normalize(%20lightDir%20%2B%20viewDir%20)%3B%5Cn%5Ctfloat%20dotNL%20%3D%20saturate(%20dot(%20normal%2C%20lightDir%20)%20)%3B%5Cn%5Ctfloat%20dotNV%20%3D%20saturate(%20dot(%20normal%2C%20viewDir%20)%20)%3B%5Cn%5Ctfloat%20dotNH%20%3D%20saturate(%20dot(%20normal%2C%20halfDir%20)%20)%3B%5Cn%5Ctfloat%20dotVH%20%3D%20saturate(%20dot(%20viewDir%2C%20halfDir%20)%20)%3B%5Cn%5Ctvec3%20F%20%3D%20F_Schlick(%20f0%2C%20f90%2C%20dotVH%20)%3B%5Cn%5Ctfloat%20V%20%3D%20V_GGX_SmithCorrelated(%20alpha%2C%20dotNL%2C%20dotNV%20)%3B%5Cn%5Ctfloat%20D%20%3D%20D_GGX(%20alpha%2C%20dotNH%20)%3B%5Cn%5Ctreturn%20F%20*%20(%20V%20*%20D%20)%3B%5Cn%7D%5Cn%23ifdef%20USE_IRIDESCENCE%5Cn%5Ctvec3%20BRDF_GGX_Iridescence(%20const%20in%20vec3%20lightDir%2C%20const%20in%20vec3%20viewDir%2C%20const%20in%20vec3%20normal%2C%20const%20in%20vec3%20f0%2C%20const%20in%20float%20f90%2C%20const%20in%20float%20iridescence%2C%20const%20in%20vec3%20iridescenceFresnel%2C%20const%20in%20float%20roughness%20)%20%7B%5Cn%5Ct%5Ctfloat%20alpha%20%3D%20pow2(%20roughness%20)%3B%5Cn%5Ct%5Ctvec3%20halfDir%20%3D%20normalize(%20lightDir%20%2B%20viewDir%20)%3B%5Cn%5Ct%5Ctfloat%20dotNL%20%3D%20saturate(%20dot(%20normal%2C%20lightDir%20)%20)%3B%5Cn%5Ct%5Ctfloat%20dotNV%20%3D%20saturate(%20dot(%20normal%2C%20viewDir%20)%20)%3B%5Cn%5Ct%5Ctfloat%20dotNH%20%3D%20saturate(%20dot(%20normal%2C%20halfDir%20)%20)%3B%5Cn%5Ct%5Ctfloat%20dotVH%20%3D%20saturate(%20dot(%20viewDir%2C%20halfDir%20)%20)%3B%5Cn%5Ct%5Ctvec3%20F%20%3D%20mix(%20F_Schlick(%20f0%2C%20f90%2C%20dotVH%20)%2C%20iridescenceFresnel%2C%20iridescence%20)%3B%5Cn%5Ct%5Ctfloat%20V%20%3D%20V_GGX_SmithCorrelated(%20alpha%2C%20dotNL%2C%20dotNV%20)%3B%5Cn%5Ct%5Ctfloat%20D%20%3D%20D_GGX(%20alpha%2C%20dotNH%20)%3B%5Cn%5Ct%5Ctreturn%20F%20*%20(%20V%20*%20D%20)%3B%5Cn%5Ct%7D%5Cn%23endif%5Cnvec2%20LTC_Uv(%20const%20in%20vec3%20N%2C%20const%20in%20vec3%20V%2C%20const%20in%20float%20roughness%20)%20%7B%5Cn%5Ctconst%20float%20LUT_SIZE%20%3D%2064.0%3B%5Cn%5Ctconst%20float%20LUT_SCALE%20%3D%20(%20LUT_SIZE%20-%201.0%20)%20%2F%20LUT_SIZE%3B%5Cn%5Ctconst%20float%20LUT_BIAS%20%3D%200.5%20%2F%20LUT_SIZE%3B%5Cn%5Ctfloat%20dotNV%20%3D%20saturate(%20dot(%20N%2C%20V%20)%20)%3B%5Cn%5Ctvec2%20uv%20%3D%20vec2(%20roughness%2C%20sqrt(%201.0%20-%20dotNV%20)%20)%3B%5Cn%5Ctuv%20%3D%20uv%20*%20LUT_SCALE%20%2B%20LUT_BIAS%3B%5Cn%5Ctreturn%20uv%3B%5Cn%7D%5Cnfloat%20LTC_ClippedSphereFormFactor(%20const%20in%20vec3%20f%20)%20%7B%5Cn%5Ctfloat%20l%20%3D%20length(%20f%20)%3B%5Cn%5Ctreturn%20max(%20(%20l%20*%20l%20%2B%20f.z%20)%20%2F%20(%20l%20%2B%201.0%20)%2C%200.0%20)%3B%5Cn%7D%5Cnvec3%20LTC_EdgeVectorFormFactor(%20const%20in%20vec3%20v1%2C%20const%20in%20vec3%20v2%20)%20%7B%5Cn%5Ctfloat%20x%20%3D%20dot(%20v1%2C%20v2%20)%3B%5Cn%5Ctfloat%20y%20%3D%20abs(%20x%20)%3B%5Cn%5Ctfloat%20a%20%3D%200.8543985%20%2B%20(%200.4965155%20%2B%200.0145206%20*%20y%20)%20*%20y%3B%5Cn%5Ctfloat%20b%20%3D%203.4175940%20%2B%20(%204.1616724%20%2B%20y%20)%20*%20y%3B%5Cn%5Ctfloat%20v%20%3D%20a%20%2F%20b%3B%5Cn%5Ctfloat%20theta_sintheta%20%3D%20(%20x%20%3E%200.0%20)%20%3F%20v%20%3A%200.5%20*%20inversesqrt(%20max(%201.0%20-%20x%20*%20x%2C%201e-7%20)%20)%20-%20v%3B%5Cn%5Ctreturn%20cross(%20v1%2C%20v2%20)%20*%20theta_sintheta%3B%5Cn%7D%5Cnvec3%20LTC_Evaluate(%20const%20in%20vec3%20N%2C%20const%20in%20vec3%20V%2C%20const%20in%20vec3%20P%2C%20const%20in%20mat3%20mInv%2C%20const%20in%20vec3%20rectCoords%5B%204%20%5D%20)%20%7B%5Cn%5Ctvec3%20v1%20%3D%20rectCoords%5B%201%20%5D%20-%20rectCoords%5B%200%20%5D%3B%5Cn%5Ctvec3%20v2%20%3D%20rectCoords%5B%203%20%5D%20-%20rectCoords%5B%200%20%5D%3B%5Cn%5Ctvec3%20lightNormal%20%3D%20cross(%20v1%2C%20v2%20)%3B%5Cn%5Ctif(%20dot(%20lightNormal%2C%20P%20-%20rectCoords%5B%200%20%5D%20)%20%3C%200.0%20)%20return%20vec3(%200.0%20)%3B%5Cn%5Ctvec3%20T1%2C%20T2%3B%5Cn%5CtT1%20%3D%20normalize(%20V%20-%20N%20*%20dot(%20V%2C%20N%20)%20)%3B%5Cn%5CtT2%20%3D%20-%20cross(%20N%2C%20T1%20)%3B%5Cn%5Ctmat3%20mat%20%3D%20mInv%20*%20transposeMat3(%20mat3(%20T1%2C%20T2%2C%20N%20)%20)%3B%5Cn%5Ctvec3%20coords%5B%204%20%5D%3B%5Cn%5Ctcoords%5B%200%20%5D%20%3D%20mat%20*%20(%20rectCoords%5B%200%20%5D%20-%20P%20)%3B%5Cn%5Ctcoords%5B%201%20%5D%20%3D%20mat%20*%20(%20rectCoords%5B%201%20%5D%20-%20P%20)%3B%5Cn%5Ctcoords%5B%202%20%5D%20%3D%20mat%20*%20(%20rectCoords%5B%202%20%5D%20-%20P%20)%3B%5Cn%5Ctcoords%5B%203%20%5D%20%3D%20mat%20*%20(%20rectCoords%5B%203%20%5D%20-%20P%20)%3B%5Cn%5Ctcoords%5B%200%20%5D%20%3D%20normalize(%20coords%5B%200%20%5D%20)%3B%5Cn%5Ctcoords%5B%201%20%5D%20%3D%20normalize(%20coords%5B%201%20%5D%20)%3B%5Cn%5Ctcoords%5B%202%20%5D%20%3D%20normalize(%20coords%5B%202%20%5D%20)%3B%5Cn%5Ctcoords%5B%203%20%5D%20%3D%20normalize(%20coords%5B%203%20%5D%20)%3B%5Cn%5Ctvec3%20vectorFormFactor%20%3D%20vec3(%200.0%20)%3B%5Cn%5CtvectorFormFactor%20%2B%3D%20LTC_EdgeVectorFormFactor(%20coords%5B%200%20%5D%2C%20coords%5B%201%20%5D%20)%3B%5Cn%5CtvectorFormFactor%20%2B%3D%20LTC_EdgeVectorFormFactor(%20coords%5B%201%20%5D%2C%20coords%5B%202%20%5D%20)%3B%5Cn%5CtvectorFormFactor%20%2B%3D%20LTC_EdgeVectorFormFactor(%20coords%5B%202%20%5D%2C%20coords%5B%203%20%5D%20)%3B%5Cn%5CtvectorFormFactor%20%2B%3D%20LTC_EdgeVectorFormFactor(%20coords%5B%203%20%5D%2C%20coords%5B%200%20%5D%20)%3B%5Cn%5Ctfloat%20result%20%3D%20LTC_ClippedSphereFormFactor(%20vectorFormFactor%20)%3B%5Cn%5Ctreturn%20vec3(%20result%20)%3B%5Cn%7D%5Cnfloat%20G_BlinnPhong_Implicit(%20)%20%7B%5Cn%5Ctreturn%200.25%3B%5Cn%7D%5Cnfloat%20D_BlinnPhong(%20const%20in%20float%20shininess%2C%20const%20in%20float%20dotNH%20)%20%7B%5Cn%5Ctreturn%20RECIPROCAL_PI%20*%20(%20shininess%20*%200.5%20%2B%201.0%20)%20*%20pow(%20dotNH%2C%20shininess%20)%3B%5Cn%7D%5Cnvec3%20BRDF_BlinnPhong(%20const%20in%20vec3%20lightDir%2C%20const%20in%20vec3%20viewDir%2C%20const%20in%20vec3%20normal%2C%20const%20in%20vec3%20specularColor%2C%20const%20in%20float%20shininess%20)%20%7B%5Cn%5Ctvec3%20halfDir%20%3D%20normalize(%20lightDir%20%2B%20viewDir%20)%3B%5Cn%5Ctfloat%20dotNH%20%3D%20saturate(%20dot(%20normal%2C%20halfDir%20)%20)%3B%5Cn%5Ctfloat%20dotVH%20%3D%20saturate(%20dot(%20viewDir%2C%20halfDir%20)%20)%3B%5Cn%5Ctvec3%20F%20%3D%20F_Schlick(%20specularColor%2C%201.0%2C%20dotVH%20)%3B%5Cn%5Ctfloat%20G%20%3D%20G_BlinnPhong_Implicit(%20)%3B%5Cn%5Ctfloat%20D%20%3D%20D_BlinnPhong(%20shininess%2C%20dotNH%20)%3B%5Cn%5Ctreturn%20F%20*%20(%20G%20*%20D%20)%3B%5Cn%7D%5Cn%23if%20defined(%20USE_SHEEN%20)%5Cnfloat%20D_Charlie(%20float%20roughness%2C%20float%20dotNH%20)%20%7B%5Cn%5Ctfloat%20alpha%20%3D%20pow2(%20roughness%20)%3B%5Cn%5Ctfloat%20invAlpha%20%3D%201.0%20%2F%20alpha%3B%5Cn%5Ctfloat%20cos2h%20%3D%20dotNH%20*%20dotNH%3B%5Cn%5Ctfloat%20sin2h%20%3D%20max(%201.0%20-%20cos2h%2C%200.0078125%20)%3B%5Cn%5Ctreturn%20(%202.0%20%2B%20invAlpha%20)%20*%20pow(%20sin2h%2C%20invAlpha%20*%200.5%20)%20%2F%20(%202.0%20*%20PI%20)%3B%5Cn%7D%5Cnfloat%20V_Neubelt(%20float%20dotNV%2C%20float%20dotNL%20)%20%7B%5Cn%5Ctreturn%20saturate(%201.0%20%2F%20(%204.0%20*%20(%20dotNL%20%2B%20dotNV%20-%20dotNL%20*%20dotNV%20)%20)%20)%3B%5Cn%7D%5Cnvec3%20BRDF_Sheen(%20const%20in%20vec3%20lightDir%2C%20const%20in%20vec3%20viewDir%2C%20const%20in%20vec3%20normal%2C%20vec3%20sheenColor%2C%20const%20in%20float%20sheenRoughness%20)%20%7B%5Cn%5Ctvec3%20halfDir%20%3D%20normalize(%20lightDir%20%2B%20viewDir%20)%3B%5Cn%5Ctfloat%20dotNL%20%3D%20saturate(%20dot(%20normal%2C%20lightDir%20)%20)%3B%5Cn%5Ctfloat%20dotNV%20%3D%20saturate(%20dot(%20normal%2C%20viewDir%20)%20)%3B%5Cn%5Ctfloat%20dotNH%20%3D%20saturate(%20dot(%20normal%2C%20halfDir%20)%20)%3B%5Cn%5Ctfloat%20D%20%3D%20D_Charlie(%20sheenRoughness%2C%20dotNH%20)%3B%5Cn%5Ctfloat%20V%20%3D%20V_Neubelt(%20dotNV%2C%20dotNL%20)%3B%5Cn%5Ctreturn%20sheenColor%20*%20(%20D%20*%20V%20)%3B%5Cn%7D%5Cn%23endif%22%2C%20iridescence_fragment%3A%20%22%23ifdef%20USE_IRIDESCENCE%5Cn%5Ctconst%20mat3%20XYZ_TO_REC709%20%3D%20mat3(%5Cn%5Ct%5Ct%203.2404542%2C%20-0.9692660%2C%5Ct0.0556434%2C%5Cn%5Ct%5Ct-1.5371385%2C%5Ct1.8760108%2C%20-0.2040259%2C%5Cn%5Ct%5Ct-0.4985314%2C%5Ct0.0415560%2C%5Ct1.0572252%5Cn%5Ct)%3B%5Cn%5Ctvec3%20Fresnel0ToIor(%20vec3%20fresnel0%20)%20%7B%5Cn%5Ct%5Ctvec3%20sqrtF0%20%3D%20sqrt(%20fresnel0%20)%3B%5Cn%5Ct%5Ctreturn%20(%20vec3(%201.0%20)%20%2B%20sqrtF0%20)%20%2F%20(%20vec3(%201.0%20)%20-%20sqrtF0%20)%3B%5Cn%5Ct%7D%5Cn%5Ctvec3%20IorToFresnel0(%20vec3%20transmittedIor%2C%20float%20incidentIor%20)%20%7B%5Cn%5Ct%5Ctreturn%20pow2(%20(%20transmittedIor%20-%20vec3(%20incidentIor%20)%20)%20%2F%20(%20transmittedIor%20%2B%20vec3(%20incidentIor%20)%20)%20)%3B%5Cn%5Ct%7D%5Cn%5Ctfloat%20IorToFresnel0(%20float%20transmittedIor%2C%20float%20incidentIor%20)%20%7B%5Cn%5Ct%5Ctreturn%20pow2(%20(%20transmittedIor%20-%20incidentIor%20)%20%2F%20(%20transmittedIor%20%2B%20incidentIor%20))%3B%5Cn%5Ct%7D%5Cn%5Ctvec3%20evalSensitivity(%20float%20OPD%2C%20vec3%20shift%20)%20%7B%5Cn%5Ct%5Ctfloat%20phase%20%3D%202.0%20*%20PI%20*%20OPD%20*%201.0e-9%3B%5Cn%5Ct%5Ctvec3%20val%20%3D%20vec3(%205.4856e-13%2C%204.4201e-13%2C%205.2481e-13%20)%3B%5Cn%5Ct%5Ctvec3%20pos%20%3D%20vec3(%201.6810e%2B06%2C%201.7953e%2B06%2C%202.2084e%2B06%20)%3B%5Cn%5Ct%5Ctvec3%20var%20%3D%20vec3(%204.3278e%2B09%2C%209.3046e%2B09%2C%206.6121e%2B09%20)%3B%5Cn%5Ct%5Ctvec3%20xyz%20%3D%20val%20*%20sqrt(%202.0%20*%20PI%20*%20var%20)%20*%20cos(%20pos%20*%20phase%20%2B%20shift%20)%20*%20exp(%20-%20pow2(%20phase%20)%20*%20var%20)%3B%5Cn%5Ct%5Ctxyz.x%20%2B%3D%209.7470e-14%20*%20sqrt(%202.0%20*%20PI%20*%204.5282e%2B09%20)%20*%20cos(%202.2399e%2B06%20*%20phase%20%2B%20shift%5B%200%20%5D%20)%20*%20exp(%20-%204.5282e%2B09%20*%20pow2(%20phase%20)%20)%3B%5Cn%5Ct%5Ctxyz%20%2F%3D%201.0685e-7%3B%5Cn%5Ct%5Ctvec3%20rgb%20%3D%20XYZ_TO_REC709%20*%20xyz%3B%5Cn%5Ct%5Ctreturn%20rgb%3B%5Cn%5Ct%7D%5Cn%5Ctvec3%20evalIridescence(%20float%20outsideIOR%2C%20float%20eta2%2C%20float%20cosTheta1%2C%20float%20thinFilmThickness%2C%20vec3%20baseF0%20)%20%7B%5Cn%5Ct%5Ctvec3%20I%3B%5Cn%5Ct%5Ctfloat%20iridescenceIOR%20%3D%20mix(%20outsideIOR%2C%20eta2%2C%20smoothstep(%200.0%2C%200.03%2C%20thinFilmThickness%20)%20)%3B%5Cn%5Ct%5Ctfloat%20sinTheta2Sq%20%3D%20pow2(%20outsideIOR%20%2F%20iridescenceIOR%20)%20*%20(%201.0%20-%20pow2(%20cosTheta1%20)%20)%3B%5Cn%5Ct%5Ctfloat%20cosTheta2Sq%20%3D%201.0%20-%20sinTheta2Sq%3B%5Cn%5Ct%5Ctif%20(%20cosTheta2Sq%20%3C%200.0%20)%20%7B%5Cn%5Ct%5Ct%5Ct%20return%20vec3(%201.0%20)%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ctfloat%20cosTheta2%20%3D%20sqrt(%20cosTheta2Sq%20)%3B%5Cn%5Ct%5Ctfloat%20R0%20%3D%20IorToFresnel0(%20iridescenceIOR%2C%20outsideIOR%20)%3B%5Cn%5Ct%5Ctfloat%20R12%20%3D%20F_Schlick(%20R0%2C%201.0%2C%20cosTheta1%20)%3B%5Cn%5Ct%5Ctfloat%20R21%20%3D%20R12%3B%5Cn%5Ct%5Ctfloat%20T121%20%3D%201.0%20-%20R12%3B%5Cn%5Ct%5Ctfloat%20phi12%20%3D%200.0%3B%5Cn%5Ct%5Ctif%20(%20iridescenceIOR%20%3C%20outsideIOR%20)%20phi12%20%3D%20PI%3B%5Cn%5Ct%5Ctfloat%20phi21%20%3D%20PI%20-%20phi12%3B%5Cn%5Ct%5Ctvec3%20baseIOR%20%3D%20Fresnel0ToIor(%20clamp(%20baseF0%2C%200.0%2C%200.9999%20)%20)%3B%5Ct%5Ctvec3%20R1%20%3D%20IorToFresnel0(%20baseIOR%2C%20iridescenceIOR%20)%3B%5Cn%5Ct%5Ctvec3%20R23%20%3D%20F_Schlick(%20R1%2C%201.0%2C%20cosTheta2%20)%3B%5Cn%5Ct%5Ctvec3%20phi23%20%3D%20vec3(%200.0%20)%3B%5Cn%5Ct%5Ctif%20(%20baseIOR%5B%200%20%5D%20%3C%20iridescenceIOR%20)%20phi23%5B%200%20%5D%20%3D%20PI%3B%5Cn%5Ct%5Ctif%20(%20baseIOR%5B%201%20%5D%20%3C%20iridescenceIOR%20)%20phi23%5B%201%20%5D%20%3D%20PI%3B%5Cn%5Ct%5Ctif%20(%20baseIOR%5B%202%20%5D%20%3C%20iridescenceIOR%20)%20phi23%5B%202%20%5D%20%3D%20PI%3B%5Cn%5Ct%5Ctfloat%20OPD%20%3D%202.0%20*%20iridescenceIOR%20*%20thinFilmThickness%20*%20cosTheta2%3B%5Cn%5Ct%5Ctvec3%20phi%20%3D%20vec3(%20phi21%20)%20%2B%20phi23%3B%5Cn%5Ct%5Ctvec3%20R123%20%3D%20clamp(%20R12%20*%20R23%2C%201e-5%2C%200.9999%20)%3B%5Cn%5Ct%5Ctvec3%20r123%20%3D%20sqrt(%20R123%20)%3B%5Cn%5Ct%5Ctvec3%20Rs%20%3D%20pow2(%20T121%20)%20*%20R23%20%2F%20(%20vec3(%201.0%20)%20-%20R123%20)%3B%5Cn%5Ct%5Ctvec3%20C0%20%3D%20R12%20%2B%20Rs%3B%5Cn%5Ct%5CtI%20%3D%20C0%3B%5Cn%5Ct%5Ctvec3%20Cm%20%3D%20Rs%20-%20T121%3B%5Cn%5Ct%5Ctfor%20(%20int%20m%20%3D%201%3B%20m%20%3C%3D%202%3B%20%2B%2B%20m%20)%20%7B%5Cn%5Ct%5Ct%5CtCm%20*%3D%20r123%3B%5Cn%5Ct%5Ct%5Ctvec3%20Sm%20%3D%202.0%20*%20evalSensitivity(%20float(%20m%20)%20*%20OPD%2C%20float(%20m%20)%20*%20phi%20)%3B%5Cn%5Ct%5Ct%5CtI%20%2B%3D%20Cm%20*%20Sm%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ctreturn%20max(%20I%2C%20vec3(%200.0%20)%20)%3B%5Cn%5Ct%7D%5Cn%23endif%22%2C%20bumpmap_pars_fragment%3A%20%22%23ifdef%20USE_BUMPMAP%5Cn%5Ctuniform%20sampler2D%20bumpMap%3B%5Cn%5Ctuniform%20float%20bumpScale%3B%5Cn%5Ctvec2%20dHdxy_fwd()%20%7B%5Cn%5Ct%5Ctvec2%20dSTdx%20%3D%20dFdx(%20vUv%20)%3B%5Cn%5Ct%5Ctvec2%20dSTdy%20%3D%20dFdy(%20vUv%20)%3B%5Cn%5Ct%5Ctfloat%20Hll%20%3D%20bumpScale%20*%20texture2D(%20bumpMap%2C%20vUv%20).x%3B%5Cn%5Ct%5Ctfloat%20dBx%20%3D%20bumpScale%20*%20texture2D(%20bumpMap%2C%20vUv%20%2B%20dSTdx%20).x%20-%20Hll%3B%5Cn%5Ct%5Ctfloat%20dBy%20%3D%20bumpScale%20*%20texture2D(%20bumpMap%2C%20vUv%20%2B%20dSTdy%20).x%20-%20Hll%3B%5Cn%5Ct%5Ctreturn%20vec2(%20dBx%2C%20dBy%20)%3B%5Cn%5Ct%7D%5Cn%5Ctvec3%20perturbNormalArb(%20vec3%20surf_pos%2C%20vec3%20surf_norm%2C%20vec2%20dHdxy%2C%20float%20faceDirection%20)%20%7B%5Cn%5Ct%5Ctvec3%20vSigmaX%20%3D%20dFdx(%20surf_pos.xyz%20)%3B%5Cn%5Ct%5Ctvec3%20vSigmaY%20%3D%20dFdy(%20surf_pos.xyz%20)%3B%5Cn%5Ct%5Ctvec3%20vN%20%3D%20surf_norm%3B%5Cn%5Ct%5Ctvec3%20R1%20%3D%20cross(%20vSigmaY%2C%20vN%20)%3B%5Cn%5Ct%5Ctvec3%20R2%20%3D%20cross(%20vN%2C%20vSigmaX%20)%3B%5Cn%5Ct%5Ctfloat%20fDet%20%3D%20dot(%20vSigmaX%2C%20R1%20)%20*%20faceDirection%3B%5Cn%5Ct%5Ctvec3%20vGrad%20%3D%20sign(%20fDet%20)%20*%20(%20dHdxy.x%20*%20R1%20%2B%20dHdxy.y%20*%20R2%20)%3B%5Cn%5Ct%5Ctreturn%20normalize(%20abs(%20fDet%20)%20*%20surf_norm%20-%20vGrad%20)%3B%5Cn%5Ct%7D%5Cn%23endif%22%2C%20clipping_planes_fragment%3A%20%22%23if%20NUM_CLIPPING_PLANES%20%3E%200%5Cn%5Ctvec4%20plane%3B%5Cn%5Ct%23pragma%20unroll_loop_start%5Cn%5Ctfor%20(%20int%20i%20%3D%200%3B%20i%20%3C%20UNION_CLIPPING_PLANES%3B%20i%20%2B%2B%20)%20%7B%5Cn%5Ct%5Ctplane%20%3D%20clippingPlanes%5B%20i%20%5D%3B%5Cn%5Ct%5Ctif%20(%20dot(%20vClipPosition%2C%20plane.xyz%20)%20%3E%20plane.w%20)%20discard%3B%5Cn%5Ct%7D%5Cn%5Ct%23pragma%20unroll_loop_end%5Cn%5Ct%23if%20UNION_CLIPPING_PLANES%20%3C%20NUM_CLIPPING_PLANES%5Cn%5Ct%5Ctbool%20clipped%20%3D%20true%3B%5Cn%5Ct%5Ct%23pragma%20unroll_loop_start%5Cn%5Ct%5Ctfor%20(%20int%20i%20%3D%20UNION_CLIPPING_PLANES%3B%20i%20%3C%20NUM_CLIPPING_PLANES%3B%20i%20%2B%2B%20)%20%7B%5Cn%5Ct%5Ct%5Ctplane%20%3D%20clippingPlanes%5B%20i%20%5D%3B%5Cn%5Ct%5Ct%5Ctclipped%20%3D%20(%20dot(%20vClipPosition%2C%20plane.xyz%20)%20%3E%20plane.w%20)%20%26%26%20clipped%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ct%23pragma%20unroll_loop_end%5Cn%5Ct%5Ctif%20(%20clipped%20)%20discard%3B%5Cn%5Ct%23endif%5Cn%23endif%22%2C%20clipping_planes_pars_fragment%3A%20%22%23if%20NUM_CLIPPING_PLANES%20%3E%200%5Cn%5Ctvarying%20vec3%20vClipPosition%3B%5Cn%5Ctuniform%20vec4%20clippingPlanes%5B%20NUM_CLIPPING_PLANES%20%5D%3B%5Cn%23endif%22%2C%20clipping_planes_pars_vertex%3A%20%22%23if%20NUM_CLIPPING_PLANES%20%3E%200%5Cn%5Ctvarying%20vec3%20vClipPosition%3B%5Cn%23endif%22%2C%20clipping_planes_vertex%3A%20%22%23if%20NUM_CLIPPING_PLANES%20%3E%200%5Cn%5CtvClipPosition%20%3D%20-%20mvPosition.xyz%3B%5Cn%23endif%22%2C%20color_fragment%3A%20%22%23if%20defined(%20USE_COLOR_ALPHA%20)%5Cn%5CtdiffuseColor%20*%3D%20vColor%3B%5Cn%23elif%20defined(%20USE_COLOR%20)%5Cn%5CtdiffuseColor.rgb%20*%3D%20vColor%3B%5Cn%23endif%22%2C%20color_pars_fragment%3A%20%22%23if%20defined(%20USE_COLOR_ALPHA%20)%5Cn%5Ctvarying%20vec4%20vColor%3B%5Cn%23elif%20defined(%20USE_COLOR%20)%5Cn%5Ctvarying%20vec3%20vColor%3B%5Cn%23endif%22%2C%20color_pars_vertex%3A%20%22%23if%20defined(%20USE_COLOR_ALPHA%20)%5Cn%5Ctvarying%20vec4%20vColor%3B%5Cn%23elif%20defined(%20USE_COLOR%20)%20%7C%7C%20defined(%20USE_INSTANCING_COLOR%20)%5Cn%5Ctvarying%20vec3%20vColor%3B%5Cn%23endif%22%2C%20color_vertex%3A%20%22%23if%20defined(%20USE_COLOR_ALPHA%20)%5Cn%5CtvColor%20%3D%20vec4(%201.0%20)%3B%5Cn%23elif%20defined(%20USE_COLOR%20)%20%7C%7C%20defined(%20USE_INSTANCING_COLOR%20)%5Cn%5CtvColor%20%3D%20vec3(%201.0%20)%3B%5Cn%23endif%5Cn%23ifdef%20USE_COLOR%5Cn%5CtvColor%20*%3D%20color%3B%5Cn%23endif%5Cn%23ifdef%20USE_INSTANCING_COLOR%5Cn%5CtvColor.xyz%20*%3D%20instanceColor.xyz%3B%5Cn%23endif%22%2C%20common%3A%20%22%23define%20PI%203.141592653589793%5Cn%23define%20PI2%206.283185307179586%5Cn%23define%20PI_HALF%201.5707963267948966%5Cn%23define%20RECIPROCAL_PI%200.3183098861837907%5Cn%23define%20RECIPROCAL_PI2%200.15915494309189535%5Cn%23define%20EPSILON%201e-6%5Cn%23ifndef%20saturate%5Cn%23define%20saturate(%20a%20)%20clamp(%20a%2C%200.0%2C%201.0%20)%5Cn%23endif%5Cn%23define%20whiteComplement(%20a%20)%20(%201.0%20-%20saturate(%20a%20)%20)%5Cnfloat%20pow2(%20const%20in%20float%20x%20)%20%7B%20return%20x*x%3B%20%7D%5Cnvec3%20pow2(%20const%20in%20vec3%20x%20)%20%7B%20return%20x*x%3B%20%7D%5Cnfloat%20pow3(%20const%20in%20float%20x%20)%20%7B%20return%20x*x*x%3B%20%7D%5Cnfloat%20pow4(%20const%20in%20float%20x%20)%20%7B%20float%20x2%20%3D%20x*x%3B%20return%20x2*x2%3B%20%7D%5Cnfloat%20max3(%20const%20in%20vec3%20v%20)%20%7B%20return%20max(%20max(%20v.x%2C%20v.y%20)%2C%20v.z%20)%3B%20%7D%5Cnfloat%20average(%20const%20in%20vec3%20v%20)%20%7B%20return%20dot(%20v%2C%20vec3(%200.3333333%20)%20)%3B%20%7D%5Cnhighp%20float%20rand(%20const%20in%20vec2%20uv%20)%20%7B%5Cn%5Ctconst%20highp%20float%20a%20%3D%2012.9898%2C%20b%20%3D%2078.233%2C%20c%20%3D%2043758.5453%3B%5Cn%5Cthighp%20float%20dt%20%3D%20dot(%20uv.xy%2C%20vec2(%20a%2Cb%20)%20)%2C%20sn%20%3D%20mod(%20dt%2C%20PI%20)%3B%5Cn%5Ctreturn%20fract(%20sin(%20sn%20)%20*%20c%20)%3B%5Cn%7D%5Cn%23ifdef%20HIGH_PRECISION%5Cn%5Ctfloat%20precisionSafeLength(%20vec3%20v%20)%20%7B%20return%20length(%20v%20)%3B%20%7D%5Cn%23else%5Cn%5Ctfloat%20precisionSafeLength(%20vec3%20v%20)%20%7B%5Cn%5Ct%5Ctfloat%20maxComponent%20%3D%20max3(%20abs(%20v%20)%20)%3B%5Cn%5Ct%5Ctreturn%20length(%20v%20%2F%20maxComponent%20)%20*%20maxComponent%3B%5Cn%5Ct%7D%5Cn%23endif%5Cnstruct%20IncidentLight%20%7B%5Cn%5Ctvec3%20color%3B%5Cn%5Ctvec3%20direction%3B%5Cn%5Ctbool%20visible%3B%5Cn%7D%3B%5Cnstruct%20ReflectedLight%20%7B%5Cn%5Ctvec3%20directDiffuse%3B%5Cn%5Ctvec3%20directSpecular%3B%5Cn%5Ctvec3%20indirectDiffuse%3B%5Cn%5Ctvec3%20indirectSpecular%3B%5Cn%7D%3B%5Cnstruct%20GeometricContext%20%7B%5Cn%5Ctvec3%20position%3B%5Cn%5Ctvec3%20normal%3B%5Cn%5Ctvec3%20viewDir%3B%5Cn%23ifdef%20USE_CLEARCOAT%5Cn%5Ctvec3%20clearcoatNormal%3B%5Cn%23endif%5Cn%7D%3B%5Cnvec3%20transformDirection(%20in%20vec3%20dir%2C%20in%20mat4%20matrix%20)%20%7B%5Cn%5Ctreturn%20normalize(%20(%20matrix%20*%20vec4(%20dir%2C%200.0%20)%20).xyz%20)%3B%5Cn%7D%5Cnvec3%20inverseTransformDirection(%20in%20vec3%20dir%2C%20in%20mat4%20matrix%20)%20%7B%5Cn%5Ctreturn%20normalize(%20(%20vec4(%20dir%2C%200.0%20)%20*%20matrix%20).xyz%20)%3B%5Cn%7D%5Cnmat3%20transposeMat3(%20const%20in%20mat3%20m%20)%20%7B%5Cn%5Ctmat3%20tmp%3B%5Cn%5Cttmp%5B%200%20%5D%20%3D%20vec3(%20m%5B%200%20%5D.x%2C%20m%5B%201%20%5D.x%2C%20m%5B%202%20%5D.x%20)%3B%5Cn%5Cttmp%5B%201%20%5D%20%3D%20vec3(%20m%5B%200%20%5D.y%2C%20m%5B%201%20%5D.y%2C%20m%5B%202%20%5D.y%20)%3B%5Cn%5Cttmp%5B%202%20%5D%20%3D%20vec3(%20m%5B%200%20%5D.z%2C%20m%5B%201%20%5D.z%2C%20m%5B%202%20%5D.z%20)%3B%5Cn%5Ctreturn%20tmp%3B%5Cn%7D%5Cnfloat%20luminance(%20const%20in%20vec3%20rgb%20)%20%7B%5Cn%5Ctconst%20vec3%20weights%20%3D%20vec3(%200.2126729%2C%200.7151522%2C%200.0721750%20)%3B%5Cn%5Ctreturn%20dot(%20weights%2C%20rgb%20)%3B%5Cn%7D%5Cnbool%20isPerspectiveMatrix(%20mat4%20m%20)%20%7B%5Cn%5Ctreturn%20m%5B%202%20%5D%5B%203%20%5D%20%3D%3D%20-%201.0%3B%5Cn%7D%5Cnvec2%20equirectUv(%20in%20vec3%20dir%20)%20%7B%5Cn%5Ctfloat%20u%20%3D%20atan(%20dir.z%2C%20dir.x%20)%20*%20RECIPROCAL_PI2%20%2B%200.5%3B%5Cn%5Ctfloat%20v%20%3D%20asin(%20clamp(%20dir.y%2C%20-%201.0%2C%201.0%20)%20)%20*%20RECIPROCAL_PI%20%2B%200.5%3B%5Cn%5Ctreturn%20vec2(%20u%2C%20v%20)%3B%5Cn%7D%22%2C%20cube_uv_reflection_fragment%3A%20%22%23ifdef%20ENVMAP_TYPE_CUBE_UV%5Cn%5Ct%23define%20cubeUV_minMipLevel%204.0%5Cn%5Ct%23define%20cubeUV_minTileSize%2016.0%5Cn%5Ctfloat%20getFace(%20vec3%20direction%20)%20%7B%5Cn%5Ct%5Ctvec3%20absDirection%20%3D%20abs(%20direction%20)%3B%5Cn%5Ct%5Ctfloat%20face%20%3D%20-%201.0%3B%5Cn%5Ct%5Ctif%20(%20absDirection.x%20%3E%20absDirection.z%20)%20%7B%5Cn%5Ct%5Ct%5Ctif%20(%20absDirection.x%20%3E%20absDirection.y%20)%5Cn%5Ct%5Ct%5Ct%5Ctface%20%3D%20direction.x%20%3E%200.0%20%3F%200.0%20%3A%203.0%3B%5Cn%5Ct%5Ct%5Ctelse%5Cn%5Ct%5Ct%5Ct%5Ctface%20%3D%20direction.y%20%3E%200.0%20%3F%201.0%20%3A%204.0%3B%5Cn%5Ct%5Ct%7D%20else%20%7B%5Cn%5Ct%5Ct%5Ctif%20(%20absDirection.z%20%3E%20absDirection.y%20)%5Cn%5Ct%5Ct%5Ct%5Ctface%20%3D%20direction.z%20%3E%200.0%20%3F%202.0%20%3A%205.0%3B%5Cn%5Ct%5Ct%5Ctelse%5Cn%5Ct%5Ct%5Ct%5Ctface%20%3D%20direction.y%20%3E%200.0%20%3F%201.0%20%3A%204.0%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ctreturn%20face%3B%5Cn%5Ct%7D%5Cn%5Ctvec2%20getUV(%20vec3%20direction%2C%20float%20face%20)%20%7B%5Cn%5Ct%5Ctvec2%20uv%3B%5Cn%5Ct%5Ctif%20(%20face%20%3D%3D%200.0%20)%20%7B%5Cn%5Ct%5Ct%5Ctuv%20%3D%20vec2(%20direction.z%2C%20direction.y%20)%20%2F%20abs(%20direction.x%20)%3B%5Cn%5Ct%5Ct%7D%20else%20if%20(%20face%20%3D%3D%201.0%20)%20%7B%5Cn%5Ct%5Ct%5Ctuv%20%3D%20vec2(%20-%20direction.x%2C%20-%20direction.z%20)%20%2F%20abs(%20direction.y%20)%3B%5Cn%5Ct%5Ct%7D%20else%20if%20(%20face%20%3D%3D%202.0%20)%20%7B%5Cn%5Ct%5Ct%5Ctuv%20%3D%20vec2(%20-%20direction.x%2C%20direction.y%20)%20%2F%20abs(%20direction.z%20)%3B%5Cn%5Ct%5Ct%7D%20else%20if%20(%20face%20%3D%3D%203.0%20)%20%7B%5Cn%5Ct%5Ct%5Ctuv%20%3D%20vec2(%20-%20direction.z%2C%20direction.y%20)%20%2F%20abs(%20direction.x%20)%3B%5Cn%5Ct%5Ct%7D%20else%20if%20(%20face%20%3D%3D%204.0%20)%20%7B%5Cn%5Ct%5Ct%5Ctuv%20%3D%20vec2(%20-%20direction.x%2C%20direction.z%20)%20%2F%20abs(%20direction.y%20)%3B%5Cn%5Ct%5Ct%7D%20else%20%7B%5Cn%5Ct%5Ct%5Ctuv%20%3D%20vec2(%20direction.x%2C%20direction.y%20)%20%2F%20abs(%20direction.z%20)%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ctreturn%200.5%20*%20(%20uv%20%2B%201.0%20)%3B%5Cn%5Ct%7D%5Cn%5Ctvec3%20bilinearCubeUV(%20sampler2D%20envMap%2C%20vec3%20direction%2C%20float%20mipInt%20)%20%7B%5Cn%5Ct%5Ctfloat%20face%20%3D%20getFace(%20direction%20)%3B%5Cn%5Ct%5Ctfloat%20filterInt%20%3D%20max(%20cubeUV_minMipLevel%20-%20mipInt%2C%200.0%20)%3B%5Cn%5Ct%5CtmipInt%20%3D%20max(%20mipInt%2C%20cubeUV_minMipLevel%20)%3B%5Cn%5Ct%5Ctfloat%20faceSize%20%3D%20exp2(%20mipInt%20)%3B%5Cn%5Ct%5Cthighp%20vec2%20uv%20%3D%20getUV(%20direction%2C%20face%20)%20*%20(%20faceSize%20-%202.0%20)%20%2B%201.0%3B%5Cn%5Ct%5Ctif%20(%20face%20%3E%202.0%20)%20%7B%5Cn%5Ct%5Ct%5Ctuv.y%20%2B%3D%20faceSize%3B%5Cn%5Ct%5Ct%5Ctface%20-%3D%203.0%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ctuv.x%20%2B%3D%20face%20*%20faceSize%3B%5Cn%5Ct%5Ctuv.x%20%2B%3D%20filterInt%20*%203.0%20*%20cubeUV_minTileSize%3B%5Cn%5Ct%5Ctuv.y%20%2B%3D%204.0%20*%20(%20exp2(%20CUBEUV_MAX_MIP%20)%20-%20faceSize%20)%3B%5Cn%5Ct%5Ctuv.x%20*%3D%20CUBEUV_TEXEL_WIDTH%3B%5Cn%5Ct%5Ctuv.y%20*%3D%20CUBEUV_TEXEL_HEIGHT%3B%5Cn%5Ct%5Ct%23ifdef%20texture2DGradEXT%5Cn%5Ct%5Ct%5Ctreturn%20texture2DGradEXT(%20envMap%2C%20uv%2C%20vec2(%200.0%20)%2C%20vec2(%200.0%20)%20).rgb%3B%5Cn%5Ct%5Ct%23else%5Cn%5Ct%5Ct%5Ctreturn%20texture2D(%20envMap%2C%20uv%20).rgb%3B%5Cn%5Ct%5Ct%23endif%5Cn%5Ct%7D%5Cn%5Ct%23define%20cubeUV_r0%201.0%5Cn%5Ct%23define%20cubeUV_v0%200.339%5Cn%5Ct%23define%20cubeUV_m0%20-%202.0%5Cn%5Ct%23define%20cubeUV_r1%200.8%5Cn%5Ct%23define%20cubeUV_v1%200.276%5Cn%5Ct%23define%20cubeUV_m1%20-%201.0%5Cn%5Ct%23define%20cubeUV_r4%200.4%5Cn%5Ct%23define%20cubeUV_v4%200.046%5Cn%5Ct%23define%20cubeUV_m4%202.0%5Cn%5Ct%23define%20cubeUV_r5%200.305%5Cn%5Ct%23define%20cubeUV_v5%200.016%5Cn%5Ct%23define%20cubeUV_m5%203.0%5Cn%5Ct%23define%20cubeUV_r6%200.21%5Cn%5Ct%23define%20cubeUV_v6%200.0038%5Cn%5Ct%23define%20cubeUV_m6%204.0%5Cn%5Ctfloat%20roughnessToMip(%20float%20roughness%20)%20%7B%5Cn%5Ct%5Ctfloat%20mip%20%3D%200.0%3B%5Cn%5Ct%5Ctif%20(%20roughness%20%3E%3D%20cubeUV_r1%20)%20%7B%5Cn%5Ct%5Ct%5Ctmip%20%3D%20(%20cubeUV_r0%20-%20roughness%20)%20*%20(%20cubeUV_m1%20-%20cubeUV_m0%20)%20%2F%20(%20cubeUV_r0%20-%20cubeUV_r1%20)%20%2B%20cubeUV_m0%3B%5Cn%5Ct%5Ct%7D%20else%20if%20(%20roughness%20%3E%3D%20cubeUV_r4%20)%20%7B%5Cn%5Ct%5Ct%5Ctmip%20%3D%20(%20cubeUV_r1%20-%20roughness%20)%20*%20(%20cubeUV_m4%20-%20cubeUV_m1%20)%20%2F%20(%20cubeUV_r1%20-%20cubeUV_r4%20)%20%2B%20cubeUV_m1%3B%5Cn%5Ct%5Ct%7D%20else%20if%20(%20roughness%20%3E%3D%20cubeUV_r5%20)%20%7B%5Cn%5Ct%5Ct%5Ctmip%20%3D%20(%20cubeUV_r4%20-%20roughness%20)%20*%20(%20cubeUV_m5%20-%20cubeUV_m4%20)%20%2F%20(%20cubeUV_r4%20-%20cubeUV_r5%20)%20%2B%20cubeUV_m4%3B%5Cn%5Ct%5Ct%7D%20else%20if%20(%20roughness%20%3E%3D%20cubeUV_r6%20)%20%7B%5Cn%5Ct%5Ct%5Ctmip%20%3D%20(%20cubeUV_r5%20-%20roughness%20)%20*%20(%20cubeUV_m6%20-%20cubeUV_m5%20)%20%2F%20(%20cubeUV_r5%20-%20cubeUV_r6%20)%20%2B%20cubeUV_m5%3B%5Cn%5Ct%5Ct%7D%20else%20%7B%5Cn%5Ct%5Ct%5Ctmip%20%3D%20-%202.0%20*%20log2(%201.16%20*%20roughness%20)%3B%5Ct%5Ct%7D%5Cn%5Ct%5Ctreturn%20mip%3B%5Cn%5Ct%7D%5Cn%5Ctvec4%20textureCubeUV(%20sampler2D%20envMap%2C%20vec3%20sampleDir%2C%20float%20roughness%20)%20%7B%5Cn%5Ct%5Ctfloat%20mip%20%3D%20clamp(%20roughnessToMip(%20roughness%20)%2C%20cubeUV_m0%2C%20CUBEUV_MAX_MIP%20)%3B%5Cn%5Ct%5Ctfloat%20mipF%20%3D%20fract(%20mip%20)%3B%5Cn%5Ct%5Ctfloat%20mipInt%20%3D%20floor(%20mip%20)%3B%5Cn%5Ct%5Ctvec3%20color0%20%3D%20bilinearCubeUV(%20envMap%2C%20sampleDir%2C%20mipInt%20)%3B%5Cn%5Ct%5Ctif%20(%20mipF%20%3D%3D%200.0%20)%20%7B%5Cn%5Ct%5Ct%5Ctreturn%20vec4(%20color0%2C%201.0%20)%3B%5Cn%5Ct%5Ct%7D%20else%20%7B%5Cn%5Ct%5Ct%5Ctvec3%20color1%20%3D%20bilinearCubeUV(%20envMap%2C%20sampleDir%2C%20mipInt%20%2B%201.0%20)%3B%5Cn%5Ct%5Ct%5Ctreturn%20vec4(%20mix(%20color0%2C%20color1%2C%20mipF%20)%2C%201.0%20)%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%7D%5Cn%23endif%22%2C%20defaultnormal_vertex%3A%20%22vec3%20transformedNormal%20%3D%20objectNormal%3B%5Cn%23ifdef%20USE_INSTANCING%5Cn%5Ctmat3%20m%20%3D%20mat3(%20instanceMatrix%20)%3B%5Cn%5CttransformedNormal%20%2F%3D%20vec3(%20dot(%20m%5B%200%20%5D%2C%20m%5B%200%20%5D%20)%2C%20dot(%20m%5B%201%20%5D%2C%20m%5B%201%20%5D%20)%2C%20dot(%20m%5B%202%20%5D%2C%20m%5B%202%20%5D%20)%20)%3B%5Cn%5CttransformedNormal%20%3D%20m%20*%20transformedNormal%3B%5Cn%23endif%5CntransformedNormal%20%3D%20normalMatrix%20*%20transformedNormal%3B%5Cn%23ifdef%20FLIP_SIDED%5Cn%5CttransformedNormal%20%3D%20-%20transformedNormal%3B%5Cn%23endif%5Cn%23ifdef%20USE_TANGENT%5Cn%5Ctvec3%20transformedTangent%20%3D%20(%20modelViewMatrix%20*%20vec4(%20objectTangent%2C%200.0%20)%20).xyz%3B%5Cn%5Ct%23ifdef%20FLIP_SIDED%5Cn%5Ct%5CttransformedTangent%20%3D%20-%20transformedTangent%3B%5Cn%5Ct%23endif%5Cn%23endif%22%2C%20displacementmap_pars_vertex%3A%20%22%23ifdef%20USE_DISPLACEMENTMAP%5Cn%5Ctuniform%20sampler2D%20displacementMap%3B%5Cn%5Ctuniform%20float%20displacementScale%3B%5Cn%5Ctuniform%20float%20displacementBias%3B%5Cn%23endif%22%2C%20displacementmap_vertex%3A%20%22%23ifdef%20USE_DISPLACEMENTMAP%5Cn%5Cttransformed%20%2B%3D%20normalize(%20objectNormal%20)%20*%20(%20texture2D(%20displacementMap%2C%20vUv%20).x%20*%20displacementScale%20%2B%20displacementBias%20)%3B%5Cn%23endif%22%2C%20emissivemap_fragment%3A%20%22%23ifdef%20USE_EMISSIVEMAP%5Cn%5Ctvec4%20emissiveColor%20%3D%20texture2D(%20emissiveMap%2C%20vUv%20)%3B%5Cn%5CttotalEmissiveRadiance%20*%3D%20emissiveColor.rgb%3B%5Cn%23endif%22%2C%20emissivemap_pars_fragment%3A%20%22%23ifdef%20USE_EMISSIVEMAP%5Cn%5Ctuniform%20sampler2D%20emissiveMap%3B%5Cn%23endif%22%2C%20encodings_fragment%3A%20%22gl_FragColor%20%3D%20linearToOutputTexel(%20gl_FragColor%20)%3B%22%2C%20encodings_pars_fragment%3A%20%22vec4%20LinearToLinear(%20in%20vec4%20value%20)%20%7B%5Cn%5Ctreturn%20value%3B%5Cn%7D%5Cnvec4%20LinearTosRGB(%20in%20vec4%20value%20)%20%7B%5Cn%5Ctreturn%20vec4(%20mix(%20pow(%20value.rgb%2C%20vec3(%200.41666%20)%20)%20*%201.055%20-%20vec3(%200.055%20)%2C%20value.rgb%20*%2012.92%2C%20vec3(%20lessThanEqual(%20value.rgb%2C%20vec3(%200.0031308%20)%20)%20)%20)%2C%20value.a%20)%3B%5Cn%7D%22%2C%20envmap_fragment%3A%20%22%23ifdef%20USE_ENVMAP%5Cn%5Ct%23ifdef%20ENV_WORLDPOS%5Cn%5Ct%5Ctvec3%20cameraToFrag%3B%5Cn%5Ct%5Ctif%20(%20isOrthographic%20)%20%7B%5Cn%5Ct%5Ct%5CtcameraToFrag%20%3D%20normalize(%20vec3(%20-%20viewMatrix%5B%200%20%5D%5B%202%20%5D%2C%20-%20viewMatrix%5B%201%20%5D%5B%202%20%5D%2C%20-%20viewMatrix%5B%202%20%5D%5B%202%20%5D%20)%20)%3B%5Cn%5Ct%5Ct%7D%20else%20%7B%5Cn%5Ct%5Ct%5CtcameraToFrag%20%3D%20normalize(%20vWorldPosition%20-%20cameraPosition%20)%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ctvec3%20worldNormal%20%3D%20inverseTransformDirection(%20normal%2C%20viewMatrix%20)%3B%5Cn%5Ct%5Ct%23ifdef%20ENVMAP_MODE_REFLECTION%5Cn%5Ct%5Ct%5Ctvec3%20reflectVec%20%3D%20reflect(%20cameraToFrag%2C%20worldNormal%20)%3B%5Cn%5Ct%5Ct%23else%5Cn%5Ct%5Ct%5Ctvec3%20reflectVec%20%3D%20refract(%20cameraToFrag%2C%20worldNormal%2C%20refractionRatio%20)%3B%5Cn%5Ct%5Ct%23endif%5Cn%5Ct%23else%5Cn%5Ct%5Ctvec3%20reflectVec%20%3D%20vReflect%3B%5Cn%5Ct%23endif%5Cn%5Ct%23ifdef%20ENVMAP_TYPE_CUBE%5Cn%5Ct%5Ctvec4%20envColor%20%3D%20textureCube(%20envMap%2C%20vec3(%20flipEnvMap%20*%20reflectVec.x%2C%20reflectVec.yz%20)%20)%3B%5Cn%5Ct%23else%5Cn%5Ct%5Ctvec4%20envColor%20%3D%20vec4(%200.0%20)%3B%5Cn%5Ct%23endif%5Cn%5Ct%23ifdef%20ENVMAP_BLENDING_MULTIPLY%5Cn%5Ct%5CtoutgoingLight%20%3D%20mix(%20outgoingLight%2C%20outgoingLight%20*%20envColor.xyz%2C%20specularStrength%20*%20reflectivity%20)%3B%5Cn%5Ct%23elif%20defined(%20ENVMAP_BLENDING_MIX%20)%5Cn%5Ct%5CtoutgoingLight%20%3D%20mix(%20outgoingLight%2C%20envColor.xyz%2C%20specularStrength%20*%20reflectivity%20)%3B%5Cn%5Ct%23elif%20defined(%20ENVMAP_BLENDING_ADD%20)%5Cn%5Ct%5CtoutgoingLight%20%2B%3D%20envColor.xyz%20*%20specularStrength%20*%20reflectivity%3B%5Cn%5Ct%23endif%5Cn%23endif%22%2C%20envmap_common_pars_fragment%3A%20%22%23ifdef%20USE_ENVMAP%5Cn%5Ctuniform%20float%20envMapIntensity%3B%5Cn%5Ctuniform%20float%20flipEnvMap%3B%5Cn%5Ct%23ifdef%20ENVMAP_TYPE_CUBE%5Cn%5Ct%5Ctuniform%20samplerCube%20envMap%3B%5Cn%5Ct%23else%5Cn%5Ct%5Ctuniform%20sampler2D%20envMap%3B%5Cn%5Ct%23endif%5Cn%5Ct%5Cn%23endif%22%2C%20envmap_pars_fragment%3A%20%22%23ifdef%20USE_ENVMAP%5Cn%5Ctuniform%20float%20reflectivity%3B%5Cn%5Ct%23if%20defined(%20USE_BUMPMAP%20)%20%7C%7C%20defined(%20USE_NORMALMAP%20)%20%7C%7C%20defined(%20PHONG%20)%20%7C%7C%20defined(%20LAMBERT%20)%5Cn%5Ct%5Ct%23define%20ENV_WORLDPOS%5Cn%5Ct%23endif%5Cn%5Ct%23ifdef%20ENV_WORLDPOS%5Cn%5Ct%5Ctvarying%20vec3%20vWorldPosition%3B%5Cn%5Ct%5Ctuniform%20float%20refractionRatio%3B%5Cn%5Ct%23else%5Cn%5Ct%5Ctvarying%20vec3%20vReflect%3B%5Cn%5Ct%23endif%5Cn%23endif%22%2C%20envmap_pars_vertex%3A%20%22%23ifdef%20USE_ENVMAP%5Cn%5Ct%23if%20defined(%20USE_BUMPMAP%20)%20%7C%7C%20defined(%20USE_NORMALMAP%20)%20%7C%7C%20defined(%20PHONG%20)%20%7C%7C%20defined(%20LAMBERT%20)%5Cn%5Ct%5Ct%23define%20ENV_WORLDPOS%5Cn%5Ct%23endif%5Cn%5Ct%23ifdef%20ENV_WORLDPOS%5Cn%5Ct%5Ct%5Cn%5Ct%5Ctvarying%20vec3%20vWorldPosition%3B%5Cn%5Ct%23else%5Cn%5Ct%5Ctvarying%20vec3%20vReflect%3B%5Cn%5Ct%5Ctuniform%20float%20refractionRatio%3B%5Cn%5Ct%23endif%5Cn%23endif%22%2C%20envmap_physical_pars_fragment%3A%20%22%23if%20defined(%20USE_ENVMAP%20)%5Cn%5Ctvec3%20getIBLIrradiance(%20const%20in%20vec3%20normal%20)%20%7B%5Cn%5Ct%5Ct%23if%20defined(%20ENVMAP_TYPE_CUBE_UV%20)%5Cn%5Ct%5Ct%5Ctvec3%20worldNormal%20%3D%20inverseTransformDirection(%20normal%2C%20viewMatrix%20)%3B%5Cn%5Ct%5Ct%5Ctvec4%20envMapColor%20%3D%20textureCubeUV(%20envMap%2C%20worldNormal%2C%201.0%20)%3B%5Cn%5Ct%5Ct%5Ctreturn%20PI%20*%20envMapColor.rgb%20*%20envMapIntensity%3B%5Cn%5Ct%5Ct%23else%5Cn%5Ct%5Ct%5Ctreturn%20vec3(%200.0%20)%3B%5Cn%5Ct%5Ct%23endif%5Cn%5Ct%7D%5Cn%5Ctvec3%20getIBLRadiance(%20const%20in%20vec3%20viewDir%2C%20const%20in%20vec3%20normal%2C%20const%20in%20float%20roughness%20)%20%7B%5Cn%5Ct%5Ct%23if%20defined(%20ENVMAP_TYPE_CUBE_UV%20)%5Cn%5Ct%5Ct%5Ctvec3%20reflectVec%20%3D%20reflect(%20-%20viewDir%2C%20normal%20)%3B%5Cn%5Ct%5Ct%5CtreflectVec%20%3D%20normalize(%20mix(%20reflectVec%2C%20normal%2C%20roughness%20*%20roughness)%20)%3B%5Cn%5Ct%5Ct%5CtreflectVec%20%3D%20inverseTransformDirection(%20reflectVec%2C%20viewMatrix%20)%3B%5Cn%5Ct%5Ct%5Ctvec4%20envMapColor%20%3D%20textureCubeUV(%20envMap%2C%20reflectVec%2C%20roughness%20)%3B%5Cn%5Ct%5Ct%5Ctreturn%20envMapColor.rgb%20*%20envMapIntensity%3B%5Cn%5Ct%5Ct%23else%5Cn%5Ct%5Ct%5Ctreturn%20vec3(%200.0%20)%3B%5Cn%5Ct%5Ct%23endif%5Cn%5Ct%7D%5Cn%23endif%22%2C%20envmap_vertex%3A%20%22%23ifdef%20USE_ENVMAP%5Cn%5Ct%23ifdef%20ENV_WORLDPOS%5Cn%5Ct%5CtvWorldPosition%20%3D%20worldPosition.xyz%3B%5Cn%5Ct%23else%5Cn%5Ct%5Ctvec3%20cameraToVertex%3B%5Cn%5Ct%5Ctif%20(%20isOrthographic%20)%20%7B%5Cn%5Ct%5Ct%5CtcameraToVertex%20%3D%20normalize(%20vec3(%20-%20viewMatrix%5B%200%20%5D%5B%202%20%5D%2C%20-%20viewMatrix%5B%201%20%5D%5B%202%20%5D%2C%20-%20viewMatrix%5B%202%20%5D%5B%202%20%5D%20)%20)%3B%5Cn%5Ct%5Ct%7D%20else%20%7B%5Cn%5Ct%5Ct%5CtcameraToVertex%20%3D%20normalize(%20worldPosition.xyz%20-%20cameraPosition%20)%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ctvec3%20worldNormal%20%3D%20inverseTransformDirection(%20transformedNormal%2C%20viewMatrix%20)%3B%5Cn%5Ct%5Ct%23ifdef%20ENVMAP_MODE_REFLECTION%5Cn%5Ct%5Ct%5CtvReflect%20%3D%20reflect(%20cameraToVertex%2C%20worldNormal%20)%3B%5Cn%5Ct%5Ct%23else%5Cn%5Ct%5Ct%5CtvReflect%20%3D%20refract(%20cameraToVertex%2C%20worldNormal%2C%20refractionRatio%20)%3B%5Cn%5Ct%5Ct%23endif%5Cn%5Ct%23endif%5Cn%23endif%22%2C%20fog_vertex%3A%20%22%23ifdef%20USE_FOG%5Cn%5CtvFogDepth%20%3D%20-%20mvPosition.z%3B%5Cn%23endif%22%2C%20fog_pars_vertex%3A%20%22%23ifdef%20USE_FOG%5Cn%5Ctvarying%20float%20vFogDepth%3B%5Cn%23endif%22%2C%20fog_fragment%3A%20%22%23ifdef%20USE_FOG%5Cn%5Ct%23ifdef%20FOG_EXP2%5Cn%5Ct%5Ctfloat%20fogFactor%20%3D%201.0%20-%20exp(%20-%20fogDensity%20*%20fogDensity%20*%20vFogDepth%20*%20vFogDepth%20)%3B%5Cn%5Ct%23else%5Cn%5Ct%5Ctfloat%20fogFactor%20%3D%20smoothstep(%20fogNear%2C%20fogFar%2C%20vFogDepth%20)%3B%5Cn%5Ct%23endif%5Cn%5Ctgl_FragColor.rgb%20%3D%20mix(%20gl_FragColor.rgb%2C%20fogColor%2C%20fogFactor%20)%3B%5Cn%23endif%22%2C%20fog_pars_fragment%3A%20%22%23ifdef%20USE_FOG%5Cn%5Ctuniform%20vec3%20fogColor%3B%5Cn%5Ctvarying%20float%20vFogDepth%3B%5Cn%5Ct%23ifdef%20FOG_EXP2%5Cn%5Ct%5Ctuniform%20float%20fogDensity%3B%5Cn%5Ct%23else%5Cn%5Ct%5Ctuniform%20float%20fogNear%3B%5Cn%5Ct%5Ctuniform%20float%20fogFar%3B%5Cn%5Ct%23endif%5Cn%23endif%22%2C%20gradientmap_pars_fragment%3A%20%22%23ifdef%20USE_GRADIENTMAP%5Cn%5Ctuniform%20sampler2D%20gradientMap%3B%5Cn%23endif%5Cnvec3%20getGradientIrradiance(%20vec3%20normal%2C%20vec3%20lightDirection%20)%20%7B%5Cn%5Ctfloat%20dotNL%20%3D%20dot(%20normal%2C%20lightDirection%20)%3B%5Cn%5Ctvec2%20coord%20%3D%20vec2(%20dotNL%20*%200.5%20%2B%200.5%2C%200.0%20)%3B%5Cn%5Ct%23ifdef%20USE_GRADIENTMAP%5Cn%5Ct%5Ctreturn%20vec3(%20texture2D(%20gradientMap%2C%20coord%20).r%20)%3B%5Cn%5Ct%23else%5Cn%5Ct%5Ctvec2%20fw%20%3D%20fwidth(%20coord%20)%20*%200.5%3B%5Cn%5Ct%5Ctreturn%20mix(%20vec3(%200.7%20)%2C%20vec3(%201.0%20)%2C%20smoothstep(%200.7%20-%20fw.x%2C%200.7%20%2B%20fw.x%2C%20coord.x%20)%20)%3B%5Cn%5Ct%23endif%5Cn%7D%22%2C%20lightmap_fragment%3A%20%22%23ifdef%20USE_LIGHTMAP%5Cn%5Ctvec4%20lightMapTexel%20%3D%20texture2D(%20lightMap%2C%20vUv2%20)%3B%5Cn%5Ctvec3%20lightMapIrradiance%20%3D%20lightMapTexel.rgb%20*%20lightMapIntensity%3B%5Cn%5CtreflectedLight.indirectDiffuse%20%2B%3D%20lightMapIrradiance%3B%5Cn%23endif%22%2C%20lightmap_pars_fragment%3A%20%22%23ifdef%20USE_LIGHTMAP%5Cn%5Ctuniform%20sampler2D%20lightMap%3B%5Cn%5Ctuniform%20float%20lightMapIntensity%3B%5Cn%23endif%22%2C%20lights_lambert_fragment%3A%20%22LambertMaterial%20material%3B%5Cnmaterial.diffuseColor%20%3D%20diffuseColor.rgb%3B%5Cnmaterial.specularStrength%20%3D%20specularStrength%3B%22%2C%20lights_lambert_pars_fragment%3A%20%22varying%20vec3%20vViewPosition%3B%5Cnstruct%20LambertMaterial%20%7B%5Cn%5Ctvec3%20diffuseColor%3B%5Cn%5Ctfloat%20specularStrength%3B%5Cn%7D%3B%5Cnvoid%20RE_Direct_Lambert(%20const%20in%20IncidentLight%20directLight%2C%20const%20in%20GeometricContext%20geometry%2C%20const%20in%20LambertMaterial%20material%2C%20inout%20ReflectedLight%20reflectedLight%20)%20%7B%5Cn%5Ctfloat%20dotNL%20%3D%20saturate(%20dot(%20geometry.normal%2C%20directLight.direction%20)%20)%3B%5Cn%5Ctvec3%20irradiance%20%3D%20dotNL%20*%20directLight.color%3B%5Cn%5CtreflectedLight.directDiffuse%20%2B%3D%20irradiance%20*%20BRDF_Lambert(%20material.diffuseColor%20)%3B%5Cn%7D%5Cnvoid%20RE_IndirectDiffuse_Lambert(%20const%20in%20vec3%20irradiance%2C%20const%20in%20GeometricContext%20geometry%2C%20const%20in%20LambertMaterial%20material%2C%20inout%20ReflectedLight%20reflectedLight%20)%20%7B%5Cn%5CtreflectedLight.indirectDiffuse%20%2B%3D%20irradiance%20*%20BRDF_Lambert(%20material.diffuseColor%20)%3B%5Cn%7D%5Cn%23define%20RE_Direct%5Ct%5Ct%5Ct%5CtRE_Direct_Lambert%5Cn%23define%20RE_IndirectDiffuse%5Ct%5CtRE_IndirectDiffuse_Lambert%22%2C%20lights_pars_begin%3A%20%22uniform%20bool%20receiveShadow%3B%5Cnuniform%20vec3%20ambientLightColor%3B%5Cnuniform%20vec3%20lightProbe%5B%209%20%5D%3B%5Cnvec3%20shGetIrradianceAt(%20in%20vec3%20normal%2C%20in%20vec3%20shCoefficients%5B%209%20%5D%20)%20%7B%5Cn%5Ctfloat%20x%20%3D%20normal.x%2C%20y%20%3D%20normal.y%2C%20z%20%3D%20normal.z%3B%5Cn%5Ctvec3%20result%20%3D%20shCoefficients%5B%200%20%5D%20*%200.886227%3B%5Cn%5Ctresult%20%2B%3D%20shCoefficients%5B%201%20%5D%20*%202.0%20*%200.511664%20*%20y%3B%5Cn%5Ctresult%20%2B%3D%20shCoefficients%5B%202%20%5D%20*%202.0%20*%200.511664%20*%20z%3B%5Cn%5Ctresult%20%2B%3D%20shCoefficients%5B%203%20%5D%20*%202.0%20*%200.511664%20*%20x%3B%5Cn%5Ctresult%20%2B%3D%20shCoefficients%5B%204%20%5D%20*%202.0%20*%200.429043%20*%20x%20*%20y%3B%5Cn%5Ctresult%20%2B%3D%20shCoefficients%5B%205%20%5D%20*%202.0%20*%200.429043%20*%20y%20*%20z%3B%5Cn%5Ctresult%20%2B%3D%20shCoefficients%5B%206%20%5D%20*%20(%200.743125%20*%20z%20*%20z%20-%200.247708%20)%3B%5Cn%5Ctresult%20%2B%3D%20shCoefficients%5B%207%20%5D%20*%202.0%20*%200.429043%20*%20x%20*%20z%3B%5Cn%5Ctresult%20%2B%3D%20shCoefficients%5B%208%20%5D%20*%200.429043%20*%20(%20x%20*%20x%20-%20y%20*%20y%20)%3B%5Cn%5Ctreturn%20result%3B%5Cn%7D%5Cnvec3%20getLightProbeIrradiance(%20const%20in%20vec3%20lightProbe%5B%209%20%5D%2C%20const%20in%20vec3%20normal%20)%20%7B%5Cn%5Ctvec3%20worldNormal%20%3D%20inverseTransformDirection(%20normal%2C%20viewMatrix%20)%3B%5Cn%5Ctvec3%20irradiance%20%3D%20shGetIrradianceAt(%20worldNormal%2C%20lightProbe%20)%3B%5Cn%5Ctreturn%20irradiance%3B%5Cn%7D%5Cnvec3%20getAmbientLightIrradiance(%20const%20in%20vec3%20ambientLightColor%20)%20%7B%5Cn%5Ctvec3%20irradiance%20%3D%20ambientLightColor%3B%5Cn%5Ctreturn%20irradiance%3B%5Cn%7D%5Cnfloat%20getDistanceAttenuation(%20const%20in%20float%20lightDistance%2C%20const%20in%20float%20cutoffDistance%2C%20const%20in%20float%20decayExponent%20)%20%7B%5Cn%5Ct%23if%20defined%20(%20PHYSICALLY_CORRECT_LIGHTS%20)%5Cn%5Ct%5Ctfloat%20distanceFalloff%20%3D%201.0%20%2F%20max(%20pow(%20lightDistance%2C%20decayExponent%20)%2C%200.01%20)%3B%5Cn%5Ct%5Ctif%20(%20cutoffDistance%20%3E%200.0%20)%20%7B%5Cn%5Ct%5Ct%5CtdistanceFalloff%20*%3D%20pow2(%20saturate(%201.0%20-%20pow4(%20lightDistance%20%2F%20cutoffDistance%20)%20)%20)%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ctreturn%20distanceFalloff%3B%5Cn%5Ct%23else%5Cn%5Ct%5Ctif%20(%20cutoffDistance%20%3E%200.0%20%26%26%20decayExponent%20%3E%200.0%20)%20%7B%5Cn%5Ct%5Ct%5Ctreturn%20pow(%20saturate(%20-%20lightDistance%20%2F%20cutoffDistance%20%2B%201.0%20)%2C%20decayExponent%20)%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ctreturn%201.0%3B%5Cn%5Ct%23endif%5Cn%7D%5Cnfloat%20getSpotAttenuation(%20const%20in%20float%20coneCosine%2C%20const%20in%20float%20penumbraCosine%2C%20const%20in%20float%20angleCosine%20)%20%7B%5Cn%5Ctreturn%20smoothstep(%20coneCosine%2C%20penumbraCosine%2C%20angleCosine%20)%3B%5Cn%7D%5Cn%23if%20NUM_DIR_LIGHTS%20%3E%200%5Cn%5Ctstruct%20DirectionalLight%20%7B%5Cn%5Ct%5Ctvec3%20direction%3B%5Cn%5Ct%5Ctvec3%20color%3B%5Cn%5Ct%7D%3B%5Cn%5Ctuniform%20DirectionalLight%20directionalLights%5B%20NUM_DIR_LIGHTS%20%5D%3B%5Cn%5Ctvoid%20getDirectionalLightInfo(%20const%20in%20DirectionalLight%20directionalLight%2C%20const%20in%20GeometricContext%20geometry%2C%20out%20IncidentLight%20light%20)%20%7B%5Cn%5Ct%5Ctlight.color%20%3D%20directionalLight.color%3B%5Cn%5Ct%5Ctlight.direction%20%3D%20directionalLight.direction%3B%5Cn%5Ct%5Ctlight.visible%20%3D%20true%3B%5Cn%5Ct%7D%5Cn%23endif%5Cn%23if%20NUM_POINT_LIGHTS%20%3E%200%5Cn%5Ctstruct%20PointLight%20%7B%5Cn%5Ct%5Ctvec3%20position%3B%5Cn%5Ct%5Ctvec3%20color%3B%5Cn%5Ct%5Ctfloat%20distance%3B%5Cn%5Ct%5Ctfloat%20decay%3B%5Cn%5Ct%7D%3B%5Cn%5Ctuniform%20PointLight%20pointLights%5B%20NUM_POINT_LIGHTS%20%5D%3B%5Cn%5Ctvoid%20getPointLightInfo(%20const%20in%20PointLight%20pointLight%2C%20const%20in%20GeometricContext%20geometry%2C%20out%20IncidentLight%20light%20)%20%7B%5Cn%5Ct%5Ctvec3%20lVector%20%3D%20pointLight.position%20-%20geometry.position%3B%5Cn%5Ct%5Ctlight.direction%20%3D%20normalize(%20lVector%20)%3B%5Cn%5Ct%5Ctfloat%20lightDistance%20%3D%20length(%20lVector%20)%3B%5Cn%5Ct%5Ctlight.color%20%3D%20pointLight.color%3B%5Cn%5Ct%5Ctlight.color%20*%3D%20getDistanceAttenuation(%20lightDistance%2C%20pointLight.distance%2C%20pointLight.decay%20)%3B%5Cn%5Ct%5Ctlight.visible%20%3D%20(%20light.color%20!%3D%20vec3(%200.0%20)%20)%3B%5Cn%5Ct%7D%5Cn%23endif%5Cn%23if%20NUM_SPOT_LIGHTS%20%3E%200%5Cn%5Ctstruct%20SpotLight%20%7B%5Cn%5Ct%5Ctvec3%20position%3B%5Cn%5Ct%5Ctvec3%20direction%3B%5Cn%5Ct%5Ctvec3%20color%3B%5Cn%5Ct%5Ctfloat%20distance%3B%5Cn%5Ct%5Ctfloat%20decay%3B%5Cn%5Ct%5Ctfloat%20coneCos%3B%5Cn%5Ct%5Ctfloat%20penumbraCos%3B%5Cn%5Ct%7D%3B%5Cn%5Ctuniform%20SpotLight%20spotLights%5B%20NUM_SPOT_LIGHTS%20%5D%3B%5Cn%5Ctvoid%20getSpotLightInfo(%20const%20in%20SpotLight%20spotLight%2C%20const%20in%20GeometricContext%20geometry%2C%20out%20IncidentLight%20light%20)%20%7B%5Cn%5Ct%5Ctvec3%20lVector%20%3D%20spotLight.position%20-%20geometry.position%3B%5Cn%5Ct%5Ctlight.direction%20%3D%20normalize(%20lVector%20)%3B%5Cn%5Ct%5Ctfloat%20angleCos%20%3D%20dot(%20light.direction%2C%20spotLight.direction%20)%3B%5Cn%5Ct%5Ctfloat%20spotAttenuation%20%3D%20getSpotAttenuation(%20spotLight.coneCos%2C%20spotLight.penumbraCos%2C%20angleCos%20)%3B%5Cn%5Ct%5Ctif%20(%20spotAttenuation%20%3E%200.0%20)%20%7B%5Cn%5Ct%5Ct%5Ctfloat%20lightDistance%20%3D%20length(%20lVector%20)%3B%5Cn%5Ct%5Ct%5Ctlight.color%20%3D%20spotLight.color%20*%20spotAttenuation%3B%5Cn%5Ct%5Ct%5Ctlight.color%20*%3D%20getDistanceAttenuation(%20lightDistance%2C%20spotLight.distance%2C%20spotLight.decay%20)%3B%5Cn%5Ct%5Ct%5Ctlight.visible%20%3D%20(%20light.color%20!%3D%20vec3(%200.0%20)%20)%3B%5Cn%5Ct%5Ct%7D%20else%20%7B%5Cn%5Ct%5Ct%5Ctlight.color%20%3D%20vec3(%200.0%20)%3B%5Cn%5Ct%5Ct%5Ctlight.visible%20%3D%20false%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%7D%5Cn%23endif%5Cn%23if%20NUM_RECT_AREA_LIGHTS%20%3E%200%5Cn%5Ctstruct%20RectAreaLight%20%7B%5Cn%5Ct%5Ctvec3%20color%3B%5Cn%5Ct%5Ctvec3%20position%3B%5Cn%5Ct%5Ctvec3%20halfWidth%3B%5Cn%5Ct%5Ctvec3%20halfHeight%3B%5Cn%5Ct%7D%3B%5Cn%5Ctuniform%20sampler2D%20ltc_1%3B%5Ctuniform%20sampler2D%20ltc_2%3B%5Cn%5Ctuniform%20RectAreaLight%20rectAreaLights%5B%20NUM_RECT_AREA_LIGHTS%20%5D%3B%5Cn%23endif%5Cn%23if%20NUM_HEMI_LIGHTS%20%3E%200%5Cn%5Ctstruct%20HemisphereLight%20%7B%5Cn%5Ct%5Ctvec3%20direction%3B%5Cn%5Ct%5Ctvec3%20skyColor%3B%5Cn%5Ct%5Ctvec3%20groundColor%3B%5Cn%5Ct%7D%3B%5Cn%5Ctuniform%20HemisphereLight%20hemisphereLights%5B%20NUM_HEMI_LIGHTS%20%5D%3B%5Cn%5Ctvec3%20getHemisphereLightIrradiance(%20const%20in%20HemisphereLight%20hemiLight%2C%20const%20in%20vec3%20normal%20)%20%7B%5Cn%5Ct%5Ctfloat%20dotNL%20%3D%20dot(%20normal%2C%20hemiLight.direction%20)%3B%5Cn%5Ct%5Ctfloat%20hemiDiffuseWeight%20%3D%200.5%20*%20dotNL%20%2B%200.5%3B%5Cn%5Ct%5Ctvec3%20irradiance%20%3D%20mix(%20hemiLight.groundColor%2C%20hemiLight.skyColor%2C%20hemiDiffuseWeight%20)%3B%5Cn%5Ct%5Ctreturn%20irradiance%3B%5Cn%5Ct%7D%5Cn%23endif%22%2C%20lights_toon_fragment%3A%20%22ToonMaterial%20material%3B%5Cnmaterial.diffuseColor%20%3D%20diffuseColor.rgb%3B%22%2C%20lights_toon_pars_fragment%3A%20%22varying%20vec3%20vViewPosition%3B%5Cnstruct%20ToonMaterial%20%7B%5Cn%5Ctvec3%20diffuseColor%3B%5Cn%7D%3B%5Cnvoid%20RE_Direct_Toon(%20const%20in%20IncidentLight%20directLight%2C%20const%20in%20GeometricContext%20geometry%2C%20const%20in%20ToonMaterial%20material%2C%20inout%20ReflectedLight%20reflectedLight%20)%20%7B%5Cn%5Ctvec3%20irradiance%20%3D%20getGradientIrradiance(%20geometry.normal%2C%20directLight.direction%20)%20*%20directLight.color%3B%5Cn%5CtreflectedLight.directDiffuse%20%2B%3D%20irradiance%20*%20BRDF_Lambert(%20material.diffuseColor%20)%3B%5Cn%7D%5Cnvoid%20RE_IndirectDiffuse_Toon(%20const%20in%20vec3%20irradiance%2C%20const%20in%20GeometricContext%20geometry%2C%20const%20in%20ToonMaterial%20material%2C%20inout%20ReflectedLight%20reflectedLight%20)%20%7B%5Cn%5CtreflectedLight.indirectDiffuse%20%2B%3D%20irradiance%20*%20BRDF_Lambert(%20material.diffuseColor%20)%3B%5Cn%7D%5Cn%23define%20RE_Direct%5Ct%5Ct%5Ct%5CtRE_Direct_Toon%5Cn%23define%20RE_IndirectDiffuse%5Ct%5CtRE_IndirectDiffuse_Toon%22%2C%20lights_phong_fragment%3A%20%22BlinnPhongMaterial%20material%3B%5Cnmaterial.diffuseColor%20%3D%20diffuseColor.rgb%3B%5Cnmaterial.specularColor%20%3D%20specular%3B%5Cnmaterial.specularShininess%20%3D%20shininess%3B%5Cnmaterial.specularStrength%20%3D%20specularStrength%3B%22%2C%20lights_phong_pars_fragment%3A%20%22varying%20vec3%20vViewPosition%3B%5Cnstruct%20BlinnPhongMaterial%20%7B%5Cn%5Ctvec3%20diffuseColor%3B%5Cn%5Ctvec3%20specularColor%3B%5Cn%5Ctfloat%20specularShininess%3B%5Cn%5Ctfloat%20specularStrength%3B%5Cn%7D%3B%5Cnvoid%20RE_Direct_BlinnPhong(%20const%20in%20IncidentLight%20directLight%2C%20const%20in%20GeometricContext%20geometry%2C%20const%20in%20BlinnPhongMaterial%20material%2C%20inout%20ReflectedLight%20reflectedLight%20)%20%7B%5Cn%5Ctfloat%20dotNL%20%3D%20saturate(%20dot(%20geometry.normal%2C%20directLight.direction%20)%20)%3B%5Cn%5Ctvec3%20irradiance%20%3D%20dotNL%20*%20directLight.color%3B%5Cn%5CtreflectedLight.directDiffuse%20%2B%3D%20irradiance%20*%20BRDF_Lambert(%20material.diffuseColor%20)%3B%5Cn%5CtreflectedLight.directSpecular%20%2B%3D%20irradiance%20*%20BRDF_BlinnPhong(%20directLight.direction%2C%20geometry.viewDir%2C%20geometry.normal%2C%20material.specularColor%2C%20material.specularShininess%20)%20*%20material.specularStrength%3B%5Cn%7D%5Cnvoid%20RE_IndirectDiffuse_BlinnPhong(%20const%20in%20vec3%20irradiance%2C%20const%20in%20GeometricContext%20geometry%2C%20const%20in%20BlinnPhongMaterial%20material%2C%20inout%20ReflectedLight%20reflectedLight%20)%20%7B%5Cn%5CtreflectedLight.indirectDiffuse%20%2B%3D%20irradiance%20*%20BRDF_Lambert(%20material.diffuseColor%20)%3B%5Cn%7D%5Cn%23define%20RE_Direct%5Ct%5Ct%5Ct%5CtRE_Direct_BlinnPhong%5Cn%23define%20RE_IndirectDiffuse%5Ct%5CtRE_IndirectDiffuse_BlinnPhong%22%2C%20lights_physical_fragment%3A%20%22PhysicalMaterial%20material%3B%5Cnmaterial.diffuseColor%20%3D%20diffuseColor.rgb%20*%20(%201.0%20-%20metalnessFactor%20)%3B%5Cnvec3%20dxy%20%3D%20max(%20abs(%20dFdx(%20geometryNormal%20)%20)%2C%20abs(%20dFdy(%20geometryNormal%20)%20)%20)%3B%5Cnfloat%20geometryRoughness%20%3D%20max(%20max(%20dxy.x%2C%20dxy.y%20)%2C%20dxy.z%20)%3B%5Cnmaterial.roughness%20%3D%20max(%20roughnessFactor%2C%200.0525%20)%3Bmaterial.roughness%20%2B%3D%20geometryRoughness%3B%5Cnmaterial.roughness%20%3D%20min(%20material.roughness%2C%201.0%20)%3B%5Cn%23ifdef%20IOR%5Cn%5Ctmaterial.ior%20%3D%20ior%3B%5Cn%5Ct%23ifdef%20SPECULAR%5Cn%5Ct%5Ctfloat%20specularIntensityFactor%20%3D%20specularIntensity%3B%5Cn%5Ct%5Ctvec3%20specularColorFactor%20%3D%20specularColor%3B%5Cn%5Ct%5Ct%23ifdef%20USE_SPECULARINTENSITYMAP%5Cn%5Ct%5Ct%5CtspecularIntensityFactor%20*%3D%20texture2D(%20specularIntensityMap%2C%20vUv%20).a%3B%5Cn%5Ct%5Ct%23endif%5Cn%5Ct%5Ct%23ifdef%20USE_SPECULARCOLORMAP%5Cn%5Ct%5Ct%5CtspecularColorFactor%20*%3D%20texture2D(%20specularColorMap%2C%20vUv%20).rgb%3B%5Cn%5Ct%5Ct%23endif%5Cn%5Ct%5Ctmaterial.specularF90%20%3D%20mix(%20specularIntensityFactor%2C%201.0%2C%20metalnessFactor%20)%3B%5Cn%5Ct%23else%5Cn%5Ct%5Ctfloat%20specularIntensityFactor%20%3D%201.0%3B%5Cn%5Ct%5Ctvec3%20specularColorFactor%20%3D%20vec3(%201.0%20)%3B%5Cn%5Ct%5Ctmaterial.specularF90%20%3D%201.0%3B%5Cn%5Ct%23endif%5Cn%5Ctmaterial.specularColor%20%3D%20mix(%20min(%20pow2(%20(%20material.ior%20-%201.0%20)%20%2F%20(%20material.ior%20%2B%201.0%20)%20)%20*%20specularColorFactor%2C%20vec3(%201.0%20)%20)%20*%20specularIntensityFactor%2C%20diffuseColor.rgb%2C%20metalnessFactor%20)%3B%5Cn%23else%5Cn%5Ctmaterial.specularColor%20%3D%20mix(%20vec3(%200.04%20)%2C%20diffuseColor.rgb%2C%20metalnessFactor%20)%3B%5Cn%5Ctmaterial.specularF90%20%3D%201.0%3B%5Cn%23endif%5Cn%23ifdef%20USE_CLEARCOAT%5Cn%5Ctmaterial.clearcoat%20%3D%20clearcoat%3B%5Cn%5Ctmaterial.clearcoatRoughness%20%3D%20clearcoatRoughness%3B%5Cn%5Ctmaterial.clearcoatF0%20%3D%20vec3(%200.04%20)%3B%5Cn%5Ctmaterial.clearcoatF90%20%3D%201.0%3B%5Cn%5Ct%23ifdef%20USE_CLEARCOATMAP%5Cn%5Ct%5Ctmaterial.clearcoat%20*%3D%20texture2D(%20clearcoatMap%2C%20vUv%20).x%3B%5Cn%5Ct%23endif%5Cn%5Ct%23ifdef%20USE_CLEARCOAT_ROUGHNESSMAP%5Cn%5Ct%5Ctmaterial.clearcoatRoughness%20*%3D%20texture2D(%20clearcoatRoughnessMap%2C%20vUv%20).y%3B%5Cn%5Ct%23endif%5Cn%5Ctmaterial.clearcoat%20%3D%20saturate(%20material.clearcoat%20)%3B%5Ctmaterial.clearcoatRoughness%20%3D%20max(%20material.clearcoatRoughness%2C%200.0525%20)%3B%5Cn%5Ctmaterial.clearcoatRoughness%20%2B%3D%20geometryRoughness%3B%5Cn%5Ctmaterial.clearcoatRoughness%20%3D%20min(%20material.clearcoatRoughness%2C%201.0%20)%3B%5Cn%23endif%5Cn%23ifdef%20USE_IRIDESCENCE%5Cn%5Ctmaterial.iridescence%20%3D%20iridescence%3B%5Cn%5Ctmaterial.iridescenceIOR%20%3D%20iridescenceIOR%3B%5Cn%5Ct%23ifdef%20USE_IRIDESCENCEMAP%5Cn%5Ct%5Ctmaterial.iridescence%20*%3D%20texture2D(%20iridescenceMap%2C%20vUv%20).r%3B%5Cn%5Ct%23endif%5Cn%5Ct%23ifdef%20USE_IRIDESCENCE_THICKNESSMAP%5Cn%5Ct%5Ctmaterial.iridescenceThickness%20%3D%20(iridescenceThicknessMaximum%20-%20iridescenceThicknessMinimum)%20*%20texture2D(%20iridescenceThicknessMap%2C%20vUv%20).g%20%2B%20iridescenceThicknessMinimum%3B%5Cn%5Ct%23else%5Cn%5Ct%5Ctmaterial.iridescenceThickness%20%3D%20iridescenceThicknessMaximum%3B%5Cn%5Ct%23endif%5Cn%23endif%5Cn%23ifdef%20USE_SHEEN%5Cn%5Ctmaterial.sheenColor%20%3D%20sheenColor%3B%5Cn%5Ct%23ifdef%20USE_SHEENCOLORMAP%5Cn%5Ct%5Ctmaterial.sheenColor%20*%3D%20texture2D(%20sheenColorMap%2C%20vUv%20).rgb%3B%5Cn%5Ct%23endif%5Cn%5Ctmaterial.sheenRoughness%20%3D%20clamp(%20sheenRoughness%2C%200.07%2C%201.0%20)%3B%5Cn%5Ct%23ifdef%20USE_SHEENROUGHNESSMAP%5Cn%5Ct%5Ctmaterial.sheenRoughness%20*%3D%20texture2D(%20sheenRoughnessMap%2C%20vUv%20).a%3B%5Cn%5Ct%23endif%5Cn%23endif%22%2C%20lights_physical_pars_fragment%3A%20%22struct%20PhysicalMaterial%20%7B%5Cn%5Ctvec3%20diffuseColor%3B%5Cn%5Ctfloat%20roughness%3B%5Cn%5Ctvec3%20specularColor%3B%5Cn%5Ctfloat%20specularF90%3B%5Cn%5Ct%23ifdef%20USE_CLEARCOAT%5Cn%5Ct%5Ctfloat%20clearcoat%3B%5Cn%5Ct%5Ctfloat%20clearcoatRoughness%3B%5Cn%5Ct%5Ctvec3%20clearcoatF0%3B%5Cn%5Ct%5Ctfloat%20clearcoatF90%3B%5Cn%5Ct%23endif%5Cn%5Ct%23ifdef%20USE_IRIDESCENCE%5Cn%5Ct%5Ctfloat%20iridescence%3B%5Cn%5Ct%5Ctfloat%20iridescenceIOR%3B%5Cn%5Ct%5Ctfloat%20iridescenceThickness%3B%5Cn%5Ct%5Ctvec3%20iridescenceFresnel%3B%5Cn%5Ct%5Ctvec3%20iridescenceF0%3B%5Cn%5Ct%23endif%5Cn%5Ct%23ifdef%20USE_SHEEN%5Cn%5Ct%5Ctvec3%20sheenColor%3B%5Cn%5Ct%5Ctfloat%20sheenRoughness%3B%5Cn%5Ct%23endif%5Cn%5Ct%23ifdef%20IOR%5Cn%5Ct%5Ctfloat%20ior%3B%5Cn%5Ct%23endif%5Cn%5Ct%23ifdef%20USE_TRANSMISSION%5Cn%5Ct%5Ctfloat%20transmission%3B%5Cn%5Ct%5Ctfloat%20transmissionAlpha%3B%5Cn%5Ct%5Ctfloat%20thickness%3B%5Cn%5Ct%5Ctfloat%20attenuationDistance%3B%5Cn%5Ct%5Ctvec3%20attenuationColor%3B%5Cn%5Ct%23endif%5Cn%7D%3B%5Cnvec3%20clearcoatSpecular%20%3D%20vec3(%200.0%20)%3B%5Cnvec3%20sheenSpecular%20%3D%20vec3(%200.0%20)%3B%5Cnfloat%20IBLSheenBRDF(%20const%20in%20vec3%20normal%2C%20const%20in%20vec3%20viewDir%2C%20const%20in%20float%20roughness%20)%20%7B%5Cn%5Ctfloat%20dotNV%20%3D%20saturate(%20dot(%20normal%2C%20viewDir%20)%20)%3B%5Cn%5Ctfloat%20r2%20%3D%20roughness%20*%20roughness%3B%5Cn%5Ctfloat%20a%20%3D%20roughness%20%3C%200.25%20%3F%20-339.2%20*%20r2%20%2B%20161.4%20*%20roughness%20-%2025.9%20%3A%20-8.48%20*%20r2%20%2B%2014.3%20*%20roughness%20-%209.95%3B%5Cn%5Ctfloat%20b%20%3D%20roughness%20%3C%200.25%20%3F%2044.0%20*%20r2%20-%2023.7%20*%20roughness%20%2B%203.26%20%3A%201.97%20*%20r2%20-%203.27%20*%20roughness%20%2B%200.72%3B%5Cn%5Ctfloat%20DG%20%3D%20exp(%20a%20*%20dotNV%20%2B%20b%20)%20%2B%20(%20roughness%20%3C%200.25%20%3F%200.0%20%3A%200.1%20*%20(%20roughness%20-%200.25%20)%20)%3B%5Cn%5Ctreturn%20saturate(%20DG%20*%20RECIPROCAL_PI%20)%3B%5Cn%7D%5Cnvec2%20DFGApprox(%20const%20in%20vec3%20normal%2C%20const%20in%20vec3%20viewDir%2C%20const%20in%20float%20roughness%20)%20%7B%5Cn%5Ctfloat%20dotNV%20%3D%20saturate(%20dot(%20normal%2C%20viewDir%20)%20)%3B%5Cn%5Ctconst%20vec4%20c0%20%3D%20vec4(%20-%201%2C%20-%200.0275%2C%20-%200.572%2C%200.022%20)%3B%5Cn%5Ctconst%20vec4%20c1%20%3D%20vec4(%201%2C%200.0425%2C%201.04%2C%20-%200.04%20)%3B%5Cn%5Ctvec4%20r%20%3D%20roughness%20*%20c0%20%2B%20c1%3B%5Cn%5Ctfloat%20a004%20%3D%20min(%20r.x%20*%20r.x%2C%20exp2(%20-%209.28%20*%20dotNV%20)%20)%20*%20r.x%20%2B%20r.y%3B%5Cn%5Ctvec2%20fab%20%3D%20vec2(%20-%201.04%2C%201.04%20)%20*%20a004%20%2B%20r.zw%3B%5Cn%5Ctreturn%20fab%3B%5Cn%7D%5Cnvec3%20EnvironmentBRDF(%20const%20in%20vec3%20normal%2C%20const%20in%20vec3%20viewDir%2C%20const%20in%20vec3%20specularColor%2C%20const%20in%20float%20specularF90%2C%20const%20in%20float%20roughness%20)%20%7B%5Cn%5Ctvec2%20fab%20%3D%20DFGApprox(%20normal%2C%20viewDir%2C%20roughness%20)%3B%5Cn%5Ctreturn%20specularColor%20*%20fab.x%20%2B%20specularF90%20*%20fab.y%3B%5Cn%7D%5Cn%23ifdef%20USE_IRIDESCENCE%5Cnvoid%20computeMultiscatteringIridescence(%20const%20in%20vec3%20normal%2C%20const%20in%20vec3%20viewDir%2C%20const%20in%20vec3%20specularColor%2C%20const%20in%20float%20specularF90%2C%20const%20in%20float%20iridescence%2C%20const%20in%20vec3%20iridescenceF0%2C%20const%20in%20float%20roughness%2C%20inout%20vec3%20singleScatter%2C%20inout%20vec3%20multiScatter%20)%20%7B%5Cn%23else%5Cnvoid%20computeMultiscattering(%20const%20in%20vec3%20normal%2C%20const%20in%20vec3%20viewDir%2C%20const%20in%20vec3%20specularColor%2C%20const%20in%20float%20specularF90%2C%20const%20in%20float%20roughness%2C%20inout%20vec3%20singleScatter%2C%20inout%20vec3%20multiScatter%20)%20%7B%5Cn%23endif%5Cn%5Ctvec2%20fab%20%3D%20DFGApprox(%20normal%2C%20viewDir%2C%20roughness%20)%3B%5Cn%5Ct%23ifdef%20USE_IRIDESCENCE%5Cn%5Ct%5Ctvec3%20Fr%20%3D%20mix(%20specularColor%2C%20iridescenceF0%2C%20iridescence%20)%3B%5Cn%5Ct%23else%5Cn%5Ct%5Ctvec3%20Fr%20%3D%20specularColor%3B%5Cn%5Ct%23endif%5Cn%5Ctvec3%20FssEss%20%3D%20Fr%20*%20fab.x%20%2B%20specularF90%20*%20fab.y%3B%5Cn%5Ctfloat%20Ess%20%3D%20fab.x%20%2B%20fab.y%3B%5Cn%5Ctfloat%20Ems%20%3D%201.0%20-%20Ess%3B%5Cn%5Ctvec3%20Favg%20%3D%20Fr%20%2B%20(%201.0%20-%20Fr%20)%20*%200.047619%3B%5Ctvec3%20Fms%20%3D%20FssEss%20*%20Favg%20%2F%20(%201.0%20-%20Ems%20*%20Favg%20)%3B%5Cn%5CtsingleScatter%20%2B%3D%20FssEss%3B%5Cn%5CtmultiScatter%20%2B%3D%20Fms%20*%20Ems%3B%5Cn%7D%5Cn%23if%20NUM_RECT_AREA_LIGHTS%20%3E%200%5Cn%5Ctvoid%20RE_Direct_RectArea_Physical(%20const%20in%20RectAreaLight%20rectAreaLight%2C%20const%20in%20GeometricContext%20geometry%2C%20const%20in%20PhysicalMaterial%20material%2C%20inout%20ReflectedLight%20reflectedLight%20)%20%7B%5Cn%5Ct%5Ctvec3%20normal%20%3D%20geometry.normal%3B%5Cn%5Ct%5Ctvec3%20viewDir%20%3D%20geometry.viewDir%3B%5Cn%5Ct%5Ctvec3%20position%20%3D%20geometry.position%3B%5Cn%5Ct%5Ctvec3%20lightPos%20%3D%20rectAreaLight.position%3B%5Cn%5Ct%5Ctvec3%20halfWidth%20%3D%20rectAreaLight.halfWidth%3B%5Cn%5Ct%5Ctvec3%20halfHeight%20%3D%20rectAreaLight.halfHeight%3B%5Cn%5Ct%5Ctvec3%20lightColor%20%3D%20rectAreaLight.color%3B%5Cn%5Ct%5Ctfloat%20roughness%20%3D%20material.roughness%3B%5Cn%5Ct%5Ctvec3%20rectCoords%5B%204%20%5D%3B%5Cn%5Ct%5CtrectCoords%5B%200%20%5D%20%3D%20lightPos%20%2B%20halfWidth%20-%20halfHeight%3B%5Ct%5CtrectCoords%5B%201%20%5D%20%3D%20lightPos%20-%20halfWidth%20-%20halfHeight%3B%5Cn%5Ct%5CtrectCoords%5B%202%20%5D%20%3D%20lightPos%20-%20halfWidth%20%2B%20halfHeight%3B%5Cn%5Ct%5CtrectCoords%5B%203%20%5D%20%3D%20lightPos%20%2B%20halfWidth%20%2B%20halfHeight%3B%5Cn%5Ct%5Ctvec2%20uv%20%3D%20LTC_Uv(%20normal%2C%20viewDir%2C%20roughness%20)%3B%5Cn%5Ct%5Ctvec4%20t1%20%3D%20texture2D(%20ltc_1%2C%20uv%20)%3B%5Cn%5Ct%5Ctvec4%20t2%20%3D%20texture2D(%20ltc_2%2C%20uv%20)%3B%5Cn%5Ct%5Ctmat3%20mInv%20%3D%20mat3(%5Cn%5Ct%5Ct%5Ctvec3(%20t1.x%2C%200%2C%20t1.y%20)%2C%5Cn%5Ct%5Ct%5Ctvec3(%5Ct%5Ct0%2C%201%2C%5Ct%5Ct0%20)%2C%5Cn%5Ct%5Ct%5Ctvec3(%20t1.z%2C%200%2C%20t1.w%20)%5Cn%5Ct%5Ct)%3B%5Cn%5Ct%5Ctvec3%20fresnel%20%3D%20(%20material.specularColor%20*%20t2.x%20%2B%20(%20vec3(%201.0%20)%20-%20material.specularColor%20)%20*%20t2.y%20)%3B%5Cn%5Ct%5CtreflectedLight.directSpecular%20%2B%3D%20lightColor%20*%20fresnel%20*%20LTC_Evaluate(%20normal%2C%20viewDir%2C%20position%2C%20mInv%2C%20rectCoords%20)%3B%5Cn%5Ct%5CtreflectedLight.directDiffuse%20%2B%3D%20lightColor%20*%20material.diffuseColor%20*%20LTC_Evaluate(%20normal%2C%20viewDir%2C%20position%2C%20mat3(%201.0%20)%2C%20rectCoords%20)%3B%5Cn%5Ct%7D%5Cn%23endif%5Cnvoid%20RE_Direct_Physical(%20const%20in%20IncidentLight%20directLight%2C%20const%20in%20GeometricContext%20geometry%2C%20const%20in%20PhysicalMaterial%20material%2C%20inout%20ReflectedLight%20reflectedLight%20)%20%7B%5Cn%5Ctfloat%20dotNL%20%3D%20saturate(%20dot(%20geometry.normal%2C%20directLight.direction%20)%20)%3B%5Cn%5Ctvec3%20irradiance%20%3D%20dotNL%20*%20directLight.color%3B%5Cn%5Ct%23ifdef%20USE_CLEARCOAT%5Cn%5Ct%5Ctfloat%20dotNLcc%20%3D%20saturate(%20dot(%20geometry.clearcoatNormal%2C%20directLight.direction%20)%20)%3B%5Cn%5Ct%5Ctvec3%20ccIrradiance%20%3D%20dotNLcc%20*%20directLight.color%3B%5Cn%5Ct%5CtclearcoatSpecular%20%2B%3D%20ccIrradiance%20*%20BRDF_GGX(%20directLight.direction%2C%20geometry.viewDir%2C%20geometry.clearcoatNormal%2C%20material.clearcoatF0%2C%20material.clearcoatF90%2C%20material.clearcoatRoughness%20)%3B%5Cn%5Ct%23endif%5Cn%5Ct%23ifdef%20USE_SHEEN%5Cn%5Ct%5CtsheenSpecular%20%2B%3D%20irradiance%20*%20BRDF_Sheen(%20directLight.direction%2C%20geometry.viewDir%2C%20geometry.normal%2C%20material.sheenColor%2C%20material.sheenRoughness%20)%3B%5Cn%5Ct%23endif%5Cn%5Ct%23ifdef%20USE_IRIDESCENCE%5Cn%5Ct%5CtreflectedLight.directSpecular%20%2B%3D%20irradiance%20*%20BRDF_GGX_Iridescence(%20directLight.direction%2C%20geometry.viewDir%2C%20geometry.normal%2C%20material.specularColor%2C%20material.specularF90%2C%20material.iridescence%2C%20material.iridescenceFresnel%2C%20material.roughness%20)%3B%5Cn%5Ct%23else%5Cn%5Ct%5CtreflectedLight.directSpecular%20%2B%3D%20irradiance%20*%20BRDF_GGX(%20directLight.direction%2C%20geometry.viewDir%2C%20geometry.normal%2C%20material.specularColor%2C%20material.specularF90%2C%20material.roughness%20)%3B%5Cn%5Ct%23endif%5Cn%5CtreflectedLight.directDiffuse%20%2B%3D%20irradiance%20*%20BRDF_Lambert(%20material.diffuseColor%20)%3B%5Cn%7D%5Cnvoid%20RE_IndirectDiffuse_Physical(%20const%20in%20vec3%20irradiance%2C%20const%20in%20GeometricContext%20geometry%2C%20const%20in%20PhysicalMaterial%20material%2C%20inout%20ReflectedLight%20reflectedLight%20)%20%7B%5Cn%5CtreflectedLight.indirectDiffuse%20%2B%3D%20irradiance%20*%20BRDF_Lambert(%20material.diffuseColor%20)%3B%5Cn%7D%5Cnvoid%20RE_IndirectSpecular_Physical(%20const%20in%20vec3%20radiance%2C%20const%20in%20vec3%20irradiance%2C%20const%20in%20vec3%20clearcoatRadiance%2C%20const%20in%20GeometricContext%20geometry%2C%20const%20in%20PhysicalMaterial%20material%2C%20inout%20ReflectedLight%20reflectedLight)%20%7B%5Cn%5Ct%23ifdef%20USE_CLEARCOAT%5Cn%5Ct%5CtclearcoatSpecular%20%2B%3D%20clearcoatRadiance%20*%20EnvironmentBRDF(%20geometry.clearcoatNormal%2C%20geometry.viewDir%2C%20material.clearcoatF0%2C%20material.clearcoatF90%2C%20material.clearcoatRoughness%20)%3B%5Cn%5Ct%23endif%5Cn%5Ct%23ifdef%20USE_SHEEN%5Cn%5Ct%5CtsheenSpecular%20%2B%3D%20irradiance%20*%20material.sheenColor%20*%20IBLSheenBRDF(%20geometry.normal%2C%20geometry.viewDir%2C%20material.sheenRoughness%20)%3B%5Cn%5Ct%23endif%5Cn%5Ctvec3%20singleScattering%20%3D%20vec3(%200.0%20)%3B%5Cn%5Ctvec3%20multiScattering%20%3D%20vec3(%200.0%20)%3B%5Cn%5Ctvec3%20cosineWeightedIrradiance%20%3D%20irradiance%20*%20RECIPROCAL_PI%3B%5Cn%5Ct%23ifdef%20USE_IRIDESCENCE%5Cn%5Ct%5CtcomputeMultiscatteringIridescence(%20geometry.normal%2C%20geometry.viewDir%2C%20material.specularColor%2C%20material.specularF90%2C%20material.iridescence%2C%20material.iridescenceFresnel%2C%20material.roughness%2C%20singleScattering%2C%20multiScattering%20)%3B%5Cn%5Ct%23else%5Cn%5Ct%5CtcomputeMultiscattering(%20geometry.normal%2C%20geometry.viewDir%2C%20material.specularColor%2C%20material.specularF90%2C%20material.roughness%2C%20singleScattering%2C%20multiScattering%20)%3B%5Cn%5Ct%23endif%5Cn%5Ctvec3%20totalScattering%20%3D%20singleScattering%20%2B%20multiScattering%3B%5Cn%5Ctvec3%20diffuse%20%3D%20material.diffuseColor%20*%20(%201.0%20-%20max(%20max(%20totalScattering.r%2C%20totalScattering.g%20)%2C%20totalScattering.b%20)%20)%3B%5Cn%5CtreflectedLight.indirectSpecular%20%2B%3D%20radiance%20*%20singleScattering%3B%5Cn%5CtreflectedLight.indirectSpecular%20%2B%3D%20multiScattering%20*%20cosineWeightedIrradiance%3B%5Cn%5CtreflectedLight.indirectDiffuse%20%2B%3D%20diffuse%20*%20cosineWeightedIrradiance%3B%5Cn%7D%5Cn%23define%20RE_Direct%5Ct%5Ct%5Ct%5CtRE_Direct_Physical%5Cn%23define%20RE_Direct_RectArea%5Ct%5CtRE_Direct_RectArea_Physical%5Cn%23define%20RE_IndirectDiffuse%5Ct%5CtRE_IndirectDiffuse_Physical%5Cn%23define%20RE_IndirectSpecular%5Ct%5CtRE_IndirectSpecular_Physical%5Cnfloat%20computeSpecularOcclusion(%20const%20in%20float%20dotNV%2C%20const%20in%20float%20ambientOcclusion%2C%20const%20in%20float%20roughness%20)%20%7B%5Cn%5Ctreturn%20saturate(%20pow(%20dotNV%20%2B%20ambientOcclusion%2C%20exp2(%20-%2016.0%20*%20roughness%20-%201.0%20)%20)%20-%201.0%20%2B%20ambientOcclusion%20)%3B%5Cn%7D%22%2C%20lights_fragment_begin%3A%20%22%5CnGeometricContext%20geometry%3B%5Cngeometry.position%20%3D%20-%20vViewPosition%3B%5Cngeometry.normal%20%3D%20normal%3B%5Cngeometry.viewDir%20%3D%20(%20isOrthographic%20)%20%3F%20vec3(%200%2C%200%2C%201%20)%20%3A%20normalize(%20vViewPosition%20)%3B%5Cn%23ifdef%20USE_CLEARCOAT%5Cn%5Ctgeometry.clearcoatNormal%20%3D%20clearcoatNormal%3B%5Cn%23endif%5Cn%23ifdef%20USE_IRIDESCENCE%5Cn%5Ctfloat%20dotNVi%20%3D%20saturate(%20dot(%20normal%2C%20geometry.viewDir%20)%20)%3B%5Cn%5Ctif%20(%20material.iridescenceThickness%20%3D%3D%200.0%20)%20%7B%5Cn%5Ct%5Ctmaterial.iridescence%20%3D%200.0%3B%5Cn%5Ct%7D%20else%20%7B%5Cn%5Ct%5Ctmaterial.iridescence%20%3D%20saturate(%20material.iridescence%20)%3B%5Cn%5Ct%7D%5Cn%5Ctif%20(%20material.iridescence%20%3E%200.0%20)%20%7B%5Cn%5Ct%5Ctmaterial.iridescenceFresnel%20%3D%20evalIridescence(%201.0%2C%20material.iridescenceIOR%2C%20dotNVi%2C%20material.iridescenceThickness%2C%20material.specularColor%20)%3B%5Cn%5Ct%5Ctmaterial.iridescenceF0%20%3D%20Schlick_to_F0(%20material.iridescenceFresnel%2C%201.0%2C%20dotNVi%20)%3B%5Cn%5Ct%7D%5Cn%23endif%5CnIncidentLight%20directLight%3B%5Cn%23if%20(%20NUM_POINT_LIGHTS%20%3E%200%20)%20%26%26%20defined(%20RE_Direct%20)%5Cn%5CtPointLight%20pointLight%3B%5Cn%5Ct%23if%20defined(%20USE_SHADOWMAP%20)%20%26%26%20NUM_POINT_LIGHT_SHADOWS%20%3E%200%5Cn%5CtPointLightShadow%20pointLightShadow%3B%5Cn%5Ct%23endif%5Cn%5Ct%23pragma%20unroll_loop_start%5Cn%5Ctfor%20(%20int%20i%20%3D%200%3B%20i%20%3C%20NUM_POINT_LIGHTS%3B%20i%20%2B%2B%20)%20%7B%5Cn%5Ct%5CtpointLight%20%3D%20pointLights%5B%20i%20%5D%3B%5Cn%5Ct%5CtgetPointLightInfo(%20pointLight%2C%20geometry%2C%20directLight%20)%3B%5Cn%5Ct%5Ct%23if%20defined(%20USE_SHADOWMAP%20)%20%26%26%20(%20UNROLLED_LOOP_INDEX%20%3C%20NUM_POINT_LIGHT_SHADOWS%20)%5Cn%5Ct%5CtpointLightShadow%20%3D%20pointLightShadows%5B%20i%20%5D%3B%5Cn%5Ct%5CtdirectLight.color%20*%3D%20(%20directLight.visible%20%26%26%20receiveShadow%20)%20%3F%20getPointShadow(%20pointShadowMap%5B%20i%20%5D%2C%20pointLightShadow.shadowMapSize%2C%20pointLightShadow.shadowBias%2C%20pointLightShadow.shadowRadius%2C%20vPointShadowCoord%5B%20i%20%5D%2C%20pointLightShadow.shadowCameraNear%2C%20pointLightShadow.shadowCameraFar%20)%20%3A%201.0%3B%5Cn%5Ct%5Ct%23endif%5Cn%5Ct%5CtRE_Direct(%20directLight%2C%20geometry%2C%20material%2C%20reflectedLight%20)%3B%5Cn%5Ct%7D%5Cn%5Ct%23pragma%20unroll_loop_end%5Cn%23endif%5Cn%23if%20(%20NUM_SPOT_LIGHTS%20%3E%200%20)%20%26%26%20defined(%20RE_Direct%20)%5Cn%5CtSpotLight%20spotLight%3B%5Cn%5Ctvec4%20spotColor%3B%5Cn%5Ctvec3%20spotLightCoord%3B%5Cn%5Ctbool%20inSpotLightMap%3B%5Cn%5Ct%23if%20defined(%20USE_SHADOWMAP%20)%20%26%26%20NUM_SPOT_LIGHT_SHADOWS%20%3E%200%5Cn%5CtSpotLightShadow%20spotLightShadow%3B%5Cn%5Ct%23endif%5Cn%5Ct%23pragma%20unroll_loop_start%5Cn%5Ctfor%20(%20int%20i%20%3D%200%3B%20i%20%3C%20NUM_SPOT_LIGHTS%3B%20i%20%2B%2B%20)%20%7B%5Cn%5Ct%5CtspotLight%20%3D%20spotLights%5B%20i%20%5D%3B%5Cn%5Ct%5CtgetSpotLightInfo(%20spotLight%2C%20geometry%2C%20directLight%20)%3B%5Cn%5Ct%5Ct%23if%20(%20UNROLLED_LOOP_INDEX%20%3C%20NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS%20)%5Cn%5Ct%5Ct%23define%20SPOT_LIGHT_MAP_INDEX%20UNROLLED_LOOP_INDEX%5Cn%5Ct%5Ct%23elif%20(%20UNROLLED_LOOP_INDEX%20%3C%20NUM_SPOT_LIGHT_SHADOWS%20)%5Cn%5Ct%5Ct%23define%20SPOT_LIGHT_MAP_INDEX%20NUM_SPOT_LIGHT_MAPS%5Cn%5Ct%5Ct%23else%5Cn%5Ct%5Ct%23define%20SPOT_LIGHT_MAP_INDEX%20(%20UNROLLED_LOOP_INDEX%20-%20NUM_SPOT_LIGHT_SHADOWS%20%2B%20NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS%20)%5Cn%5Ct%5Ct%23endif%5Cn%5Ct%5Ct%23if%20(%20SPOT_LIGHT_MAP_INDEX%20%3C%20NUM_SPOT_LIGHT_MAPS%20)%5Cn%5Ct%5Ct%5CtspotLightCoord%20%3D%20vSpotLightCoord%5B%20i%20%5D.xyz%20%2F%20vSpotLightCoord%5B%20i%20%5D.w%3B%5Cn%5Ct%5Ct%5CtinSpotLightMap%20%3D%20all(%20lessThan(%20abs(%20spotLightCoord%20*%202.%20-%201.%20)%2C%20vec3(%201.0%20)%20)%20)%3B%5Cn%5Ct%5Ct%5CtspotColor%20%3D%20texture2D(%20spotLightMap%5B%20SPOT_LIGHT_MAP_INDEX%20%5D%2C%20spotLightCoord.xy%20)%3B%5Cn%5Ct%5Ct%5CtdirectLight.color%20%3D%20inSpotLightMap%20%3F%20directLight.color%20*%20spotColor.rgb%20%3A%20directLight.color%3B%5Cn%5Ct%5Ct%23endif%5Cn%5Ct%5Ct%23undef%20SPOT_LIGHT_MAP_INDEX%5Cn%5Ct%5Ct%23if%20defined(%20USE_SHADOWMAP%20)%20%26%26%20(%20UNROLLED_LOOP_INDEX%20%3C%20NUM_SPOT_LIGHT_SHADOWS%20)%5Cn%5Ct%5CtspotLightShadow%20%3D%20spotLightShadows%5B%20i%20%5D%3B%5Cn%5Ct%5CtdirectLight.color%20*%3D%20(%20directLight.visible%20%26%26%20receiveShadow%20)%20%3F%20getShadow(%20spotShadowMap%5B%20i%20%5D%2C%20spotLightShadow.shadowMapSize%2C%20spotLightShadow.shadowBias%2C%20spotLightShadow.shadowRadius%2C%20vSpotLightCoord%5B%20i%20%5D%20)%20%3A%201.0%3B%5Cn%5Ct%5Ct%23endif%5Cn%5Ct%5CtRE_Direct(%20directLight%2C%20geometry%2C%20material%2C%20reflectedLight%20)%3B%5Cn%5Ct%7D%5Cn%5Ct%23pragma%20unroll_loop_end%5Cn%23endif%5Cn%23if%20(%20NUM_DIR_LIGHTS%20%3E%200%20)%20%26%26%20defined(%20RE_Direct%20)%5Cn%5CtDirectionalLight%20directionalLight%3B%5Cn%5Ct%23if%20defined(%20USE_SHADOWMAP%20)%20%26%26%20NUM_DIR_LIGHT_SHADOWS%20%3E%200%5Cn%5CtDirectionalLightShadow%20directionalLightShadow%3B%5Cn%5Ct%23endif%5Cn%5Ct%23pragma%20unroll_loop_start%5Cn%5Ctfor%20(%20int%20i%20%3D%200%3B%20i%20%3C%20NUM_DIR_LIGHTS%3B%20i%20%2B%2B%20)%20%7B%5Cn%5Ct%5CtdirectionalLight%20%3D%20directionalLights%5B%20i%20%5D%3B%5Cn%5Ct%5CtgetDirectionalLightInfo(%20directionalLight%2C%20geometry%2C%20directLight%20)%3B%5Cn%5Ct%5Ct%23if%20defined(%20USE_SHADOWMAP%20)%20%26%26%20(%20UNROLLED_LOOP_INDEX%20%3C%20NUM_DIR_LIGHT_SHADOWS%20)%5Cn%5Ct%5CtdirectionalLightShadow%20%3D%20directionalLightShadows%5B%20i%20%5D%3B%5Cn%5Ct%5CtdirectLight.color%20*%3D%20(%20directLight.visible%20%26%26%20receiveShadow%20)%20%3F%20getShadow(%20directionalShadowMap%5B%20i%20%5D%2C%20directionalLightShadow.shadowMapSize%2C%20directionalLightShadow.shadowBias%2C%20directionalLightShadow.shadowRadius%2C%20vDirectionalShadowCoord%5B%20i%20%5D%20)%20%3A%201.0%3B%5Cn%5Ct%5Ct%23endif%5Cn%5Ct%5CtRE_Direct(%20directLight%2C%20geometry%2C%20material%2C%20reflectedLight%20)%3B%5Cn%5Ct%7D%5Cn%5Ct%23pragma%20unroll_loop_end%5Cn%23endif%5Cn%23if%20(%20NUM_RECT_AREA_LIGHTS%20%3E%200%20)%20%26%26%20defined(%20RE_Direct_RectArea%20)%5Cn%5CtRectAreaLight%20rectAreaLight%3B%5Cn%5Ct%23pragma%20unroll_loop_start%5Cn%5Ctfor%20(%20int%20i%20%3D%200%3B%20i%20%3C%20NUM_RECT_AREA_LIGHTS%3B%20i%20%2B%2B%20)%20%7B%5Cn%5Ct%5CtrectAreaLight%20%3D%20rectAreaLights%5B%20i%20%5D%3B%5Cn%5Ct%5CtRE_Direct_RectArea(%20rectAreaLight%2C%20geometry%2C%20material%2C%20reflectedLight%20)%3B%5Cn%5Ct%7D%5Cn%5Ct%23pragma%20unroll_loop_end%5Cn%23endif%5Cn%23if%20defined(%20RE_IndirectDiffuse%20)%5Cn%5Ctvec3%20iblIrradiance%20%3D%20vec3(%200.0%20)%3B%5Cn%5Ctvec3%20irradiance%20%3D%20getAmbientLightIrradiance(%20ambientLightColor%20)%3B%5Cn%5Ctirradiance%20%2B%3D%20getLightProbeIrradiance(%20lightProbe%2C%20geometry.normal%20)%3B%5Cn%5Ct%23if%20(%20NUM_HEMI_LIGHTS%20%3E%200%20)%5Cn%5Ct%5Ct%23pragma%20unroll_loop_start%5Cn%5Ct%5Ctfor%20(%20int%20i%20%3D%200%3B%20i%20%3C%20NUM_HEMI_LIGHTS%3B%20i%20%2B%2B%20)%20%7B%5Cn%5Ct%5Ct%5Ctirradiance%20%2B%3D%20getHemisphereLightIrradiance(%20hemisphereLights%5B%20i%20%5D%2C%20geometry.normal%20)%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ct%23pragma%20unroll_loop_end%5Cn%5Ct%23endif%5Cn%23endif%5Cn%23if%20defined(%20RE_IndirectSpecular%20)%5Cn%5Ctvec3%20radiance%20%3D%20vec3(%200.0%20)%3B%5Cn%5Ctvec3%20clearcoatRadiance%20%3D%20vec3(%200.0%20)%3B%5Cn%23endif%22%2C%20lights_fragment_maps%3A%20%22%23if%20defined(%20RE_IndirectDiffuse%20)%5Cn%5Ct%23ifdef%20USE_LIGHTMAP%5Cn%5Ct%5Ctvec4%20lightMapTexel%20%3D%20texture2D(%20lightMap%2C%20vUv2%20)%3B%5Cn%5Ct%5Ctvec3%20lightMapIrradiance%20%3D%20lightMapTexel.rgb%20*%20lightMapIntensity%3B%5Cn%5Ct%5Ctirradiance%20%2B%3D%20lightMapIrradiance%3B%5Cn%5Ct%23endif%5Cn%5Ct%23if%20defined(%20USE_ENVMAP%20)%20%26%26%20defined(%20STANDARD%20)%20%26%26%20defined(%20ENVMAP_TYPE_CUBE_UV%20)%5Cn%5Ct%5CtiblIrradiance%20%2B%3D%20getIBLIrradiance(%20geometry.normal%20)%3B%5Cn%5Ct%23endif%5Cn%23endif%5Cn%23if%20defined(%20USE_ENVMAP%20)%20%26%26%20defined(%20RE_IndirectSpecular%20)%5Cn%5Ctradiance%20%2B%3D%20getIBLRadiance(%20geometry.viewDir%2C%20geometry.normal%2C%20material.roughness%20)%3B%5Cn%5Ct%23ifdef%20USE_CLEARCOAT%5Cn%5Ct%5CtclearcoatRadiance%20%2B%3D%20getIBLRadiance(%20geometry.viewDir%2C%20geometry.clearcoatNormal%2C%20material.clearcoatRoughness%20)%3B%5Cn%5Ct%23endif%5Cn%23endif%22%2C%20lights_fragment_end%3A%20%22%23if%20defined(%20RE_IndirectDiffuse%20)%5Cn%5CtRE_IndirectDiffuse(%20irradiance%2C%20geometry%2C%20material%2C%20reflectedLight%20)%3B%5Cn%23endif%5Cn%23if%20defined(%20RE_IndirectSpecular%20)%5Cn%5CtRE_IndirectSpecular(%20radiance%2C%20iblIrradiance%2C%20clearcoatRadiance%2C%20geometry%2C%20material%2C%20reflectedLight%20)%3B%5Cn%23endif%22%2C%20logdepthbuf_fragment%3A%20%22%23if%20defined(%20USE_LOGDEPTHBUF%20)%20%26%26%20defined(%20USE_LOGDEPTHBUF_EXT%20)%5Cn%5Ctgl_FragDepthEXT%20%3D%20vIsPerspective%20%3D%3D%200.0%20%3F%20gl_FragCoord.z%20%3A%20log2(%20vFragDepth%20)%20*%20logDepthBufFC%20*%200.5%3B%5Cn%23endif%22%2C%20logdepthbuf_pars_fragment%3A%20%22%23if%20defined(%20USE_LOGDEPTHBUF%20)%20%26%26%20defined(%20USE_LOGDEPTHBUF_EXT%20)%5Cn%5Ctuniform%20float%20logDepthBufFC%3B%5Cn%5Ctvarying%20float%20vFragDepth%3B%5Cn%5Ctvarying%20float%20vIsPerspective%3B%5Cn%23endif%22%2C%20logdepthbuf_pars_vertex%3A%20%22%23ifdef%20USE_LOGDEPTHBUF%5Cn%5Ct%23ifdef%20USE_LOGDEPTHBUF_EXT%5Cn%5Ct%5Ctvarying%20float%20vFragDepth%3B%5Cn%5Ct%5Ctvarying%20float%20vIsPerspective%3B%5Cn%5Ct%23else%5Cn%5Ct%5Ctuniform%20float%20logDepthBufFC%3B%5Cn%5Ct%23endif%5Cn%23endif%22%2C%20logdepthbuf_vertex%3A%20%22%23ifdef%20USE_LOGDEPTHBUF%5Cn%5Ct%23ifdef%20USE_LOGDEPTHBUF_EXT%5Cn%5Ct%5CtvFragDepth%20%3D%201.0%20%2B%20gl_Position.w%3B%5Cn%5Ct%5CtvIsPerspective%20%3D%20float(%20isPerspectiveMatrix(%20projectionMatrix%20)%20)%3B%5Cn%5Ct%23else%5Cn%5Ct%5Ctif%20(%20isPerspectiveMatrix(%20projectionMatrix%20)%20)%20%7B%5Cn%5Ct%5Ct%5Ctgl_Position.z%20%3D%20log2(%20max(%20EPSILON%2C%20gl_Position.w%20%2B%201.0%20)%20)%20*%20logDepthBufFC%20-%201.0%3B%5Cn%5Ct%5Ct%5Ctgl_Position.z%20*%3D%20gl_Position.w%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%23endif%5Cn%23endif%22%2C%20map_fragment%3A%20%22%23ifdef%20USE_MAP%5Cn%5Ctvec4%20sampledDiffuseColor%20%3D%20texture2D(%20map%2C%20vUv%20)%3B%5Cn%5Ct%23ifdef%20DECODE_VIDEO_TEXTURE%5Cn%5Ct%5CtsampledDiffuseColor%20%3D%20vec4(%20mix(%20pow(%20sampledDiffuseColor.rgb%20*%200.9478672986%20%2B%20vec3(%200.0521327014%20)%2C%20vec3(%202.4%20)%20)%2C%20sampledDiffuseColor.rgb%20*%200.0773993808%2C%20vec3(%20lessThanEqual(%20sampledDiffuseColor.rgb%2C%20vec3(%200.04045%20)%20)%20)%20)%2C%20sampledDiffuseColor.w%20)%3B%5Cn%5Ct%23endif%5Cn%5CtdiffuseColor%20*%3D%20sampledDiffuseColor%3B%5Cn%23endif%22%2C%20map_pars_fragment%3A%20%22%23ifdef%20USE_MAP%5Cn%5Ctuniform%20sampler2D%20map%3B%5Cn%23endif%22%2C%20map_particle_fragment%3A%20%22%23if%20defined(%20USE_MAP%20)%20%7C%7C%20defined(%20USE_ALPHAMAP%20)%5Cn%5Ctvec2%20uv%20%3D%20(%20uvTransform%20*%20vec3(%20gl_PointCoord.x%2C%201.0%20-%20gl_PointCoord.y%2C%201%20)%20).xy%3B%5Cn%23endif%5Cn%23ifdef%20USE_MAP%5Cn%5CtdiffuseColor%20*%3D%20texture2D(%20map%2C%20uv%20)%3B%5Cn%23endif%5Cn%23ifdef%20USE_ALPHAMAP%5Cn%5CtdiffuseColor.a%20*%3D%20texture2D(%20alphaMap%2C%20uv%20).g%3B%5Cn%23endif%22%2C%20map_particle_pars_fragment%3A%20%22%23if%20defined(%20USE_MAP%20)%20%7C%7C%20defined(%20USE_ALPHAMAP%20)%5Cn%5Ctuniform%20mat3%20uvTransform%3B%5Cn%23endif%5Cn%23ifdef%20USE_MAP%5Cn%5Ctuniform%20sampler2D%20map%3B%5Cn%23endif%5Cn%23ifdef%20USE_ALPHAMAP%5Cn%5Ctuniform%20sampler2D%20alphaMap%3B%5Cn%23endif%22%2C%20metalnessmap_fragment%3A%20%22float%20metalnessFactor%20%3D%20metalness%3B%5Cn%23ifdef%20USE_METALNESSMAP%5Cn%5Ctvec4%20texelMetalness%20%3D%20texture2D(%20metalnessMap%2C%20vUv%20)%3B%5Cn%5CtmetalnessFactor%20*%3D%20texelMetalness.b%3B%5Cn%23endif%22%2C%20metalnessmap_pars_fragment%3A%20%22%23ifdef%20USE_METALNESSMAP%5Cn%5Ctuniform%20sampler2D%20metalnessMap%3B%5Cn%23endif%22%2C%20morphcolor_vertex%3A%20%22%23if%20defined(%20USE_MORPHCOLORS%20)%20%26%26%20defined(%20MORPHTARGETS_TEXTURE%20)%5Cn%5CtvColor%20*%3D%20morphTargetBaseInfluence%3B%5Cn%5Ctfor%20(%20int%20i%20%3D%200%3B%20i%20%3C%20MORPHTARGETS_COUNT%3B%20i%20%2B%2B%20)%20%7B%5Cn%5Ct%5Ct%23if%20defined(%20USE_COLOR_ALPHA%20)%5Cn%5Ct%5Ct%5Ctif%20(%20morphTargetInfluences%5B%20i%20%5D%20!%3D%200.0%20)%20vColor%20%2B%3D%20getMorph(%20gl_VertexID%2C%20i%2C%202%20)%20*%20morphTargetInfluences%5B%20i%20%5D%3B%5Cn%5Ct%5Ct%23elif%20defined(%20USE_COLOR%20)%5Cn%5Ct%5Ct%5Ctif%20(%20morphTargetInfluences%5B%20i%20%5D%20!%3D%200.0%20)%20vColor%20%2B%3D%20getMorph(%20gl_VertexID%2C%20i%2C%202%20).rgb%20*%20morphTargetInfluences%5B%20i%20%5D%3B%5Cn%5Ct%5Ct%23endif%5Cn%5Ct%7D%5Cn%23endif%22%2C%20morphnormal_vertex%3A%20%22%23ifdef%20USE_MORPHNORMALS%5Cn%5CtobjectNormal%20*%3D%20morphTargetBaseInfluence%3B%5Cn%5Ct%23ifdef%20MORPHTARGETS_TEXTURE%5Cn%5Ct%5Ctfor%20(%20int%20i%20%3D%200%3B%20i%20%3C%20MORPHTARGETS_COUNT%3B%20i%20%2B%2B%20)%20%7B%5Cn%5Ct%5Ct%5Ctif%20(%20morphTargetInfluences%5B%20i%20%5D%20!%3D%200.0%20)%20objectNormal%20%2B%3D%20getMorph(%20gl_VertexID%2C%20i%2C%201%20).xyz%20*%20morphTargetInfluences%5B%20i%20%5D%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%23else%5Cn%5Ct%5CtobjectNormal%20%2B%3D%20morphNormal0%20*%20morphTargetInfluences%5B%200%20%5D%3B%5Cn%5Ct%5CtobjectNormal%20%2B%3D%20morphNormal1%20*%20morphTargetInfluences%5B%201%20%5D%3B%5Cn%5Ct%5CtobjectNormal%20%2B%3D%20morphNormal2%20*%20morphTargetInfluences%5B%202%20%5D%3B%5Cn%5Ct%5CtobjectNormal%20%2B%3D%20morphNormal3%20*%20morphTargetInfluences%5B%203%20%5D%3B%5Cn%5Ct%23endif%5Cn%23endif%22%2C%20morphtarget_pars_vertex%3A%20%22%23ifdef%20USE_MORPHTARGETS%5Cn%5Ctuniform%20float%20morphTargetBaseInfluence%3B%5Cn%5Ct%23ifdef%20MORPHTARGETS_TEXTURE%5Cn%5Ct%5Ctuniform%20float%20morphTargetInfluences%5B%20MORPHTARGETS_COUNT%20%5D%3B%5Cn%5Ct%5Ctuniform%20sampler2DArray%20morphTargetsTexture%3B%5Cn%5Ct%5Ctuniform%20ivec2%20morphTargetsTextureSize%3B%5Cn%5Ct%5Ctvec4%20getMorph(%20const%20in%20int%20vertexIndex%2C%20const%20in%20int%20morphTargetIndex%2C%20const%20in%20int%20offset%20)%20%7B%5Cn%5Ct%5Ct%5Ctint%20texelIndex%20%3D%20vertexIndex%20*%20MORPHTARGETS_TEXTURE_STRIDE%20%2B%20offset%3B%5Cn%5Ct%5Ct%5Ctint%20y%20%3D%20texelIndex%20%2F%20morphTargetsTextureSize.x%3B%5Cn%5Ct%5Ct%5Ctint%20x%20%3D%20texelIndex%20-%20y%20*%20morphTargetsTextureSize.x%3B%5Cn%5Ct%5Ct%5Ctivec3%20morphUV%20%3D%20ivec3(%20x%2C%20y%2C%20morphTargetIndex%20)%3B%5Cn%5Ct%5Ct%5Ctreturn%20texelFetch(%20morphTargetsTexture%2C%20morphUV%2C%200%20)%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%23else%5Cn%5Ct%5Ct%23ifndef%20USE_MORPHNORMALS%5Cn%5Ct%5Ct%5Ctuniform%20float%20morphTargetInfluences%5B%208%20%5D%3B%5Cn%5Ct%5Ct%23else%5Cn%5Ct%5Ct%5Ctuniform%20float%20morphTargetInfluences%5B%204%20%5D%3B%5Cn%5Ct%5Ct%23endif%5Cn%5Ct%23endif%5Cn%23endif%22%2C%20morphtarget_vertex%3A%20%22%23ifdef%20USE_MORPHTARGETS%5Cn%5Cttransformed%20*%3D%20morphTargetBaseInfluence%3B%5Cn%5Ct%23ifdef%20MORPHTARGETS_TEXTURE%5Cn%5Ct%5Ctfor%20(%20int%20i%20%3D%200%3B%20i%20%3C%20MORPHTARGETS_COUNT%3B%20i%20%2B%2B%20)%20%7B%5Cn%5Ct%5Ct%5Ctif%20(%20morphTargetInfluences%5B%20i%20%5D%20!%3D%200.0%20)%20transformed%20%2B%3D%20getMorph(%20gl_VertexID%2C%20i%2C%200%20).xyz%20*%20morphTargetInfluences%5B%20i%20%5D%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%23else%5Cn%5Ct%5Cttransformed%20%2B%3D%20morphTarget0%20*%20morphTargetInfluences%5B%200%20%5D%3B%5Cn%5Ct%5Cttransformed%20%2B%3D%20morphTarget1%20*%20morphTargetInfluences%5B%201%20%5D%3B%5Cn%5Ct%5Cttransformed%20%2B%3D%20morphTarget2%20*%20morphTargetInfluences%5B%202%20%5D%3B%5Cn%5Ct%5Cttransformed%20%2B%3D%20morphTarget3%20*%20morphTargetInfluences%5B%203%20%5D%3B%5Cn%5Ct%5Ct%23ifndef%20USE_MORPHNORMALS%5Cn%5Ct%5Ct%5Cttransformed%20%2B%3D%20morphTarget4%20*%20morphTargetInfluences%5B%204%20%5D%3B%5Cn%5Ct%5Ct%5Cttransformed%20%2B%3D%20morphTarget5%20*%20morphTargetInfluences%5B%205%20%5D%3B%5Cn%5Ct%5Ct%5Cttransformed%20%2B%3D%20morphTarget6%20*%20morphTargetInfluences%5B%206%20%5D%3B%5Cn%5Ct%5Ct%5Cttransformed%20%2B%3D%20morphTarget7%20*%20morphTargetInfluences%5B%207%20%5D%3B%5Cn%5Ct%5Ct%23endif%5Cn%5Ct%23endif%5Cn%23endif%22%2C%20normal_fragment_begin%3A%20%22float%20faceDirection%20%3D%20gl_FrontFacing%20%3F%201.0%20%3A%20-%201.0%3B%5Cn%23ifdef%20FLAT_SHADED%5Cn%5Ctvec3%20fdx%20%3D%20dFdx(%20vViewPosition%20)%3B%5Cn%5Ctvec3%20fdy%20%3D%20dFdy(%20vViewPosition%20)%3B%5Cn%5Ctvec3%20normal%20%3D%20normalize(%20cross(%20fdx%2C%20fdy%20)%20)%3B%5Cn%23else%5Cn%5Ctvec3%20normal%20%3D%20normalize(%20vNormal%20)%3B%5Cn%5Ct%23ifdef%20DOUBLE_SIDED%5Cn%5Ct%5Ctnormal%20%3D%20normal%20*%20faceDirection%3B%5Cn%5Ct%23endif%5Cn%5Ct%23ifdef%20USE_TANGENT%5Cn%5Ct%5Ctvec3%20tangent%20%3D%20normalize(%20vTangent%20)%3B%5Cn%5Ct%5Ctvec3%20bitangent%20%3D%20normalize(%20vBitangent%20)%3B%5Cn%5Ct%5Ct%23ifdef%20DOUBLE_SIDED%5Cn%5Ct%5Ct%5Cttangent%20%3D%20tangent%20*%20faceDirection%3B%5Cn%5Ct%5Ct%5Ctbitangent%20%3D%20bitangent%20*%20faceDirection%3B%5Cn%5Ct%5Ct%23endif%5Cn%5Ct%5Ct%23if%20defined(%20TANGENTSPACE_NORMALMAP%20)%20%7C%7C%20defined(%20USE_CLEARCOAT_NORMALMAP%20)%5Cn%5Ct%5Ct%5Ctmat3%20vTBN%20%3D%20mat3(%20tangent%2C%20bitangent%2C%20normal%20)%3B%5Cn%5Ct%5Ct%23endif%5Cn%5Ct%23endif%5Cn%23endif%5Cnvec3%20geometryNormal%20%3D%20normal%3B%22%2C%20normal_fragment_maps%3A%20%22%23ifdef%20OBJECTSPACE_NORMALMAP%5Cn%5Ctnormal%20%3D%20texture2D(%20normalMap%2C%20vUv%20).xyz%20*%202.0%20-%201.0%3B%5Cn%5Ct%23ifdef%20FLIP_SIDED%5Cn%5Ct%5Ctnormal%20%3D%20-%20normal%3B%5Cn%5Ct%23endif%5Cn%5Ct%23ifdef%20DOUBLE_SIDED%5Cn%5Ct%5Ctnormal%20%3D%20normal%20*%20faceDirection%3B%5Cn%5Ct%23endif%5Cn%5Ctnormal%20%3D%20normalize(%20normalMatrix%20*%20normal%20)%3B%5Cn%23elif%20defined(%20TANGENTSPACE_NORMALMAP%20)%5Cn%5Ctvec3%20mapN%20%3D%20texture2D(%20normalMap%2C%20vUv%20).xyz%20*%202.0%20-%201.0%3B%5Cn%5CtmapN.xy%20*%3D%20normalScale%3B%5Cn%5Ct%23ifdef%20USE_TANGENT%5Cn%5Ct%5Ctnormal%20%3D%20normalize(%20vTBN%20*%20mapN%20)%3B%5Cn%5Ct%23else%5Cn%5Ct%5Ctnormal%20%3D%20perturbNormal2Arb(%20-%20vViewPosition%2C%20normal%2C%20mapN%2C%20faceDirection%20)%3B%5Cn%5Ct%23endif%5Cn%23elif%20defined(%20USE_BUMPMAP%20)%5Cn%5Ctnormal%20%3D%20perturbNormalArb(%20-%20vViewPosition%2C%20normal%2C%20dHdxy_fwd()%2C%20faceDirection%20)%3B%5Cn%23endif%22%2C%20normal_pars_fragment%3A%20%22%23ifndef%20FLAT_SHADED%5Cn%5Ctvarying%20vec3%20vNormal%3B%5Cn%5Ct%23ifdef%20USE_TANGENT%5Cn%5Ct%5Ctvarying%20vec3%20vTangent%3B%5Cn%5Ct%5Ctvarying%20vec3%20vBitangent%3B%5Cn%5Ct%23endif%5Cn%23endif%22%2C%20normal_pars_vertex%3A%20%22%23ifndef%20FLAT_SHADED%5Cn%5Ctvarying%20vec3%20vNormal%3B%5Cn%5Ct%23ifdef%20USE_TANGENT%5Cn%5Ct%5Ctvarying%20vec3%20vTangent%3B%5Cn%5Ct%5Ctvarying%20vec3%20vBitangent%3B%5Cn%5Ct%23endif%5Cn%23endif%22%2C%20normal_vertex%3A%20%22%23ifndef%20FLAT_SHADED%5Cn%5CtvNormal%20%3D%20normalize(%20transformedNormal%20)%3B%5Cn%5Ct%23ifdef%20USE_TANGENT%5Cn%5Ct%5CtvTangent%20%3D%20normalize(%20transformedTangent%20)%3B%5Cn%5Ct%5CtvBitangent%20%3D%20normalize(%20cross(%20vNormal%2C%20vTangent%20)%20*%20tangent.w%20)%3B%5Cn%5Ct%23endif%5Cn%23endif%22%2C%20normalmap_pars_fragment%3A%20%22%23ifdef%20USE_NORMALMAP%5Cn%5Ctuniform%20sampler2D%20normalMap%3B%5Cn%5Ctuniform%20vec2%20normalScale%3B%5Cn%23endif%5Cn%23ifdef%20OBJECTSPACE_NORMALMAP%5Cn%5Ctuniform%20mat3%20normalMatrix%3B%5Cn%23endif%5Cn%23if%20!%20defined%20(%20USE_TANGENT%20)%20%26%26%20(%20defined%20(%20TANGENTSPACE_NORMALMAP%20)%20%7C%7C%20defined%20(%20USE_CLEARCOAT_NORMALMAP%20)%20)%5Cn%5Ctvec3%20perturbNormal2Arb(%20vec3%20eye_pos%2C%20vec3%20surf_norm%2C%20vec3%20mapN%2C%20float%20faceDirection%20)%20%7B%5Cn%5Ct%5Ctvec3%20q0%20%3D%20dFdx(%20eye_pos.xyz%20)%3B%5Cn%5Ct%5Ctvec3%20q1%20%3D%20dFdy(%20eye_pos.xyz%20)%3B%5Cn%5Ct%5Ctvec2%20st0%20%3D%20dFdx(%20vUv.st%20)%3B%5Cn%5Ct%5Ctvec2%20st1%20%3D%20dFdy(%20vUv.st%20)%3B%5Cn%5Ct%5Ctvec3%20N%20%3D%20surf_norm%3B%5Cn%5Ct%5Ctvec3%20q1perp%20%3D%20cross(%20q1%2C%20N%20)%3B%5Cn%5Ct%5Ctvec3%20q0perp%20%3D%20cross(%20N%2C%20q0%20)%3B%5Cn%5Ct%5Ctvec3%20T%20%3D%20q1perp%20*%20st0.x%20%2B%20q0perp%20*%20st1.x%3B%5Cn%5Ct%5Ctvec3%20B%20%3D%20q1perp%20*%20st0.y%20%2B%20q0perp%20*%20st1.y%3B%5Cn%5Ct%5Ctfloat%20det%20%3D%20max(%20dot(%20T%2C%20T%20)%2C%20dot(%20B%2C%20B%20)%20)%3B%5Cn%5Ct%5Ctfloat%20scale%20%3D%20(%20det%20%3D%3D%200.0%20)%20%3F%200.0%20%3A%20faceDirection%20*%20inversesqrt(%20det%20)%3B%5Cn%5Ct%5Ctreturn%20normalize(%20T%20*%20(%20mapN.x%20*%20scale%20)%20%2B%20B%20*%20(%20mapN.y%20*%20scale%20)%20%2B%20N%20*%20mapN.z%20)%3B%5Cn%5Ct%7D%5Cn%23endif%22%2C%20clearcoat_normal_fragment_begin%3A%20%22%23ifdef%20USE_CLEARCOAT%5Cn%5Ctvec3%20clearcoatNormal%20%3D%20geometryNormal%3B%5Cn%23endif%22%2C%20clearcoat_normal_fragment_maps%3A%20%22%23ifdef%20USE_CLEARCOAT_NORMALMAP%5Cn%5Ctvec3%20clearcoatMapN%20%3D%20texture2D(%20clearcoatNormalMap%2C%20vUv%20).xyz%20*%202.0%20-%201.0%3B%5Cn%5CtclearcoatMapN.xy%20*%3D%20clearcoatNormalScale%3B%5Cn%5Ct%23ifdef%20USE_TANGENT%5Cn%5Ct%5CtclearcoatNormal%20%3D%20normalize(%20vTBN%20*%20clearcoatMapN%20)%3B%5Cn%5Ct%23else%5Cn%5Ct%5CtclearcoatNormal%20%3D%20perturbNormal2Arb(%20-%20vViewPosition%2C%20clearcoatNormal%2C%20clearcoatMapN%2C%20faceDirection%20)%3B%5Cn%5Ct%23endif%5Cn%23endif%22%2C%20clearcoat_pars_fragment%3A%20%22%23ifdef%20USE_CLEARCOATMAP%5Cn%5Ctuniform%20sampler2D%20clearcoatMap%3B%5Cn%23endif%5Cn%23ifdef%20USE_CLEARCOAT_ROUGHNESSMAP%5Cn%5Ctuniform%20sampler2D%20clearcoatRoughnessMap%3B%5Cn%23endif%5Cn%23ifdef%20USE_CLEARCOAT_NORMALMAP%5Cn%5Ctuniform%20sampler2D%20clearcoatNormalMap%3B%5Cn%5Ctuniform%20vec2%20clearcoatNormalScale%3B%5Cn%23endif%22%2C%20iridescence_pars_fragment%3A%20%22%23ifdef%20USE_IRIDESCENCEMAP%5Cn%5Ctuniform%20sampler2D%20iridescenceMap%3B%5Cn%23endif%5Cn%23ifdef%20USE_IRIDESCENCE_THICKNESSMAP%5Cn%5Ctuniform%20sampler2D%20iridescenceThicknessMap%3B%5Cn%23endif%22%2C%20output_fragment%3A%20%22%23ifdef%20OPAQUE%5CndiffuseColor.a%20%3D%201.0%3B%5Cn%23endif%5Cn%23ifdef%20USE_TRANSMISSION%5CndiffuseColor.a%20*%3D%20material.transmissionAlpha%20%2B%200.1%3B%5Cn%23endif%5Cngl_FragColor%20%3D%20vec4(%20outgoingLight%2C%20diffuseColor.a%20)%3B%22%2C%20packing%3A%20%22vec3%20packNormalToRGB(%20const%20in%20vec3%20normal%20)%20%7B%5Cn%5Ctreturn%20normalize(%20normal%20)%20*%200.5%20%2B%200.5%3B%5Cn%7D%5Cnvec3%20unpackRGBToNormal(%20const%20in%20vec3%20rgb%20)%20%7B%5Cn%5Ctreturn%202.0%20*%20rgb.xyz%20-%201.0%3B%5Cn%7D%5Cnconst%20float%20PackUpscale%20%3D%20256.%20%2F%20255.%3Bconst%20float%20UnpackDownscale%20%3D%20255.%20%2F%20256.%3B%5Cnconst%20vec3%20PackFactors%20%3D%20vec3(%20256.%20*%20256.%20*%20256.%2C%20256.%20*%20256.%2C%20256.%20)%3B%5Cnconst%20vec4%20UnpackFactors%20%3D%20UnpackDownscale%20%2F%20vec4(%20PackFactors%2C%201.%20)%3B%5Cnconst%20float%20ShiftRight8%20%3D%201.%20%2F%20256.%3B%5Cnvec4%20packDepthToRGBA(%20const%20in%20float%20v%20)%20%7B%5Cn%5Ctvec4%20r%20%3D%20vec4(%20fract(%20v%20*%20PackFactors%20)%2C%20v%20)%3B%5Cn%5Ctr.yzw%20-%3D%20r.xyz%20*%20ShiftRight8%3B%5Ctreturn%20r%20*%20PackUpscale%3B%5Cn%7D%5Cnfloat%20unpackRGBAToDepth(%20const%20in%20vec4%20v%20)%20%7B%5Cn%5Ctreturn%20dot(%20v%2C%20UnpackFactors%20)%3B%5Cn%7D%5Cnvec2%20packDepthToRG(%20in%20highp%20float%20v%20)%20%7B%5Cn%5Ctreturn%20packDepthToRGBA(%20v%20).yx%3B%5Cn%7D%5Cnfloat%20unpackRGToDepth(%20const%20in%20highp%20vec2%20v%20)%20%7B%5Cn%5Ctreturn%20unpackRGBAToDepth(%20vec4(%20v.xy%2C%200.0%2C%200.0%20)%20)%3B%5Cn%7D%5Cnvec4%20pack2HalfToRGBA(%20vec2%20v%20)%20%7B%5Cn%5Ctvec4%20r%20%3D%20vec4(%20v.x%2C%20fract(%20v.x%20*%20255.0%20)%2C%20v.y%2C%20fract(%20v.y%20*%20255.0%20)%20)%3B%5Cn%5Ctreturn%20vec4(%20r.x%20-%20r.y%20%2F%20255.0%2C%20r.y%2C%20r.z%20-%20r.w%20%2F%20255.0%2C%20r.w%20)%3B%5Cn%7D%5Cnvec2%20unpackRGBATo2Half(%20vec4%20v%20)%20%7B%5Cn%5Ctreturn%20vec2(%20v.x%20%2B%20(%20v.y%20%2F%20255.0%20)%2C%20v.z%20%2B%20(%20v.w%20%2F%20255.0%20)%20)%3B%5Cn%7D%5Cnfloat%20viewZToOrthographicDepth(%20const%20in%20float%20viewZ%2C%20const%20in%20float%20near%2C%20const%20in%20float%20far%20)%20%7B%5Cn%5Ctreturn%20(%20viewZ%20%2B%20near%20)%20%2F%20(%20near%20-%20far%20)%3B%5Cn%7D%5Cnfloat%20orthographicDepthToViewZ(%20const%20in%20float%20linearClipZ%2C%20const%20in%20float%20near%2C%20const%20in%20float%20far%20)%20%7B%5Cn%5Ctreturn%20linearClipZ%20*%20(%20near%20-%20far%20)%20-%20near%3B%5Cn%7D%5Cnfloat%20viewZToPerspectiveDepth(%20const%20in%20float%20viewZ%2C%20const%20in%20float%20near%2C%20const%20in%20float%20far%20)%20%7B%5Cn%5Ctreturn%20(%20(%20near%20%2B%20viewZ%20)%20*%20far%20)%20%2F%20(%20(%20far%20-%20near%20)%20*%20viewZ%20)%3B%5Cn%7D%5Cnfloat%20perspectiveDepthToViewZ(%20const%20in%20float%20invClipZ%2C%20const%20in%20float%20near%2C%20const%20in%20float%20far%20)%20%7B%5Cn%5Ctreturn%20(%20near%20*%20far%20)%20%2F%20(%20(%20far%20-%20near%20)%20*%20invClipZ%20-%20far%20)%3B%5Cn%7D%22%2C%20premultiplied_alpha_fragment%3A%20%22%23ifdef%20PREMULTIPLIED_ALPHA%5Cn%5Ctgl_FragColor.rgb%20*%3D%20gl_FragColor.a%3B%5Cn%23endif%22%2C%20project_vertex%3A%20%22vec4%20mvPosition%20%3D%20vec4(%20transformed%2C%201.0%20)%3B%5Cn%23ifdef%20USE_INSTANCING%5Cn%5CtmvPosition%20%3D%20instanceMatrix%20*%20mvPosition%3B%5Cn%23endif%5CnmvPosition%20%3D%20modelViewMatrix%20*%20mvPosition%3B%5Cngl_Position%20%3D%20projectionMatrix%20*%20mvPosition%3B%22%2C%20dithering_fragment%3A%20%22%23ifdef%20DITHERING%5Cn%5Ctgl_FragColor.rgb%20%3D%20dithering(%20gl_FragColor.rgb%20)%3B%5Cn%23endif%22%2C%20dithering_pars_fragment%3A%20%22%23ifdef%20DITHERING%5Cn%5Ctvec3%20dithering(%20vec3%20color%20)%20%7B%5Cn%5Ct%5Ctfloat%20grid_position%20%3D%20rand(%20gl_FragCoord.xy%20)%3B%5Cn%5Ct%5Ctvec3%20dither_shift_RGB%20%3D%20vec3(%200.25%20%2F%20255.0%2C%20-0.25%20%2F%20255.0%2C%200.25%20%2F%20255.0%20)%3B%5Cn%5Ct%5Ctdither_shift_RGB%20%3D%20mix(%202.0%20*%20dither_shift_RGB%2C%20-2.0%20*%20dither_shift_RGB%2C%20grid_position%20)%3B%5Cn%5Ct%5Ctreturn%20color%20%2B%20dither_shift_RGB%3B%5Cn%5Ct%7D%5Cn%23endif%22%2C%20roughnessmap_fragment%3A%20%22float%20roughnessFactor%20%3D%20roughness%3B%5Cn%23ifdef%20USE_ROUGHNESSMAP%5Cn%5Ctvec4%20texelRoughness%20%3D%20texture2D(%20roughnessMap%2C%20vUv%20)%3B%5Cn%5CtroughnessFactor%20*%3D%20texelRoughness.g%3B%5Cn%23endif%22%2C%20roughnessmap_pars_fragment%3A%20%22%23ifdef%20USE_ROUGHNESSMAP%5Cn%5Ctuniform%20sampler2D%20roughnessMap%3B%5Cn%23endif%22%2C%20shadowmap_pars_fragment%3A%20%22%23if%20NUM_SPOT_LIGHT_COORDS%20%3E%200%5Cn%5Ctvarying%20vec4%20vSpotLightCoord%5B%20NUM_SPOT_LIGHT_COORDS%20%5D%3B%5Cn%23endif%5Cn%23if%20NUM_SPOT_LIGHT_MAPS%20%3E%200%5Cn%5Ctuniform%20sampler2D%20spotLightMap%5B%20NUM_SPOT_LIGHT_MAPS%20%5D%3B%5Cn%23endif%5Cn%23ifdef%20USE_SHADOWMAP%5Cn%5Ct%23if%20NUM_DIR_LIGHT_SHADOWS%20%3E%200%5Cn%5Ct%5Ctuniform%20sampler2D%20directionalShadowMap%5B%20NUM_DIR_LIGHT_SHADOWS%20%5D%3B%5Cn%5Ct%5Ctvarying%20vec4%20vDirectionalShadowCoord%5B%20NUM_DIR_LIGHT_SHADOWS%20%5D%3B%5Cn%5Ct%5Ctstruct%20DirectionalLightShadow%20%7B%5Cn%5Ct%5Ct%5Ctfloat%20shadowBias%3B%5Cn%5Ct%5Ct%5Ctfloat%20shadowNormalBias%3B%5Cn%5Ct%5Ct%5Ctfloat%20shadowRadius%3B%5Cn%5Ct%5Ct%5Ctvec2%20shadowMapSize%3B%5Cn%5Ct%5Ct%7D%3B%5Cn%5Ct%5Ctuniform%20DirectionalLightShadow%20directionalLightShadows%5B%20NUM_DIR_LIGHT_SHADOWS%20%5D%3B%5Cn%5Ct%23endif%5Cn%5Ct%23if%20NUM_SPOT_LIGHT_SHADOWS%20%3E%200%5Cn%5Ct%5Ctuniform%20sampler2D%20spotShadowMap%5B%20NUM_SPOT_LIGHT_SHADOWS%20%5D%3B%5Cn%5Ct%5Ctstruct%20SpotLightShadow%20%7B%5Cn%5Ct%5Ct%5Ctfloat%20shadowBias%3B%5Cn%5Ct%5Ct%5Ctfloat%20shadowNormalBias%3B%5Cn%5Ct%5Ct%5Ctfloat%20shadowRadius%3B%5Cn%5Ct%5Ct%5Ctvec2%20shadowMapSize%3B%5Cn%5Ct%5Ct%7D%3B%5Cn%5Ct%5Ctuniform%20SpotLightShadow%20spotLightShadows%5B%20NUM_SPOT_LIGHT_SHADOWS%20%5D%3B%5Cn%5Ct%23endif%5Cn%5Ct%23if%20NUM_POINT_LIGHT_SHADOWS%20%3E%200%5Cn%5Ct%5Ctuniform%20sampler2D%20pointShadowMap%5B%20NUM_POINT_LIGHT_SHADOWS%20%5D%3B%5Cn%5Ct%5Ctvarying%20vec4%20vPointShadowCoord%5B%20NUM_POINT_LIGHT_SHADOWS%20%5D%3B%5Cn%5Ct%5Ctstruct%20PointLightShadow%20%7B%5Cn%5Ct%5Ct%5Ctfloat%20shadowBias%3B%5Cn%5Ct%5Ct%5Ctfloat%20shadowNormalBias%3B%5Cn%5Ct%5Ct%5Ctfloat%20shadowRadius%3B%5Cn%5Ct%5Ct%5Ctvec2%20shadowMapSize%3B%5Cn%5Ct%5Ct%5Ctfloat%20shadowCameraNear%3B%5Cn%5Ct%5Ct%5Ctfloat%20shadowCameraFar%3B%5Cn%5Ct%5Ct%7D%3B%5Cn%5Ct%5Ctuniform%20PointLightShadow%20pointLightShadows%5B%20NUM_POINT_LIGHT_SHADOWS%20%5D%3B%5Cn%5Ct%23endif%5Cn%5Ctfloat%20texture2DCompare(%20sampler2D%20depths%2C%20vec2%20uv%2C%20float%20compare%20)%20%7B%5Cn%5Ct%5Ctreturn%20step(%20compare%2C%20unpackRGBAToDepth(%20texture2D(%20depths%2C%20uv%20)%20)%20)%3B%5Cn%5Ct%7D%5Cn%5Ctvec2%20texture2DDistribution(%20sampler2D%20shadow%2C%20vec2%20uv%20)%20%7B%5Cn%5Ct%5Ctreturn%20unpackRGBATo2Half(%20texture2D(%20shadow%2C%20uv%20)%20)%3B%5Cn%5Ct%7D%5Cn%5Ctfloat%20VSMShadow%20(sampler2D%20shadow%2C%20vec2%20uv%2C%20float%20compare%20)%7B%5Cn%5Ct%5Ctfloat%20occlusion%20%3D%201.0%3B%5Cn%5Ct%5Ctvec2%20distribution%20%3D%20texture2DDistribution(%20shadow%2C%20uv%20)%3B%5Cn%5Ct%5Ctfloat%20hard_shadow%20%3D%20step(%20compare%20%2C%20distribution.x%20)%3B%5Cn%5Ct%5Ctif%20(hard_shadow%20!%3D%201.0%20)%20%7B%5Cn%5Ct%5Ct%5Ctfloat%20distance%20%3D%20compare%20-%20distribution.x%20%3B%5Cn%5Ct%5Ct%5Ctfloat%20variance%20%3D%20max(%200.00000%2C%20distribution.y%20*%20distribution.y%20)%3B%5Cn%5Ct%5Ct%5Ctfloat%20softness_probability%20%3D%20variance%20%2F%20(variance%20%2B%20distance%20*%20distance%20)%3B%5Ct%5Ct%5Ctsoftness_probability%20%3D%20clamp(%20(%20softness_probability%20-%200.3%20)%20%2F%20(%200.95%20-%200.3%20)%2C%200.0%2C%201.0%20)%3B%5Ct%5Ct%5Ctocclusion%20%3D%20clamp(%20max(%20hard_shadow%2C%20softness_probability%20)%2C%200.0%2C%201.0%20)%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ctreturn%20occlusion%3B%5Cn%5Ct%7D%5Cn%5Ctfloat%20getShadow(%20sampler2D%20shadowMap%2C%20vec2%20shadowMapSize%2C%20float%20shadowBias%2C%20float%20shadowRadius%2C%20vec4%20shadowCoord%20)%20%7B%5Cn%5Ct%5Ctfloat%20shadow%20%3D%201.0%3B%5Cn%5Ct%5CtshadowCoord.xyz%20%2F%3D%20shadowCoord.w%3B%5Cn%5Ct%5CtshadowCoord.z%20%2B%3D%20shadowBias%3B%5Cn%5Ct%5Ctbool%20inFrustum%20%3D%20shadowCoord.x%20%3E%3D%200.0%20%26%26%20shadowCoord.x%20%3C%3D%201.0%20%26%26%20shadowCoord.y%20%3E%3D%200.0%20%26%26%20shadowCoord.y%20%3C%3D%201.0%3B%5Cn%5Ct%5Ctbool%20frustumTest%20%3D%20inFrustum%20%26%26%20shadowCoord.z%20%3C%3D%201.0%3B%5Cn%5Ct%5Ctif%20(%20frustumTest%20)%20%7B%5Cn%5Ct%5Ct%23if%20defined(%20SHADOWMAP_TYPE_PCF%20)%5Cn%5Ct%5Ct%5Ctvec2%20texelSize%20%3D%20vec2(%201.0%20)%20%2F%20shadowMapSize%3B%5Cn%5Ct%5Ct%5Ctfloat%20dx0%20%3D%20-%20texelSize.x%20*%20shadowRadius%3B%5Cn%5Ct%5Ct%5Ctfloat%20dy0%20%3D%20-%20texelSize.y%20*%20shadowRadius%3B%5Cn%5Ct%5Ct%5Ctfloat%20dx1%20%3D%20%2B%20texelSize.x%20*%20shadowRadius%3B%5Cn%5Ct%5Ct%5Ctfloat%20dy1%20%3D%20%2B%20texelSize.y%20*%20shadowRadius%3B%5Cn%5Ct%5Ct%5Ctfloat%20dx2%20%3D%20dx0%20%2F%202.0%3B%5Cn%5Ct%5Ct%5Ctfloat%20dy2%20%3D%20dy0%20%2F%202.0%3B%5Cn%5Ct%5Ct%5Ctfloat%20dx3%20%3D%20dx1%20%2F%202.0%3B%5Cn%5Ct%5Ct%5Ctfloat%20dy3%20%3D%20dy1%20%2F%202.0%3B%5Cn%5Ct%5Ct%5Ctshadow%20%3D%20(%5Cn%5Ct%5Ct%5Ct%5Cttexture2DCompare(%20shadowMap%2C%20shadowCoord.xy%20%2B%20vec2(%20dx0%2C%20dy0%20)%2C%20shadowCoord.z%20)%20%2B%5Cn%5Ct%5Ct%5Ct%5Cttexture2DCompare(%20shadowMap%2C%20shadowCoord.xy%20%2B%20vec2(%200.0%2C%20dy0%20)%2C%20shadowCoord.z%20)%20%2B%5Cn%5Ct%5Ct%5Ct%5Cttexture2DCompare(%20shadowMap%2C%20shadowCoord.xy%20%2B%20vec2(%20dx1%2C%20dy0%20)%2C%20shadowCoord.z%20)%20%2B%5Cn%5Ct%5Ct%5Ct%5Cttexture2DCompare(%20shadowMap%2C%20shadowCoord.xy%20%2B%20vec2(%20dx2%2C%20dy2%20)%2C%20shadowCoord.z%20)%20%2B%5Cn%5Ct%5Ct%5Ct%5Cttexture2DCompare(%20shadowMap%2C%20shadowCoord.xy%20%2B%20vec2(%200.0%2C%20dy2%20)%2C%20shadowCoord.z%20)%20%2B%5Cn%5Ct%5Ct%5Ct%5Cttexture2DCompare(%20shadowMap%2C%20shadowCoord.xy%20%2B%20vec2(%20dx3%2C%20dy2%20)%2C%20shadowCoord.z%20)%20%2B%5Cn%5Ct%5Ct%5Ct%5Cttexture2DCompare(%20shadowMap%2C%20shadowCoord.xy%20%2B%20vec2(%20dx0%2C%200.0%20)%2C%20shadowCoord.z%20)%20%2B%5Cn%5Ct%5Ct%5Ct%5Cttexture2DCompare(%20shadowMap%2C%20shadowCoord.xy%20%2B%20vec2(%20dx2%2C%200.0%20)%2C%20shadowCoord.z%20)%20%2B%5Cn%5Ct%5Ct%5Ct%5Cttexture2DCompare(%20shadowMap%2C%20shadowCoord.xy%2C%20shadowCoord.z%20)%20%2B%5Cn%5Ct%5Ct%5Ct%5Cttexture2DCompare(%20shadowMap%2C%20shadowCoord.xy%20%2B%20vec2(%20dx3%2C%200.0%20)%2C%20shadowCoord.z%20)%20%2B%5Cn%5Ct%5Ct%5Ct%5Cttexture2DCompare(%20shadowMap%2C%20shadowCoord.xy%20%2B%20vec2(%20dx1%2C%200.0%20)%2C%20shadowCoord.z%20)%20%2B%5Cn%5Ct%5Ct%5Ct%5Cttexture2DCompare(%20shadowMap%2C%20shadowCoord.xy%20%2B%20vec2(%20dx2%2C%20dy3%20)%2C%20shadowCoord.z%20)%20%2B%5Cn%5Ct%5Ct%5Ct%5Cttexture2DCompare(%20shadowMap%2C%20shadowCoord.xy%20%2B%20vec2(%200.0%2C%20dy3%20)%2C%20shadowCoord.z%20)%20%2B%5Cn%5Ct%5Ct%5Ct%5Cttexture2DCompare(%20shadowMap%2C%20shadowCoord.xy%20%2B%20vec2(%20dx3%2C%20dy3%20)%2C%20shadowCoord.z%20)%20%2B%5Cn%5Ct%5Ct%5Ct%5Cttexture2DCompare(%20shadowMap%2C%20shadowCoord.xy%20%2B%20vec2(%20dx0%2C%20dy1%20)%2C%20shadowCoord.z%20)%20%2B%5Cn%5Ct%5Ct%5Ct%5Cttexture2DCompare(%20shadowMap%2C%20shadowCoord.xy%20%2B%20vec2(%200.0%2C%20dy1%20)%2C%20shadowCoord.z%20)%20%2B%5Cn%5Ct%5Ct%5Ct%5Cttexture2DCompare(%20shadowMap%2C%20shadowCoord.xy%20%2B%20vec2(%20dx1%2C%20dy1%20)%2C%20shadowCoord.z%20)%5Cn%5Ct%5Ct%5Ct)%20*%20(%201.0%20%2F%2017.0%20)%3B%5Cn%5Ct%5Ct%23elif%20defined(%20SHADOWMAP_TYPE_PCF_SOFT%20)%5Cn%5Ct%5Ct%5Ctvec2%20texelSize%20%3D%20vec2(%201.0%20)%20%2F%20shadowMapSize%3B%5Cn%5Ct%5Ct%5Ctfloat%20dx%20%3D%20texelSize.x%3B%5Cn%5Ct%5Ct%5Ctfloat%20dy%20%3D%20texelSize.y%3B%5Cn%5Ct%5Ct%5Ctvec2%20uv%20%3D%20shadowCoord.xy%3B%5Cn%5Ct%5Ct%5Ctvec2%20f%20%3D%20fract(%20uv%20*%20shadowMapSize%20%2B%200.5%20)%3B%5Cn%5Ct%5Ct%5Ctuv%20-%3D%20f%20*%20texelSize%3B%5Cn%5Ct%5Ct%5Ctshadow%20%3D%20(%5Cn%5Ct%5Ct%5Ct%5Cttexture2DCompare(%20shadowMap%2C%20uv%2C%20shadowCoord.z%20)%20%2B%5Cn%5Ct%5Ct%5Ct%5Cttexture2DCompare(%20shadowMap%2C%20uv%20%2B%20vec2(%20dx%2C%200.0%20)%2C%20shadowCoord.z%20)%20%2B%5Cn%5Ct%5Ct%5Ct%5Cttexture2DCompare(%20shadowMap%2C%20uv%20%2B%20vec2(%200.0%2C%20dy%20)%2C%20shadowCoord.z%20)%20%2B%5Cn%5Ct%5Ct%5Ct%5Cttexture2DCompare(%20shadowMap%2C%20uv%20%2B%20texelSize%2C%20shadowCoord.z%20)%20%2B%5Cn%5Ct%5Ct%5Ct%5Ctmix(%20texture2DCompare(%20shadowMap%2C%20uv%20%2B%20vec2(%20-dx%2C%200.0%20)%2C%20shadowCoord.z%20)%2C%5Cn%5Ct%5Ct%5Ct%5Ct%5Ct%20texture2DCompare(%20shadowMap%2C%20uv%20%2B%20vec2(%202.0%20*%20dx%2C%200.0%20)%2C%20shadowCoord.z%20)%2C%5Cn%5Ct%5Ct%5Ct%5Ct%5Ct%20f.x%20)%20%2B%5Cn%5Ct%5Ct%5Ct%5Ctmix(%20texture2DCompare(%20shadowMap%2C%20uv%20%2B%20vec2(%20-dx%2C%20dy%20)%2C%20shadowCoord.z%20)%2C%5Cn%5Ct%5Ct%5Ct%5Ct%5Ct%20texture2DCompare(%20shadowMap%2C%20uv%20%2B%20vec2(%202.0%20*%20dx%2C%20dy%20)%2C%20shadowCoord.z%20)%2C%5Cn%5Ct%5Ct%5Ct%5Ct%5Ct%20f.x%20)%20%2B%5Cn%5Ct%5Ct%5Ct%5Ctmix(%20texture2DCompare(%20shadowMap%2C%20uv%20%2B%20vec2(%200.0%2C%20-dy%20)%2C%20shadowCoord.z%20)%2C%5Cn%5Ct%5Ct%5Ct%5Ct%5Ct%20texture2DCompare(%20shadowMap%2C%20uv%20%2B%20vec2(%200.0%2C%202.0%20*%20dy%20)%2C%20shadowCoord.z%20)%2C%5Cn%5Ct%5Ct%5Ct%5Ct%5Ct%20f.y%20)%20%2B%5Cn%5Ct%5Ct%5Ct%5Ctmix(%20texture2DCompare(%20shadowMap%2C%20uv%20%2B%20vec2(%20dx%2C%20-dy%20)%2C%20shadowCoord.z%20)%2C%5Cn%5Ct%5Ct%5Ct%5Ct%5Ct%20texture2DCompare(%20shadowMap%2C%20uv%20%2B%20vec2(%20dx%2C%202.0%20*%20dy%20)%2C%20shadowCoord.z%20)%2C%5Cn%5Ct%5Ct%5Ct%5Ct%5Ct%20f.y%20)%20%2B%5Cn%5Ct%5Ct%5Ct%5Ctmix(%20mix(%20texture2DCompare(%20shadowMap%2C%20uv%20%2B%20vec2(%20-dx%2C%20-dy%20)%2C%20shadowCoord.z%20)%2C%5Cn%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Cttexture2DCompare(%20shadowMap%2C%20uv%20%2B%20vec2(%202.0%20*%20dx%2C%20-dy%20)%2C%20shadowCoord.z%20)%2C%5Cn%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ctf.x%20)%2C%5Cn%5Ct%5Ct%5Ct%5Ct%5Ct%20mix(%20texture2DCompare(%20shadowMap%2C%20uv%20%2B%20vec2(%20-dx%2C%202.0%20*%20dy%20)%2C%20shadowCoord.z%20)%2C%5Cn%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Cttexture2DCompare(%20shadowMap%2C%20uv%20%2B%20vec2(%202.0%20*%20dx%2C%202.0%20*%20dy%20)%2C%20shadowCoord.z%20)%2C%5Cn%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ctf.x%20)%2C%5Cn%5Ct%5Ct%5Ct%5Ct%5Ct%20f.y%20)%5Cn%5Ct%5Ct%5Ct)%20*%20(%201.0%20%2F%209.0%20)%3B%5Cn%5Ct%5Ct%23elif%20defined(%20SHADOWMAP_TYPE_VSM%20)%5Cn%5Ct%5Ct%5Ctshadow%20%3D%20VSMShadow(%20shadowMap%2C%20shadowCoord.xy%2C%20shadowCoord.z%20)%3B%5Cn%5Ct%5Ct%23else%5Cn%5Ct%5Ct%5Ctshadow%20%3D%20texture2DCompare(%20shadowMap%2C%20shadowCoord.xy%2C%20shadowCoord.z%20)%3B%5Cn%5Ct%5Ct%23endif%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ctreturn%20shadow%3B%5Cn%5Ct%7D%5Cn%5Ctvec2%20cubeToUV(%20vec3%20v%2C%20float%20texelSizeY%20)%20%7B%5Cn%5Ct%5Ctvec3%20absV%20%3D%20abs(%20v%20)%3B%5Cn%5Ct%5Ctfloat%20scaleToCube%20%3D%201.0%20%2F%20max(%20absV.x%2C%20max(%20absV.y%2C%20absV.z%20)%20)%3B%5Cn%5Ct%5CtabsV%20*%3D%20scaleToCube%3B%5Cn%5Ct%5Ctv%20*%3D%20scaleToCube%20*%20(%201.0%20-%202.0%20*%20texelSizeY%20)%3B%5Cn%5Ct%5Ctvec2%20planar%20%3D%20v.xy%3B%5Cn%5Ct%5Ctfloat%20almostATexel%20%3D%201.5%20*%20texelSizeY%3B%5Cn%5Ct%5Ctfloat%20almostOne%20%3D%201.0%20-%20almostATexel%3B%5Cn%5Ct%5Ctif%20(%20absV.z%20%3E%3D%20almostOne%20)%20%7B%5Cn%5Ct%5Ct%5Ctif%20(%20v.z%20%3E%200.0%20)%5Cn%5Ct%5Ct%5Ct%5Ctplanar.x%20%3D%204.0%20-%20v.x%3B%5Cn%5Ct%5Ct%7D%20else%20if%20(%20absV.x%20%3E%3D%20almostOne%20)%20%7B%5Cn%5Ct%5Ct%5Ctfloat%20signX%20%3D%20sign(%20v.x%20)%3B%5Cn%5Ct%5Ct%5Ctplanar.x%20%3D%20v.z%20*%20signX%20%2B%202.0%20*%20signX%3B%5Cn%5Ct%5Ct%7D%20else%20if%20(%20absV.y%20%3E%3D%20almostOne%20)%20%7B%5Cn%5Ct%5Ct%5Ctfloat%20signY%20%3D%20sign(%20v.y%20)%3B%5Cn%5Ct%5Ct%5Ctplanar.x%20%3D%20v.x%20%2B%202.0%20*%20signY%20%2B%202.0%3B%5Cn%5Ct%5Ct%5Ctplanar.y%20%3D%20v.z%20*%20signY%20-%202.0%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ctreturn%20vec2(%200.125%2C%200.25%20)%20*%20planar%20%2B%20vec2(%200.375%2C%200.75%20)%3B%5Cn%5Ct%7D%5Cn%5Ctfloat%20getPointShadow(%20sampler2D%20shadowMap%2C%20vec2%20shadowMapSize%2C%20float%20shadowBias%2C%20float%20shadowRadius%2C%20vec4%20shadowCoord%2C%20float%20shadowCameraNear%2C%20float%20shadowCameraFar%20)%20%7B%5Cn%5Ct%5Ctvec2%20texelSize%20%3D%20vec2(%201.0%20)%20%2F%20(%20shadowMapSize%20*%20vec2(%204.0%2C%202.0%20)%20)%3B%5Cn%5Ct%5Ctvec3%20lightToPosition%20%3D%20shadowCoord.xyz%3B%5Cn%5Ct%5Ctfloat%20dp%20%3D%20(%20length(%20lightToPosition%20)%20-%20shadowCameraNear%20)%20%2F%20(%20shadowCameraFar%20-%20shadowCameraNear%20)%3B%5Ct%5Ctdp%20%2B%3D%20shadowBias%3B%5Cn%5Ct%5Ctvec3%20bd3D%20%3D%20normalize(%20lightToPosition%20)%3B%5Cn%5Ct%5Ct%23if%20defined(%20SHADOWMAP_TYPE_PCF%20)%20%7C%7C%20defined(%20SHADOWMAP_TYPE_PCF_SOFT%20)%20%7C%7C%20defined(%20SHADOWMAP_TYPE_VSM%20)%5Cn%5Ct%5Ct%5Ctvec2%20offset%20%3D%20vec2(%20-%201%2C%201%20)%20*%20shadowRadius%20*%20texelSize.y%3B%5Cn%5Ct%5Ct%5Ctreturn%20(%5Cn%5Ct%5Ct%5Ct%5Cttexture2DCompare(%20shadowMap%2C%20cubeToUV(%20bd3D%20%2B%20offset.xyy%2C%20texelSize.y%20)%2C%20dp%20)%20%2B%5Cn%5Ct%5Ct%5Ct%5Cttexture2DCompare(%20shadowMap%2C%20cubeToUV(%20bd3D%20%2B%20offset.yyy%2C%20texelSize.y%20)%2C%20dp%20)%20%2B%5Cn%5Ct%5Ct%5Ct%5Cttexture2DCompare(%20shadowMap%2C%20cubeToUV(%20bd3D%20%2B%20offset.xyx%2C%20texelSize.y%20)%2C%20dp%20)%20%2B%5Cn%5Ct%5Ct%5Ct%5Cttexture2DCompare(%20shadowMap%2C%20cubeToUV(%20bd3D%20%2B%20offset.yyx%2C%20texelSize.y%20)%2C%20dp%20)%20%2B%5Cn%5Ct%5Ct%5Ct%5Cttexture2DCompare(%20shadowMap%2C%20cubeToUV(%20bd3D%2C%20texelSize.y%20)%2C%20dp%20)%20%2B%5Cn%5Ct%5Ct%5Ct%5Cttexture2DCompare(%20shadowMap%2C%20cubeToUV(%20bd3D%20%2B%20offset.xxy%2C%20texelSize.y%20)%2C%20dp%20)%20%2B%5Cn%5Ct%5Ct%5Ct%5Cttexture2DCompare(%20shadowMap%2C%20cubeToUV(%20bd3D%20%2B%20offset.yxy%2C%20texelSize.y%20)%2C%20dp%20)%20%2B%5Cn%5Ct%5Ct%5Ct%5Cttexture2DCompare(%20shadowMap%2C%20cubeToUV(%20bd3D%20%2B%20offset.xxx%2C%20texelSize.y%20)%2C%20dp%20)%20%2B%5Cn%5Ct%5Ct%5Ct%5Cttexture2DCompare(%20shadowMap%2C%20cubeToUV(%20bd3D%20%2B%20offset.yxx%2C%20texelSize.y%20)%2C%20dp%20)%5Cn%5Ct%5Ct%5Ct)%20*%20(%201.0%20%2F%209.0%20)%3B%5Cn%5Ct%5Ct%23else%5Cn%5Ct%5Ct%5Ctreturn%20texture2DCompare(%20shadowMap%2C%20cubeToUV(%20bd3D%2C%20texelSize.y%20)%2C%20dp%20)%3B%5Cn%5Ct%5Ct%23endif%5Cn%5Ct%7D%5Cn%23endif%22%2C%20shadowmap_pars_vertex%3A%20%22%23if%20NUM_SPOT_LIGHT_COORDS%20%3E%200%5Cn%5Ctuniform%20mat4%20spotLightMatrix%5B%20NUM_SPOT_LIGHT_COORDS%20%5D%3B%5Cn%5Ctvarying%20vec4%20vSpotLightCoord%5B%20NUM_SPOT_LIGHT_COORDS%20%5D%3B%5Cn%23endif%5Cn%23ifdef%20USE_SHADOWMAP%5Cn%5Ct%23if%20NUM_DIR_LIGHT_SHADOWS%20%3E%200%5Cn%5Ct%5Ctuniform%20mat4%20directionalShadowMatrix%5B%20NUM_DIR_LIGHT_SHADOWS%20%5D%3B%5Cn%5Ct%5Ctvarying%20vec4%20vDirectionalShadowCoord%5B%20NUM_DIR_LIGHT_SHADOWS%20%5D%3B%5Cn%5Ct%5Ctstruct%20DirectionalLightShadow%20%7B%5Cn%5Ct%5Ct%5Ctfloat%20shadowBias%3B%5Cn%5Ct%5Ct%5Ctfloat%20shadowNormalBias%3B%5Cn%5Ct%5Ct%5Ctfloat%20shadowRadius%3B%5Cn%5Ct%5Ct%5Ctvec2%20shadowMapSize%3B%5Cn%5Ct%5Ct%7D%3B%5Cn%5Ct%5Ctuniform%20DirectionalLightShadow%20directionalLightShadows%5B%20NUM_DIR_LIGHT_SHADOWS%20%5D%3B%5Cn%5Ct%23endif%5Cn%5Ct%23if%20NUM_SPOT_LIGHT_SHADOWS%20%3E%200%5Cn%5Ct%5Ctstruct%20SpotLightShadow%20%7B%5Cn%5Ct%5Ct%5Ctfloat%20shadowBias%3B%5Cn%5Ct%5Ct%5Ctfloat%20shadowNormalBias%3B%5Cn%5Ct%5Ct%5Ctfloat%20shadowRadius%3B%5Cn%5Ct%5Ct%5Ctvec2%20shadowMapSize%3B%5Cn%5Ct%5Ct%7D%3B%5Cn%5Ct%5Ctuniform%20SpotLightShadow%20spotLightShadows%5B%20NUM_SPOT_LIGHT_SHADOWS%20%5D%3B%5Cn%5Ct%23endif%5Cn%5Ct%23if%20NUM_POINT_LIGHT_SHADOWS%20%3E%200%5Cn%5Ct%5Ctuniform%20mat4%20pointShadowMatrix%5B%20NUM_POINT_LIGHT_SHADOWS%20%5D%3B%5Cn%5Ct%5Ctvarying%20vec4%20vPointShadowCoord%5B%20NUM_POINT_LIGHT_SHADOWS%20%5D%3B%5Cn%5Ct%5Ctstruct%20PointLightShadow%20%7B%5Cn%5Ct%5Ct%5Ctfloat%20shadowBias%3B%5Cn%5Ct%5Ct%5Ctfloat%20shadowNormalBias%3B%5Cn%5Ct%5Ct%5Ctfloat%20shadowRadius%3B%5Cn%5Ct%5Ct%5Ctvec2%20shadowMapSize%3B%5Cn%5Ct%5Ct%5Ctfloat%20shadowCameraNear%3B%5Cn%5Ct%5Ct%5Ctfloat%20shadowCameraFar%3B%5Cn%5Ct%5Ct%7D%3B%5Cn%5Ct%5Ctuniform%20PointLightShadow%20pointLightShadows%5B%20NUM_POINT_LIGHT_SHADOWS%20%5D%3B%5Cn%5Ct%23endif%5Cn%23endif%22%2C%20shadowmap_vertex%3A%20%22%23if%20defined(%20USE_SHADOWMAP%20)%20%7C%7C%20(%20NUM_SPOT_LIGHT_COORDS%20%3E%200%20)%5Cn%5Ct%23if%20NUM_DIR_LIGHT_SHADOWS%20%3E%200%20%7C%7C%20NUM_SPOT_LIGHT_COORDS%20%3E%200%20%7C%7C%20NUM_POINT_LIGHT_SHADOWS%20%3E%200%5Cn%5Ct%5Ctvec3%20shadowWorldNormal%20%3D%20inverseTransformDirection(%20transformedNormal%2C%20viewMatrix%20)%3B%5Cn%5Ct%5Ctvec4%20shadowWorldPosition%3B%5Cn%5Ct%23endif%5Cn%5Ct%23if%20NUM_DIR_LIGHT_SHADOWS%20%3E%200%5Cn%5Ct%23pragma%20unroll_loop_start%5Cn%5Ctfor%20(%20int%20i%20%3D%200%3B%20i%20%3C%20NUM_DIR_LIGHT_SHADOWS%3B%20i%20%2B%2B%20)%20%7B%5Cn%5Ct%5CtshadowWorldPosition%20%3D%20worldPosition%20%2B%20vec4(%20shadowWorldNormal%20*%20directionalLightShadows%5B%20i%20%5D.shadowNormalBias%2C%200%20)%3B%5Cn%5Ct%5CtvDirectionalShadowCoord%5B%20i%20%5D%20%3D%20directionalShadowMatrix%5B%20i%20%5D%20*%20shadowWorldPosition%3B%5Cn%5Ct%7D%5Cn%5Ct%23pragma%20unroll_loop_end%5Cn%5Ct%23endif%5Cn%5Ct%23if%20NUM_SPOT_LIGHT_COORDS%20%3E%200%5Cn%5Ct%23pragma%20unroll_loop_start%5Cn%5Ctfor%20(%20int%20i%20%3D%200%3B%20i%20%3C%20NUM_SPOT_LIGHT_COORDS%3B%20i%20%2B%2B%20)%20%7B%5Cn%5Ct%5CtshadowWorldPosition%20%3D%20worldPosition%3B%5Cn%5Ct%5Ct%23if%20(%20defined(%20USE_SHADOWMAP%20)%20%26%26%20UNROLLED_LOOP_INDEX%20%3C%20NUM_SPOT_LIGHT_SHADOWS%20)%5Cn%5Ct%5Ct%5CtshadowWorldPosition.xyz%20%2B%3D%20shadowWorldNormal%20*%20spotLightShadows%5B%20i%20%5D.shadowNormalBias%3B%5Cn%5Ct%5Ct%23endif%5Cn%5Ct%5CtvSpotLightCoord%5B%20i%20%5D%20%3D%20spotLightMatrix%5B%20i%20%5D%20*%20shadowWorldPosition%3B%5Cn%5Ct%7D%5Cn%5Ct%23pragma%20unroll_loop_end%5Cn%5Ct%23endif%5Cn%5Ct%23if%20NUM_POINT_LIGHT_SHADOWS%20%3E%200%5Cn%5Ct%23pragma%20unroll_loop_start%5Cn%5Ctfor%20(%20int%20i%20%3D%200%3B%20i%20%3C%20NUM_POINT_LIGHT_SHADOWS%3B%20i%20%2B%2B%20)%20%7B%5Cn%5Ct%5CtshadowWorldPosition%20%3D%20worldPosition%20%2B%20vec4(%20shadowWorldNormal%20*%20pointLightShadows%5B%20i%20%5D.shadowNormalBias%2C%200%20)%3B%5Cn%5Ct%5CtvPointShadowCoord%5B%20i%20%5D%20%3D%20pointShadowMatrix%5B%20i%20%5D%20*%20shadowWorldPosition%3B%5Cn%5Ct%7D%5Cn%5Ct%23pragma%20unroll_loop_end%5Cn%5Ct%23endif%5Cn%23endif%22%2C%20shadowmask_pars_fragment%3A%20%22float%20getShadowMask()%20%7B%5Cn%5Ctfloat%20shadow%20%3D%201.0%3B%5Cn%5Ct%23ifdef%20USE_SHADOWMAP%5Cn%5Ct%23if%20NUM_DIR_LIGHT_SHADOWS%20%3E%200%5Cn%5CtDirectionalLightShadow%20directionalLight%3B%5Cn%5Ct%23pragma%20unroll_loop_start%5Cn%5Ctfor%20(%20int%20i%20%3D%200%3B%20i%20%3C%20NUM_DIR_LIGHT_SHADOWS%3B%20i%20%2B%2B%20)%20%7B%5Cn%5Ct%5CtdirectionalLight%20%3D%20directionalLightShadows%5B%20i%20%5D%3B%5Cn%5Ct%5Ctshadow%20*%3D%20receiveShadow%20%3F%20getShadow(%20directionalShadowMap%5B%20i%20%5D%2C%20directionalLight.shadowMapSize%2C%20directionalLight.shadowBias%2C%20directionalLight.shadowRadius%2C%20vDirectionalShadowCoord%5B%20i%20%5D%20)%20%3A%201.0%3B%5Cn%5Ct%7D%5Cn%5Ct%23pragma%20unroll_loop_end%5Cn%5Ct%23endif%5Cn%5Ct%23if%20NUM_SPOT_LIGHT_SHADOWS%20%3E%200%5Cn%5CtSpotLightShadow%20spotLight%3B%5Cn%5Ct%23pragma%20unroll_loop_start%5Cn%5Ctfor%20(%20int%20i%20%3D%200%3B%20i%20%3C%20NUM_SPOT_LIGHT_SHADOWS%3B%20i%20%2B%2B%20)%20%7B%5Cn%5Ct%5CtspotLight%20%3D%20spotLightShadows%5B%20i%20%5D%3B%5Cn%5Ct%5Ctshadow%20*%3D%20receiveShadow%20%3F%20getShadow(%20spotShadowMap%5B%20i%20%5D%2C%20spotLight.shadowMapSize%2C%20spotLight.shadowBias%2C%20spotLight.shadowRadius%2C%20vSpotLightCoord%5B%20i%20%5D%20)%20%3A%201.0%3B%5Cn%5Ct%7D%5Cn%5Ct%23pragma%20unroll_loop_end%5Cn%5Ct%23endif%5Cn%5Ct%23if%20NUM_POINT_LIGHT_SHADOWS%20%3E%200%5Cn%5CtPointLightShadow%20pointLight%3B%5Cn%5Ct%23pragma%20unroll_loop_start%5Cn%5Ctfor%20(%20int%20i%20%3D%200%3B%20i%20%3C%20NUM_POINT_LIGHT_SHADOWS%3B%20i%20%2B%2B%20)%20%7B%5Cn%5Ct%5CtpointLight%20%3D%20pointLightShadows%5B%20i%20%5D%3B%5Cn%5Ct%5Ctshadow%20*%3D%20receiveShadow%20%3F%20getPointShadow(%20pointShadowMap%5B%20i%20%5D%2C%20pointLight.shadowMapSize%2C%20pointLight.shadowBias%2C%20pointLight.shadowRadius%2C%20vPointShadowCoord%5B%20i%20%5D%2C%20pointLight.shadowCameraNear%2C%20pointLight.shadowCameraFar%20)%20%3A%201.0%3B%5Cn%5Ct%7D%5Cn%5Ct%23pragma%20unroll_loop_end%5Cn%5Ct%23endif%5Cn%5Ct%23endif%5Cn%5Ctreturn%20shadow%3B%5Cn%7D%22%2C%20skinbase_vertex%3A%20%22%23ifdef%20USE_SKINNING%5Cn%5Ctmat4%20boneMatX%20%3D%20getBoneMatrix(%20skinIndex.x%20)%3B%5Cn%5Ctmat4%20boneMatY%20%3D%20getBoneMatrix(%20skinIndex.y%20)%3B%5Cn%5Ctmat4%20boneMatZ%20%3D%20getBoneMatrix(%20skinIndex.z%20)%3B%5Cn%5Ctmat4%20boneMatW%20%3D%20getBoneMatrix(%20skinIndex.w%20)%3B%5Cn%23endif%22%2C%20skinning_pars_vertex%3A%20%22%23ifdef%20USE_SKINNING%5Cn%5Ctuniform%20mat4%20bindMatrix%3B%5Cn%5Ctuniform%20mat4%20bindMatrixInverse%3B%5Cn%5Ctuniform%20highp%20sampler2D%20boneTexture%3B%5Cn%5Ctuniform%20int%20boneTextureSize%3B%5Cn%5Ctmat4%20getBoneMatrix(%20const%20in%20float%20i%20)%20%7B%5Cn%5Ct%5Ctfloat%20j%20%3D%20i%20*%204.0%3B%5Cn%5Ct%5Ctfloat%20x%20%3D%20mod(%20j%2C%20float(%20boneTextureSize%20)%20)%3B%5Cn%5Ct%5Ctfloat%20y%20%3D%20floor(%20j%20%2F%20float(%20boneTextureSize%20)%20)%3B%5Cn%5Ct%5Ctfloat%20dx%20%3D%201.0%20%2F%20float(%20boneTextureSize%20)%3B%5Cn%5Ct%5Ctfloat%20dy%20%3D%201.0%20%2F%20float(%20boneTextureSize%20)%3B%5Cn%5Ct%5Cty%20%3D%20dy%20*%20(%20y%20%2B%200.5%20)%3B%5Cn%5Ct%5Ctvec4%20v1%20%3D%20texture2D(%20boneTexture%2C%20vec2(%20dx%20*%20(%20x%20%2B%200.5%20)%2C%20y%20)%20)%3B%5Cn%5Ct%5Ctvec4%20v2%20%3D%20texture2D(%20boneTexture%2C%20vec2(%20dx%20*%20(%20x%20%2B%201.5%20)%2C%20y%20)%20)%3B%5Cn%5Ct%5Ctvec4%20v3%20%3D%20texture2D(%20boneTexture%2C%20vec2(%20dx%20*%20(%20x%20%2B%202.5%20)%2C%20y%20)%20)%3B%5Cn%5Ct%5Ctvec4%20v4%20%3D%20texture2D(%20boneTexture%2C%20vec2(%20dx%20*%20(%20x%20%2B%203.5%20)%2C%20y%20)%20)%3B%5Cn%5Ct%5Ctmat4%20bone%20%3D%20mat4(%20v1%2C%20v2%2C%20v3%2C%20v4%20)%3B%5Cn%5Ct%5Ctreturn%20bone%3B%5Cn%5Ct%7D%5Cn%23endif%22%2C%20skinning_vertex%3A%20%22%23ifdef%20USE_SKINNING%5Cn%5Ctvec4%20skinVertex%20%3D%20bindMatrix%20*%20vec4(%20transformed%2C%201.0%20)%3B%5Cn%5Ctvec4%20skinned%20%3D%20vec4(%200.0%20)%3B%5Cn%5Ctskinned%20%2B%3D%20boneMatX%20*%20skinVertex%20*%20skinWeight.x%3B%5Cn%5Ctskinned%20%2B%3D%20boneMatY%20*%20skinVertex%20*%20skinWeight.y%3B%5Cn%5Ctskinned%20%2B%3D%20boneMatZ%20*%20skinVertex%20*%20skinWeight.z%3B%5Cn%5Ctskinned%20%2B%3D%20boneMatW%20*%20skinVertex%20*%20skinWeight.w%3B%5Cn%5Cttransformed%20%3D%20(%20bindMatrixInverse%20*%20skinned%20).xyz%3B%5Cn%23endif%22%2C%20skinnormal_vertex%3A%20%22%23ifdef%20USE_SKINNING%5Cn%5Ctmat4%20skinMatrix%20%3D%20mat4(%200.0%20)%3B%5Cn%5CtskinMatrix%20%2B%3D%20skinWeight.x%20*%20boneMatX%3B%5Cn%5CtskinMatrix%20%2B%3D%20skinWeight.y%20*%20boneMatY%3B%5Cn%5CtskinMatrix%20%2B%3D%20skinWeight.z%20*%20boneMatZ%3B%5Cn%5CtskinMatrix%20%2B%3D%20skinWeight.w%20*%20boneMatW%3B%5Cn%5CtskinMatrix%20%3D%20bindMatrixInverse%20*%20skinMatrix%20*%20bindMatrix%3B%5Cn%5CtobjectNormal%20%3D%20vec4(%20skinMatrix%20*%20vec4(%20objectNormal%2C%200.0%20)%20).xyz%3B%5Cn%5Ct%23ifdef%20USE_TANGENT%5Cn%5Ct%5CtobjectTangent%20%3D%20vec4(%20skinMatrix%20*%20vec4(%20objectTangent%2C%200.0%20)%20).xyz%3B%5Cn%5Ct%23endif%5Cn%23endif%22%2C%20specularmap_fragment%3A%20%22float%20specularStrength%3B%5Cn%23ifdef%20USE_SPECULARMAP%5Cn%5Ctvec4%20texelSpecular%20%3D%20texture2D(%20specularMap%2C%20vUv%20)%3B%5Cn%5CtspecularStrength%20%3D%20texelSpecular.r%3B%5Cn%23else%5Cn%5CtspecularStrength%20%3D%201.0%3B%5Cn%23endif%22%2C%20specularmap_pars_fragment%3A%20%22%23ifdef%20USE_SPECULARMAP%5Cn%5Ctuniform%20sampler2D%20specularMap%3B%5Cn%23endif%22%2C%20tonemapping_fragment%3A%20%22%23if%20defined(%20TONE_MAPPING%20)%5Cn%5Ctgl_FragColor.rgb%20%3D%20toneMapping(%20gl_FragColor.rgb%20)%3B%5Cn%23endif%22%2C%20tonemapping_pars_fragment%3A%20%22%23ifndef%20saturate%5Cn%23define%20saturate(%20a%20)%20clamp(%20a%2C%200.0%2C%201.0%20)%5Cn%23endif%5Cnuniform%20float%20toneMappingExposure%3B%5Cnvec3%20LinearToneMapping(%20vec3%20color%20)%20%7B%5Cn%5Ctreturn%20toneMappingExposure%20*%20color%3B%5Cn%7D%5Cnvec3%20ReinhardToneMapping(%20vec3%20color%20)%20%7B%5Cn%5Ctcolor%20*%3D%20toneMappingExposure%3B%5Cn%5Ctreturn%20saturate(%20color%20%2F%20(%20vec3(%201.0%20)%20%2B%20color%20)%20)%3B%5Cn%7D%5Cnvec3%20OptimizedCineonToneMapping(%20vec3%20color%20)%20%7B%5Cn%5Ctcolor%20*%3D%20toneMappingExposure%3B%5Cn%5Ctcolor%20%3D%20max(%20vec3(%200.0%20)%2C%20color%20-%200.004%20)%3B%5Cn%5Ctreturn%20pow(%20(%20color%20*%20(%206.2%20*%20color%20%2B%200.5%20)%20)%20%2F%20(%20color%20*%20(%206.2%20*%20color%20%2B%201.7%20)%20%2B%200.06%20)%2C%20vec3(%202.2%20)%20)%3B%5Cn%7D%5Cnvec3%20RRTAndODTFit(%20vec3%20v%20)%20%7B%5Cn%5Ctvec3%20a%20%3D%20v%20*%20(%20v%20%2B%200.0245786%20)%20-%200.000090537%3B%5Cn%5Ctvec3%20b%20%3D%20v%20*%20(%200.983729%20*%20v%20%2B%200.4329510%20)%20%2B%200.238081%3B%5Cn%5Ctreturn%20a%20%2F%20b%3B%5Cn%7D%5Cnvec3%20ACESFilmicToneMapping(%20vec3%20color%20)%20%7B%5Cn%5Ctconst%20mat3%20ACESInputMat%20%3D%20mat3(%5Cn%5Ct%5Ctvec3(%200.59719%2C%200.07600%2C%200.02840%20)%2C%5Ct%5Ctvec3(%200.35458%2C%200.90834%2C%200.13383%20)%2C%5Cn%5Ct%5Ctvec3(%200.04823%2C%200.01566%2C%200.83777%20)%5Cn%5Ct)%3B%5Cn%5Ctconst%20mat3%20ACESOutputMat%20%3D%20mat3(%5Cn%5Ct%5Ctvec3(%5Ct1.60475%2C%20-0.10208%2C%20-0.00327%20)%2C%5Ct%5Ctvec3(%20-0.53108%2C%5Ct1.10813%2C%20-0.07276%20)%2C%5Cn%5Ct%5Ctvec3(%20-0.07367%2C%20-0.00605%2C%5Ct1.07602%20)%5Cn%5Ct)%3B%5Cn%5Ctcolor%20*%3D%20toneMappingExposure%20%2F%200.6%3B%5Cn%5Ctcolor%20%3D%20ACESInputMat%20*%20color%3B%5Cn%5Ctcolor%20%3D%20RRTAndODTFit(%20color%20)%3B%5Cn%5Ctcolor%20%3D%20ACESOutputMat%20*%20color%3B%5Cn%5Ctreturn%20saturate(%20color%20)%3B%5Cn%7D%5Cnvec3%20CustomToneMapping(%20vec3%20color%20)%20%7B%20return%20color%3B%20%7D%22%2C%20transmission_fragment%3A%20%22%23ifdef%20USE_TRANSMISSION%5Cn%5Ctmaterial.transmission%20%3D%20transmission%3B%5Cn%5Ctmaterial.transmissionAlpha%20%3D%201.0%3B%5Cn%5Ctmaterial.thickness%20%3D%20thickness%3B%5Cn%5Ctmaterial.attenuationDistance%20%3D%20attenuationDistance%3B%5Cn%5Ctmaterial.attenuationColor%20%3D%20attenuationColor%3B%5Cn%5Ct%23ifdef%20USE_TRANSMISSIONMAP%5Cn%5Ct%5Ctmaterial.transmission%20*%3D%20texture2D(%20transmissionMap%2C%20vUv%20).r%3B%5Cn%5Ct%23endif%5Cn%5Ct%23ifdef%20USE_THICKNESSMAP%5Cn%5Ct%5Ctmaterial.thickness%20*%3D%20texture2D(%20thicknessMap%2C%20vUv%20).g%3B%5Cn%5Ct%23endif%5Cn%5Ctvec3%20pos%20%3D%20vWorldPosition%3B%5Cn%5Ctvec3%20v%20%3D%20normalize(%20cameraPosition%20-%20pos%20)%3B%5Cn%5Ctvec3%20n%20%3D%20inverseTransformDirection(%20normal%2C%20viewMatrix%20)%3B%5Cn%5Ctvec4%20transmission%20%3D%20getIBLVolumeRefraction(%5Cn%5Ct%5Ctn%2C%20v%2C%20material.roughness%2C%20material.diffuseColor%2C%20material.specularColor%2C%20material.specularF90%2C%5Cn%5Ct%5Ctpos%2C%20modelMatrix%2C%20viewMatrix%2C%20projectionMatrix%2C%20material.ior%2C%20material.thickness%2C%5Cn%5Ct%5Ctmaterial.attenuationColor%2C%20material.attenuationDistance%20)%3B%5Cn%5Ctmaterial.transmissionAlpha%20%3D%20mix(%20material.transmissionAlpha%2C%20transmission.a%2C%20material.transmission%20)%3B%5Cn%5CttotalDiffuse%20%3D%20mix(%20totalDiffuse%2C%20transmission.rgb%2C%20material.transmission%20)%3B%5Cn%23endif%22%2C%20transmission_pars_fragment%3A%20%22%23ifdef%20USE_TRANSMISSION%5Cn%5Ctuniform%20float%20transmission%3B%5Cn%5Ctuniform%20float%20thickness%3B%5Cn%5Ctuniform%20float%20attenuationDistance%3B%5Cn%5Ctuniform%20vec3%20attenuationColor%3B%5Cn%5Ct%23ifdef%20USE_TRANSMISSIONMAP%5Cn%5Ct%5Ctuniform%20sampler2D%20transmissionMap%3B%5Cn%5Ct%23endif%5Cn%5Ct%23ifdef%20USE_THICKNESSMAP%5Cn%5Ct%5Ctuniform%20sampler2D%20thicknessMap%3B%5Cn%5Ct%23endif%5Cn%5Ctuniform%20vec2%20transmissionSamplerSize%3B%5Cn%5Ctuniform%20sampler2D%20transmissionSamplerMap%3B%5Cn%5Ctuniform%20mat4%20modelMatrix%3B%5Cn%5Ctuniform%20mat4%20projectionMatrix%3B%5Cn%5Ctvarying%20vec3%20vWorldPosition%3B%5Cn%5Ctvec3%20getVolumeTransmissionRay(%20const%20in%20vec3%20n%2C%20const%20in%20vec3%20v%2C%20const%20in%20float%20thickness%2C%20const%20in%20float%20ior%2C%20const%20in%20mat4%20modelMatrix%20)%20%7B%5Cn%5Ct%5Ctvec3%20refractionVector%20%3D%20refract(%20-%20v%2C%20normalize(%20n%20)%2C%201.0%20%2F%20ior%20)%3B%5Cn%5Ct%5Ctvec3%20modelScale%3B%5Cn%5Ct%5CtmodelScale.x%20%3D%20length(%20vec3(%20modelMatrix%5B%200%20%5D.xyz%20)%20)%3B%5Cn%5Ct%5CtmodelScale.y%20%3D%20length(%20vec3(%20modelMatrix%5B%201%20%5D.xyz%20)%20)%3B%5Cn%5Ct%5CtmodelScale.z%20%3D%20length(%20vec3(%20modelMatrix%5B%202%20%5D.xyz%20)%20)%3B%5Cn%5Ct%5Ctreturn%20normalize(%20refractionVector%20)%20*%20thickness%20*%20modelScale%3B%5Cn%5Ct%7D%5Cn%5Ctfloat%20applyIorToRoughness(%20const%20in%20float%20roughness%2C%20const%20in%20float%20ior%20)%20%7B%5Cn%5Ct%5Ctreturn%20roughness%20*%20clamp(%20ior%20*%202.0%20-%202.0%2C%200.0%2C%201.0%20)%3B%5Cn%5Ct%7D%5Cn%5Ctvec4%20getTransmissionSample(%20const%20in%20vec2%20fragCoord%2C%20const%20in%20float%20roughness%2C%20const%20in%20float%20ior%20)%20%7B%5Cn%5Ct%5Ctfloat%20framebufferLod%20%3D%20log2(%20transmissionSamplerSize.x%20)%20*%20applyIorToRoughness(%20roughness%2C%20ior%20)%3B%5Cn%5Ct%5Ct%23ifdef%20texture2DLodEXT%5Cn%5Ct%5Ct%5Ctreturn%20texture2DLodEXT(%20transmissionSamplerMap%2C%20fragCoord.xy%2C%20framebufferLod%20)%3B%5Cn%5Ct%5Ct%23else%5Cn%5Ct%5Ct%5Ctreturn%20texture2D(%20transmissionSamplerMap%2C%20fragCoord.xy%2C%20framebufferLod%20)%3B%5Cn%5Ct%5Ct%23endif%5Cn%5Ct%7D%5Cn%5Ctvec3%20applyVolumeAttenuation(%20const%20in%20vec3%20radiance%2C%20const%20in%20float%20transmissionDistance%2C%20const%20in%20vec3%20attenuationColor%2C%20const%20in%20float%20attenuationDistance%20)%20%7B%5Cn%5Ct%5Ctif%20(%20isinf(%20attenuationDistance%20)%20)%20%7B%5Cn%5Ct%5Ct%5Ctreturn%20radiance%3B%5Cn%5Ct%5Ct%7D%20else%20%7B%5Cn%5Ct%5Ct%5Ctvec3%20attenuationCoefficient%20%3D%20-log(%20attenuationColor%20)%20%2F%20attenuationDistance%3B%5Cn%5Ct%5Ct%5Ctvec3%20transmittance%20%3D%20exp(%20-%20attenuationCoefficient%20*%20transmissionDistance%20)%3B%5Ct%5Ct%5Ctreturn%20transmittance%20*%20radiance%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%7D%5Cn%5Ctvec4%20getIBLVolumeRefraction(%20const%20in%20vec3%20n%2C%20const%20in%20vec3%20v%2C%20const%20in%20float%20roughness%2C%20const%20in%20vec3%20diffuseColor%2C%5Cn%5Ct%5Ctconst%20in%20vec3%20specularColor%2C%20const%20in%20float%20specularF90%2C%20const%20in%20vec3%20position%2C%20const%20in%20mat4%20modelMatrix%2C%5Cn%5Ct%5Ctconst%20in%20mat4%20viewMatrix%2C%20const%20in%20mat4%20projMatrix%2C%20const%20in%20float%20ior%2C%20const%20in%20float%20thickness%2C%5Cn%5Ct%5Ctconst%20in%20vec3%20attenuationColor%2C%20const%20in%20float%20attenuationDistance%20)%20%7B%5Cn%5Ct%5Ctvec3%20transmissionRay%20%3D%20getVolumeTransmissionRay(%20n%2C%20v%2C%20thickness%2C%20ior%2C%20modelMatrix%20)%3B%5Cn%5Ct%5Ctvec3%20refractedRayExit%20%3D%20position%20%2B%20transmissionRay%3B%5Cn%5Ct%5Ctvec4%20ndcPos%20%3D%20projMatrix%20*%20viewMatrix%20*%20vec4(%20refractedRayExit%2C%201.0%20)%3B%5Cn%5Ct%5Ctvec2%20refractionCoords%20%3D%20ndcPos.xy%20%2F%20ndcPos.w%3B%5Cn%5Ct%5CtrefractionCoords%20%2B%3D%201.0%3B%5Cn%5Ct%5CtrefractionCoords%20%2F%3D%202.0%3B%5Cn%5Ct%5Ctvec4%20transmittedLight%20%3D%20getTransmissionSample(%20refractionCoords%2C%20roughness%2C%20ior%20)%3B%5Cn%5Ct%5Ctvec3%20attenuatedColor%20%3D%20applyVolumeAttenuation(%20transmittedLight.rgb%2C%20length(%20transmissionRay%20)%2C%20attenuationColor%2C%20attenuationDistance%20)%3B%5Cn%5Ct%5Ctvec3%20F%20%3D%20EnvironmentBRDF(%20n%2C%20v%2C%20specularColor%2C%20specularF90%2C%20roughness%20)%3B%5Cn%5Ct%5Ctreturn%20vec4(%20(%201.0%20-%20F%20)%20*%20attenuatedColor%20*%20diffuseColor%2C%20transmittedLight.a%20)%3B%5Cn%5Ct%7D%5Cn%23endif%22%2C%20uv_pars_fragment%3A%20%22%23if%20(%20defined(%20USE_UV%20)%20%26%26%20!%20defined(%20UVS_VERTEX_ONLY%20)%20)%5Cn%5Ctvarying%20vec2%20vUv%3B%5Cn%23endif%22%2C%20uv_pars_vertex%3A%20%22%23ifdef%20USE_UV%5Cn%5Ct%23ifdef%20UVS_VERTEX_ONLY%5Cn%5Ct%5Ctvec2%20vUv%3B%5Cn%5Ct%23else%5Cn%5Ct%5Ctvarying%20vec2%20vUv%3B%5Cn%5Ct%23endif%5Cn%5Ctuniform%20mat3%20uvTransform%3B%5Cn%23endif%22%2C%20uv_vertex%3A%20%22%23ifdef%20USE_UV%5Cn%5CtvUv%20%3D%20(%20uvTransform%20*%20vec3(%20uv%2C%201%20)%20).xy%3B%5Cn%23endif%22%2C%20uv2_pars_fragment%3A%20%22%23if%20defined(%20USE_LIGHTMAP%20)%20%7C%7C%20defined(%20USE_AOMAP%20)%5Cn%5Ctvarying%20vec2%20vUv2%3B%5Cn%23endif%22%2C%20uv2_pars_vertex%3A%20%22%23if%20defined(%20USE_LIGHTMAP%20)%20%7C%7C%20defined(%20USE_AOMAP%20)%5Cn%5Ctattribute%20vec2%20uv2%3B%5Cn%5Ctvarying%20vec2%20vUv2%3B%5Cn%5Ctuniform%20mat3%20uv2Transform%3B%5Cn%23endif%22%2C%20uv2_vertex%3A%20%22%23if%20defined(%20USE_LIGHTMAP%20)%20%7C%7C%20defined(%20USE_AOMAP%20)%5Cn%5CtvUv2%20%3D%20(%20uv2Transform%20*%20vec3(%20uv2%2C%201%20)%20).xy%3B%5Cn%23endif%22%2C%20worldpos_vertex%3A%20%22%23if%20defined(%20USE_ENVMAP%20)%20%7C%7C%20defined(%20DISTANCE%20)%20%7C%7C%20defined%20(%20USE_SHADOWMAP%20)%20%7C%7C%20defined%20(%20USE_TRANSMISSION%20)%20%7C%7C%20NUM_SPOT_LIGHT_COORDS%20%3E%200%5Cn%5Ctvec4%20worldPosition%20%3D%20vec4(%20transformed%2C%201.0%20)%3B%5Cn%5Ct%23ifdef%20USE_INSTANCING%5Cn%5Ct%5CtworldPosition%20%3D%20instanceMatrix%20*%20worldPosition%3B%5Cn%5Ct%23endif%5Cn%5CtworldPosition%20%3D%20modelMatrix%20*%20worldPosition%3B%5Cn%23endif%22%2C%20background_vert%3A%20%22varying%20vec2%20vUv%3B%5Cnuniform%20mat3%20uvTransform%3B%5Cnvoid%20main()%20%7B%5Cn%5CtvUv%20%3D%20(%20uvTransform%20*%20vec3(%20uv%2C%201%20)%20).xy%3B%5Cn%5Ctgl_Position%20%3D%20vec4(%20position.xy%2C%201.0%2C%201.0%20)%3B%5Cn%7D%22%2C%20background_frag%3A%20%22uniform%20sampler2D%20t2D%3B%5Cnuniform%20float%20backgroundIntensity%3B%5Cnvarying%20vec2%20vUv%3B%5Cnvoid%20main()%20%7B%5Cn%5Ctvec4%20texColor%20%3D%20texture2D(%20t2D%2C%20vUv%20)%3B%5Cn%5Ct%23ifdef%20DECODE_VIDEO_TEXTURE%5Cn%5Ct%5CttexColor%20%3D%20vec4(%20mix(%20pow(%20texColor.rgb%20*%200.9478672986%20%2B%20vec3(%200.0521327014%20)%2C%20vec3(%202.4%20)%20)%2C%20texColor.rgb%20*%200.0773993808%2C%20vec3(%20lessThanEqual(%20texColor.rgb%2C%20vec3(%200.04045%20)%20)%20)%20)%2C%20texColor.w%20)%3B%5Cn%5Ct%23endif%5Cn%5CttexColor.rgb%20*%3D%20backgroundIntensity%3B%5Cn%5Ctgl_FragColor%20%3D%20texColor%3B%5Cn%5Ct%23include%20%3Ctonemapping_fragment%3E%5Cn%5Ct%23include%20%3Cencodings_fragment%3E%5Cn%7D%22%2C%20backgroundCube_vert%3A%20%22varying%20vec3%20vWorldDirection%3B%5Cn%23include%20%3Ccommon%3E%5Cnvoid%20main()%20%7B%5Cn%5CtvWorldDirection%20%3D%20transformDirection(%20position%2C%20modelMatrix%20)%3B%5Cn%5Ct%23include%20%3Cbegin_vertex%3E%5Cn%5Ct%23include%20%3Cproject_vertex%3E%5Cn%5Ctgl_Position.z%20%3D%20gl_Position.w%3B%5Cn%7D%22%2C%20backgroundCube_frag%3A%20%22%23ifdef%20ENVMAP_TYPE_CUBE%5Cn%5Ctuniform%20samplerCube%20envMap%3B%5Cn%23elif%20defined(%20ENVMAP_TYPE_CUBE_UV%20)%5Cn%5Ctuniform%20sampler2D%20envMap%3B%5Cn%23endif%5Cnuniform%20float%20flipEnvMap%3B%5Cnuniform%20float%20backgroundBlurriness%3B%5Cnuniform%20float%20backgroundIntensity%3B%5Cnvarying%20vec3%20vWorldDirection%3B%5Cn%23include%20%3Ccube_uv_reflection_fragment%3E%5Cnvoid%20main()%20%7B%5Cn%5Ct%23ifdef%20ENVMAP_TYPE_CUBE%5Cn%5Ct%5Ctvec4%20texColor%20%3D%20textureCube(%20envMap%2C%20vec3(%20flipEnvMap%20*%20vWorldDirection.x%2C%20vWorldDirection.yz%20)%20)%3B%5Cn%5Ct%23elif%20defined(%20ENVMAP_TYPE_CUBE_UV%20)%5Cn%5Ct%5Ctvec4%20texColor%20%3D%20textureCubeUV(%20envMap%2C%20vWorldDirection%2C%20backgroundBlurriness%20)%3B%5Cn%5Ct%23else%5Cn%5Ct%5Ctvec4%20texColor%20%3D%20vec4(%200.0%2C%200.0%2C%200.0%2C%201.0%20)%3B%5Cn%5Ct%23endif%5Cn%5CttexColor.rgb%20*%3D%20backgroundIntensity%3B%5Cn%5Ctgl_FragColor%20%3D%20texColor%3B%5Cn%5Ct%23include%20%3Ctonemapping_fragment%3E%5Cn%5Ct%23include%20%3Cencodings_fragment%3E%5Cn%7D%22%2C%20cube_vert%3A%20%22varying%20vec3%20vWorldDirection%3B%5Cn%23include%20%3Ccommon%3E%5Cnvoid%20main()%20%7B%5Cn%5CtvWorldDirection%20%3D%20transformDirection(%20position%2C%20modelMatrix%20)%3B%5Cn%5Ct%23include%20%3Cbegin_vertex%3E%5Cn%5Ct%23include%20%3Cproject_vertex%3E%5Cn%5Ctgl_Position.z%20%3D%20gl_Position.w%3B%5Cn%7D%22%2C%20cube_frag%3A%20%22uniform%20samplerCube%20tCube%3B%5Cnuniform%20float%20tFlip%3B%5Cnuniform%20float%20opacity%3B%5Cnvarying%20vec3%20vWorldDirection%3B%5Cnvoid%20main()%20%7B%5Cn%5Ctvec4%20texColor%20%3D%20textureCube(%20tCube%2C%20vec3(%20tFlip%20*%20vWorldDirection.x%2C%20vWorldDirection.yz%20)%20)%3B%5Cn%5Ctgl_FragColor%20%3D%20texColor%3B%5Cn%5Ctgl_FragColor.a%20*%3D%20opacity%3B%5Cn%5Ct%23include%20%3Ctonemapping_fragment%3E%5Cn%5Ct%23include%20%3Cencodings_fragment%3E%5Cn%7D%22%2C%20depth_vert%3A%20%22%23include%20%3Ccommon%3E%5Cn%23include%20%3Cuv_pars_vertex%3E%5Cn%23include%20%3Cdisplacementmap_pars_vertex%3E%5Cn%23include%20%3Cmorphtarget_pars_vertex%3E%5Cn%23include%20%3Cskinning_pars_vertex%3E%5Cn%23include%20%3Clogdepthbuf_pars_vertex%3E%5Cn%23include%20%3Cclipping_planes_pars_vertex%3E%5Cnvarying%20vec2%20vHighPrecisionZW%3B%5Cnvoid%20main()%20%7B%5Cn%5Ct%23include%20%3Cuv_vertex%3E%5Cn%5Ct%23include%20%3Cskinbase_vertex%3E%5Cn%5Ct%23ifdef%20USE_DISPLACEMENTMAP%5Cn%5Ct%5Ct%23include%20%3Cbeginnormal_vertex%3E%5Cn%5Ct%5Ct%23include%20%3Cmorphnormal_vertex%3E%5Cn%5Ct%5Ct%23include%20%3Cskinnormal_vertex%3E%5Cn%5Ct%23endif%5Cn%5Ct%23include%20%3Cbegin_vertex%3E%5Cn%5Ct%23include%20%3Cmorphtarget_vertex%3E%5Cn%5Ct%23include%20%3Cskinning_vertex%3E%5Cn%5Ct%23include%20%3Cdisplacementmap_vertex%3E%5Cn%5Ct%23include%20%3Cproject_vertex%3E%5Cn%5Ct%23include%20%3Clogdepthbuf_vertex%3E%5Cn%5Ct%23include%20%3Cclipping_planes_vertex%3E%5Cn%5CtvHighPrecisionZW%20%3D%20gl_Position.zw%3B%5Cn%7D%22%2C%20depth_frag%3A%20%22%23if%20DEPTH_PACKING%20%3D%3D%203200%5Cn%5Ctuniform%20float%20opacity%3B%5Cn%23endif%5Cn%23include%20%3Ccommon%3E%5Cn%23include%20%3Cpacking%3E%5Cn%23include%20%3Cuv_pars_fragment%3E%5Cn%23include%20%3Cmap_pars_fragment%3E%5Cn%23include%20%3Calphamap_pars_fragment%3E%5Cn%23include%20%3Calphatest_pars_fragment%3E%5Cn%23include%20%3Clogdepthbuf_pars_fragment%3E%5Cn%23include%20%3Cclipping_planes_pars_fragment%3E%5Cnvarying%20vec2%20vHighPrecisionZW%3B%5Cnvoid%20main()%20%7B%5Cn%5Ct%23include%20%3Cclipping_planes_fragment%3E%5Cn%5Ctvec4%20diffuseColor%20%3D%20vec4(%201.0%20)%3B%5Cn%5Ct%23if%20DEPTH_PACKING%20%3D%3D%203200%5Cn%5Ct%5CtdiffuseColor.a%20%3D%20opacity%3B%5Cn%5Ct%23endif%5Cn%5Ct%23include%20%3Cmap_fragment%3E%5Cn%5Ct%23include%20%3Calphamap_fragment%3E%5Cn%5Ct%23include%20%3Calphatest_fragment%3E%5Cn%5Ct%23include%20%3Clogdepthbuf_fragment%3E%5Cn%5Ctfloat%20fragCoordZ%20%3D%200.5%20*%20vHighPrecisionZW%5B0%5D%20%2F%20vHighPrecisionZW%5B1%5D%20%2B%200.5%3B%5Cn%5Ct%23if%20DEPTH_PACKING%20%3D%3D%203200%5Cn%5Ct%5Ctgl_FragColor%20%3D%20vec4(%20vec3(%201.0%20-%20fragCoordZ%20)%2C%20opacity%20)%3B%5Cn%5Ct%23elif%20DEPTH_PACKING%20%3D%3D%203201%5Cn%5Ct%5Ctgl_FragColor%20%3D%20packDepthToRGBA(%20fragCoordZ%20)%3B%5Cn%5Ct%23endif%5Cn%7D%22%2C%20distanceRGBA_vert%3A%20%22%23define%20DISTANCE%5Cnvarying%20vec3%20vWorldPosition%3B%5Cn%23include%20%3Ccommon%3E%5Cn%23include%20%3Cuv_pars_vertex%3E%5Cn%23include%20%3Cdisplacementmap_pars_vertex%3E%5Cn%23include%20%3Cmorphtarget_pars_vertex%3E%5Cn%23include%20%3Cskinning_pars_vertex%3E%5Cn%23include%20%3Cclipping_planes_pars_vertex%3E%5Cnvoid%20main()%20%7B%5Cn%5Ct%23include%20%3Cuv_vertex%3E%5Cn%5Ct%23include%20%3Cskinbase_vertex%3E%5Cn%5Ct%23ifdef%20USE_DISPLACEMENTMAP%5Cn%5Ct%5Ct%23include%20%3Cbeginnormal_vertex%3E%5Cn%5Ct%5Ct%23include%20%3Cmorphnormal_vertex%3E%5Cn%5Ct%5Ct%23include%20%3Cskinnormal_vertex%3E%5Cn%5Ct%23endif%5Cn%5Ct%23include%20%3Cbegin_vertex%3E%5Cn%5Ct%23include%20%3Cmorphtarget_vertex%3E%5Cn%5Ct%23include%20%3Cskinning_vertex%3E%5Cn%5Ct%23include%20%3Cdisplacementmap_vertex%3E%5Cn%5Ct%23include%20%3Cproject_vertex%3E%5Cn%5Ct%23include%20%3Cworldpos_vertex%3E%5Cn%5Ct%23include%20%3Cclipping_planes_vertex%3E%5Cn%5CtvWorldPosition%20%3D%20worldPosition.xyz%3B%5Cn%7D%22%2C%20distanceRGBA_frag%3A%20%22%23define%20DISTANCE%5Cnuniform%20vec3%20referencePosition%3B%5Cnuniform%20float%20nearDistance%3B%5Cnuniform%20float%20farDistance%3B%5Cnvarying%20vec3%20vWorldPosition%3B%5Cn%23include%20%3Ccommon%3E%5Cn%23include%20%3Cpacking%3E%5Cn%23include%20%3Cuv_pars_fragment%3E%5Cn%23include%20%3Cmap_pars_fragment%3E%5Cn%23include%20%3Calphamap_pars_fragment%3E%5Cn%23include%20%3Calphatest_pars_fragment%3E%5Cn%23include%20%3Cclipping_planes_pars_fragment%3E%5Cnvoid%20main%20()%20%7B%5Cn%5Ct%23include%20%3Cclipping_planes_fragment%3E%5Cn%5Ctvec4%20diffuseColor%20%3D%20vec4(%201.0%20)%3B%5Cn%5Ct%23include%20%3Cmap_fragment%3E%5Cn%5Ct%23include%20%3Calphamap_fragment%3E%5Cn%5Ct%23include%20%3Calphatest_fragment%3E%5Cn%5Ctfloat%20dist%20%3D%20length(%20vWorldPosition%20-%20referencePosition%20)%3B%5Cn%5Ctdist%20%3D%20(%20dist%20-%20nearDistance%20)%20%2F%20(%20farDistance%20-%20nearDistance%20)%3B%5Cn%5Ctdist%20%3D%20saturate(%20dist%20)%3B%5Cn%5Ctgl_FragColor%20%3D%20packDepthToRGBA(%20dist%20)%3B%5Cn%7D%22%2C%20equirect_vert%3A%20%22varying%20vec3%20vWorldDirection%3B%5Cn%23include%20%3Ccommon%3E%5Cnvoid%20main()%20%7B%5Cn%5CtvWorldDirection%20%3D%20transformDirection(%20position%2C%20modelMatrix%20)%3B%5Cn%5Ct%23include%20%3Cbegin_vertex%3E%5Cn%5Ct%23include%20%3Cproject_vertex%3E%5Cn%7D%22%2C%20equirect_frag%3A%20%22uniform%20sampler2D%20tEquirect%3B%5Cnvarying%20vec3%20vWorldDirection%3B%5Cn%23include%20%3Ccommon%3E%5Cnvoid%20main()%20%7B%5Cn%5Ctvec3%20direction%20%3D%20normalize(%20vWorldDirection%20)%3B%5Cn%5Ctvec2%20sampleUV%20%3D%20equirectUv(%20direction%20)%3B%5Cn%5Ctgl_FragColor%20%3D%20texture2D(%20tEquirect%2C%20sampleUV%20)%3B%5Cn%5Ct%23include%20%3Ctonemapping_fragment%3E%5Cn%5Ct%23include%20%3Cencodings_fragment%3E%5Cn%7D%22%2C%20linedashed_vert%3A%20%22uniform%20float%20scale%3B%5Cnattribute%20float%20lineDistance%3B%5Cnvarying%20float%20vLineDistance%3B%5Cn%23include%20%3Ccommon%3E%5Cn%23include%20%3Ccolor_pars_vertex%3E%5Cn%23include%20%3Cfog_pars_vertex%3E%5Cn%23include%20%3Cmorphtarget_pars_vertex%3E%5Cn%23include%20%3Clogdepthbuf_pars_vertex%3E%5Cn%23include%20%3Cclipping_planes_pars_vertex%3E%5Cnvoid%20main()%20%7B%5Cn%5CtvLineDistance%20%3D%20scale%20*%20lineDistance%3B%5Cn%5Ct%23include%20%3Ccolor_vertex%3E%5Cn%5Ct%23include%20%3Cmorphcolor_vertex%3E%5Cn%5Ct%23include%20%3Cbegin_vertex%3E%5Cn%5Ct%23include%20%3Cmorphtarget_vertex%3E%5Cn%5Ct%23include%20%3Cproject_vertex%3E%5Cn%5Ct%23include%20%3Clogdepthbuf_vertex%3E%5Cn%5Ct%23include%20%3Cclipping_planes_vertex%3E%5Cn%5Ct%23include%20%3Cfog_vertex%3E%5Cn%7D%22%2C%20linedashed_frag%3A%20%22uniform%20vec3%20diffuse%3B%5Cnuniform%20float%20opacity%3B%5Cnuniform%20float%20dashSize%3B%5Cnuniform%20float%20totalSize%3B%5Cnvarying%20float%20vLineDistance%3B%5Cn%23include%20%3Ccommon%3E%5Cn%23include%20%3Ccolor_pars_fragment%3E%5Cn%23include%20%3Cfog_pars_fragment%3E%5Cn%23include%20%3Clogdepthbuf_pars_fragment%3E%5Cn%23include%20%3Cclipping_planes_pars_fragment%3E%5Cnvoid%20main()%20%7B%5Cn%5Ct%23include%20%3Cclipping_planes_fragment%3E%5Cn%5Ctif%20(%20mod(%20vLineDistance%2C%20totalSize%20)%20%3E%20dashSize%20)%20%7B%5Cn%5Ct%5Ctdiscard%3B%5Cn%5Ct%7D%5Cn%5Ctvec3%20outgoingLight%20%3D%20vec3(%200.0%20)%3B%5Cn%5Ctvec4%20diffuseColor%20%3D%20vec4(%20diffuse%2C%20opacity%20)%3B%5Cn%5Ct%23include%20%3Clogdepthbuf_fragment%3E%5Cn%5Ct%23include%20%3Ccolor_fragment%3E%5Cn%5CtoutgoingLight%20%3D%20diffuseColor.rgb%3B%5Cn%5Ct%23include%20%3Coutput_fragment%3E%5Cn%5Ct%23include%20%3Ctonemapping_fragment%3E%5Cn%5Ct%23include%20%3Cencodings_fragment%3E%5Cn%5Ct%23include%20%3Cfog_fragment%3E%5Cn%5Ct%23include%20%3Cpremultiplied_alpha_fragment%3E%5Cn%7D%22%2C%20meshbasic_vert%3A%20%22%23include%20%3Ccommon%3E%5Cn%23include%20%3Cuv_pars_vertex%3E%5Cn%23include%20%3Cuv2_pars_vertex%3E%5Cn%23include%20%3Cenvmap_pars_vertex%3E%5Cn%23include%20%3Ccolor_pars_vertex%3E%5Cn%23include%20%3Cfog_pars_vertex%3E%5Cn%23include%20%3Cmorphtarget_pars_vertex%3E%5Cn%23include%20%3Cskinning_pars_vertex%3E%5Cn%23include%20%3Clogdepthbuf_pars_vertex%3E%5Cn%23include%20%3Cclipping_planes_pars_vertex%3E%5Cnvoid%20main()%20%7B%5Cn%5Ct%23include%20%3Cuv_vertex%3E%5Cn%5Ct%23include%20%3Cuv2_vertex%3E%5Cn%5Ct%23include%20%3Ccolor_vertex%3E%5Cn%5Ct%23include%20%3Cmorphcolor_vertex%3E%5Cn%5Ct%23if%20defined%20(%20USE_ENVMAP%20)%20%7C%7C%20defined%20(%20USE_SKINNING%20)%5Cn%5Ct%5Ct%23include%20%3Cbeginnormal_vertex%3E%5Cn%5Ct%5Ct%23include%20%3Cmorphnormal_vertex%3E%5Cn%5Ct%5Ct%23include%20%3Cskinbase_vertex%3E%5Cn%5Ct%5Ct%23include%20%3Cskinnormal_vertex%3E%5Cn%5Ct%5Ct%23include%20%3Cdefaultnormal_vertex%3E%5Cn%5Ct%23endif%5Cn%5Ct%23include%20%3Cbegin_vertex%3E%5Cn%5Ct%23include%20%3Cmorphtarget_vertex%3E%5Cn%5Ct%23include%20%3Cskinning_vertex%3E%5Cn%5Ct%23include%20%3Cproject_vertex%3E%5Cn%5Ct%23include%20%3Clogdepthbuf_vertex%3E%5Cn%5Ct%23include%20%3Cclipping_planes_vertex%3E%5Cn%5Ct%23include%20%3Cworldpos_vertex%3E%5Cn%5Ct%23include%20%3Cenvmap_vertex%3E%5Cn%5Ct%23include%20%3Cfog_vertex%3E%5Cn%7D%22%2C%20meshbasic_frag%3A%20%22uniform%20vec3%20diffuse%3B%5Cnuniform%20float%20opacity%3B%5Cn%23ifndef%20FLAT_SHADED%5Cn%5Ctvarying%20vec3%20vNormal%3B%5Cn%23endif%5Cn%23include%20%3Ccommon%3E%5Cn%23include%20%3Cdithering_pars_fragment%3E%5Cn%23include%20%3Ccolor_pars_fragment%3E%5Cn%23include%20%3Cuv_pars_fragment%3E%5Cn%23include%20%3Cuv2_pars_fragment%3E%5Cn%23include%20%3Cmap_pars_fragment%3E%5Cn%23include%20%3Calphamap_pars_fragment%3E%5Cn%23include%20%3Calphatest_pars_fragment%3E%5Cn%23include%20%3Caomap_pars_fragment%3E%5Cn%23include%20%3Clightmap_pars_fragment%3E%5Cn%23include%20%3Cenvmap_common_pars_fragment%3E%5Cn%23include%20%3Cenvmap_pars_fragment%3E%5Cn%23include%20%3Cfog_pars_fragment%3E%5Cn%23include%20%3Cspecularmap_pars_fragment%3E%5Cn%23include%20%3Clogdepthbuf_pars_fragment%3E%5Cn%23include%20%3Cclipping_planes_pars_fragment%3E%5Cnvoid%20main()%20%7B%5Cn%5Ct%23include%20%3Cclipping_planes_fragment%3E%5Cn%5Ctvec4%20diffuseColor%20%3D%20vec4(%20diffuse%2C%20opacity%20)%3B%5Cn%5Ct%23include%20%3Clogdepthbuf_fragment%3E%5Cn%5Ct%23include%20%3Cmap_fragment%3E%5Cn%5Ct%23include%20%3Ccolor_fragment%3E%5Cn%5Ct%23include%20%3Calphamap_fragment%3E%5Cn%5Ct%23include%20%3Calphatest_fragment%3E%5Cn%5Ct%23include%20%3Cspecularmap_fragment%3E%5Cn%5CtReflectedLight%20reflectedLight%20%3D%20ReflectedLight(%20vec3(%200.0%20)%2C%20vec3(%200.0%20)%2C%20vec3(%200.0%20)%2C%20vec3(%200.0%20)%20)%3B%5Cn%5Ct%23ifdef%20USE_LIGHTMAP%5Cn%5Ct%5Ctvec4%20lightMapTexel%20%3D%20texture2D(%20lightMap%2C%20vUv2%20)%3B%5Cn%5Ct%5CtreflectedLight.indirectDiffuse%20%2B%3D%20lightMapTexel.rgb%20*%20lightMapIntensity%20*%20RECIPROCAL_PI%3B%5Cn%5Ct%23else%5Cn%5Ct%5CtreflectedLight.indirectDiffuse%20%2B%3D%20vec3(%201.0%20)%3B%5Cn%5Ct%23endif%5Cn%5Ct%23include%20%3Caomap_fragment%3E%5Cn%5CtreflectedLight.indirectDiffuse%20*%3D%20diffuseColor.rgb%3B%5Cn%5Ctvec3%20outgoingLight%20%3D%20reflectedLight.indirectDiffuse%3B%5Cn%5Ct%23include%20%3Cenvmap_fragment%3E%5Cn%5Ct%23include%20%3Coutput_fragment%3E%5Cn%5Ct%23include%20%3Ctonemapping_fragment%3E%5Cn%5Ct%23include%20%3Cencodings_fragment%3E%5Cn%5Ct%23include%20%3Cfog_fragment%3E%5Cn%5Ct%23include%20%3Cpremultiplied_alpha_fragment%3E%5Cn%5Ct%23include%20%3Cdithering_fragment%3E%5Cn%7D%22%2C%20meshlambert_vert%3A%20%22%23define%20LAMBERT%5Cnvarying%20vec3%20vViewPosition%3B%5Cn%23include%20%3Ccommon%3E%5Cn%23include%20%3Cuv_pars_vertex%3E%5Cn%23include%20%3Cuv2_pars_vertex%3E%5Cn%23include%20%3Cdisplacementmap_pars_vertex%3E%5Cn%23include%20%3Cenvmap_pars_vertex%3E%5Cn%23include%20%3Ccolor_pars_vertex%3E%5Cn%23include%20%3Cfog_pars_vertex%3E%5Cn%23include%20%3Cnormal_pars_vertex%3E%5Cn%23include%20%3Cmorphtarget_pars_vertex%3E%5Cn%23include%20%3Cskinning_pars_vertex%3E%5Cn%23include%20%3Cshadowmap_pars_vertex%3E%5Cn%23include%20%3Clogdepthbuf_pars_vertex%3E%5Cn%23include%20%3Cclipping_planes_pars_vertex%3E%5Cnvoid%20main()%20%7B%5Cn%5Ct%23include%20%3Cuv_vertex%3E%5Cn%5Ct%23include%20%3Cuv2_vertex%3E%5Cn%5Ct%23include%20%3Ccolor_vertex%3E%5Cn%5Ct%23include%20%3Cmorphcolor_vertex%3E%5Cn%5Ct%23include%20%3Cbeginnormal_vertex%3E%5Cn%5Ct%23include%20%3Cmorphnormal_vertex%3E%5Cn%5Ct%23include%20%3Cskinbase_vertex%3E%5Cn%5Ct%23include%20%3Cskinnormal_vertex%3E%5Cn%5Ct%23include%20%3Cdefaultnormal_vertex%3E%5Cn%5Ct%23include%20%3Cnormal_vertex%3E%5Cn%5Ct%23include%20%3Cbegin_vertex%3E%5Cn%5Ct%23include%20%3Cmorphtarget_vertex%3E%5Cn%5Ct%23include%20%3Cskinning_vertex%3E%5Cn%5Ct%23include%20%3Cdisplacementmap_vertex%3E%5Cn%5Ct%23include%20%3Cproject_vertex%3E%5Cn%5Ct%23include%20%3Clogdepthbuf_vertex%3E%5Cn%5Ct%23include%20%3Cclipping_planes_vertex%3E%5Cn%5CtvViewPosition%20%3D%20-%20mvPosition.xyz%3B%5Cn%5Ct%23include%20%3Cworldpos_vertex%3E%5Cn%5Ct%23include%20%3Cenvmap_vertex%3E%5Cn%5Ct%23include%20%3Cshadowmap_vertex%3E%5Cn%5Ct%23include%20%3Cfog_vertex%3E%5Cn%7D%22%2C%20meshlambert_frag%3A%20%22%23define%20LAMBERT%5Cnuniform%20vec3%20diffuse%3B%5Cnuniform%20vec3%20emissive%3B%5Cnuniform%20float%20opacity%3B%5Cn%23include%20%3Ccommon%3E%5Cn%23include%20%3Cpacking%3E%5Cn%23include%20%3Cdithering_pars_fragment%3E%5Cn%23include%20%3Ccolor_pars_fragment%3E%5Cn%23include%20%3Cuv_pars_fragment%3E%5Cn%23include%20%3Cuv2_pars_fragment%3E%5Cn%23include%20%3Cmap_pars_fragment%3E%5Cn%23include%20%3Calphamap_pars_fragment%3E%5Cn%23include%20%3Calphatest_pars_fragment%3E%5Cn%23include%20%3Caomap_pars_fragment%3E%5Cn%23include%20%3Clightmap_pars_fragment%3E%5Cn%23include%20%3Cemissivemap_pars_fragment%3E%5Cn%23include%20%3Cenvmap_common_pars_fragment%3E%5Cn%23include%20%3Cenvmap_pars_fragment%3E%5Cn%23include%20%3Cfog_pars_fragment%3E%5Cn%23include%20%3Cbsdfs%3E%5Cn%23include%20%3Clights_pars_begin%3E%5Cn%23include%20%3Cnormal_pars_fragment%3E%5Cn%23include%20%3Clights_lambert_pars_fragment%3E%5Cn%23include%20%3Cshadowmap_pars_fragment%3E%5Cn%23include%20%3Cbumpmap_pars_fragment%3E%5Cn%23include%20%3Cnormalmap_pars_fragment%3E%5Cn%23include%20%3Cspecularmap_pars_fragment%3E%5Cn%23include%20%3Clogdepthbuf_pars_fragment%3E%5Cn%23include%20%3Cclipping_planes_pars_fragment%3E%5Cnvoid%20main()%20%7B%5Cn%5Ct%23include%20%3Cclipping_planes_fragment%3E%5Cn%5Ctvec4%20diffuseColor%20%3D%20vec4(%20diffuse%2C%20opacity%20)%3B%5Cn%5CtReflectedLight%20reflectedLight%20%3D%20ReflectedLight(%20vec3(%200.0%20)%2C%20vec3(%200.0%20)%2C%20vec3(%200.0%20)%2C%20vec3(%200.0%20)%20)%3B%5Cn%5Ctvec3%20totalEmissiveRadiance%20%3D%20emissive%3B%5Cn%5Ct%23include%20%3Clogdepthbuf_fragment%3E%5Cn%5Ct%23include%20%3Cmap_fragment%3E%5Cn%5Ct%23include%20%3Ccolor_fragment%3E%5Cn%5Ct%23include%20%3Calphamap_fragment%3E%5Cn%5Ct%23include%20%3Calphatest_fragment%3E%5Cn%5Ct%23include%20%3Cspecularmap_fragment%3E%5Cn%5Ct%23include%20%3Cnormal_fragment_begin%3E%5Cn%5Ct%23include%20%3Cnormal_fragment_maps%3E%5Cn%5Ct%23include%20%3Cemissivemap_fragment%3E%5Cn%5Ct%23include%20%3Clights_lambert_fragment%3E%5Cn%5Ct%23include%20%3Clights_fragment_begin%3E%5Cn%5Ct%23include%20%3Clights_fragment_maps%3E%5Cn%5Ct%23include%20%3Clights_fragment_end%3E%5Cn%5Ct%23include%20%3Caomap_fragment%3E%5Cn%5Ctvec3%20outgoingLight%20%3D%20reflectedLight.directDiffuse%20%2B%20reflectedLight.indirectDiffuse%20%2B%20totalEmissiveRadiance%3B%5Cn%5Ct%23include%20%3Cenvmap_fragment%3E%5Cn%5Ct%23include%20%3Coutput_fragment%3E%5Cn%5Ct%23include%20%3Ctonemapping_fragment%3E%5Cn%5Ct%23include%20%3Cencodings_fragment%3E%5Cn%5Ct%23include%20%3Cfog_fragment%3E%5Cn%5Ct%23include%20%3Cpremultiplied_alpha_fragment%3E%5Cn%5Ct%23include%20%3Cdithering_fragment%3E%5Cn%7D%22%2C%20meshmatcap_vert%3A%20%22%23define%20MATCAP%5Cnvarying%20vec3%20vViewPosition%3B%5Cn%23include%20%3Ccommon%3E%5Cn%23include%20%3Cuv_pars_vertex%3E%5Cn%23include%20%3Ccolor_pars_vertex%3E%5Cn%23include%20%3Cdisplacementmap_pars_vertex%3E%5Cn%23include%20%3Cfog_pars_vertex%3E%5Cn%23include%20%3Cnormal_pars_vertex%3E%5Cn%23include%20%3Cmorphtarget_pars_vertex%3E%5Cn%23include%20%3Cskinning_pars_vertex%3E%5Cn%23include%20%3Clogdepthbuf_pars_vertex%3E%5Cn%23include%20%3Cclipping_planes_pars_vertex%3E%5Cnvoid%20main()%20%7B%5Cn%5Ct%23include%20%3Cuv_vertex%3E%5Cn%5Ct%23include%20%3Ccolor_vertex%3E%5Cn%5Ct%23include%20%3Cmorphcolor_vertex%3E%5Cn%5Ct%23include%20%3Cbeginnormal_vertex%3E%5Cn%5Ct%23include%20%3Cmorphnormal_vertex%3E%5Cn%5Ct%23include%20%3Cskinbase_vertex%3E%5Cn%5Ct%23include%20%3Cskinnormal_vertex%3E%5Cn%5Ct%23include%20%3Cdefaultnormal_vertex%3E%5Cn%5Ct%23include%20%3Cnormal_vertex%3E%5Cn%5Ct%23include%20%3Cbegin_vertex%3E%5Cn%5Ct%23include%20%3Cmorphtarget_vertex%3E%5Cn%5Ct%23include%20%3Cskinning_vertex%3E%5Cn%5Ct%23include%20%3Cdisplacementmap_vertex%3E%5Cn%5Ct%23include%20%3Cproject_vertex%3E%5Cn%5Ct%23include%20%3Clogdepthbuf_vertex%3E%5Cn%5Ct%23include%20%3Cclipping_planes_vertex%3E%5Cn%5Ct%23include%20%3Cfog_vertex%3E%5Cn%5CtvViewPosition%20%3D%20-%20mvPosition.xyz%3B%5Cn%7D%22%2C%20meshmatcap_frag%3A%20%22%23define%20MATCAP%5Cnuniform%20vec3%20diffuse%3B%5Cnuniform%20float%20opacity%3B%5Cnuniform%20sampler2D%20matcap%3B%5Cnvarying%20vec3%20vViewPosition%3B%5Cn%23include%20%3Ccommon%3E%5Cn%23include%20%3Cdithering_pars_fragment%3E%5Cn%23include%20%3Ccolor_pars_fragment%3E%5Cn%23include%20%3Cuv_pars_fragment%3E%5Cn%23include%20%3Cmap_pars_fragment%3E%5Cn%23include%20%3Calphamap_pars_fragment%3E%5Cn%23include%20%3Calphatest_pars_fragment%3E%5Cn%23include%20%3Cfog_pars_fragment%3E%5Cn%23include%20%3Cnormal_pars_fragment%3E%5Cn%23include%20%3Cbumpmap_pars_fragment%3E%5Cn%23include%20%3Cnormalmap_pars_fragment%3E%5Cn%23include%20%3Clogdepthbuf_pars_fragment%3E%5Cn%23include%20%3Cclipping_planes_pars_fragment%3E%5Cnvoid%20main()%20%7B%5Cn%5Ct%23include%20%3Cclipping_planes_fragment%3E%5Cn%5Ctvec4%20diffuseColor%20%3D%20vec4(%20diffuse%2C%20opacity%20)%3B%5Cn%5Ct%23include%20%3Clogdepthbuf_fragment%3E%5Cn%5Ct%23include%20%3Cmap_fragment%3E%5Cn%5Ct%23include%20%3Ccolor_fragment%3E%5Cn%5Ct%23include%20%3Calphamap_fragment%3E%5Cn%5Ct%23include%20%3Calphatest_fragment%3E%5Cn%5Ct%23include%20%3Cnormal_fragment_begin%3E%5Cn%5Ct%23include%20%3Cnormal_fragment_maps%3E%5Cn%5Ctvec3%20viewDir%20%3D%20normalize(%20vViewPosition%20)%3B%5Cn%5Ctvec3%20x%20%3D%20normalize(%20vec3(%20viewDir.z%2C%200.0%2C%20-%20viewDir.x%20)%20)%3B%5Cn%5Ctvec3%20y%20%3D%20cross(%20viewDir%2C%20x%20)%3B%5Cn%5Ctvec2%20uv%20%3D%20vec2(%20dot(%20x%2C%20normal%20)%2C%20dot(%20y%2C%20normal%20)%20)%20*%200.495%20%2B%200.5%3B%5Cn%5Ct%23ifdef%20USE_MATCAP%5Cn%5Ct%5Ctvec4%20matcapColor%20%3D%20texture2D(%20matcap%2C%20uv%20)%3B%5Cn%5Ct%23else%5Cn%5Ct%5Ctvec4%20matcapColor%20%3D%20vec4(%20vec3(%20mix(%200.2%2C%200.8%2C%20uv.y%20)%20)%2C%201.0%20)%3B%5Cn%5Ct%23endif%5Cn%5Ctvec3%20outgoingLight%20%3D%20diffuseColor.rgb%20*%20matcapColor.rgb%3B%5Cn%5Ct%23include%20%3Coutput_fragment%3E%5Cn%5Ct%23include%20%3Ctonemapping_fragment%3E%5Cn%5Ct%23include%20%3Cencodings_fragment%3E%5Cn%5Ct%23include%20%3Cfog_fragment%3E%5Cn%5Ct%23include%20%3Cpremultiplied_alpha_fragment%3E%5Cn%5Ct%23include%20%3Cdithering_fragment%3E%5Cn%7D%22%2C%20meshnormal_vert%3A%20%22%23define%20NORMAL%5Cn%23if%20defined(%20FLAT_SHADED%20)%20%7C%7C%20defined(%20USE_BUMPMAP%20)%20%7C%7C%20defined(%20TANGENTSPACE_NORMALMAP%20)%5Cn%5Ctvarying%20vec3%20vViewPosition%3B%5Cn%23endif%5Cn%23include%20%3Ccommon%3E%5Cn%23include%20%3Cuv_pars_vertex%3E%5Cn%23include%20%3Cdisplacementmap_pars_vertex%3E%5Cn%23include%20%3Cnormal_pars_vertex%3E%5Cn%23include%20%3Cmorphtarget_pars_vertex%3E%5Cn%23include%20%3Cskinning_pars_vertex%3E%5Cn%23include%20%3Clogdepthbuf_pars_vertex%3E%5Cn%23include%20%3Cclipping_planes_pars_vertex%3E%5Cnvoid%20main()%20%7B%5Cn%5Ct%23include%20%3Cuv_vertex%3E%5Cn%5Ct%23include%20%3Cbeginnormal_vertex%3E%5Cn%5Ct%23include%20%3Cmorphnormal_vertex%3E%5Cn%5Ct%23include%20%3Cskinbase_vertex%3E%5Cn%5Ct%23include%20%3Cskinnormal_vertex%3E%5Cn%5Ct%23include%20%3Cdefaultnormal_vertex%3E%5Cn%5Ct%23include%20%3Cnormal_vertex%3E%5Cn%5Ct%23include%20%3Cbegin_vertex%3E%5Cn%5Ct%23include%20%3Cmorphtarget_vertex%3E%5Cn%5Ct%23include%20%3Cskinning_vertex%3E%5Cn%5Ct%23include%20%3Cdisplacementmap_vertex%3E%5Cn%5Ct%23include%20%3Cproject_vertex%3E%5Cn%5Ct%23include%20%3Clogdepthbuf_vertex%3E%5Cn%5Ct%23include%20%3Cclipping_planes_vertex%3E%5Cn%23if%20defined(%20FLAT_SHADED%20)%20%7C%7C%20defined(%20USE_BUMPMAP%20)%20%7C%7C%20defined(%20TANGENTSPACE_NORMALMAP%20)%5Cn%5CtvViewPosition%20%3D%20-%20mvPosition.xyz%3B%5Cn%23endif%5Cn%7D%22%2C%20meshnormal_frag%3A%20%22%23define%20NORMAL%5Cnuniform%20float%20opacity%3B%5Cn%23if%20defined(%20FLAT_SHADED%20)%20%7C%7C%20defined(%20USE_BUMPMAP%20)%20%7C%7C%20defined(%20TANGENTSPACE_NORMALMAP%20)%5Cn%5Ctvarying%20vec3%20vViewPosition%3B%5Cn%23endif%5Cn%23include%20%3Cpacking%3E%5Cn%23include%20%3Cuv_pars_fragment%3E%5Cn%23include%20%3Cnormal_pars_fragment%3E%5Cn%23include%20%3Cbumpmap_pars_fragment%3E%5Cn%23include%20%3Cnormalmap_pars_fragment%3E%5Cn%23include%20%3Clogdepthbuf_pars_fragment%3E%5Cn%23include%20%3Cclipping_planes_pars_fragment%3E%5Cnvoid%20main()%20%7B%5Cn%5Ct%23include%20%3Cclipping_planes_fragment%3E%5Cn%5Ct%23include%20%3Clogdepthbuf_fragment%3E%5Cn%5Ct%23include%20%3Cnormal_fragment_begin%3E%5Cn%5Ct%23include%20%3Cnormal_fragment_maps%3E%5Cn%5Ctgl_FragColor%20%3D%20vec4(%20packNormalToRGB(%20normal%20)%2C%20opacity%20)%3B%5Cn%5Ct%23ifdef%20OPAQUE%5Cn%5Ct%5Ctgl_FragColor.a%20%3D%201.0%3B%5Cn%5Ct%23endif%5Cn%7D%22%2C%20meshphong_vert%3A%20%22%23define%20PHONG%5Cnvarying%20vec3%20vViewPosition%3B%5Cn%23include%20%3Ccommon%3E%5Cn%23include%20%3Cuv_pars_vertex%3E%5Cn%23include%20%3Cuv2_pars_vertex%3E%5Cn%23include%20%3Cdisplacementmap_pars_vertex%3E%5Cn%23include%20%3Cenvmap_pars_vertex%3E%5Cn%23include%20%3Ccolor_pars_vertex%3E%5Cn%23include%20%3Cfog_pars_vertex%3E%5Cn%23include%20%3Cnormal_pars_vertex%3E%5Cn%23include%20%3Cmorphtarget_pars_vertex%3E%5Cn%23include%20%3Cskinning_pars_vertex%3E%5Cn%23include%20%3Cshadowmap_pars_vertex%3E%5Cn%23include%20%3Clogdepthbuf_pars_vertex%3E%5Cn%23include%20%3Cclipping_planes_pars_vertex%3E%5Cnvoid%20main()%20%7B%5Cn%5Ct%23include%20%3Cuv_vertex%3E%5Cn%5Ct%23include%20%3Cuv2_vertex%3E%5Cn%5Ct%23include%20%3Ccolor_vertex%3E%5Cn%5Ct%23include%20%3Cmorphcolor_vertex%3E%5Cn%5Ct%23include%20%3Cbeginnormal_vertex%3E%5Cn%5Ct%23include%20%3Cmorphnormal_vertex%3E%5Cn%5Ct%23include%20%3Cskinbase_vertex%3E%5Cn%5Ct%23include%20%3Cskinnormal_vertex%3E%5Cn%5Ct%23include%20%3Cdefaultnormal_vertex%3E%5Cn%5Ct%23include%20%3Cnormal_vertex%3E%5Cn%5Ct%23include%20%3Cbegin_vertex%3E%5Cn%5Ct%23include%20%3Cmorphtarget_vertex%3E%5Cn%5Ct%23include%20%3Cskinning_vertex%3E%5Cn%5Ct%23include%20%3Cdisplacementmap_vertex%3E%5Cn%5Ct%23include%20%3Cproject_vertex%3E%5Cn%5Ct%23include%20%3Clogdepthbuf_vertex%3E%5Cn%5Ct%23include%20%3Cclipping_planes_vertex%3E%5Cn%5CtvViewPosition%20%3D%20-%20mvPosition.xyz%3B%5Cn%5Ct%23include%20%3Cworldpos_vertex%3E%5Cn%5Ct%23include%20%3Cenvmap_vertex%3E%5Cn%5Ct%23include%20%3Cshadowmap_vertex%3E%5Cn%5Ct%23include%20%3Cfog_vertex%3E%5Cn%7D%22%2C%20meshphong_frag%3A%20%22%23define%20PHONG%5Cnuniform%20vec3%20diffuse%3B%5Cnuniform%20vec3%20emissive%3B%5Cnuniform%20vec3%20specular%3B%5Cnuniform%20float%20shininess%3B%5Cnuniform%20float%20opacity%3B%5Cn%23include%20%3Ccommon%3E%5Cn%23include%20%3Cpacking%3E%5Cn%23include%20%3Cdithering_pars_fragment%3E%5Cn%23include%20%3Ccolor_pars_fragment%3E%5Cn%23include%20%3Cuv_pars_fragment%3E%5Cn%23include%20%3Cuv2_pars_fragment%3E%5Cn%23include%20%3Cmap_pars_fragment%3E%5Cn%23include%20%3Calphamap_pars_fragment%3E%5Cn%23include%20%3Calphatest_pars_fragment%3E%5Cn%23include%20%3Caomap_pars_fragment%3E%5Cn%23include%20%3Clightmap_pars_fragment%3E%5Cn%23include%20%3Cemissivemap_pars_fragment%3E%5Cn%23include%20%3Cenvmap_common_pars_fragment%3E%5Cn%23include%20%3Cenvmap_pars_fragment%3E%5Cn%23include%20%3Cfog_pars_fragment%3E%5Cn%23include%20%3Cbsdfs%3E%5Cn%23include%20%3Clights_pars_begin%3E%5Cn%23include%20%3Cnormal_pars_fragment%3E%5Cn%23include%20%3Clights_phong_pars_fragment%3E%5Cn%23include%20%3Cshadowmap_pars_fragment%3E%5Cn%23include%20%3Cbumpmap_pars_fragment%3E%5Cn%23include%20%3Cnormalmap_pars_fragment%3E%5Cn%23include%20%3Cspecularmap_pars_fragment%3E%5Cn%23include%20%3Clogdepthbuf_pars_fragment%3E%5Cn%23include%20%3Cclipping_planes_pars_fragment%3E%5Cnvoid%20main()%20%7B%5Cn%5Ct%23include%20%3Cclipping_planes_fragment%3E%5Cn%5Ctvec4%20diffuseColor%20%3D%20vec4(%20diffuse%2C%20opacity%20)%3B%5Cn%5CtReflectedLight%20reflectedLight%20%3D%20ReflectedLight(%20vec3(%200.0%20)%2C%20vec3(%200.0%20)%2C%20vec3(%200.0%20)%2C%20vec3(%200.0%20)%20)%3B%5Cn%5Ctvec3%20totalEmissiveRadiance%20%3D%20emissive%3B%5Cn%5Ct%23include%20%3Clogdepthbuf_fragment%3E%5Cn%5Ct%23include%20%3Cmap_fragment%3E%5Cn%5Ct%23include%20%3Ccolor_fragment%3E%5Cn%5Ct%23include%20%3Calphamap_fragment%3E%5Cn%5Ct%23include%20%3Calphatest_fragment%3E%5Cn%5Ct%23include%20%3Cspecularmap_fragment%3E%5Cn%5Ct%23include%20%3Cnormal_fragment_begin%3E%5Cn%5Ct%23include%20%3Cnormal_fragment_maps%3E%5Cn%5Ct%23include%20%3Cemissivemap_fragment%3E%5Cn%5Ct%23include%20%3Clights_phong_fragment%3E%5Cn%5Ct%23include%20%3Clights_fragment_begin%3E%5Cn%5Ct%23include%20%3Clights_fragment_maps%3E%5Cn%5Ct%23include%20%3Clights_fragment_end%3E%5Cn%5Ct%23include%20%3Caomap_fragment%3E%5Cn%5Ctvec3%20outgoingLight%20%3D%20reflectedLight.directDiffuse%20%2B%20reflectedLight.indirectDiffuse%20%2B%20reflectedLight.directSpecular%20%2B%20reflectedLight.indirectSpecular%20%2B%20totalEmissiveRadiance%3B%5Cn%5Ct%23include%20%3Cenvmap_fragment%3E%5Cn%5Ct%23include%20%3Coutput_fragment%3E%5Cn%5Ct%23include%20%3Ctonemapping_fragment%3E%5Cn%5Ct%23include%20%3Cencodings_fragment%3E%5Cn%5Ct%23include%20%3Cfog_fragment%3E%5Cn%5Ct%23include%20%3Cpremultiplied_alpha_fragment%3E%5Cn%5Ct%23include%20%3Cdithering_fragment%3E%5Cn%7D%22%2C%20meshphysical_vert%3A%20%22%23define%20STANDARD%5Cnvarying%20vec3%20vViewPosition%3B%5Cn%23ifdef%20USE_TRANSMISSION%5Cn%5Ctvarying%20vec3%20vWorldPosition%3B%5Cn%23endif%5Cn%23include%20%3Ccommon%3E%5Cn%23include%20%3Cuv_pars_vertex%3E%5Cn%23include%20%3Cuv2_pars_vertex%3E%5Cn%23include%20%3Cdisplacementmap_pars_vertex%3E%5Cn%23include%20%3Ccolor_pars_vertex%3E%5Cn%23include%20%3Cfog_pars_vertex%3E%5Cn%23include%20%3Cnormal_pars_vertex%3E%5Cn%23include%20%3Cmorphtarget_pars_vertex%3E%5Cn%23include%20%3Cskinning_pars_vertex%3E%5Cn%23include%20%3Cshadowmap_pars_vertex%3E%5Cn%23include%20%3Clogdepthbuf_pars_vertex%3E%5Cn%23include%20%3Cclipping_planes_pars_vertex%3E%5Cnvoid%20main()%20%7B%5Cn%5Ct%23include%20%3Cuv_vertex%3E%5Cn%5Ct%23include%20%3Cuv2_vertex%3E%5Cn%5Ct%23include%20%3Ccolor_vertex%3E%5Cn%5Ct%23include%20%3Cmorphcolor_vertex%3E%5Cn%5Ct%23include%20%3Cbeginnormal_vertex%3E%5Cn%5Ct%23include%20%3Cmorphnormal_vertex%3E%5Cn%5Ct%23include%20%3Cskinbase_vertex%3E%5Cn%5Ct%23include%20%3Cskinnormal_vertex%3E%5Cn%5Ct%23include%20%3Cdefaultnormal_vertex%3E%5Cn%5Ct%23include%20%3Cnormal_vertex%3E%5Cn%5Ct%23include%20%3Cbegin_vertex%3E%5Cn%5Ct%23include%20%3Cmorphtarget_vertex%3E%5Cn%5Ct%23include%20%3Cskinning_vertex%3E%5Cn%5Ct%23include%20%3Cdisplacementmap_vertex%3E%5Cn%5Ct%23include%20%3Cproject_vertex%3E%5Cn%5Ct%23include%20%3Clogdepthbuf_vertex%3E%5Cn%5Ct%23include%20%3Cclipping_planes_vertex%3E%5Cn%5CtvViewPosition%20%3D%20-%20mvPosition.xyz%3B%5Cn%5Ct%23include%20%3Cworldpos_vertex%3E%5Cn%5Ct%23include%20%3Cshadowmap_vertex%3E%5Cn%5Ct%23include%20%3Cfog_vertex%3E%5Cn%23ifdef%20USE_TRANSMISSION%5Cn%5CtvWorldPosition%20%3D%20worldPosition.xyz%3B%5Cn%23endif%5Cn%7D%22%2C%20meshphysical_frag%3A%20%22%23define%20STANDARD%5Cn%23ifdef%20PHYSICAL%5Cn%5Ct%23define%20IOR%5Cn%5Ct%23define%20SPECULAR%5Cn%23endif%5Cnuniform%20vec3%20diffuse%3B%5Cnuniform%20vec3%20emissive%3B%5Cnuniform%20float%20roughness%3B%5Cnuniform%20float%20metalness%3B%5Cnuniform%20float%20opacity%3B%5Cn%23ifdef%20IOR%5Cn%5Ctuniform%20float%20ior%3B%5Cn%23endif%5Cn%23ifdef%20SPECULAR%5Cn%5Ctuniform%20float%20specularIntensity%3B%5Cn%5Ctuniform%20vec3%20specularColor%3B%5Cn%5Ct%23ifdef%20USE_SPECULARINTENSITYMAP%5Cn%5Ct%5Ctuniform%20sampler2D%20specularIntensityMap%3B%5Cn%5Ct%23endif%5Cn%5Ct%23ifdef%20USE_SPECULARCOLORMAP%5Cn%5Ct%5Ctuniform%20sampler2D%20specularColorMap%3B%5Cn%5Ct%23endif%5Cn%23endif%5Cn%23ifdef%20USE_CLEARCOAT%5Cn%5Ctuniform%20float%20clearcoat%3B%5Cn%5Ctuniform%20float%20clearcoatRoughness%3B%5Cn%23endif%5Cn%23ifdef%20USE_IRIDESCENCE%5Cn%5Ctuniform%20float%20iridescence%3B%5Cn%5Ctuniform%20float%20iridescenceIOR%3B%5Cn%5Ctuniform%20float%20iridescenceThicknessMinimum%3B%5Cn%5Ctuniform%20float%20iridescenceThicknessMaximum%3B%5Cn%23endif%5Cn%23ifdef%20USE_SHEEN%5Cn%5Ctuniform%20vec3%20sheenColor%3B%5Cn%5Ctuniform%20float%20sheenRoughness%3B%5Cn%5Ct%23ifdef%20USE_SHEENCOLORMAP%5Cn%5Ct%5Ctuniform%20sampler2D%20sheenColorMap%3B%5Cn%5Ct%23endif%5Cn%5Ct%23ifdef%20USE_SHEENROUGHNESSMAP%5Cn%5Ct%5Ctuniform%20sampler2D%20sheenRoughnessMap%3B%5Cn%5Ct%23endif%5Cn%23endif%5Cnvarying%20vec3%20vViewPosition%3B%5Cn%23include%20%3Ccommon%3E%5Cn%23include%20%3Cpacking%3E%5Cn%23include%20%3Cdithering_pars_fragment%3E%5Cn%23include%20%3Ccolor_pars_fragment%3E%5Cn%23include%20%3Cuv_pars_fragment%3E%5Cn%23include%20%3Cuv2_pars_fragment%3E%5Cn%23include%20%3Cmap_pars_fragment%3E%5Cn%23include%20%3Calphamap_pars_fragment%3E%5Cn%23include%20%3Calphatest_pars_fragment%3E%5Cn%23include%20%3Caomap_pars_fragment%3E%5Cn%23include%20%3Clightmap_pars_fragment%3E%5Cn%23include%20%3Cemissivemap_pars_fragment%3E%5Cn%23include%20%3Cbsdfs%3E%5Cn%23include%20%3Ciridescence_fragment%3E%5Cn%23include%20%3Ccube_uv_reflection_fragment%3E%5Cn%23include%20%3Cenvmap_common_pars_fragment%3E%5Cn%23include%20%3Cenvmap_physical_pars_fragment%3E%5Cn%23include%20%3Cfog_pars_fragment%3E%5Cn%23include%20%3Clights_pars_begin%3E%5Cn%23include%20%3Cnormal_pars_fragment%3E%5Cn%23include%20%3Clights_physical_pars_fragment%3E%5Cn%23include%20%3Ctransmission_pars_fragment%3E%5Cn%23include%20%3Cshadowmap_pars_fragment%3E%5Cn%23include%20%3Cbumpmap_pars_fragment%3E%5Cn%23include%20%3Cnormalmap_pars_fragment%3E%5Cn%23include%20%3Cclearcoat_pars_fragment%3E%5Cn%23include%20%3Ciridescence_pars_fragment%3E%5Cn%23include%20%3Croughnessmap_pars_fragment%3E%5Cn%23include%20%3Cmetalnessmap_pars_fragment%3E%5Cn%23include%20%3Clogdepthbuf_pars_fragment%3E%5Cn%23include%20%3Cclipping_planes_pars_fragment%3E%5Cnvoid%20main()%20%7B%5Cn%5Ct%23include%20%3Cclipping_planes_fragment%3E%5Cn%5Ctvec4%20diffuseColor%20%3D%20vec4(%20diffuse%2C%20opacity%20)%3B%5Cn%5CtReflectedLight%20reflectedLight%20%3D%20ReflectedLight(%20vec3(%200.0%20)%2C%20vec3(%200.0%20)%2C%20vec3(%200.0%20)%2C%20vec3(%200.0%20)%20)%3B%5Cn%5Ctvec3%20totalEmissiveRadiance%20%3D%20emissive%3B%5Cn%5Ct%23include%20%3Clogdepthbuf_fragment%3E%5Cn%5Ct%23include%20%3Cmap_fragment%3E%5Cn%5Ct%23include%20%3Ccolor_fragment%3E%5Cn%5Ct%23include%20%3Calphamap_fragment%3E%5Cn%5Ct%23include%20%3Calphatest_fragment%3E%5Cn%5Ct%23include%20%3Croughnessmap_fragment%3E%5Cn%5Ct%23include%20%3Cmetalnessmap_fragment%3E%5Cn%5Ct%23include%20%3Cnormal_fragment_begin%3E%5Cn%5Ct%23include%20%3Cnormal_fragment_maps%3E%5Cn%5Ct%23include%20%3Cclearcoat_normal_fragment_begin%3E%5Cn%5Ct%23include%20%3Cclearcoat_normal_fragment_maps%3E%5Cn%5Ct%23include%20%3Cemissivemap_fragment%3E%5Cn%5Ct%23include%20%3Clights_physical_fragment%3E%5Cn%5Ct%23include%20%3Clights_fragment_begin%3E%5Cn%5Ct%23include%20%3Clights_fragment_maps%3E%5Cn%5Ct%23include%20%3Clights_fragment_end%3E%5Cn%5Ct%23include%20%3Caomap_fragment%3E%5Cn%5Ctvec3%20totalDiffuse%20%3D%20reflectedLight.directDiffuse%20%2B%20reflectedLight.indirectDiffuse%3B%5Cn%5Ctvec3%20totalSpecular%20%3D%20reflectedLight.directSpecular%20%2B%20reflectedLight.indirectSpecular%3B%5Cn%5Ct%23include%20%3Ctransmission_fragment%3E%5Cn%5Ctvec3%20outgoingLight%20%3D%20totalDiffuse%20%2B%20totalSpecular%20%2B%20totalEmissiveRadiance%3B%5Cn%5Ct%23ifdef%20USE_SHEEN%5Cn%5Ct%5Ctfloat%20sheenEnergyComp%20%3D%201.0%20-%200.157%20*%20max3(%20material.sheenColor%20)%3B%5Cn%5Ct%5CtoutgoingLight%20%3D%20outgoingLight%20*%20sheenEnergyComp%20%2B%20sheenSpecular%3B%5Cn%5Ct%23endif%5Cn%5Ct%23ifdef%20USE_CLEARCOAT%5Cn%5Ct%5Ctfloat%20dotNVcc%20%3D%20saturate(%20dot(%20geometry.clearcoatNormal%2C%20geometry.viewDir%20)%20)%3B%5Cn%5Ct%5Ctvec3%20Fcc%20%3D%20F_Schlick(%20material.clearcoatF0%2C%20material.clearcoatF90%2C%20dotNVcc%20)%3B%5Cn%5Ct%5CtoutgoingLight%20%3D%20outgoingLight%20*%20(%201.0%20-%20material.clearcoat%20*%20Fcc%20)%20%2B%20clearcoatSpecular%20*%20material.clearcoat%3B%5Cn%5Ct%23endif%5Cn%5Ct%23include%20%3Coutput_fragment%3E%5Cn%5Ct%23include%20%3Ctonemapping_fragment%3E%5Cn%5Ct%23include%20%3Cencodings_fragment%3E%5Cn%5Ct%23include%20%3Cfog_fragment%3E%5Cn%5Ct%23include%20%3Cpremultiplied_alpha_fragment%3E%5Cn%5Ct%23include%20%3Cdithering_fragment%3E%5Cn%7D%22%2C%20meshtoon_vert%3A%20%22%23define%20TOON%5Cnvarying%20vec3%20vViewPosition%3B%5Cn%23include%20%3Ccommon%3E%5Cn%23include%20%3Cuv_pars_vertex%3E%5Cn%23include%20%3Cuv2_pars_vertex%3E%5Cn%23include%20%3Cdisplacementmap_pars_vertex%3E%5Cn%23include%20%3Ccolor_pars_vertex%3E%5Cn%23include%20%3Cfog_pars_vertex%3E%5Cn%23include%20%3Cnormal_pars_vertex%3E%5Cn%23include%20%3Cmorphtarget_pars_vertex%3E%5Cn%23include%20%3Cskinning_pars_vertex%3E%5Cn%23include%20%3Cshadowmap_pars_vertex%3E%5Cn%23include%20%3Clogdepthbuf_pars_vertex%3E%5Cn%23include%20%3Cclipping_planes_pars_vertex%3E%5Cnvoid%20main()%20%7B%5Cn%5Ct%23include%20%3Cuv_vertex%3E%5Cn%5Ct%23include%20%3Cuv2_vertex%3E%5Cn%5Ct%23include%20%3Ccolor_vertex%3E%5Cn%5Ct%23include%20%3Cmorphcolor_vertex%3E%5Cn%5Ct%23include%20%3Cbeginnormal_vertex%3E%5Cn%5Ct%23include%20%3Cmorphnormal_vertex%3E%5Cn%5Ct%23include%20%3Cskinbase_vertex%3E%5Cn%5Ct%23include%20%3Cskinnormal_vertex%3E%5Cn%5Ct%23include%20%3Cdefaultnormal_vertex%3E%5Cn%5Ct%23include%20%3Cnormal_vertex%3E%5Cn%5Ct%23include%20%3Cbegin_vertex%3E%5Cn%5Ct%23include%20%3Cmorphtarget_vertex%3E%5Cn%5Ct%23include%20%3Cskinning_vertex%3E%5Cn%5Ct%23include%20%3Cdisplacementmap_vertex%3E%5Cn%5Ct%23include%20%3Cproject_vertex%3E%5Cn%5Ct%23include%20%3Clogdepthbuf_vertex%3E%5Cn%5Ct%23include%20%3Cclipping_planes_vertex%3E%5Cn%5CtvViewPosition%20%3D%20-%20mvPosition.xyz%3B%5Cn%5Ct%23include%20%3Cworldpos_vertex%3E%5Cn%5Ct%23include%20%3Cshadowmap_vertex%3E%5Cn%5Ct%23include%20%3Cfog_vertex%3E%5Cn%7D%22%2C%20meshtoon_frag%3A%20%22%23define%20TOON%5Cnuniform%20vec3%20diffuse%3B%5Cnuniform%20vec3%20emissive%3B%5Cnuniform%20float%20opacity%3B%5Cn%23include%20%3Ccommon%3E%5Cn%23include%20%3Cpacking%3E%5Cn%23include%20%3Cdithering_pars_fragment%3E%5Cn%23include%20%3Ccolor_pars_fragment%3E%5Cn%23include%20%3Cuv_pars_fragment%3E%5Cn%23include%20%3Cuv2_pars_fragment%3E%5Cn%23include%20%3Cmap_pars_fragment%3E%5Cn%23include%20%3Calphamap_pars_fragment%3E%5Cn%23include%20%3Calphatest_pars_fragment%3E%5Cn%23include%20%3Caomap_pars_fragment%3E%5Cn%23include%20%3Clightmap_pars_fragment%3E%5Cn%23include%20%3Cemissivemap_pars_fragment%3E%5Cn%23include%20%3Cgradientmap_pars_fragment%3E%5Cn%23include%20%3Cfog_pars_fragment%3E%5Cn%23include%20%3Cbsdfs%3E%5Cn%23include%20%3Clights_pars_begin%3E%5Cn%23include%20%3Cnormal_pars_fragment%3E%5Cn%23include%20%3Clights_toon_pars_fragment%3E%5Cn%23include%20%3Cshadowmap_pars_fragment%3E%5Cn%23include%20%3Cbumpmap_pars_fragment%3E%5Cn%23include%20%3Cnormalmap_pars_fragment%3E%5Cn%23include%20%3Clogdepthbuf_pars_fragment%3E%5Cn%23include%20%3Cclipping_planes_pars_fragment%3E%5Cnvoid%20main()%20%7B%5Cn%5Ct%23include%20%3Cclipping_planes_fragment%3E%5Cn%5Ctvec4%20diffuseColor%20%3D%20vec4(%20diffuse%2C%20opacity%20)%3B%5Cn%5CtReflectedLight%20reflectedLight%20%3D%20ReflectedLight(%20vec3(%200.0%20)%2C%20vec3(%200.0%20)%2C%20vec3(%200.0%20)%2C%20vec3(%200.0%20)%20)%3B%5Cn%5Ctvec3%20totalEmissiveRadiance%20%3D%20emissive%3B%5Cn%5Ct%23include%20%3Clogdepthbuf_fragment%3E%5Cn%5Ct%23include%20%3Cmap_fragment%3E%5Cn%5Ct%23include%20%3Ccolor_fragment%3E%5Cn%5Ct%23include%20%3Calphamap_fragment%3E%5Cn%5Ct%23include%20%3Calphatest_fragment%3E%5Cn%5Ct%23include%20%3Cnormal_fragment_begin%3E%5Cn%5Ct%23include%20%3Cnormal_fragment_maps%3E%5Cn%5Ct%23include%20%3Cemissivemap_fragment%3E%5Cn%5Ct%23include%20%3Clights_toon_fragment%3E%5Cn%5Ct%23include%20%3Clights_fragment_begin%3E%5Cn%5Ct%23include%20%3Clights_fragment_maps%3E%5Cn%5Ct%23include%20%3Clights_fragment_end%3E%5Cn%5Ct%23include%20%3Caomap_fragment%3E%5Cn%5Ctvec3%20outgoingLight%20%3D%20reflectedLight.directDiffuse%20%2B%20reflectedLight.indirectDiffuse%20%2B%20totalEmissiveRadiance%3B%5Cn%5Ct%23include%20%3Coutput_fragment%3E%5Cn%5Ct%23include%20%3Ctonemapping_fragment%3E%5Cn%5Ct%23include%20%3Cencodings_fragment%3E%5Cn%5Ct%23include%20%3Cfog_fragment%3E%5Cn%5Ct%23include%20%3Cpremultiplied_alpha_fragment%3E%5Cn%5Ct%23include%20%3Cdithering_fragment%3E%5Cn%7D%22%2C%20points_vert%3A%20%22uniform%20float%20size%3B%5Cnuniform%20float%20scale%3B%5Cn%23include%20%3Ccommon%3E%5Cn%23include%20%3Ccolor_pars_vertex%3E%5Cn%23include%20%3Cfog_pars_vertex%3E%5Cn%23include%20%3Cmorphtarget_pars_vertex%3E%5Cn%23include%20%3Clogdepthbuf_pars_vertex%3E%5Cn%23include%20%3Cclipping_planes_pars_vertex%3E%5Cnvoid%20main()%20%7B%5Cn%5Ct%23include%20%3Ccolor_vertex%3E%5Cn%5Ct%23include%20%3Cmorphcolor_vertex%3E%5Cn%5Ct%23include%20%3Cbegin_vertex%3E%5Cn%5Ct%23include%20%3Cmorphtarget_vertex%3E%5Cn%5Ct%23include%20%3Cproject_vertex%3E%5Cn%5Ctgl_PointSize%20%3D%20size%3B%5Cn%5Ct%23ifdef%20USE_SIZEATTENUATION%5Cn%5Ct%5Ctbool%20isPerspective%20%3D%20isPerspectiveMatrix(%20projectionMatrix%20)%3B%5Cn%5Ct%5Ctif%20(%20isPerspective%20)%20gl_PointSize%20*%3D%20(%20scale%20%2F%20-%20mvPosition.z%20)%3B%5Cn%5Ct%23endif%5Cn%5Ct%23include%20%3Clogdepthbuf_vertex%3E%5Cn%5Ct%23include%20%3Cclipping_planes_vertex%3E%5Cn%5Ct%23include%20%3Cworldpos_vertex%3E%5Cn%5Ct%23include%20%3Cfog_vertex%3E%5Cn%7D%22%2C%20points_frag%3A%20%22uniform%20vec3%20diffuse%3B%5Cnuniform%20float%20opacity%3B%5Cn%23include%20%3Ccommon%3E%5Cn%23include%20%3Ccolor_pars_fragment%3E%5Cn%23include%20%3Cmap_particle_pars_fragment%3E%5Cn%23include%20%3Calphatest_pars_fragment%3E%5Cn%23include%20%3Cfog_pars_fragment%3E%5Cn%23include%20%3Clogdepthbuf_pars_fragment%3E%5Cn%23include%20%3Cclipping_planes_pars_fragment%3E%5Cnvoid%20main()%20%7B%5Cn%5Ct%23include%20%3Cclipping_planes_fragment%3E%5Cn%5Ctvec3%20outgoingLight%20%3D%20vec3(%200.0%20)%3B%5Cn%5Ctvec4%20diffuseColor%20%3D%20vec4(%20diffuse%2C%20opacity%20)%3B%5Cn%5Ct%23include%20%3Clogdepthbuf_fragment%3E%5Cn%5Ct%23include%20%3Cmap_particle_fragment%3E%5Cn%5Ct%23include%20%3Ccolor_fragment%3E%5Cn%5Ct%23include%20%3Calphatest_fragment%3E%5Cn%5CtoutgoingLight%20%3D%20diffuseColor.rgb%3B%5Cn%5Ct%23include%20%3Coutput_fragment%3E%5Cn%5Ct%23include%20%3Ctonemapping_fragment%3E%5Cn%5Ct%23include%20%3Cencodings_fragment%3E%5Cn%5Ct%23include%20%3Cfog_fragment%3E%5Cn%5Ct%23include%20%3Cpremultiplied_alpha_fragment%3E%5Cn%7D%22%2C%20shadow_vert%3A%20%22%23include%20%3Ccommon%3E%5Cn%23include%20%3Cfog_pars_vertex%3E%5Cn%23include%20%3Cmorphtarget_pars_vertex%3E%5Cn%23include%20%3Cskinning_pars_vertex%3E%5Cn%23include%20%3Cshadowmap_pars_vertex%3E%5Cnvoid%20main()%20%7B%5Cn%5Ct%23include%20%3Cbeginnormal_vertex%3E%5Cn%5Ct%23include%20%3Cmorphnormal_vertex%3E%5Cn%5Ct%23include%20%3Cskinbase_vertex%3E%5Cn%5Ct%23include%20%3Cskinnormal_vertex%3E%5Cn%5Ct%23include%20%3Cdefaultnormal_vertex%3E%5Cn%5Ct%23include%20%3Cbegin_vertex%3E%5Cn%5Ct%23include%20%3Cmorphtarget_vertex%3E%5Cn%5Ct%23include%20%3Cskinning_vertex%3E%5Cn%5Ct%23include%20%3Cproject_vertex%3E%5Cn%5Ct%23include%20%3Cworldpos_vertex%3E%5Cn%5Ct%23include%20%3Cshadowmap_vertex%3E%5Cn%5Ct%23include%20%3Cfog_vertex%3E%5Cn%7D%22%2C%20shadow_frag%3A%20%22uniform%20vec3%20color%3B%5Cnuniform%20float%20opacity%3B%5Cn%23include%20%3Ccommon%3E%5Cn%23include%20%3Cpacking%3E%5Cn%23include%20%3Cfog_pars_fragment%3E%5Cn%23include%20%3Cbsdfs%3E%5Cn%23include%20%3Clights_pars_begin%3E%5Cn%23include%20%3Cshadowmap_pars_fragment%3E%5Cn%23include%20%3Cshadowmask_pars_fragment%3E%5Cnvoid%20main()%20%7B%5Cn%5Ctgl_FragColor%20%3D%20vec4(%20color%2C%20opacity%20*%20(%201.0%20-%20getShadowMask()%20)%20)%3B%5Cn%5Ct%23include%20%3Ctonemapping_fragment%3E%5Cn%5Ct%23include%20%3Cencodings_fragment%3E%5Cn%5Ct%23include%20%3Cfog_fragment%3E%5Cn%7D%22%2C%20sprite_vert%3A%20%22uniform%20float%20rotation%3B%5Cnuniform%20vec2%20center%3B%5Cn%23include%20%3Ccommon%3E%5Cn%23include%20%3Cuv_pars_vertex%3E%5Cn%23include%20%3Cfog_pars_vertex%3E%5Cn%23include%20%3Clogdepthbuf_pars_vertex%3E%5Cn%23include%20%3Cclipping_planes_pars_vertex%3E%5Cnvoid%20main()%20%7B%5Cn%5Ct%23include%20%3Cuv_vertex%3E%5Cn%5Ctvec4%20mvPosition%20%3D%20modelViewMatrix%20*%20vec4(%200.0%2C%200.0%2C%200.0%2C%201.0%20)%3B%5Cn%5Ctvec2%20scale%3B%5Cn%5Ctscale.x%20%3D%20length(%20vec3(%20modelMatrix%5B%200%20%5D.x%2C%20modelMatrix%5B%200%20%5D.y%2C%20modelMatrix%5B%200%20%5D.z%20)%20)%3B%5Cn%5Ctscale.y%20%3D%20length(%20vec3(%20modelMatrix%5B%201%20%5D.x%2C%20modelMatrix%5B%201%20%5D.y%2C%20modelMatrix%5B%201%20%5D.z%20)%20)%3B%5Cn%5Ct%23ifndef%20USE_SIZEATTENUATION%5Cn%5Ct%5Ctbool%20isPerspective%20%3D%20isPerspectiveMatrix(%20projectionMatrix%20)%3B%5Cn%5Ct%5Ctif%20(%20isPerspective%20)%20scale%20*%3D%20-%20mvPosition.z%3B%5Cn%5Ct%23endif%5Cn%5Ctvec2%20alignedPosition%20%3D%20(%20position.xy%20-%20(%20center%20-%20vec2(%200.5%20)%20)%20)%20*%20scale%3B%5Cn%5Ctvec2%20rotatedPosition%3B%5Cn%5CtrotatedPosition.x%20%3D%20cos(%20rotation%20)%20*%20alignedPosition.x%20-%20sin(%20rotation%20)%20*%20alignedPosition.y%3B%5Cn%5CtrotatedPosition.y%20%3D%20sin(%20rotation%20)%20*%20alignedPosition.x%20%2B%20cos(%20rotation%20)%20*%20alignedPosition.y%3B%5Cn%5CtmvPosition.xy%20%2B%3D%20rotatedPosition%3B%5Cn%5Ctgl_Position%20%3D%20projectionMatrix%20*%20mvPosition%3B%5Cn%5Ct%23include%20%3Clogdepthbuf_vertex%3E%5Cn%5Ct%23include%20%3Cclipping_planes_vertex%3E%5Cn%5Ct%23include%20%3Cfog_vertex%3E%5Cn%7D%22%2C%20sprite_frag%3A%20%22uniform%20vec3%20diffuse%3B%5Cnuniform%20float%20opacity%3B%5Cn%23include%20%3Ccommon%3E%5Cn%23include%20%3Cuv_pars_fragment%3E%5Cn%23include%20%3Cmap_pars_fragment%3E%5Cn%23include%20%3Calphamap_pars_fragment%3E%5Cn%23include%20%3Calphatest_pars_fragment%3E%5Cn%23include%20%3Cfog_pars_fragment%3E%5Cn%23include%20%3Clogdepthbuf_pars_fragment%3E%5Cn%23include%20%3Cclipping_planes_pars_fragment%3E%5Cnvoid%20main()%20%7B%5Cn%5Ct%23include%20%3Cclipping_planes_fragment%3E%5Cn%5Ctvec3%20outgoingLight%20%3D%20vec3(%200.0%20)%3B%5Cn%5Ctvec4%20diffuseColor%20%3D%20vec4(%20diffuse%2C%20opacity%20)%3B%5Cn%5Ct%23include%20%3Clogdepthbuf_fragment%3E%5Cn%5Ct%23include%20%3Cmap_fragment%3E%5Cn%5Ct%23include%20%3Calphamap_fragment%3E%5Cn%5Ct%23include%20%3Calphatest_fragment%3E%5Cn%5CtoutgoingLight%20%3D%20diffuseColor.rgb%3B%5Cn%5Ct%23include%20%3Coutput_fragment%3E%5Cn%5Ct%23include%20%3Ctonemapping_fragment%3E%5Cn%5Ct%23include%20%3Cencodings_fragment%3E%5Cn%5Ct%23include%20%3Cfog_fragment%3E%5Cn%7D%22%20%7D%2C%20_n%20%3D%20%7B%20common%3A%20%7B%20diffuse%3A%20%7B%20value%3A%20new%20qt(16777215)%20%7D%2C%20opacity%3A%20%7B%20value%3A%201%20%7D%2C%20map%3A%20%7B%20value%3A%20null%20%7D%2C%20uvTransform%3A%20%7B%20value%3A%20new%20Rt%20%7D%2C%20uv2Transform%3A%20%7B%20value%3A%20new%20Rt%20%7D%2C%20alphaMap%3A%20%7B%20value%3A%20null%20%7D%2C%20alphaTest%3A%20%7B%20value%3A%200%20%7D%20%7D%2C%20specularmap%3A%20%7B%20specularMap%3A%20%7B%20value%3A%20null%20%7D%20%7D%2C%20envmap%3A%20%7B%20envMap%3A%20%7B%20value%3A%20null%20%7D%2C%20flipEnvMap%3A%20%7B%20value%3A%20-1%20%7D%2C%20reflectivity%3A%20%7B%20value%3A%201%20%7D%2C%20ior%3A%20%7B%20value%3A%201.5%20%7D%2C%20refractionRatio%3A%20%7B%20value%3A%20.98%20%7D%20%7D%2C%20aomap%3A%20%7B%20aoMap%3A%20%7B%20value%3A%20null%20%7D%2C%20aoMapIntensity%3A%20%7B%20value%3A%201%20%7D%20%7D%2C%20lightmap%3A%20%7B%20lightMap%3A%20%7B%20value%3A%20null%20%7D%2C%20lightMapIntensity%3A%20%7B%20value%3A%201%20%7D%20%7D%2C%20emissivemap%3A%20%7B%20emissiveMap%3A%20%7B%20value%3A%20null%20%7D%20%7D%2C%20bumpmap%3A%20%7B%20bumpMap%3A%20%7B%20value%3A%20null%20%7D%2C%20bumpScale%3A%20%7B%20value%3A%201%20%7D%20%7D%2C%20normalmap%3A%20%7B%20normalMap%3A%20%7B%20value%3A%20null%20%7D%2C%20normalScale%3A%20%7B%20value%3A%20new%20Lt(1%2C%201)%20%7D%20%7D%2C%20displacementmap%3A%20%7B%20displacementMap%3A%20%7B%20value%3A%20null%20%7D%2C%20displacementScale%3A%20%7B%20value%3A%201%20%7D%2C%20displacementBias%3A%20%7B%20value%3A%200%20%7D%20%7D%2C%20roughnessmap%3A%20%7B%20roughnessMap%3A%20%7B%20value%3A%20null%20%7D%20%7D%2C%20metalnessmap%3A%20%7B%20metalnessMap%3A%20%7B%20value%3A%20null%20%7D%20%7D%2C%20gradientmap%3A%20%7B%20gradientMap%3A%20%7B%20value%3A%20null%20%7D%20%7D%2C%20fog%3A%20%7B%20fogDensity%3A%20%7B%20value%3A%2025e-5%20%7D%2C%20fogNear%3A%20%7B%20value%3A%201%20%7D%2C%20fogFar%3A%20%7B%20value%3A%202e3%20%7D%2C%20fogColor%3A%20%7B%20value%3A%20new%20qt(16777215)%20%7D%20%7D%2C%20lights%3A%20%7B%20ambientLightColor%3A%20%7B%20value%3A%20%5B%5D%20%7D%2C%20lightProbe%3A%20%7B%20value%3A%20%5B%5D%20%7D%2C%20directionalLights%3A%20%7B%20value%3A%20%5B%5D%2C%20properties%3A%20%7B%20direction%3A%20%7B%7D%2C%20color%3A%20%7B%7D%20%7D%20%7D%2C%20directionalLightShadows%3A%20%7B%20value%3A%20%5B%5D%2C%20properties%3A%20%7B%20shadowBias%3A%20%7B%7D%2C%20shadowNormalBias%3A%20%7B%7D%2C%20shadowRadius%3A%20%7B%7D%2C%20shadowMapSize%3A%20%7B%7D%20%7D%20%7D%2C%20directionalShadowMap%3A%20%7B%20value%3A%20%5B%5D%20%7D%2C%20directionalShadowMatrix%3A%20%7B%20value%3A%20%5B%5D%20%7D%2C%20spotLights%3A%20%7B%20value%3A%20%5B%5D%2C%20properties%3A%20%7B%20color%3A%20%7B%7D%2C%20position%3A%20%7B%7D%2C%20direction%3A%20%7B%7D%2C%20distance%3A%20%7B%7D%2C%20coneCos%3A%20%7B%7D%2C%20penumbraCos%3A%20%7B%7D%2C%20decay%3A%20%7B%7D%20%7D%20%7D%2C%20spotLightShadows%3A%20%7B%20value%3A%20%5B%5D%2C%20properties%3A%20%7B%20shadowBias%3A%20%7B%7D%2C%20shadowNormalBias%3A%20%7B%7D%2C%20shadowRadius%3A%20%7B%7D%2C%20shadowMapSize%3A%20%7B%7D%20%7D%20%7D%2C%20spotLightMap%3A%20%7B%20value%3A%20%5B%5D%20%7D%2C%20spotShadowMap%3A%20%7B%20value%3A%20%5B%5D%20%7D%2C%20spotLightMatrix%3A%20%7B%20value%3A%20%5B%5D%20%7D%2C%20pointLights%3A%20%7B%20value%3A%20%5B%5D%2C%20properties%3A%20%7B%20color%3A%20%7B%7D%2C%20position%3A%20%7B%7D%2C%20decay%3A%20%7B%7D%2C%20distance%3A%20%7B%7D%20%7D%20%7D%2C%20pointLightShadows%3A%20%7B%20value%3A%20%5B%5D%2C%20properties%3A%20%7B%20shadowBias%3A%20%7B%7D%2C%20shadowNormalBias%3A%20%7B%7D%2C%20shadowRadius%3A%20%7B%7D%2C%20shadowMapSize%3A%20%7B%7D%2C%20shadowCameraNear%3A%20%7B%7D%2C%20shadowCameraFar%3A%20%7B%7D%20%7D%20%7D%2C%20pointShadowMap%3A%20%7B%20value%3A%20%5B%5D%20%7D%2C%20pointShadowMatrix%3A%20%7B%20value%3A%20%5B%5D%20%7D%2C%20hemisphereLights%3A%20%7B%20value%3A%20%5B%5D%2C%20properties%3A%20%7B%20direction%3A%20%7B%7D%2C%20skyColor%3A%20%7B%7D%2C%20groundColor%3A%20%7B%7D%20%7D%20%7D%2C%20rectAreaLights%3A%20%7B%20value%3A%20%5B%5D%2C%20properties%3A%20%7B%20color%3A%20%7B%7D%2C%20position%3A%20%7B%7D%2C%20width%3A%20%7B%7D%2C%20height%3A%20%7B%7D%20%7D%20%7D%2C%20ltc_1%3A%20%7B%20value%3A%20null%20%7D%2C%20ltc_2%3A%20%7B%20value%3A%20null%20%7D%20%7D%2C%20points%3A%20%7B%20diffuse%3A%20%7B%20value%3A%20new%20qt(16777215)%20%7D%2C%20opacity%3A%20%7B%20value%3A%201%20%7D%2C%20size%3A%20%7B%20value%3A%201%20%7D%2C%20scale%3A%20%7B%20value%3A%201%20%7D%2C%20map%3A%20%7B%20value%3A%20null%20%7D%2C%20alphaMap%3A%20%7B%20value%3A%20null%20%7D%2C%20alphaTest%3A%20%7B%20value%3A%200%20%7D%2C%20uvTransform%3A%20%7B%20value%3A%20new%20Rt%20%7D%20%7D%2C%20sprite%3A%20%7B%20diffuse%3A%20%7B%20value%3A%20new%20qt(16777215)%20%7D%2C%20opacity%3A%20%7B%20value%3A%201%20%7D%2C%20center%3A%20%7B%20value%3A%20new%20Lt(.5%2C%20.5)%20%7D%2C%20rotation%3A%20%7B%20value%3A%200%20%7D%2C%20map%3A%20%7B%20value%3A%20null%20%7D%2C%20alphaMap%3A%20%7B%20value%3A%20null%20%7D%2C%20alphaTest%3A%20%7B%20value%3A%200%20%7D%2C%20uvTransform%3A%20%7B%20value%3A%20new%20Rt%20%7D%20%7D%20%7D%2C%20yn%20%3D%20%7B%20basic%3A%20%7B%20uniforms%3A%20Ki(%5B_n.common%2C%20_n.specularmap%2C%20_n.envmap%2C%20_n.aomap%2C%20_n.lightmap%2C%20_n.fog%5D)%2C%20vertexShader%3A%20xn.meshbasic_vert%2C%20fragmentShader%3A%20xn.meshbasic_frag%20%7D%2C%20lambert%3A%20%7B%20uniforms%3A%20Ki(%5B_n.common%2C%20_n.specularmap%2C%20_n.envmap%2C%20_n.aomap%2C%20_n.lightmap%2C%20_n.emissivemap%2C%20_n.bumpmap%2C%20_n.normalmap%2C%20_n.displacementmap%2C%20_n.fog%2C%20_n.lights%2C%20%7B%20emissive%3A%20%7B%20value%3A%20new%20qt(0)%20%7D%20%7D%5D)%2C%20vertexShader%3A%20xn.meshlambert_vert%2C%20fragmentShader%3A%20xn.meshlambert_frag%20%7D%2C%20phong%3A%20%7B%20uniforms%3A%20Ki(%5B_n.common%2C%20_n.specularmap%2C%20_n.envmap%2C%20_n.aomap%2C%20_n.lightmap%2C%20_n.emissivemap%2C%20_n.bumpmap%2C%20_n.normalmap%2C%20_n.displacementmap%2C%20_n.fog%2C%20_n.lights%2C%20%7B%20emissive%3A%20%7B%20value%3A%20new%20qt(0)%20%7D%2C%20specular%3A%20%7B%20value%3A%20new%20qt(1118481)%20%7D%2C%20shininess%3A%20%7B%20value%3A%2030%20%7D%20%7D%5D)%2C%20vertexShader%3A%20xn.meshphong_vert%2C%20fragmentShader%3A%20xn.meshphong_frag%20%7D%2C%20standard%3A%20%7B%20uniforms%3A%20Ki(%5B_n.common%2C%20_n.envmap%2C%20_n.aomap%2C%20_n.lightmap%2C%20_n.emissivemap%2C%20_n.bumpmap%2C%20_n.normalmap%2C%20_n.displacementmap%2C%20_n.roughnessmap%2C%20_n.metalnessmap%2C%20_n.fog%2C%20_n.lights%2C%20%7B%20emissive%3A%20%7B%20value%3A%20new%20qt(0)%20%7D%2C%20roughness%3A%20%7B%20value%3A%201%20%7D%2C%20metalness%3A%20%7B%20value%3A%200%20%7D%2C%20envMapIntensity%3A%20%7B%20value%3A%201%20%7D%20%7D%5D)%2C%20vertexShader%3A%20xn.meshphysical_vert%2C%20fragmentShader%3A%20xn.meshphysical_frag%20%7D%2C%20toon%3A%20%7B%20uniforms%3A%20Ki(%5B_n.common%2C%20_n.aomap%2C%20_n.lightmap%2C%20_n.emissivemap%2C%20_n.bumpmap%2C%20_n.normalmap%2C%20_n.displacementmap%2C%20_n.gradientmap%2C%20_n.fog%2C%20_n.lights%2C%20%7B%20emissive%3A%20%7B%20value%3A%20new%20qt(0)%20%7D%20%7D%5D)%2C%20vertexShader%3A%20xn.meshtoon_vert%2C%20fragmentShader%3A%20xn.meshtoon_frag%20%7D%2C%20matcap%3A%20%7B%20uniforms%3A%20Ki(%5B_n.common%2C%20_n.bumpmap%2C%20_n.normalmap%2C%20_n.displacementmap%2C%20_n.fog%2C%20%7B%20matcap%3A%20%7B%20value%3A%20null%20%7D%20%7D%5D)%2C%20vertexShader%3A%20xn.meshmatcap_vert%2C%20fragmentShader%3A%20xn.meshmatcap_frag%20%7D%2C%20points%3A%20%7B%20uniforms%3A%20Ki(%5B_n.points%2C%20_n.fog%5D)%2C%20vertexShader%3A%20xn.points_vert%2C%20fragmentShader%3A%20xn.points_frag%20%7D%2C%20dashed%3A%20%7B%20uniforms%3A%20Ki(%5B_n.common%2C%20_n.fog%2C%20%7B%20scale%3A%20%7B%20value%3A%201%20%7D%2C%20dashSize%3A%20%7B%20value%3A%201%20%7D%2C%20totalSize%3A%20%7B%20value%3A%202%20%7D%20%7D%5D)%2C%20vertexShader%3A%20xn.linedashed_vert%2C%20fragmentShader%3A%20xn.linedashed_frag%20%7D%2C%20depth%3A%20%7B%20uniforms%3A%20Ki(%5B_n.common%2C%20_n.displacementmap%5D)%2C%20vertexShader%3A%20xn.depth_vert%2C%20fragmentShader%3A%20xn.depth_frag%20%7D%2C%20normal%3A%20%7B%20uniforms%3A%20Ki(%5B_n.common%2C%20_n.bumpmap%2C%20_n.normalmap%2C%20_n.displacementmap%2C%20%7B%20opacity%3A%20%7B%20value%3A%201%20%7D%20%7D%5D)%2C%20vertexShader%3A%20xn.meshnormal_vert%2C%20fragmentShader%3A%20xn.meshnormal_frag%20%7D%2C%20sprite%3A%20%7B%20uniforms%3A%20Ki(%5B_n.sprite%2C%20_n.fog%5D)%2C%20vertexShader%3A%20xn.sprite_vert%2C%20fragmentShader%3A%20xn.sprite_frag%20%7D%2C%20background%3A%20%7B%20uniforms%3A%20%7B%20uvTransform%3A%20%7B%20value%3A%20new%20Rt%20%7D%2C%20t2D%3A%20%7B%20value%3A%20null%20%7D%2C%20backgroundIntensity%3A%20%7B%20value%3A%201%20%7D%20%7D%2C%20vertexShader%3A%20xn.background_vert%2C%20fragmentShader%3A%20xn.background_frag%20%7D%2C%20backgroundCube%3A%20%7B%20uniforms%3A%20%7B%20envMap%3A%20%7B%20value%3A%20null%20%7D%2C%20flipEnvMap%3A%20%7B%20value%3A%20-1%20%7D%2C%20backgroundBlurriness%3A%20%7B%20value%3A%200%20%7D%2C%20backgroundIntensity%3A%20%7B%20value%3A%201%20%7D%20%7D%2C%20vertexShader%3A%20xn.backgroundCube_vert%2C%20fragmentShader%3A%20xn.backgroundCube_frag%20%7D%2C%20cube%3A%20%7B%20uniforms%3A%20%7B%20tCube%3A%20%7B%20value%3A%20null%20%7D%2C%20tFlip%3A%20%7B%20value%3A%20-1%20%7D%2C%20opacity%3A%20%7B%20value%3A%201%20%7D%20%7D%2C%20vertexShader%3A%20xn.cube_vert%2C%20fragmentShader%3A%20xn.cube_frag%20%7D%2C%20equirect%3A%20%7B%20uniforms%3A%20%7B%20tEquirect%3A%20%7B%20value%3A%20null%20%7D%20%7D%2C%20vertexShader%3A%20xn.equirect_vert%2C%20fragmentShader%3A%20xn.equirect_frag%20%7D%2C%20distanceRGBA%3A%20%7B%20uniforms%3A%20Ki(%5B_n.common%2C%20_n.displacementmap%2C%20%7B%20referencePosition%3A%20%7B%20value%3A%20new%20re%20%7D%2C%20nearDistance%3A%20%7B%20value%3A%201%20%7D%2C%20farDistance%3A%20%7B%20value%3A%201e3%20%7D%20%7D%5D)%2C%20vertexShader%3A%20xn.distanceRGBA_vert%2C%20fragmentShader%3A%20xn.distanceRGBA_frag%20%7D%2C%20shadow%3A%20%7B%20uniforms%3A%20Ki(%5B_n.lights%2C%20_n.fog%2C%20%7B%20color%3A%20%7B%20value%3A%20new%20qt(0)%20%7D%2C%20opacity%3A%20%7B%20value%3A%201%20%7D%20%7D%5D)%2C%20vertexShader%3A%20xn.shadow_vert%2C%20fragmentShader%3A%20xn.shadow_frag%20%7D%20%7D%3B%20yn.physical%20%3D%20%7B%20uniforms%3A%20Ki(%5Byn.standard.uniforms%2C%20%7B%20clearcoat%3A%20%7B%20value%3A%200%20%7D%2C%20clearcoatMap%3A%20%7B%20value%3A%20null%20%7D%2C%20clearcoatRoughness%3A%20%7B%20value%3A%200%20%7D%2C%20clearcoatRoughnessMap%3A%20%7B%20value%3A%20null%20%7D%2C%20clearcoatNormalScale%3A%20%7B%20value%3A%20new%20Lt(1%2C%201)%20%7D%2C%20clearcoatNormalMap%3A%20%7B%20value%3A%20null%20%7D%2C%20iridescence%3A%20%7B%20value%3A%200%20%7D%2C%20iridescenceMap%3A%20%7B%20value%3A%20null%20%7D%2C%20iridescenceIOR%3A%20%7B%20value%3A%201.3%20%7D%2C%20iridescenceThicknessMinimum%3A%20%7B%20value%3A%20100%20%7D%2C%20iridescenceThicknessMaximum%3A%20%7B%20value%3A%20400%20%7D%2C%20iridescenceThicknessMap%3A%20%7B%20value%3A%20null%20%7D%2C%20sheen%3A%20%7B%20value%3A%200%20%7D%2C%20sheenColor%3A%20%7B%20value%3A%20new%20qt(0)%20%7D%2C%20sheenColorMap%3A%20%7B%20value%3A%20null%20%7D%2C%20sheenRoughness%3A%20%7B%20value%3A%201%20%7D%2C%20sheenRoughnessMap%3A%20%7B%20value%3A%20null%20%7D%2C%20transmission%3A%20%7B%20value%3A%200%20%7D%2C%20transmissionMap%3A%20%7B%20value%3A%20null%20%7D%2C%20transmissionSamplerSize%3A%20%7B%20value%3A%20new%20Lt%20%7D%2C%20transmissionSamplerMap%3A%20%7B%20value%3A%20null%20%7D%2C%20thickness%3A%20%7B%20value%3A%200%20%7D%2C%20thicknessMap%3A%20%7B%20value%3A%20null%20%7D%2C%20attenuationDistance%3A%20%7B%20value%3A%200%20%7D%2C%20attenuationColor%3A%20%7B%20value%3A%20new%20qt(0)%20%7D%2C%20specularIntensity%3A%20%7B%20value%3A%201%20%7D%2C%20specularIntensityMap%3A%20%7B%20value%3A%20null%20%7D%2C%20specularColor%3A%20%7B%20value%3A%20new%20qt(1%2C%201%2C%201)%20%7D%2C%20specularColorMap%3A%20%7B%20value%3A%20null%20%7D%20%7D%5D)%2C%20vertexShader%3A%20xn.meshphysical_vert%2C%20fragmentShader%3A%20xn.meshphysical_frag%20%7D%3B%20const%20Mn%20%3D%20%7B%20r%3A%200%2C%20b%3A%200%2C%20g%3A%200%20%7D%3B%20function%20bn(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%20a)%20%7B%20const%20o%20%3D%20new%20qt(0)%3B%20let%20c%2C%20h%2C%20u%20%3D%20!0%20%3D%3D%3D%20s%20%3F%200%20%3A%201%2C%20d%20%3D%20null%2C%20p%20%3D%200%2C%20m%20%3D%20null%3B%20function%20f(e%2C%20i)%20%7B%20e.getRGB(Mn%2C%20%24i(t))%2C%20n.buffers.color.setClear(Mn.r%2C%20Mn.g%2C%20Mn.b%2C%20i%2C%20a)%20%7D%20return%20%7B%20getClearColor%3A%20function%20()%20%7B%20return%20o%20%7D%2C%20setClearColor%3A%20function%20(t%2C%20e%20%3D%201)%20%7B%20o.set(t)%2C%20u%20%3D%20e%2C%20f(o%2C%20u)%20%7D%2C%20getClearAlpha%3A%20function%20()%20%7B%20return%20u%20%7D%2C%20setClearAlpha%3A%20function%20(t)%20%7B%20u%20%3D%20t%2C%20f(o%2C%20u)%20%7D%2C%20render%3A%20function%20(n%2C%20s)%20%7B%20let%20a%20%3D%20!1%2C%20g%20%3D%20!0%20%3D%3D%3D%20s.isScene%20%3F%20s.background%20%3A%20null%3B%20if%20(g%20%26%26%20g.isTexture)%20%7B%20g%20%3D%20(s.backgroundBlurriness%20%3E%200%20%3F%20i%20%3A%20e).get(g)%20%7D%20const%20v%20%3D%20t.xr%2C%20x%20%3D%20v.getSession%20%26%26%20v.getSession()%3B%20x%20%26%26%20%22additive%22%20%3D%3D%3D%20x.environmentBlendMode%20%26%26%20(g%20%3D%20null)%2C%20null%20%3D%3D%3D%20g%20%3F%20f(o%2C%20u)%20%3A%20g%20%26%26%20g.isColor%20%26%26%20(f(g%2C%201)%2C%20a%20%3D%20!0)%2C%20(t.autoClear%20%7C%7C%20a)%20%26%26%20t.clear(t.autoClearColor%2C%20t.autoClearDepth%2C%20t.autoClearStencil)%2C%20g%20%26%26%20(g.isCubeTexture%20%7C%7C%20g.mapping%20%3D%3D%3D%20l)%20%3F%20(void%200%20%3D%3D%3D%20h%20%26%26%20(h%20%3D%20new%20Xi(new%20Zi(1%2C%201%2C%201)%2C%20new%20tn(%7B%20name%3A%20%22BackgroundCubeMaterial%22%2C%20uniforms%3A%20Ji(yn.backgroundCube.uniforms)%2C%20vertexShader%3A%20yn.backgroundCube.vertexShader%2C%20fragmentShader%3A%20yn.backgroundCube.fragmentShader%2C%20side%3A%201%2C%20depthTest%3A%20!1%2C%20depthWrite%3A%20!1%2C%20fog%3A%20!1%20%7D))%2C%20h.geometry.deleteAttribute(%22normal%22)%2C%20h.geometry.deleteAttribute(%22uv%22)%2C%20h.onBeforeRender%20%3D%20function%20(t%2C%20e%2C%20i)%20%7B%20this.matrixWorld.copyPosition(i.matrixWorld)%20%7D%2C%20Object.defineProperty(h.material%2C%20%22envMap%22%2C%20%7B%20get%3A%20function%20()%20%7B%20return%20this.uniforms.envMap.value%20%7D%20%7D)%2C%20r.update(h))%2C%20h.material.uniforms.envMap.value%20%3D%20g%2C%20h.material.uniforms.flipEnvMap.value%20%3D%20g.isCubeTexture%20%26%26%20!1%20%3D%3D%3D%20g.isRenderTargetTexture%20%3F%20-1%20%3A%201%2C%20h.material.uniforms.backgroundBlurriness.value%20%3D%20s.backgroundBlurriness%2C%20h.material.uniforms.backgroundIntensity.value%20%3D%20s.backgroundIntensity%2C%20h.material.toneMapped%20%3D%20g.encoding%20!%3D%3D%20ot%2C%20d%20%3D%3D%3D%20g%20%26%26%20p%20%3D%3D%3D%20g.version%20%26%26%20m%20%3D%3D%3D%20t.toneMapping%20%7C%7C%20(h.material.needsUpdate%20%3D%20!0%2C%20d%20%3D%20g%2C%20p%20%3D%20g.version%2C%20m%20%3D%20t.toneMapping)%2C%20h.layers.enableAll()%2C%20n.unshift(h%2C%20h.geometry%2C%20h.material%2C%200%2C%200%2C%20null))%20%3A%20g%20%26%26%20g.isTexture%20%26%26%20(void%200%20%3D%3D%3D%20c%20%26%26%20(c%20%3D%20new%20Xi(new%20vn(2%2C%202)%2C%20new%20tn(%7B%20name%3A%20%22BackgroundMaterial%22%2C%20uniforms%3A%20Ji(yn.background.uniforms)%2C%20vertexShader%3A%20yn.background.vertexShader%2C%20fragmentShader%3A%20yn.background.fragmentShader%2C%20side%3A%200%2C%20depthTest%3A%20!1%2C%20depthWrite%3A%20!1%2C%20fog%3A%20!1%20%7D))%2C%20c.geometry.deleteAttribute(%22normal%22)%2C%20Object.defineProperty(c.material%2C%20%22map%22%2C%20%7B%20get%3A%20function%20()%20%7B%20return%20this.uniforms.t2D.value%20%7D%20%7D)%2C%20r.update(c))%2C%20c.material.uniforms.t2D.value%20%3D%20g%2C%20c.material.uniforms.backgroundIntensity.value%20%3D%20s.backgroundIntensity%2C%20c.material.toneMapped%20%3D%20g.encoding%20!%3D%3D%20ot%2C%20!0%20%3D%3D%3D%20g.matrixAutoUpdate%20%26%26%20g.updateMatrix()%2C%20c.material.uniforms.uvTransform.value.copy(g.matrix)%2C%20d%20%3D%3D%3D%20g%20%26%26%20p%20%3D%3D%3D%20g.version%20%26%26%20m%20%3D%3D%3D%20t.toneMapping%20%7C%7C%20(c.material.needsUpdate%20%3D%20!0%2C%20d%20%3D%20g%2C%20p%20%3D%20g.version%2C%20m%20%3D%20t.toneMapping)%2C%20c.layers.enableAll()%2C%20n.unshift(c%2C%20c.geometry%2C%20c.material%2C%200%2C%200%2C%20null))%20%7D%20%7D%20%7D%20function%20Sn(t%2C%20e%2C%20i%2C%20n)%20%7B%20const%20r%20%3D%20t.getParameter(34921)%2C%20s%20%3D%20n.isWebGL2%20%3F%20null%20%3A%20e.get(%22OES_vertex_array_object%22)%2C%20a%20%3D%20n.isWebGL2%20%7C%7C%20null%20!%3D%3D%20s%2C%20o%20%3D%20%7B%7D%2C%20l%20%3D%20p(null)%3B%20let%20c%20%3D%20l%2C%20h%20%3D%20!1%3B%20function%20u(e)%20%7B%20return%20n.isWebGL2%20%3F%20t.bindVertexArray(e)%20%3A%20s.bindVertexArrayOES(e)%20%7D%20function%20d(e)%20%7B%20return%20n.isWebGL2%20%3F%20t.deleteVertexArray(e)%20%3A%20s.deleteVertexArrayOES(e)%20%7D%20function%20p(t)%20%7B%20const%20e%20%3D%20%5B%5D%2C%20i%20%3D%20%5B%5D%2C%20n%20%3D%20%5B%5D%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20r%3B%20t%2B%2B)e%5Bt%5D%20%3D%200%2C%20i%5Bt%5D%20%3D%200%2C%20n%5Bt%5D%20%3D%200%3B%20return%20%7B%20geometry%3A%20null%2C%20program%3A%20null%2C%20wireframe%3A%20!1%2C%20newAttributes%3A%20e%2C%20enabledAttributes%3A%20i%2C%20attributeDivisors%3A%20n%2C%20object%3A%20t%2C%20attributes%3A%20%7B%7D%2C%20index%3A%20null%20%7D%20%7D%20function%20m()%20%7B%20const%20t%20%3D%20c.newAttributes%3B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20t.length%3B%20e%20%3C%20i%3B%20e%2B%2B)t%5Be%5D%20%3D%200%20%7D%20function%20f(t)%20%7B%20g(t%2C%200)%20%7D%20function%20g(i%2C%20r)%20%7B%20const%20s%20%3D%20c.newAttributes%2C%20a%20%3D%20c.enabledAttributes%2C%20o%20%3D%20c.attributeDivisors%3B%20if%20(s%5Bi%5D%20%3D%201%2C%200%20%3D%3D%3D%20a%5Bi%5D%20%26%26%20(t.enableVertexAttribArray(i)%2C%20a%5Bi%5D%20%3D%201)%2C%20o%5Bi%5D%20!%3D%3D%20r)%20%7B%20(n.isWebGL2%20%3F%20t%20%3A%20e.get(%22ANGLE_instanced_arrays%22))%5Bn.isWebGL2%20%3F%20%22vertexAttribDivisor%22%20%3A%20%22vertexAttribDivisorANGLE%22%5D(i%2C%20r)%2C%20o%5Bi%5D%20%3D%20r%20%7D%20%7D%20function%20v()%20%7B%20const%20e%20%3D%20c.newAttributes%2C%20i%20%3D%20c.enabledAttributes%3B%20for%20(let%20n%20%3D%200%2C%20r%20%3D%20i.length%3B%20n%20%3C%20r%3B%20n%2B%2B)i%5Bn%5D%20!%3D%3D%20e%5Bn%5D%20%26%26%20(t.disableVertexAttribArray(n)%2C%20i%5Bn%5D%20%3D%200)%20%7D%20function%20x(e%2C%20i%2C%20r%2C%20s%2C%20a%2C%20o)%20%7B%20!0%20!%3D%3D%20n.isWebGL2%20%7C%7C%205124%20!%3D%3D%20r%20%26%26%205125%20!%3D%3D%20r%20%3F%20t.vertexAttribPointer(e%2C%20i%2C%20r%2C%20s%2C%20a%2C%20o)%20%3A%20t.vertexAttribIPointer(e%2C%20i%2C%20r%2C%20a%2C%20o)%20%7D%20function%20_()%20%7B%20y()%2C%20h%20%3D%20!0%2C%20c%20!%3D%3D%20l%20%26%26%20(c%20%3D%20l%2C%20u(c.object))%20%7D%20function%20y()%20%7B%20l.geometry%20%3D%20null%2C%20l.program%20%3D%20null%2C%20l.wireframe%20%3D%20!1%20%7D%20return%20%7B%20setup%3A%20function%20(r%2C%20l%2C%20d%2C%20_%2C%20y)%20%7B%20let%20M%20%3D%20!1%3B%20if%20(a)%20%7B%20const%20e%20%3D%20function%20(e%2C%20i%2C%20r)%20%7B%20const%20a%20%3D%20!0%20%3D%3D%3D%20r.wireframe%3B%20let%20l%20%3D%20o%5Be.id%5D%3B%20void%200%20%3D%3D%3D%20l%20%26%26%20(l%20%3D%20%7B%7D%2C%20o%5Be.id%5D%20%3D%20l)%3B%20let%20c%20%3D%20l%5Bi.id%5D%3B%20void%200%20%3D%3D%3D%20c%20%26%26%20(c%20%3D%20%7B%7D%2C%20l%5Bi.id%5D%20%3D%20c)%3B%20let%20h%20%3D%20c%5Ba%5D%3B%20void%200%20%3D%3D%3D%20h%20%26%26%20(h%20%3D%20p(n.isWebGL2%20%3F%20t.createVertexArray()%20%3A%20s.createVertexArrayOES())%2C%20c%5Ba%5D%20%3D%20h)%3B%20return%20h%20%7D(_%2C%20d%2C%20l)%3B%20c%20!%3D%3D%20e%20%26%26%20(c%20%3D%20e%2C%20u(c.object))%2C%20M%20%3D%20function%20(t%2C%20e%2C%20i%2C%20n)%20%7B%20const%20r%20%3D%20c.attributes%2C%20s%20%3D%20e.attributes%3B%20let%20a%20%3D%200%3B%20const%20o%20%3D%20i.getAttributes()%3B%20for%20(const%20e%20in%20o)%20%7B%20if%20(o%5Be%5D.location%20%3E%3D%200)%20%7B%20const%20i%20%3D%20r%5Be%5D%3B%20let%20n%20%3D%20s%5Be%5D%3B%20if%20(void%200%20%3D%3D%3D%20n%20%26%26%20(%22instanceMatrix%22%20%3D%3D%3D%20e%20%26%26%20t.instanceMatrix%20%26%26%20(n%20%3D%20t.instanceMatrix)%2C%20%22instanceColor%22%20%3D%3D%3D%20e%20%26%26%20t.instanceColor%20%26%26%20(n%20%3D%20t.instanceColor))%2C%20void%200%20%3D%3D%3D%20i)%20return%20!0%3B%20if%20(i.attribute%20!%3D%3D%20n)%20return%20!0%3B%20if%20(n%20%26%26%20i.data%20!%3D%3D%20n.data)%20return%20!0%3B%20a%2B%2B%20%7D%20%7D%20return%20c.attributesNum%20!%3D%3D%20a%20%7C%7C%20c.index%20!%3D%3D%20n%20%7D(r%2C%20_%2C%20d%2C%20y)%2C%20M%20%26%26%20function%20(t%2C%20e%2C%20i%2C%20n)%20%7B%20const%20r%20%3D%20%7B%7D%2C%20s%20%3D%20e.attributes%3B%20let%20a%20%3D%200%3B%20const%20o%20%3D%20i.getAttributes()%3B%20for%20(const%20e%20in%20o)%20%7B%20if%20(o%5Be%5D.location%20%3E%3D%200)%20%7B%20let%20i%20%3D%20s%5Be%5D%3B%20void%200%20%3D%3D%3D%20i%20%26%26%20(%22instanceMatrix%22%20%3D%3D%3D%20e%20%26%26%20t.instanceMatrix%20%26%26%20(i%20%3D%20t.instanceMatrix)%2C%20%22instanceColor%22%20%3D%3D%3D%20e%20%26%26%20t.instanceColor%20%26%26%20(i%20%3D%20t.instanceColor))%3B%20const%20n%20%3D%20%7B%7D%3B%20n.attribute%20%3D%20i%2C%20i%20%26%26%20i.data%20%26%26%20(n.data%20%3D%20i.data)%2C%20r%5Be%5D%20%3D%20n%2C%20a%2B%2B%20%7D%20%7D%20c.attributes%20%3D%20r%2C%20c.attributesNum%20%3D%20a%2C%20c.index%20%3D%20n%20%7D(r%2C%20_%2C%20d%2C%20y)%20%7D%20else%20%7B%20const%20t%20%3D%20!0%20%3D%3D%3D%20l.wireframe%3B%20c.geometry%20%3D%3D%3D%20_.id%20%26%26%20c.program%20%3D%3D%3D%20d.id%20%26%26%20c.wireframe%20%3D%3D%3D%20t%20%7C%7C%20(c.geometry%20%3D%20_.id%2C%20c.program%20%3D%20d.id%2C%20c.wireframe%20%3D%20t%2C%20M%20%3D%20!0)%20%7D%20null%20!%3D%3D%20y%20%26%26%20i.update(y%2C%2034963)%2C%20(M%20%7C%7C%20h)%20%26%26%20(h%20%3D%20!1%2C%20function%20(r%2C%20s%2C%20a%2C%20o)%20%7B%20if%20(!1%20%3D%3D%3D%20n.isWebGL2%20%26%26%20(r.isInstancedMesh%20%7C%7C%20o.isInstancedBufferGeometry)%20%26%26%20null%20%3D%3D%3D%20e.get(%22ANGLE_instanced_arrays%22))%20return%3B%20m()%3B%20const%20l%20%3D%20o.attributes%2C%20c%20%3D%20a.getAttributes()%2C%20h%20%3D%20s.defaultAttributeValues%3B%20for%20(const%20e%20in%20c)%20%7B%20const%20n%20%3D%20c%5Be%5D%3B%20if%20(n.location%20%3E%3D%200)%20%7B%20let%20s%20%3D%20l%5Be%5D%3B%20if%20(void%200%20%3D%3D%3D%20s%20%26%26%20(%22instanceMatrix%22%20%3D%3D%3D%20e%20%26%26%20r.instanceMatrix%20%26%26%20(s%20%3D%20r.instanceMatrix)%2C%20%22instanceColor%22%20%3D%3D%3D%20e%20%26%26%20r.instanceColor%20%26%26%20(s%20%3D%20r.instanceColor))%2C%20void%200%20!%3D%3D%20s)%20%7B%20const%20e%20%3D%20s.normalized%2C%20a%20%3D%20s.itemSize%2C%20l%20%3D%20i.get(s)%3B%20if%20(void%200%20%3D%3D%3D%20l)%20continue%3B%20const%20c%20%3D%20l.buffer%2C%20h%20%3D%20l.type%2C%20u%20%3D%20l.bytesPerElement%3B%20if%20(s.isInterleavedBufferAttribute)%20%7B%20const%20i%20%3D%20s.data%2C%20l%20%3D%20i.stride%2C%20d%20%3D%20s.offset%3B%20if%20(i.isInstancedInterleavedBuffer)%20%7B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20n.locationSize%3B%20t%2B%2B)g(n.location%20%2B%20t%2C%20i.meshPerAttribute)%3B%20!0%20!%3D%3D%20r.isInstancedMesh%20%26%26%20void%200%20%3D%3D%3D%20o._maxInstanceCount%20%26%26%20(o._maxInstanceCount%20%3D%20i.meshPerAttribute%20*%20i.count)%20%7D%20else%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20n.locationSize%3B%20t%2B%2B)f(n.location%20%2B%20t)%3B%20t.bindBuffer(34962%2C%20c)%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20n.locationSize%3B%20t%2B%2B)x(n.location%20%2B%20t%2C%20a%20%2F%20n.locationSize%2C%20h%2C%20e%2C%20l%20*%20u%2C%20(d%20%2B%20a%20%2F%20n.locationSize%20*%20t)%20*%20u)%20%7D%20else%20%7B%20if%20(s.isInstancedBufferAttribute)%20%7B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20n.locationSize%3B%20t%2B%2B)g(n.location%20%2B%20t%2C%20s.meshPerAttribute)%3B%20!0%20!%3D%3D%20r.isInstancedMesh%20%26%26%20void%200%20%3D%3D%3D%20o._maxInstanceCount%20%26%26%20(o._maxInstanceCount%20%3D%20s.meshPerAttribute%20*%20s.count)%20%7D%20else%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20n.locationSize%3B%20t%2B%2B)f(n.location%20%2B%20t)%3B%20t.bindBuffer(34962%2C%20c)%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20n.locationSize%3B%20t%2B%2B)x(n.location%20%2B%20t%2C%20a%20%2F%20n.locationSize%2C%20h%2C%20e%2C%20a%20*%20u%2C%20a%20%2F%20n.locationSize%20*%20t%20*%20u)%20%7D%20%7D%20else%20if%20(void%200%20!%3D%3D%20h)%20%7B%20const%20i%20%3D%20h%5Be%5D%3B%20if%20(void%200%20!%3D%3D%20i)%20switch%20(i.length)%20%7B%20case%202%3A%20t.vertexAttrib2fv(n.location%2C%20i)%3B%20break%3B%20case%203%3A%20t.vertexAttrib3fv(n.location%2C%20i)%3B%20break%3B%20case%204%3A%20t.vertexAttrib4fv(n.location%2C%20i)%3B%20break%3B%20default%3A%20t.vertexAttrib1fv(n.location%2C%20i)%20%7D%20%7D%20%7D%20%7D%20v()%20%7D(r%2C%20l%2C%20d%2C%20_)%2C%20null%20!%3D%3D%20y%20%26%26%20t.bindBuffer(34963%2C%20i.get(y).buffer))%20%7D%2C%20reset%3A%20_%2C%20resetDefaultState%3A%20y%2C%20dispose%3A%20function%20()%20%7B%20_()%3B%20for%20(const%20t%20in%20o)%20%7B%20const%20e%20%3D%20o%5Bt%5D%3B%20for%20(const%20t%20in%20e)%20%7B%20const%20i%20%3D%20e%5Bt%5D%3B%20for%20(const%20t%20in%20i)%20d(i%5Bt%5D.object)%2C%20delete%20i%5Bt%5D%3B%20delete%20e%5Bt%5D%20%7D%20delete%20o%5Bt%5D%20%7D%20%7D%2C%20releaseStatesOfGeometry%3A%20function%20(t)%20%7B%20if%20(void%200%20%3D%3D%3D%20o%5Bt.id%5D)%20return%3B%20const%20e%20%3D%20o%5Bt.id%5D%3B%20for%20(const%20t%20in%20e)%20%7B%20const%20i%20%3D%20e%5Bt%5D%3B%20for%20(const%20t%20in%20i)%20d(i%5Bt%5D.object)%2C%20delete%20i%5Bt%5D%3B%20delete%20e%5Bt%5D%20%7D%20delete%20o%5Bt.id%5D%20%7D%2C%20releaseStatesOfProgram%3A%20function%20(t)%20%7B%20for%20(const%20e%20in%20o)%20%7B%20const%20i%20%3D%20o%5Be%5D%3B%20if%20(void%200%20%3D%3D%3D%20i%5Bt.id%5D)%20continue%3B%20const%20n%20%3D%20i%5Bt.id%5D%3B%20for%20(const%20t%20in%20n)%20d(n%5Bt%5D.object)%2C%20delete%20n%5Bt%5D%3B%20delete%20i%5Bt.id%5D%20%7D%20%7D%2C%20initAttributes%3A%20m%2C%20enableAttribute%3A%20f%2C%20disableUnusedAttributes%3A%20v%20%7D%20%7D%20function%20wn(t%2C%20e%2C%20i%2C%20n)%20%7B%20const%20r%20%3D%20n.isWebGL2%3B%20let%20s%3B%20this.setMode%20%3D%20function%20(t)%20%7B%20s%20%3D%20t%20%7D%2C%20this.render%20%3D%20function%20(e%2C%20n)%20%7B%20t.drawArrays(s%2C%20e%2C%20n)%2C%20i.update(n%2C%20s%2C%201)%20%7D%2C%20this.renderInstances%20%3D%20function%20(n%2C%20a%2C%20o)%20%7B%20if%20(0%20%3D%3D%3D%20o)%20return%3B%20let%20l%2C%20c%3B%20if%20(r)%20l%20%3D%20t%2C%20c%20%3D%20%22drawArraysInstanced%22%3B%20else%20if%20(l%20%3D%20e.get(%22ANGLE_instanced_arrays%22)%2C%20c%20%3D%20%22drawArraysInstancedANGLE%22%2C%20null%20%3D%3D%3D%20l)%20return%20void%20console.error(%22THREE.WebGLBufferRenderer%3A%20using%20THREE.InstancedBufferGeometry%20but%20hardware%20does%20not%20support%20extension%20ANGLE_instanced_arrays.%22)%3B%20l%5Bc%5D(s%2C%20n%2C%20a%2C%20o)%2C%20i.update(a%2C%20s%2C%20o)%20%7D%20%7D%20function%20Tn(t%2C%20e%2C%20i)%20%7B%20let%20n%3B%20function%20r(e)%20%7B%20if%20(%22highp%22%20%3D%3D%3D%20e)%20%7B%20if%20(t.getShaderPrecisionFormat(35633%2C%2036338).precision%20%3E%200%20%26%26%20t.getShaderPrecisionFormat(35632%2C%2036338).precision%20%3E%200)%20return%20%22highp%22%3B%20e%20%3D%20%22mediump%22%20%7D%20return%20%22mediump%22%20%3D%3D%3D%20e%20%26%26%20t.getShaderPrecisionFormat(35633%2C%2036337).precision%20%3E%200%20%26%26%20t.getShaderPrecisionFormat(35632%2C%2036337).precision%20%3E%200%20%3F%20%22mediump%22%20%3A%20%22lowp%22%20%7D%20const%20s%20%3D%20%22undefined%22%20!%3D%20typeof%20WebGL2RenderingContext%20%26%26%20t%20instanceof%20WebGL2RenderingContext%20%7C%7C%20%22undefined%22%20!%3D%20typeof%20WebGL2ComputeRenderingContext%20%26%26%20t%20instanceof%20WebGL2ComputeRenderingContext%3B%20let%20a%20%3D%20void%200%20!%3D%3D%20i.precision%20%3F%20i.precision%20%3A%20%22highp%22%3B%20const%20o%20%3D%20r(a)%3B%20o%20!%3D%3D%20a%20%26%26%20(console.warn(%22THREE.WebGLRenderer%3A%22%2C%20a%2C%20%22not%20supported%2C%20using%22%2C%20o%2C%20%22instead.%22)%2C%20a%20%3D%20o)%3B%20const%20l%20%3D%20s%20%7C%7C%20e.has(%22WEBGL_draw_buffers%22)%2C%20c%20%3D%20!0%20%3D%3D%3D%20i.logarithmicDepthBuffer%2C%20h%20%3D%20t.getParameter(34930)%2C%20u%20%3D%20t.getParameter(35660)%2C%20d%20%3D%20t.getParameter(3379)%2C%20p%20%3D%20t.getParameter(34076)%2C%20m%20%3D%20t.getParameter(34921)%2C%20f%20%3D%20t.getParameter(36347)%2C%20g%20%3D%20t.getParameter(36348)%2C%20v%20%3D%20t.getParameter(36349)%2C%20x%20%3D%20u%20%3E%200%2C%20_%20%3D%20s%20%7C%7C%20e.has(%22OES_texture_float%22)%3B%20return%20%7B%20isWebGL2%3A%20s%2C%20drawBuffers%3A%20l%2C%20getMaxAnisotropy%3A%20function%20()%20%7B%20if%20(void%200%20!%3D%3D%20n)%20return%20n%3B%20if%20(!0%20%3D%3D%3D%20e.has(%22EXT_texture_filter_anisotropic%22))%20%7B%20const%20i%20%3D%20e.get(%22EXT_texture_filter_anisotropic%22)%3B%20n%20%3D%20t.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT)%20%7D%20else%20n%20%3D%200%3B%20return%20n%20%7D%2C%20getMaxPrecision%3A%20r%2C%20precision%3A%20a%2C%20logarithmicDepthBuffer%3A%20c%2C%20maxTextures%3A%20h%2C%20maxVertexTextures%3A%20u%2C%20maxTextureSize%3A%20d%2C%20maxCubemapSize%3A%20p%2C%20maxAttributes%3A%20m%2C%20maxVertexUniforms%3A%20f%2C%20maxVaryings%3A%20g%2C%20maxFragmentUniforms%3A%20v%2C%20vertexTextures%3A%20x%2C%20floatFragmentTextures%3A%20_%2C%20floatVertexTextures%3A%20x%20%26%26%20_%2C%20maxSamples%3A%20s%20%3F%20t.getParameter(36183)%20%3A%200%20%7D%20%7D%20function%20An(t)%20%7B%20const%20e%20%3D%20this%3B%20let%20i%20%3D%20null%2C%20n%20%3D%200%2C%20r%20%3D%20!1%2C%20s%20%3D%20!1%3B%20const%20a%20%3D%20new%20un%2C%20o%20%3D%20new%20Rt%2C%20l%20%3D%20%7B%20value%3A%20null%2C%20needsUpdate%3A%20!1%20%7D%3B%20function%20c()%20%7B%20l.value%20!%3D%3D%20i%20%26%26%20(l.value%20%3D%20i%2C%20l.needsUpdate%20%3D%20n%20%3E%200)%2C%20e.numPlanes%20%3D%20n%2C%20e.numIntersection%20%3D%200%20%7D%20function%20h(t%2C%20i%2C%20n%2C%20r)%20%7B%20const%20s%20%3D%20null%20!%3D%3D%20t%20%3F%20t.length%20%3A%200%3B%20let%20c%20%3D%20null%3B%20if%20(0%20!%3D%3D%20s)%20%7B%20if%20(c%20%3D%20l.value%2C%20!0%20!%3D%3D%20r%20%7C%7C%20null%20%3D%3D%3D%20c)%20%7B%20const%20e%20%3D%20n%20%2B%204%20*%20s%2C%20r%20%3D%20i.matrixWorldInverse%3B%20o.getNormalMatrix(r)%2C%20(null%20%3D%3D%3D%20c%20%7C%7C%20c.length%20%3C%20e)%20%26%26%20(c%20%3D%20new%20Float32Array(e))%3B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20n%3B%20e%20!%3D%3D%20s%3B%20%2B%2Be%2C%20i%20%2B%3D%204)a.copy(t%5Be%5D).applyMatrix4(r%2C%20o)%2C%20a.normal.toArray(c%2C%20i)%2C%20c%5Bi%20%2B%203%5D%20%3D%20a.constant%20%7D%20l.value%20%3D%20c%2C%20l.needsUpdate%20%3D%20!0%20%7D%20return%20e.numPlanes%20%3D%20s%2C%20e.numIntersection%20%3D%200%2C%20c%20%7D%20this.uniform%20%3D%20l%2C%20this.numPlanes%20%3D%200%2C%20this.numIntersection%20%3D%200%2C%20this.init%20%3D%20function%20(t%2C%20e%2C%20s)%20%7B%20const%20a%20%3D%200%20!%3D%3D%20t.length%20%7C%7C%20e%20%7C%7C%200%20!%3D%3D%20n%20%7C%7C%20r%3B%20return%20r%20%3D%20e%2C%20i%20%3D%20h(t%2C%20s%2C%200)%2C%20n%20%3D%20t.length%2C%20a%20%7D%2C%20this.beginShadows%20%3D%20function%20()%20%7B%20s%20%3D%20!0%2C%20h(null)%20%7D%2C%20this.endShadows%20%3D%20function%20()%20%7B%20s%20%3D%20!1%2C%20c()%20%7D%2C%20this.setState%20%3D%20function%20(e%2C%20a%2C%20o)%20%7B%20const%20u%20%3D%20e.clippingPlanes%2C%20d%20%3D%20e.clipIntersection%2C%20p%20%3D%20e.clipShadows%2C%20m%20%3D%20t.get(e)%3B%20if%20(!r%20%7C%7C%20null%20%3D%3D%3D%20u%20%7C%7C%200%20%3D%3D%3D%20u.length%20%7C%7C%20s%20%26%26%20!p)%20s%20%3F%20h(null)%20%3A%20c()%3B%20else%20%7B%20const%20t%20%3D%20s%20%3F%200%20%3A%20n%2C%20e%20%3D%204%20*%20t%3B%20let%20r%20%3D%20m.clippingState%20%7C%7C%20null%3B%20l.value%20%3D%20r%2C%20r%20%3D%20h(u%2C%20a%2C%20e%2C%20o)%3B%20for%20(let%20t%20%3D%200%3B%20t%20!%3D%3D%20e%3B%20%2B%2Bt)r%5Bt%5D%20%3D%20i%5Bt%5D%3B%20m.clippingState%20%3D%20r%2C%20this.numIntersection%20%3D%20d%20%3F%20this.numPlanes%20%3A%200%2C%20this.numPlanes%20%2B%3D%20t%20%7D%20%7D%20%7D%20function%20En(t)%20%7B%20let%20e%20%3D%20new%20WeakMap%3B%20function%20i(t%2C%20e)%20%7B%20return%20e%20%3D%3D%3D%20a%20%3F%20t.mapping%20%3D%20r%20%3A%20e%20%3D%3D%3D%20o%20%26%26%20(t.mapping%20%3D%20s)%2C%20t%20%7D%20function%20n(t)%20%7B%20const%20i%20%3D%20t.target%3B%20i.removeEventListener(%22dispose%22%2C%20n)%3B%20const%20r%20%3D%20e.get(i)%3B%20void%200%20!%3D%3D%20r%20%26%26%20(e.delete(i)%2C%20r.dispose())%20%7D%20return%20%7B%20get%3A%20function%20(r)%20%7B%20if%20(r%20%26%26%20r.isTexture%20%26%26%20!1%20%3D%3D%3D%20r.isRenderTargetTexture)%20%7B%20const%20s%20%3D%20r.mapping%3B%20if%20(s%20%3D%3D%3D%20a%20%7C%7C%20s%20%3D%3D%3D%20o)%20%7B%20if%20(e.has(r))%20%7B%20return%20i(e.get(r).texture%2C%20r.mapping)%20%7D%20%7B%20const%20s%20%3D%20r.image%3B%20if%20(s%20%26%26%20s.height%20%3E%200)%20%7B%20const%20a%20%3D%20new%20on(s.height%20%2F%202)%3B%20return%20a.fromEquirectangularTexture(t%2C%20r)%2C%20e.set(r%2C%20a)%2C%20r.addEventListener(%22dispose%22%2C%20n)%2C%20i(a.texture%2C%20r.mapping)%20%7D%20return%20null%20%7D%20%7D%20%7D%20return%20r%20%7D%2C%20dispose%3A%20function%20()%20%7B%20e%20%3D%20new%20WeakMap%20%7D%20%7D%20%7D%20class%20Cn%20extends%20en%20%7B%20constructor(t%20%3D%20-1%2C%20e%20%3D%201%2C%20i%20%3D%201%2C%20n%20%3D%20-1%2C%20r%20%3D%20.1%2C%20s%20%3D%202e3)%20%7B%20super()%2C%20this.isOrthographicCamera%20%3D%20!0%2C%20this.type%20%3D%20%22OrthographicCamera%22%2C%20this.zoom%20%3D%201%2C%20this.view%20%3D%20null%2C%20this.left%20%3D%20t%2C%20this.right%20%3D%20e%2C%20this.top%20%3D%20i%2C%20this.bottom%20%3D%20n%2C%20this.near%20%3D%20r%2C%20this.far%20%3D%20s%2C%20this.updateProjectionMatrix()%20%7D%20copy(t%2C%20e)%20%7B%20return%20super.copy(t%2C%20e)%2C%20this.left%20%3D%20t.left%2C%20this.right%20%3D%20t.right%2C%20this.top%20%3D%20t.top%2C%20this.bottom%20%3D%20t.bottom%2C%20this.near%20%3D%20t.near%2C%20this.far%20%3D%20t.far%2C%20this.zoom%20%3D%20t.zoom%2C%20this.view%20%3D%20null%20%3D%3D%3D%20t.view%20%3F%20null%20%3A%20Object.assign(%7B%7D%2C%20t.view)%2C%20this%20%7D%20setViewOffset(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s)%20%7B%20null%20%3D%3D%3D%20this.view%20%26%26%20(this.view%20%3D%20%7B%20enabled%3A%20!0%2C%20fullWidth%3A%201%2C%20fullHeight%3A%201%2C%20offsetX%3A%200%2C%20offsetY%3A%200%2C%20width%3A%201%2C%20height%3A%201%20%7D)%2C%20this.view.enabled%20%3D%20!0%2C%20this.view.fullWidth%20%3D%20t%2C%20this.view.fullHeight%20%3D%20e%2C%20this.view.offsetX%20%3D%20i%2C%20this.view.offsetY%20%3D%20n%2C%20this.view.width%20%3D%20r%2C%20this.view.height%20%3D%20s%2C%20this.updateProjectionMatrix()%20%7D%20clearViewOffset()%20%7B%20null%20!%3D%3D%20this.view%20%26%26%20(this.view.enabled%20%3D%20!1)%2C%20this.updateProjectionMatrix()%20%7D%20updateProjectionMatrix()%20%7B%20const%20t%20%3D%20(this.right%20-%20this.left)%20%2F%20(2%20*%20this.zoom)%2C%20e%20%3D%20(this.top%20-%20this.bottom)%20%2F%20(2%20*%20this.zoom)%2C%20i%20%3D%20(this.right%20%2B%20this.left)%20%2F%202%2C%20n%20%3D%20(this.top%20%2B%20this.bottom)%20%2F%202%3B%20let%20r%20%3D%20i%20-%20t%2C%20s%20%3D%20i%20%2B%20t%2C%20a%20%3D%20n%20%2B%20e%2C%20o%20%3D%20n%20-%20e%3B%20if%20(null%20!%3D%3D%20this.view%20%26%26%20this.view.enabled)%20%7B%20const%20t%20%3D%20(this.right%20-%20this.left)%20%2F%20this.view.fullWidth%20%2F%20this.zoom%2C%20e%20%3D%20(this.top%20-%20this.bottom)%20%2F%20this.view.fullHeight%20%2F%20this.zoom%3B%20r%20%2B%3D%20t%20*%20this.view.offsetX%2C%20s%20%3D%20r%20%2B%20t%20*%20this.view.width%2C%20a%20-%3D%20e%20*%20this.view.offsetY%2C%20o%20%3D%20a%20-%20e%20*%20this.view.height%20%7D%20this.projectionMatrix.makeOrthographic(r%2C%20s%2C%20a%2C%20o%2C%20this.near%2C%20this.far)%2C%20this.projectionMatrixInverse.copy(this.projectionMatrix).invert()%20%7D%20toJSON(t)%20%7B%20const%20e%20%3D%20super.toJSON(t)%3B%20return%20e.object.zoom%20%3D%20this.zoom%2C%20e.object.left%20%3D%20this.left%2C%20e.object.right%20%3D%20this.right%2C%20e.object.top%20%3D%20this.top%2C%20e.object.bottom%20%3D%20this.bottom%2C%20e.object.near%20%3D%20this.near%2C%20e.object.far%20%3D%20this.far%2C%20null%20!%3D%3D%20this.view%20%26%26%20(e.object.view%20%3D%20Object.assign(%7B%7D%2C%20this.view))%2C%20e%20%7D%20%7D%20const%20Ln%20%3D%20%5B.125%2C%20.215%2C%20.35%2C%20.446%2C%20.526%2C%20.582%5D%2C%20Rn%20%3D%2020%2C%20Pn%20%3D%20new%20Cn%2C%20In%20%3D%20new%20qt%3B%20let%20Dn%20%3D%20null%3B%20const%20Nn%20%3D%20(1%20%2B%20Math.sqrt(5))%20%2F%202%2C%20On%20%3D%201%20%2F%20Nn%2C%20zn%20%3D%20%5Bnew%20re(1%2C%201%2C%201)%2C%20new%20re(-1%2C%201%2C%201)%2C%20new%20re(1%2C%201%2C%20-1)%2C%20new%20re(-1%2C%201%2C%20-1)%2C%20new%20re(0%2C%20Nn%2C%20On)%2C%20new%20re(0%2C%20Nn%2C%20-On)%2C%20new%20re(On%2C%200%2C%20Nn)%2C%20new%20re(-On%2C%200%2C%20Nn)%2C%20new%20re(Nn%2C%20On%2C%200)%2C%20new%20re(-Nn%2C%20On%2C%200)%5D%3B%20class%20Un%20%7B%20constructor(t)%20%7B%20this._renderer%20%3D%20t%2C%20this._pingPongRenderTarget%20%3D%20null%2C%20this._lodMax%20%3D%200%2C%20this._cubeSize%20%3D%200%2C%20this._lodPlanes%20%3D%20%5B%5D%2C%20this._sizeLods%20%3D%20%5B%5D%2C%20this._sigmas%20%3D%20%5B%5D%2C%20this._blurMaterial%20%3D%20null%2C%20this._cubemapMaterial%20%3D%20null%2C%20this._equirectMaterial%20%3D%20null%2C%20this._compileMaterial(this._blurMaterial)%20%7D%20fromScene(t%2C%20e%20%3D%200%2C%20i%20%3D%20.1%2C%20n%20%3D%20100)%20%7B%20Dn%20%3D%20this._renderer.getRenderTarget()%2C%20this._setSize(256)%3B%20const%20r%20%3D%20this._allocateTargets()%3B%20return%20r.depthBuffer%20%3D%20!0%2C%20this._sceneToCubeUV(t%2C%20i%2C%20n%2C%20r)%2C%20e%20%3E%200%20%26%26%20this._blur(r%2C%200%2C%200%2C%20e)%2C%20this._applyPMREM(r)%2C%20this._cleanup(r)%2C%20r%20%7D%20fromEquirectangular(t%2C%20e%20%3D%20null)%20%7B%20return%20this._fromTexture(t%2C%20e)%20%7D%20fromCubemap(t%2C%20e%20%3D%20null)%20%7B%20return%20this._fromTexture(t%2C%20e)%20%7D%20compileCubemapShader()%20%7B%20null%20%3D%3D%3D%20this._cubemapMaterial%20%26%26%20(this._cubemapMaterial%20%3D%20Gn()%2C%20this._compileMaterial(this._cubemapMaterial))%20%7D%20compileEquirectangularShader()%20%7B%20null%20%3D%3D%3D%20this._equirectMaterial%20%26%26%20(this._equirectMaterial%20%3D%20kn()%2C%20this._compileMaterial(this._equirectMaterial))%20%7D%20dispose()%20%7B%20this._dispose()%2C%20null%20!%3D%3D%20this._cubemapMaterial%20%26%26%20this._cubemapMaterial.dispose()%2C%20null%20!%3D%3D%20this._equirectMaterial%20%26%26%20this._equirectMaterial.dispose()%20%7D%20_setSize(t)%20%7B%20this._lodMax%20%3D%20Math.floor(Math.log2(t))%2C%20this._cubeSize%20%3D%20Math.pow(2%2C%20this._lodMax)%20%7D%20_dispose()%20%7B%20null%20!%3D%3D%20this._blurMaterial%20%26%26%20this._blurMaterial.dispose()%2C%20null%20!%3D%3D%20this._pingPongRenderTarget%20%26%26%20this._pingPongRenderTarget.dispose()%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20this._lodPlanes.length%3B%20t%2B%2B)this._lodPlanes%5Bt%5D.dispose()%20%7D%20_cleanup(t)%20%7B%20this._renderer.setRenderTarget(Dn)%2C%20t.scissorTest%20%3D%20!1%2C%20Fn(t%2C%200%2C%200%2C%20t.width%2C%20t.height)%20%7D%20_fromTexture(t%2C%20e)%20%7B%20t.mapping%20%3D%3D%3D%20r%20%7C%7C%20t.mapping%20%3D%3D%3D%20s%20%3F%20this._setSize(0%20%3D%3D%3D%20t.image.length%20%3F%2016%20%3A%20t.image%5B0%5D.width%20%7C%7C%20t.image%5B0%5D.image.width)%20%3A%20this._setSize(t.image.width%20%2F%204)%2C%20Dn%20%3D%20this._renderer.getRenderTarget()%3B%20const%20i%20%3D%20e%20%7C%7C%20this._allocateTargets()%3B%20return%20this._textureToCubeUV(t%2C%20i)%2C%20this._applyPMREM(i)%2C%20this._cleanup(i)%2C%20i%20%7D%20_allocateTargets()%20%7B%20const%20t%20%3D%203%20*%20Math.max(this._cubeSize%2C%20112)%2C%20e%20%3D%204%20*%20this._cubeSize%2C%20i%20%3D%20%7B%20magFilter%3A%20f%2C%20minFilter%3A%20f%2C%20generateMipmaps%3A%20!1%2C%20type%3A%20b%2C%20format%3A%20w%2C%20encoding%3A%20at%2C%20depthBuffer%3A%20!1%20%7D%2C%20n%20%3D%20Bn(t%2C%20e%2C%20i)%3B%20if%20(null%20%3D%3D%3D%20this._pingPongRenderTarget%20%7C%7C%20this._pingPongRenderTarget.width%20!%3D%3D%20t)%20%7B%20null%20!%3D%3D%20this._pingPongRenderTarget%20%26%26%20this._dispose()%2C%20this._pingPongRenderTarget%20%3D%20Bn(t%2C%20e%2C%20i)%3B%20const%20%7B%20_lodMax%3A%20n%20%7D%20%3D%20this%3B%20(%7B%20sizeLods%3A%20this._sizeLods%2C%20lodPlanes%3A%20this._lodPlanes%2C%20sigmas%3A%20this._sigmas%20%7D%20%3D%20function%20(t)%20%7B%20const%20e%20%3D%20%5B%5D%2C%20i%20%3D%20%5B%5D%2C%20n%20%3D%20%5B%5D%3B%20let%20r%20%3D%20t%3B%20const%20s%20%3D%20t%20-%204%20%2B%201%20%2B%20Ln.length%3B%20for%20(let%20a%20%3D%200%3B%20a%20%3C%20s%3B%20a%2B%2B)%20%7B%20const%20s%20%3D%20Math.pow(2%2C%20r)%3B%20i.push(s)%3B%20let%20o%20%3D%201%20%2F%20s%3B%20a%20%3E%20t%20-%204%20%3F%20o%20%3D%20Ln%5Ba%20-%20t%20%2B%204%20-%201%5D%20%3A%200%20%3D%3D%3D%20a%20%26%26%20(o%20%3D%200)%2C%20n.push(o)%3B%20const%20l%20%3D%201%20%2F%20(s%20-%202)%2C%20c%20%3D%20-l%2C%20h%20%3D%201%20%2B%20l%2C%20u%20%3D%20%5Bc%2C%20c%2C%20h%2C%20c%2C%20h%2C%20h%2C%20c%2C%20c%2C%20h%2C%20h%2C%20c%2C%20h%5D%2C%20d%20%3D%206%2C%20p%20%3D%206%2C%20m%20%3D%203%2C%20f%20%3D%202%2C%20g%20%3D%201%2C%20v%20%3D%20new%20Float32Array(m%20*%20p%20*%20d)%2C%20x%20%3D%20new%20Float32Array(f%20*%20p%20*%20d)%2C%20_%20%3D%20new%20Float32Array(g%20*%20p%20*%20d)%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20d%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20t%20%25%203%20*%202%20%2F%203%20-%201%2C%20i%20%3D%20t%20%3E%202%20%3F%200%20%3A%20-1%2C%20n%20%3D%20%5Be%2C%20i%2C%200%2C%20e%20%2B%202%20%2F%203%2C%20i%2C%200%2C%20e%20%2B%202%20%2F%203%2C%20i%20%2B%201%2C%200%2C%20e%2C%20i%2C%200%2C%20e%20%2B%202%20%2F%203%2C%20i%20%2B%201%2C%200%2C%20e%2C%20i%20%2B%201%2C%200%5D%3B%20v.set(n%2C%20m%20*%20p%20*%20t)%2C%20x.set(u%2C%20f%20*%20p%20*%20t)%3B%20const%20r%20%3D%20%5Bt%2C%20t%2C%20t%2C%20t%2C%20t%2C%20t%5D%3B%20_.set(r%2C%20g%20*%20p%20*%20t)%20%7D%20const%20y%20%3D%20new%20Di%3B%20y.setAttribute(%22position%22%2C%20new%20bi(v%2C%20m))%2C%20y.setAttribute(%22uv%22%2C%20new%20bi(x%2C%20f))%2C%20y.setAttribute(%22faceIndex%22%2C%20new%20bi(_%2C%20g))%2C%20e.push(y)%2C%20r%20%3E%204%20%26%26%20r--%20%7D%20return%20%7B%20lodPlanes%3A%20e%2C%20sizeLods%3A%20i%2C%20sigmas%3A%20n%20%7D%20%7D(n))%2C%20this._blurMaterial%20%3D%20function%20(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20new%20Float32Array(Rn)%2C%20r%20%3D%20new%20re(0%2C%201%2C%200)%2C%20s%20%3D%20new%20tn(%7B%20name%3A%20%22SphericalGaussianBlur%22%2C%20defines%3A%20%7B%20n%3A%20Rn%2C%20CUBEUV_TEXEL_WIDTH%3A%201%20%2F%20e%2C%20CUBEUV_TEXEL_HEIGHT%3A%201%20%2F%20i%2C%20CUBEUV_MAX_MIP%3A%20%60%24%7Bt%7D.0%60%20%7D%2C%20uniforms%3A%20%7B%20envMap%3A%20%7B%20value%3A%20null%20%7D%2C%20samples%3A%20%7B%20value%3A%201%20%7D%2C%20weights%3A%20%7B%20value%3A%20n%20%7D%2C%20latitudinal%3A%20%7B%20value%3A%20!1%20%7D%2C%20dTheta%3A%20%7B%20value%3A%200%20%7D%2C%20mipInt%3A%20%7B%20value%3A%200%20%7D%2C%20poleAxis%3A%20%7B%20value%3A%20r%20%7D%20%7D%2C%20vertexShader%3A%20Vn()%2C%20fragmentShader%3A%20%22%5Cn%5Cn%5Ct%5Ct%5Ctprecision%20mediump%20float%3B%5Cn%5Ct%5Ct%5Ctprecision%20mediump%20int%3B%5Cn%5Cn%5Ct%5Ct%5Ctvarying%20vec3%20vOutputDirection%3B%5Cn%5Cn%5Ct%5Ct%5Ctuniform%20sampler2D%20envMap%3B%5Cn%5Ct%5Ct%5Ctuniform%20int%20samples%3B%5Cn%5Ct%5Ct%5Ctuniform%20float%20weights%5B%20n%20%5D%3B%5Cn%5Ct%5Ct%5Ctuniform%20bool%20latitudinal%3B%5Cn%5Ct%5Ct%5Ctuniform%20float%20dTheta%3B%5Cn%5Ct%5Ct%5Ctuniform%20float%20mipInt%3B%5Cn%5Ct%5Ct%5Ctuniform%20vec3%20poleAxis%3B%5Cn%5Cn%5Ct%5Ct%5Ct%23define%20ENVMAP_TYPE_CUBE_UV%5Cn%5Ct%5Ct%5Ct%23include%20%3Ccube_uv_reflection_fragment%3E%5Cn%5Cn%5Ct%5Ct%5Ctvec3%20getSample(%20float%20theta%2C%20vec3%20axis%20)%20%7B%5Cn%5Cn%5Ct%5Ct%5Ct%5Ctfloat%20cosTheta%20%3D%20cos(%20theta%20)%3B%5Cn%5Ct%5Ct%5Ct%5Ct%2F%2F%20Rodrigues'%20axis-angle%20rotation%5Cn%5Ct%5Ct%5Ct%5Ctvec3%20sampleDirection%20%3D%20vOutputDirection%20*%20cosTheta%5Cn%5Ct%5Ct%5Ct%5Ct%5Ct%2B%20cross(%20axis%2C%20vOutputDirection%20)%20*%20sin(%20theta%20)%5Cn%5Ct%5Ct%5Ct%5Ct%5Ct%2B%20axis%20*%20dot(%20axis%2C%20vOutputDirection%20)%20*%20(%201.0%20-%20cosTheta%20)%3B%5Cn%5Cn%5Ct%5Ct%5Ct%5Ctreturn%20bilinearCubeUV(%20envMap%2C%20sampleDirection%2C%20mipInt%20)%3B%5Cn%5Cn%5Ct%5Ct%5Ct%7D%5Cn%5Cn%5Ct%5Ct%5Ctvoid%20main()%20%7B%5Cn%5Cn%5Ct%5Ct%5Ct%5Ctvec3%20axis%20%3D%20latitudinal%20%3F%20poleAxis%20%3A%20cross(%20poleAxis%2C%20vOutputDirection%20)%3B%5Cn%5Cn%5Ct%5Ct%5Ct%5Ctif%20(%20all(%20equal(%20axis%2C%20vec3(%200.0%20)%20)%20)%20)%20%7B%5Cn%5Cn%5Ct%5Ct%5Ct%5Ct%5Ctaxis%20%3D%20vec3(%20vOutputDirection.z%2C%200.0%2C%20-%20vOutputDirection.x%20)%3B%5Cn%5Cn%5Ct%5Ct%5Ct%5Ct%7D%5Cn%5Cn%5Ct%5Ct%5Ct%5Ctaxis%20%3D%20normalize(%20axis%20)%3B%5Cn%5Cn%5Ct%5Ct%5Ct%5Ctgl_FragColor%20%3D%20vec4(%200.0%2C%200.0%2C%200.0%2C%201.0%20)%3B%5Cn%5Ct%5Ct%5Ct%5Ctgl_FragColor.rgb%20%2B%3D%20weights%5B%200%20%5D%20*%20getSample(%200.0%2C%20axis%20)%3B%5Cn%5Cn%5Ct%5Ct%5Ct%5Ctfor%20(%20int%20i%20%3D%201%3B%20i%20%3C%20n%3B%20i%2B%2B%20)%20%7B%5Cn%5Cn%5Ct%5Ct%5Ct%5Ct%5Ctif%20(%20i%20%3E%3D%20samples%20)%20%7B%5Cn%5Cn%5Ct%5Ct%5Ct%5Ct%5Ct%5Ctbreak%3B%5Cn%5Cn%5Ct%5Ct%5Ct%5Ct%5Ct%7D%5Cn%5Cn%5Ct%5Ct%5Ct%5Ct%5Ctfloat%20theta%20%3D%20dTheta%20*%20float(%20i%20)%3B%5Cn%5Ct%5Ct%5Ct%5Ct%5Ctgl_FragColor.rgb%20%2B%3D%20weights%5B%20i%20%5D%20*%20getSample(%20-1.0%20*%20theta%2C%20axis%20)%3B%5Cn%5Ct%5Ct%5Ct%5Ct%5Ctgl_FragColor.rgb%20%2B%3D%20weights%5B%20i%20%5D%20*%20getSample(%20theta%2C%20axis%20)%3B%5Cn%5Cn%5Ct%5Ct%5Ct%5Ct%7D%5Cn%5Cn%5Ct%5Ct%5Ct%7D%5Cn%5Ct%5Ct%22%2C%20blending%3A%200%2C%20depthTest%3A%20!1%2C%20depthWrite%3A%20!1%20%7D)%3B%20return%20s%20%7D(n%2C%20t%2C%20e)%20%7D%20return%20n%20%7D%20_compileMaterial(t)%20%7B%20const%20e%20%3D%20new%20Xi(this._lodPlanes%5B0%5D%2C%20t)%3B%20this._renderer.compile(e%2C%20Pn)%20%7D%20_sceneToCubeUV(t%2C%20e%2C%20i%2C%20n)%20%7B%20const%20r%20%3D%20new%20nn(90%2C%201%2C%20e%2C%20i)%2C%20s%20%3D%20%5B1%2C%20-1%2C%201%2C%201%2C%201%2C%201%5D%2C%20a%20%3D%20%5B1%2C%201%2C%201%2C%20-1%2C%20-1%2C%20-1%5D%2C%20o%20%3D%20this._renderer%2C%20l%20%3D%20o.autoClear%2C%20c%20%3D%20o.toneMapping%3B%20o.getClearColor(In)%2C%20o.toneMapping%20%3D%200%2C%20o.autoClear%20%3D%20!1%3B%20const%20h%20%3D%20new%20_i(%7B%20name%3A%20%22PMREM.Background%22%2C%20side%3A%201%2C%20depthWrite%3A%20!1%2C%20depthTest%3A%20!1%20%7D)%2C%20u%20%3D%20new%20Xi(new%20Zi%2C%20h)%3B%20let%20d%20%3D%20!1%3B%20const%20p%20%3D%20t.background%3B%20p%20%3F%20p.isColor%20%26%26%20(h.color.copy(p)%2C%20t.background%20%3D%20null%2C%20d%20%3D%20!0)%20%3A%20(h.color.copy(In)%2C%20d%20%3D%20!0)%3B%20for%20(let%20e%20%3D%200%3B%20e%20%3C%206%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20e%20%25%203%3B%200%20%3D%3D%3D%20i%20%3F%20(r.up.set(0%2C%20s%5Be%5D%2C%200)%2C%20r.lookAt(a%5Be%5D%2C%200%2C%200))%20%3A%201%20%3D%3D%3D%20i%20%3F%20(r.up.set(0%2C%200%2C%20s%5Be%5D)%2C%20r.lookAt(0%2C%20a%5Be%5D%2C%200))%20%3A%20(r.up.set(0%2C%20s%5Be%5D%2C%200)%2C%20r.lookAt(0%2C%200%2C%20a%5Be%5D))%3B%20const%20l%20%3D%20this._cubeSize%3B%20Fn(n%2C%20i%20*%20l%2C%20e%20%3E%202%20%3F%20l%20%3A%200%2C%20l%2C%20l)%2C%20o.setRenderTarget(n)%2C%20d%20%26%26%20o.render(u%2C%20r)%2C%20o.render(t%2C%20r)%20%7D%20u.geometry.dispose()%2C%20u.material.dispose()%2C%20o.toneMapping%20%3D%20c%2C%20o.autoClear%20%3D%20l%2C%20t.background%20%3D%20p%20%7D%20_textureToCubeUV(t%2C%20e)%20%7B%20const%20i%20%3D%20this._renderer%2C%20n%20%3D%20t.mapping%20%3D%3D%3D%20r%20%7C%7C%20t.mapping%20%3D%3D%3D%20s%3B%20n%20%3F%20(null%20%3D%3D%3D%20this._cubemapMaterial%20%26%26%20(this._cubemapMaterial%20%3D%20Gn())%2C%20this._cubemapMaterial.uniforms.flipEnvMap.value%20%3D%20!1%20%3D%3D%3D%20t.isRenderTargetTexture%20%3F%20-1%20%3A%201)%20%3A%20null%20%3D%3D%3D%20this._equirectMaterial%20%26%26%20(this._equirectMaterial%20%3D%20kn())%3B%20const%20a%20%3D%20n%20%3F%20this._cubemapMaterial%20%3A%20this._equirectMaterial%2C%20o%20%3D%20new%20Xi(this._lodPlanes%5B0%5D%2C%20a)%3B%20a.uniforms.envMap.value%20%3D%20t%3B%20const%20l%20%3D%20this._cubeSize%3B%20Fn(e%2C%200%2C%200%2C%203%20*%20l%2C%202%20*%20l)%2C%20i.setRenderTarget(e)%2C%20i.render(o%2C%20Pn)%20%7D%20_applyPMREM(t)%20%7B%20const%20e%20%3D%20this._renderer%2C%20i%20%3D%20e.autoClear%3B%20e.autoClear%20%3D%20!1%3B%20for%20(let%20e%20%3D%201%3B%20e%20%3C%20this._lodPlanes.length%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20Math.sqrt(this._sigmas%5Be%5D%20*%20this._sigmas%5Be%5D%20-%20this._sigmas%5Be%20-%201%5D%20*%20this._sigmas%5Be%20-%201%5D)%2C%20n%20%3D%20zn%5B(e%20-%201)%20%25%20zn.length%5D%3B%20this._blur(t%2C%20e%20-%201%2C%20e%2C%20i%2C%20n)%20%7D%20e.autoClear%20%3D%20i%20%7D%20_blur(t%2C%20e%2C%20i%2C%20n%2C%20r)%20%7B%20const%20s%20%3D%20this._pingPongRenderTarget%3B%20this._halfBlur(t%2C%20s%2C%20e%2C%20i%2C%20n%2C%20%22latitudinal%22%2C%20r)%2C%20this._halfBlur(s%2C%20t%2C%20i%2C%20i%2C%20n%2C%20%22longitudinal%22%2C%20r)%20%7D%20_halfBlur(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%20a)%20%7B%20const%20o%20%3D%20this._renderer%2C%20l%20%3D%20this._blurMaterial%3B%20%22latitudinal%22%20!%3D%3D%20s%20%26%26%20%22longitudinal%22%20!%3D%3D%20s%20%26%26%20console.error(%22blur%20direction%20must%20be%20either%20latitudinal%20or%20longitudinal!%22)%3B%20const%20c%20%3D%20new%20Xi(this._lodPlanes%5Bn%5D%2C%20l)%2C%20h%20%3D%20l.uniforms%2C%20u%20%3D%20this._sizeLods%5Bi%5D%20-%201%2C%20d%20%3D%20isFinite(r)%20%3F%20Math.PI%20%2F%20(2%20*%20u)%20%3A%202%20*%20Math.PI%20%2F%2039%2C%20p%20%3D%20r%20%2F%20d%2C%20m%20%3D%20isFinite(r)%20%3F%201%20%2B%20Math.floor(3%20*%20p)%20%3A%20Rn%3B%20m%20%3E%20Rn%20%26%26%20console.warn(%60sigmaRadians%2C%20%24%7Br%7D%2C%20is%20too%20large%20and%20will%20clip%2C%20as%20it%20requested%20%24%7Bm%7D%20samples%20when%20the%20maximum%20is%20set%20to%2020%60)%3B%20const%20f%20%3D%20%5B%5D%3B%20let%20g%20%3D%200%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20Rn%3B%20%2B%2Bt)%20%7B%20const%20e%20%3D%20t%20%2F%20p%2C%20i%20%3D%20Math.exp(-e%20*%20e%20%2F%202)%3B%20f.push(i)%2C%200%20%3D%3D%3D%20t%20%3F%20g%20%2B%3D%20i%20%3A%20t%20%3C%20m%20%26%26%20(g%20%2B%3D%202%20*%20i)%20%7D%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20f.length%3B%20t%2B%2B)f%5Bt%5D%20%3D%20f%5Bt%5D%20%2F%20g%3B%20h.envMap.value%20%3D%20t.texture%2C%20h.samples.value%20%3D%20m%2C%20h.weights.value%20%3D%20f%2C%20h.latitudinal.value%20%3D%20%22latitudinal%22%20%3D%3D%3D%20s%2C%20a%20%26%26%20(h.poleAxis.value%20%3D%20a)%3B%20const%20%7B%20_lodMax%3A%20v%20%7D%20%3D%20this%3B%20h.dTheta.value%20%3D%20d%2C%20h.mipInt.value%20%3D%20v%20-%20i%3B%20const%20x%20%3D%20this._sizeLods%5Bn%5D%3B%20Fn(e%2C%203%20*%20x%20*%20(n%20%3E%20v%20-%204%20%3F%20n%20-%20v%20%2B%204%20%3A%200)%2C%204%20*%20(this._cubeSize%20-%20x)%2C%203%20*%20x%2C%202%20*%20x)%2C%20o.setRenderTarget(e)%2C%20o.render(c%2C%20Pn)%20%7D%20%7D%20function%20Bn(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20new%20te(t%2C%20e%2C%20i)%3B%20return%20n.texture.mapping%20%3D%20l%2C%20n.texture.name%20%3D%20%22PMREM.cubeUv%22%2C%20n.scissorTest%20%3D%20!0%2C%20n%20%7D%20function%20Fn(t%2C%20e%2C%20i%2C%20n%2C%20r)%20%7B%20t.viewport.set(e%2C%20i%2C%20n%2C%20r)%2C%20t.scissor.set(e%2C%20i%2C%20n%2C%20r)%20%7D%20function%20kn()%20%7B%20return%20new%20tn(%7B%20name%3A%20%22EquirectangularToCubeUV%22%2C%20uniforms%3A%20%7B%20envMap%3A%20%7B%20value%3A%20null%20%7D%20%7D%2C%20vertexShader%3A%20Vn()%2C%20fragmentShader%3A%20%22%5Cn%5Cn%5Ct%5Ct%5Ctprecision%20mediump%20float%3B%5Cn%5Ct%5Ct%5Ctprecision%20mediump%20int%3B%5Cn%5Cn%5Ct%5Ct%5Ctvarying%20vec3%20vOutputDirection%3B%5Cn%5Cn%5Ct%5Ct%5Ctuniform%20sampler2D%20envMap%3B%5Cn%5Cn%5Ct%5Ct%5Ct%23include%20%3Ccommon%3E%5Cn%5Cn%5Ct%5Ct%5Ctvoid%20main()%20%7B%5Cn%5Cn%5Ct%5Ct%5Ct%5Ctvec3%20outputDirection%20%3D%20normalize(%20vOutputDirection%20)%3B%5Cn%5Ct%5Ct%5Ct%5Ctvec2%20uv%20%3D%20equirectUv(%20outputDirection%20)%3B%5Cn%5Cn%5Ct%5Ct%5Ct%5Ctgl_FragColor%20%3D%20vec4(%20texture2D%20(%20envMap%2C%20uv%20).rgb%2C%201.0%20)%3B%5Cn%5Cn%5Ct%5Ct%5Ct%7D%5Cn%5Ct%5Ct%22%2C%20blending%3A%200%2C%20depthTest%3A%20!1%2C%20depthWrite%3A%20!1%20%7D)%20%7D%20function%20Gn()%20%7B%20return%20new%20tn(%7B%20name%3A%20%22CubemapToCubeUV%22%2C%20uniforms%3A%20%7B%20envMap%3A%20%7B%20value%3A%20null%20%7D%2C%20flipEnvMap%3A%20%7B%20value%3A%20-1%20%7D%20%7D%2C%20vertexShader%3A%20Vn()%2C%20fragmentShader%3A%20%22%5Cn%5Cn%5Ct%5Ct%5Ctprecision%20mediump%20float%3B%5Cn%5Ct%5Ct%5Ctprecision%20mediump%20int%3B%5Cn%5Cn%5Ct%5Ct%5Ctuniform%20float%20flipEnvMap%3B%5Cn%5Cn%5Ct%5Ct%5Ctvarying%20vec3%20vOutputDirection%3B%5Cn%5Cn%5Ct%5Ct%5Ctuniform%20samplerCube%20envMap%3B%5Cn%5Cn%5Ct%5Ct%5Ctvoid%20main()%20%7B%5Cn%5Cn%5Ct%5Ct%5Ct%5Ctgl_FragColor%20%3D%20textureCube(%20envMap%2C%20vec3(%20flipEnvMap%20*%20vOutputDirection.x%2C%20vOutputDirection.yz%20)%20)%3B%5Cn%5Cn%5Ct%5Ct%5Ct%7D%5Cn%5Ct%5Ct%22%2C%20blending%3A%200%2C%20depthTest%3A%20!1%2C%20depthWrite%3A%20!1%20%7D)%20%7D%20function%20Vn()%20%7B%20return%20%22%5Cn%5Cn%5Ct%5Ctprecision%20mediump%20float%3B%5Cn%5Ct%5Ctprecision%20mediump%20int%3B%5Cn%5Cn%5Ct%5Ctattribute%20float%20faceIndex%3B%5Cn%5Cn%5Ct%5Ctvarying%20vec3%20vOutputDirection%3B%5Cn%5Cn%5Ct%5Ct%2F%2F%20RH%20coordinate%20system%3B%20PMREM%20face-indexing%20convention%5Cn%5Ct%5Ctvec3%20getDirection(%20vec2%20uv%2C%20float%20face%20)%20%7B%5Cn%5Cn%5Ct%5Ct%5Ctuv%20%3D%202.0%20*%20uv%20-%201.0%3B%5Cn%5Cn%5Ct%5Ct%5Ctvec3%20direction%20%3D%20vec3(%20uv%2C%201.0%20)%3B%5Cn%5Cn%5Ct%5Ct%5Ctif%20(%20face%20%3D%3D%200.0%20)%20%7B%5Cn%5Cn%5Ct%5Ct%5Ct%5Ctdirection%20%3D%20direction.zyx%3B%20%2F%2F%20(%201%2C%20v%2C%20u%20)%20pos%20x%5Cn%5Cn%5Ct%5Ct%5Ct%7D%20else%20if%20(%20face%20%3D%3D%201.0%20)%20%7B%5Cn%5Cn%5Ct%5Ct%5Ct%5Ctdirection%20%3D%20direction.xzy%3B%5Cn%5Ct%5Ct%5Ct%5Ctdirection.xz%20*%3D%20-1.0%3B%20%2F%2F%20(%20-u%2C%201%2C%20-v%20)%20pos%20y%5Cn%5Cn%5Ct%5Ct%5Ct%7D%20else%20if%20(%20face%20%3D%3D%202.0%20)%20%7B%5Cn%5Cn%5Ct%5Ct%5Ct%5Ctdirection.x%20*%3D%20-1.0%3B%20%2F%2F%20(%20-u%2C%20v%2C%201%20)%20pos%20z%5Cn%5Cn%5Ct%5Ct%5Ct%7D%20else%20if%20(%20face%20%3D%3D%203.0%20)%20%7B%5Cn%5Cn%5Ct%5Ct%5Ct%5Ctdirection%20%3D%20direction.zyx%3B%5Cn%5Ct%5Ct%5Ct%5Ctdirection.xz%20*%3D%20-1.0%3B%20%2F%2F%20(%20-1%2C%20v%2C%20-u%20)%20neg%20x%5Cn%5Cn%5Ct%5Ct%5Ct%7D%20else%20if%20(%20face%20%3D%3D%204.0%20)%20%7B%5Cn%5Cn%5Ct%5Ct%5Ct%5Ctdirection%20%3D%20direction.xzy%3B%5Cn%5Ct%5Ct%5Ct%5Ctdirection.xy%20*%3D%20-1.0%3B%20%2F%2F%20(%20-u%2C%20-1%2C%20v%20)%20neg%20y%5Cn%5Cn%5Ct%5Ct%5Ct%7D%20else%20if%20(%20face%20%3D%3D%205.0%20)%20%7B%5Cn%5Cn%5Ct%5Ct%5Ct%5Ctdirection.z%20*%3D%20-1.0%3B%20%2F%2F%20(%20u%2C%20v%2C%20-1%20)%20neg%20z%5Cn%5Cn%5Ct%5Ct%5Ct%7D%5Cn%5Cn%5Ct%5Ct%5Ctreturn%20direction%3B%5Cn%5Cn%5Ct%5Ct%7D%5Cn%5Cn%5Ct%5Ctvoid%20main()%20%7B%5Cn%5Cn%5Ct%5Ct%5CtvOutputDirection%20%3D%20getDirection(%20uv%2C%20faceIndex%20)%3B%5Cn%5Ct%5Ct%5Ctgl_Position%20%3D%20vec4(%20position%2C%201.0%20)%3B%5Cn%5Cn%5Ct%5Ct%7D%5Cn%5Ct%22%20%7D%20function%20Hn(t)%20%7B%20let%20e%20%3D%20new%20WeakMap%2C%20i%20%3D%20null%3B%20function%20n(t)%20%7B%20const%20i%20%3D%20t.target%3B%20i.removeEventListener(%22dispose%22%2C%20n)%3B%20const%20r%20%3D%20e.get(i)%3B%20void%200%20!%3D%3D%20r%20%26%26%20(e.delete(i)%2C%20r.dispose())%20%7D%20return%20%7B%20get%3A%20function%20(l)%20%7B%20if%20(l%20%26%26%20l.isTexture)%20%7B%20const%20c%20%3D%20l.mapping%2C%20h%20%3D%20c%20%3D%3D%3D%20a%20%7C%7C%20c%20%3D%3D%3D%20o%2C%20u%20%3D%20c%20%3D%3D%3D%20r%20%7C%7C%20c%20%3D%3D%3D%20s%3B%20if%20(h%20%7C%7C%20u)%20%7B%20if%20(l.isRenderTargetTexture%20%26%26%20!0%20%3D%3D%3D%20l.needsPMREMUpdate)%20%7B%20l.needsPMREMUpdate%20%3D%20!1%3B%20let%20n%20%3D%20e.get(l)%3B%20return%20null%20%3D%3D%3D%20i%20%26%26%20(i%20%3D%20new%20Un(t))%2C%20n%20%3D%20h%20%3F%20i.fromEquirectangular(l%2C%20n)%20%3A%20i.fromCubemap(l%2C%20n)%2C%20e.set(l%2C%20n)%2C%20n.texture%20%7D%20if%20(e.has(l))%20return%20e.get(l).texture%3B%20%7B%20const%20r%20%3D%20l.image%3B%20if%20(h%20%26%26%20r%20%26%26%20r.height%20%3E%200%20%7C%7C%20u%20%26%26%20r%20%26%26%20function%20(t)%20%7B%20let%20e%20%3D%200%3B%20const%20i%20%3D%206%3B%20for%20(let%20n%20%3D%200%3B%20n%20%3C%20i%3B%20n%2B%2B)void%200%20!%3D%3D%20t%5Bn%5D%20%26%26%20e%2B%2B%3B%20return%20e%20%3D%3D%3D%20i%20%7D(r))%20%7B%20null%20%3D%3D%3D%20i%20%26%26%20(i%20%3D%20new%20Un(t))%3B%20const%20r%20%3D%20h%20%3F%20i.fromEquirectangular(l)%20%3A%20i.fromCubemap(l)%3B%20return%20e.set(l%2C%20r)%2C%20l.addEventListener(%22dispose%22%2C%20n)%2C%20r.texture%20%7D%20return%20null%20%7D%20%7D%20%7D%20return%20l%20%7D%2C%20dispose%3A%20function%20()%20%7B%20e%20%3D%20new%20WeakMap%2C%20null%20!%3D%3D%20i%20%26%26%20(i.dispose()%2C%20i%20%3D%20null)%20%7D%20%7D%20%7D%20function%20Wn(t)%20%7B%20const%20e%20%3D%20%7B%7D%3B%20function%20i(i)%20%7B%20if%20(void%200%20!%3D%3D%20e%5Bi%5D)%20return%20e%5Bi%5D%3B%20let%20n%3B%20switch%20(i)%20%7B%20case%20%22WEBGL_depth_texture%22%3A%20n%20%3D%20t.getExtension(%22WEBGL_depth_texture%22)%20%7C%7C%20t.getExtension(%22MOZ_WEBGL_depth_texture%22)%20%7C%7C%20t.getExtension(%22WEBKIT_WEBGL_depth_texture%22)%3B%20break%3B%20case%20%22EXT_texture_filter_anisotropic%22%3A%20n%20%3D%20t.getExtension(%22EXT_texture_filter_anisotropic%22)%20%7C%7C%20t.getExtension(%22MOZ_EXT_texture_filter_anisotropic%22)%20%7C%7C%20t.getExtension(%22WEBKIT_EXT_texture_filter_anisotropic%22)%3B%20break%3B%20case%20%22WEBGL_compressed_texture_s3tc%22%3A%20n%20%3D%20t.getExtension(%22WEBGL_compressed_texture_s3tc%22)%20%7C%7C%20t.getExtension(%22MOZ_WEBGL_compressed_texture_s3tc%22)%20%7C%7C%20t.getExtension(%22WEBKIT_WEBGL_compressed_texture_s3tc%22)%3B%20break%3B%20case%20%22WEBGL_compressed_texture_pvrtc%22%3A%20n%20%3D%20t.getExtension(%22WEBGL_compressed_texture_pvrtc%22)%20%7C%7C%20t.getExtension(%22WEBKIT_WEBGL_compressed_texture_pvrtc%22)%3B%20break%3B%20default%3A%20n%20%3D%20t.getExtension(i)%20%7Dreturn%20e%5Bi%5D%20%3D%20n%2C%20n%20%7D%20return%20%7B%20has%3A%20function%20(t)%20%7B%20return%20null%20!%3D%3D%20i(t)%20%7D%2C%20init%3A%20function%20(t)%20%7B%20t.isWebGL2%20%3F%20i(%22EXT_color_buffer_float%22)%20%3A%20(i(%22WEBGL_depth_texture%22)%2C%20i(%22OES_texture_float%22)%2C%20i(%22OES_texture_half_float%22)%2C%20i(%22OES_texture_half_float_linear%22)%2C%20i(%22OES_standard_derivatives%22)%2C%20i(%22OES_element_index_uint%22)%2C%20i(%22OES_vertex_array_object%22)%2C%20i(%22ANGLE_instanced_arrays%22))%2C%20i(%22OES_texture_float_linear%22)%2C%20i(%22EXT_color_buffer_half_float%22)%2C%20i(%22WEBGL_multisampled_render_to_texture%22)%20%7D%2C%20get%3A%20function%20(t)%20%7B%20const%20e%20%3D%20i(t)%3B%20return%20null%20%3D%3D%3D%20e%20%26%26%20console.warn(%22THREE.WebGLRenderer%3A%20%22%20%2B%20t%20%2B%20%22%20extension%20not%20supported.%22)%2C%20e%20%7D%20%7D%20%7D%20function%20jn(t%2C%20e%2C%20i%2C%20n)%20%7B%20const%20r%20%3D%20%7B%7D%2C%20s%20%3D%20new%20WeakMap%3B%20function%20a(t)%20%7B%20const%20o%20%3D%20t.target%3B%20null%20!%3D%3D%20o.index%20%26%26%20e.remove(o.index)%3B%20for%20(const%20t%20in%20o.attributes)%20e.remove(o.attributes%5Bt%5D)%3B%20o.removeEventListener(%22dispose%22%2C%20a)%2C%20delete%20r%5Bo.id%5D%3B%20const%20l%20%3D%20s.get(o)%3B%20l%20%26%26%20(e.remove(l)%2C%20s.delete(o))%2C%20n.releaseStatesOfGeometry(o)%2C%20!0%20%3D%3D%3D%20o.isInstancedBufferGeometry%20%26%26%20delete%20o._maxInstanceCount%2C%20i.memory.geometries--%20%7D%20function%20o(t)%20%7B%20const%20i%20%3D%20%5B%5D%2C%20n%20%3D%20t.index%2C%20r%20%3D%20t.attributes.position%3B%20let%20a%20%3D%200%3B%20if%20(null%20!%3D%3D%20n)%20%7B%20const%20t%20%3D%20n.array%3B%20a%20%3D%20n.version%3B%20for%20(let%20e%20%3D%200%2C%20n%20%3D%20t.length%3B%20e%20%3C%20n%3B%20e%20%2B%3D%203)%20%7B%20const%20n%20%3D%20t%5Be%20%2B%200%5D%2C%20r%20%3D%20t%5Be%20%2B%201%5D%2C%20s%20%3D%20t%5Be%20%2B%202%5D%3B%20i.push(n%2C%20r%2C%20r%2C%20s%2C%20s%2C%20n)%20%7D%20%7D%20else%20%7B%20const%20t%20%3D%20r.array%3B%20a%20%3D%20r.version%3B%20for%20(let%20e%20%3D%200%2C%20n%20%3D%20t.length%20%2F%203%20-%201%3B%20e%20%3C%20n%3B%20e%20%2B%3D%203)%20%7B%20const%20t%20%3D%20e%20%2B%200%2C%20n%20%3D%20e%20%2B%201%2C%20r%20%3D%20e%20%2B%202%3B%20i.push(t%2C%20n%2C%20n%2C%20r%2C%20r%2C%20t)%20%7D%20%7D%20const%20o%20%3D%20new%20(It(i)%20%3F%20wi%20%3A%20Si)(i%2C%201)%3B%20o.version%20%3D%20a%3B%20const%20l%20%3D%20s.get(t)%3B%20l%20%26%26%20e.remove(l)%2C%20s.set(t%2C%20o)%20%7D%20return%20%7B%20get%3A%20function%20(t%2C%20e)%20%7B%20return%20!0%20%3D%3D%3D%20r%5Be.id%5D%20%7C%7C%20(e.addEventListener(%22dispose%22%2C%20a)%2C%20r%5Be.id%5D%20%3D%20!0%2C%20i.memory.geometries%2B%2B)%2C%20e%20%7D%2C%20update%3A%20function%20(t)%20%7B%20const%20i%20%3D%20t.attributes%3B%20for%20(const%20t%20in%20i)%20e.update(i%5Bt%5D%2C%2034962)%3B%20const%20n%20%3D%20t.morphAttributes%3B%20for%20(const%20t%20in%20n)%20%7B%20const%20i%20%3D%20n%5Bt%5D%3B%20for%20(let%20t%20%3D%200%2C%20n%20%3D%20i.length%3B%20t%20%3C%20n%3B%20t%2B%2B)e.update(i%5Bt%5D%2C%2034962)%20%7D%20%7D%2C%20getWireframeAttribute%3A%20function%20(t)%20%7B%20const%20e%20%3D%20s.get(t)%3B%20if%20(e)%20%7B%20const%20i%20%3D%20t.index%3B%20null%20!%3D%3D%20i%20%26%26%20e.version%20%3C%20i.version%20%26%26%20o(t)%20%7D%20else%20o(t)%3B%20return%20s.get(t)%20%7D%20%7D%20%7D%20function%20qn(t%2C%20e%2C%20i%2C%20n)%20%7B%20const%20r%20%3D%20n.isWebGL2%3B%20let%20s%2C%20a%2C%20o%3B%20this.setMode%20%3D%20function%20(t)%20%7B%20s%20%3D%20t%20%7D%2C%20this.setIndex%20%3D%20function%20(t)%20%7B%20a%20%3D%20t.type%2C%20o%20%3D%20t.bytesPerElement%20%7D%2C%20this.render%20%3D%20function%20(e%2C%20n)%20%7B%20t.drawElements(s%2C%20n%2C%20a%2C%20e%20*%20o)%2C%20i.update(n%2C%20s%2C%201)%20%7D%2C%20this.renderInstances%20%3D%20function%20(n%2C%20l%2C%20c)%20%7B%20if%20(0%20%3D%3D%3D%20c)%20return%3B%20let%20h%2C%20u%3B%20if%20(r)%20h%20%3D%20t%2C%20u%20%3D%20%22drawElementsInstanced%22%3B%20else%20if%20(h%20%3D%20e.get(%22ANGLE_instanced_arrays%22)%2C%20u%20%3D%20%22drawElementsInstancedANGLE%22%2C%20null%20%3D%3D%3D%20h)%20return%20void%20console.error(%22THREE.WebGLIndexedBufferRenderer%3A%20using%20THREE.InstancedBufferGeometry%20but%20hardware%20does%20not%20support%20extension%20ANGLE_instanced_arrays.%22)%3B%20h%5Bu%5D(s%2C%20l%2C%20a%2C%20n%20*%20o%2C%20c)%2C%20i.update(l%2C%20s%2C%20c)%20%7D%20%7D%20function%20Xn(t)%20%7B%20const%20e%20%3D%20%7B%20frame%3A%200%2C%20calls%3A%200%2C%20triangles%3A%200%2C%20points%3A%200%2C%20lines%3A%200%20%7D%3B%20return%20%7B%20memory%3A%20%7B%20geometries%3A%200%2C%20textures%3A%200%20%7D%2C%20render%3A%20e%2C%20programs%3A%20null%2C%20autoReset%3A%20!0%2C%20reset%3A%20function%20()%20%7B%20e.frame%2B%2B%2C%20e.calls%20%3D%200%2C%20e.triangles%20%3D%200%2C%20e.points%20%3D%200%2C%20e.lines%20%3D%200%20%7D%2C%20update%3A%20function%20(t%2C%20i%2C%20n)%20%7B%20switch%20(e.calls%2B%2B%2C%20i)%20%7B%20case%204%3A%20e.triangles%20%2B%3D%20n%20*%20(t%20%2F%203)%3B%20break%3B%20case%201%3A%20e.lines%20%2B%3D%20n%20*%20(t%20%2F%202)%3B%20break%3B%20case%203%3A%20e.lines%20%2B%3D%20n%20*%20(t%20-%201)%3B%20break%3B%20case%202%3A%20e.lines%20%2B%3D%20n%20*%20t%3B%20break%3B%20case%200%3A%20e.points%20%2B%3D%20n%20*%20t%3B%20break%3B%20default%3A%20console.error(%22THREE.WebGLInfo%3A%20Unknown%20draw%20mode%3A%22%2C%20i)%20%7D%20%7D%20%7D%20%7D%20function%20Yn(t%2C%20e)%20%7B%20return%20t%5B0%5D%20-%20e%5B0%5D%20%7D%20function%20Zn(t%2C%20e)%20%7B%20return%20Math.abs(e%5B1%5D)%20-%20Math.abs(t%5B1%5D)%20%7D%20function%20Jn(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20%7B%7D%2C%20r%20%3D%20new%20Float32Array(8)%2C%20s%20%3D%20new%20WeakMap%2C%20a%20%3D%20new%20Qt%2C%20o%20%3D%20%5B%5D%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%208%3B%20t%2B%2B)o%5Bt%5D%20%3D%20%5Bt%2C%200%5D%3B%20return%20%7B%20update%3A%20function%20(l%2C%20c%2C%20h%2C%20u)%20%7B%20const%20d%20%3D%20l.morphTargetInfluences%3B%20if%20(!0%20%3D%3D%3D%20e.isWebGL2)%20%7B%20const%20p%20%3D%20c.morphAttributes.position%20%7C%7C%20c.morphAttributes.normal%20%7C%7C%20c.morphAttributes.color%2C%20m%20%3D%20void%200%20!%3D%3D%20p%20%3F%20p.length%20%3A%200%3B%20let%20f%20%3D%20s.get(c)%3B%20if%20(void%200%20%3D%3D%3D%20f%20%7C%7C%20f.count%20!%3D%3D%20m)%20%7B%20void%200%20!%3D%3D%20f%20%26%26%20f.texture.dispose()%3B%20const%20x%20%3D%20void%200%20!%3D%3D%20c.morphAttributes.position%2C%20_%20%3D%20void%200%20!%3D%3D%20c.morphAttributes.normal%2C%20y%20%3D%20void%200%20!%3D%3D%20c.morphAttributes.color%2C%20b%20%3D%20c.morphAttributes.position%20%7C%7C%20%5B%5D%2C%20S%20%3D%20c.morphAttributes.normal%20%7C%7C%20%5B%5D%2C%20w%20%3D%20c.morphAttributes.color%20%7C%7C%20%5B%5D%3B%20let%20T%20%3D%200%3B%20!0%20%3D%3D%3D%20x%20%26%26%20(T%20%3D%201)%2C%20!0%20%3D%3D%3D%20_%20%26%26%20(T%20%3D%202)%2C%20!0%20%3D%3D%3D%20y%20%26%26%20(T%20%3D%203)%3B%20let%20A%20%3D%20c.attributes.position.count%20*%20T%2C%20E%20%3D%201%3B%20A%20%3E%20e.maxTextureSize%20%26%26%20(E%20%3D%20Math.ceil(A%20%2F%20e.maxTextureSize)%2C%20A%20%3D%20e.maxTextureSize)%3B%20const%20C%20%3D%20new%20Float32Array(A%20*%20E%20*%204%20*%20m)%2C%20L%20%3D%20new%20ee(C%2C%20A%2C%20E%2C%20m)%3B%20L.type%20%3D%20M%2C%20L.needsUpdate%20%3D%20!0%3B%20const%20R%20%3D%204%20*%20T%3B%20for%20(let%20I%20%3D%200%3B%20I%20%3C%20m%3B%20I%2B%2B)%20%7B%20const%20D%20%3D%20b%5BI%5D%2C%20N%20%3D%20S%5BI%5D%2C%20O%20%3D%20w%5BI%5D%2C%20z%20%3D%20A%20*%20E%20*%204%20*%20I%3B%20for%20(let%20U%20%3D%200%3B%20U%20%3C%20D.count%3B%20U%2B%2B)%20%7B%20const%20B%20%3D%20U%20*%20R%3B%20!0%20%3D%3D%3D%20x%20%26%26%20(a.fromBufferAttribute(D%2C%20U)%2C%20C%5Bz%20%2B%20B%20%2B%200%5D%20%3D%20a.x%2C%20C%5Bz%20%2B%20B%20%2B%201%5D%20%3D%20a.y%2C%20C%5Bz%20%2B%20B%20%2B%202%5D%20%3D%20a.z%2C%20C%5Bz%20%2B%20B%20%2B%203%5D%20%3D%200)%2C%20!0%20%3D%3D%3D%20_%20%26%26%20(a.fromBufferAttribute(N%2C%20U)%2C%20C%5Bz%20%2B%20B%20%2B%204%5D%20%3D%20a.x%2C%20C%5Bz%20%2B%20B%20%2B%205%5D%20%3D%20a.y%2C%20C%5Bz%20%2B%20B%20%2B%206%5D%20%3D%20a.z%2C%20C%5Bz%20%2B%20B%20%2B%207%5D%20%3D%200)%2C%20!0%20%3D%3D%3D%20y%20%26%26%20(a.fromBufferAttribute(O%2C%20U)%2C%20C%5Bz%20%2B%20B%20%2B%208%5D%20%3D%20a.x%2C%20C%5Bz%20%2B%20B%20%2B%209%5D%20%3D%20a.y%2C%20C%5Bz%20%2B%20B%20%2B%2010%5D%20%3D%20a.z%2C%20C%5Bz%20%2B%20B%20%2B%2011%5D%20%3D%204%20%3D%3D%3D%20O.itemSize%20%3F%20a.w%20%3A%201)%20%7D%20%7D%20function%20P()%20%7B%20L.dispose()%2C%20s.delete(c)%2C%20c.removeEventListener(%22dispose%22%2C%20P)%20%7D%20f%20%3D%20%7B%20count%3A%20m%2C%20texture%3A%20L%2C%20size%3A%20new%20Lt(A%2C%20E)%20%7D%2C%20s.set(c%2C%20f)%2C%20c.addEventListener(%22dispose%22%2C%20P)%20%7D%20let%20g%20%3D%200%3B%20for%20(let%20F%20%3D%200%3B%20F%20%3C%20d.length%3B%20F%2B%2B)g%20%2B%3D%20d%5BF%5D%3B%20const%20v%20%3D%20c.morphTargetsRelative%20%3F%201%20%3A%201%20-%20g%3B%20u.getUniforms().setValue(t%2C%20%22morphTargetBaseInfluence%22%2C%20v)%2C%20u.getUniforms().setValue(t%2C%20%22morphTargetInfluences%22%2C%20d)%2C%20u.getUniforms().setValue(t%2C%20%22morphTargetsTexture%22%2C%20f.texture%2C%20i)%2C%20u.getUniforms().setValue(t%2C%20%22morphTargetsTextureSize%22%2C%20f.size)%20%7D%20else%20%7B%20const%20k%20%3D%20void%200%20%3D%3D%3D%20d%20%3F%200%20%3A%20d.length%3B%20let%20G%20%3D%20n%5Bc.id%5D%3B%20if%20(void%200%20%3D%3D%3D%20G%20%7C%7C%20G.length%20!%3D%3D%20k)%20%7B%20G%20%3D%20%5B%5D%3B%20for%20(let%20q%20%3D%200%3B%20q%20%3C%20k%3B%20q%2B%2B)G%5Bq%5D%20%3D%20%5Bq%2C%200%5D%3B%20n%5Bc.id%5D%20%3D%20G%20%7D%20for%20(let%20X%20%3D%200%3B%20X%20%3C%20k%3B%20X%2B%2B)%20%7B%20const%20Y%20%3D%20G%5BX%5D%3B%20Y%5B0%5D%20%3D%20X%2C%20Y%5B1%5D%20%3D%20d%5BX%5D%20%7D%20G.sort(Zn)%3B%20for%20(let%20Z%20%3D%200%3B%20Z%20%3C%208%3B%20Z%2B%2B)Z%20%3C%20k%20%26%26%20G%5BZ%5D%5B1%5D%20%3F%20(o%5BZ%5D%5B0%5D%20%3D%20G%5BZ%5D%5B0%5D%2C%20o%5BZ%5D%5B1%5D%20%3D%20G%5BZ%5D%5B1%5D)%20%3A%20(o%5BZ%5D%5B0%5D%20%3D%20Number.MAX_SAFE_INTEGER%2C%20o%5BZ%5D%5B1%5D%20%3D%200)%3B%20o.sort(Yn)%3B%20const%20V%20%3D%20c.morphAttributes.position%2C%20H%20%3D%20c.morphAttributes.normal%3B%20let%20W%20%3D%200%3B%20for%20(let%20J%20%3D%200%3B%20J%20%3C%208%3B%20J%2B%2B)%20%7B%20const%20K%20%3D%20o%5BJ%5D%2C%20%24%20%3D%20K%5B0%5D%2C%20Q%20%3D%20K%5B1%5D%3B%20%24%20!%3D%3D%20Number.MAX_SAFE_INTEGER%20%26%26%20Q%20%3F%20(V%20%26%26%20c.getAttribute(%22morphTarget%22%20%2B%20J)%20!%3D%3D%20V%5B%24%5D%20%26%26%20c.setAttribute(%22morphTarget%22%20%2B%20J%2C%20V%5B%24%5D)%2C%20H%20%26%26%20c.getAttribute(%22morphNormal%22%20%2B%20J)%20!%3D%3D%20H%5B%24%5D%20%26%26%20c.setAttribute(%22morphNormal%22%20%2B%20J%2C%20H%5B%24%5D)%2C%20r%5BJ%5D%20%3D%20Q%2C%20W%20%2B%3D%20Q)%20%3A%20(V%20%26%26%20!0%20%3D%3D%3D%20c.hasAttribute(%22morphTarget%22%20%2B%20J)%20%26%26%20c.deleteAttribute(%22morphTarget%22%20%2B%20J)%2C%20H%20%26%26%20!0%20%3D%3D%3D%20c.hasAttribute(%22morphNormal%22%20%2B%20J)%20%26%26%20c.deleteAttribute(%22morphNormal%22%20%2B%20J)%2C%20r%5BJ%5D%20%3D%200)%20%7D%20const%20j%20%3D%20c.morphTargetsRelative%20%3F%201%20%3A%201%20-%20W%3B%20u.getUniforms().setValue(t%2C%20%22morphTargetBaseInfluence%22%2C%20j)%2C%20u.getUniforms().setValue(t%2C%20%22morphTargetInfluences%22%2C%20r)%20%7D%20%7D%20%7D%20%7D%20function%20Kn(t%2C%20e%2C%20i%2C%20n)%20%7B%20let%20r%20%3D%20new%20WeakMap%3B%20function%20s(t)%20%7B%20const%20e%20%3D%20t.target%3B%20e.removeEventListener(%22dispose%22%2C%20s)%2C%20i.remove(e.instanceMatrix)%2C%20null%20!%3D%3D%20e.instanceColor%20%26%26%20i.remove(e.instanceColor)%20%7D%20return%20%7B%20update%3A%20function%20(t)%20%7B%20const%20a%20%3D%20n.render.frame%2C%20o%20%3D%20t.geometry%2C%20l%20%3D%20e.get(t%2C%20o)%3B%20return%20r.get(l)%20!%3D%3D%20a%20%26%26%20(e.update(l)%2C%20r.set(l%2C%20a))%2C%20t.isInstancedMesh%20%26%26%20(!1%20%3D%3D%3D%20t.hasEventListener(%22dispose%22%2C%20s)%20%26%26%20t.addEventListener(%22dispose%22%2C%20s)%2C%20i.update(t.instanceMatrix%2C%2034962)%2C%20null%20!%3D%3D%20t.instanceColor%20%26%26%20i.update(t.instanceColor%2C%2034962))%2C%20l%20%7D%2C%20dispose%3A%20function%20()%20%7B%20r%20%3D%20new%20WeakMap%20%7D%20%7D%20%7D%20const%20%24n%20%3D%20new%20%24t%2C%20Qn%20%3D%20new%20ee%2C%20tr%20%3D%20new%20ie%2C%20er%20%3D%20new%20an%2C%20ir%20%3D%20%5B%5D%2C%20nr%20%3D%20%5B%5D%2C%20rr%20%3D%20new%20Float32Array(16)%2C%20sr%20%3D%20new%20Float32Array(9)%2C%20ar%20%3D%20new%20Float32Array(4)%3B%20function%20or(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20t%5B0%5D%3B%20if%20(n%20%3C%3D%200%20%7C%7C%20n%20%3E%200)%20return%20t%3B%20const%20r%20%3D%20e%20*%20i%3B%20let%20s%20%3D%20ir%5Br%5D%3B%20if%20(void%200%20%3D%3D%3D%20s%20%26%26%20(s%20%3D%20new%20Float32Array(r)%2C%20ir%5Br%5D%20%3D%20s)%2C%200%20!%3D%3D%20e)%20%7B%20n.toArray(s%2C%200)%3B%20for%20(let%20n%20%3D%201%2C%20r%20%3D%200%3B%20n%20!%3D%3D%20e%3B%20%2B%2Bn)r%20%2B%3D%20i%2C%20t%5Bn%5D.toArray(s%2C%20r)%20%7D%20return%20s%20%7D%20function%20lr(t%2C%20e)%20%7B%20if%20(t.length%20!%3D%3D%20e.length)%20return%20!1%3B%20for%20(let%20i%20%3D%200%2C%20n%20%3D%20t.length%3B%20i%20%3C%20n%3B%20i%2B%2B)if%20(t%5Bi%5D%20!%3D%3D%20e%5Bi%5D)%20return%20!1%3B%20return%20!0%20%7D%20function%20cr(t%2C%20e)%20%7B%20for%20(let%20i%20%3D%200%2C%20n%20%3D%20e.length%3B%20i%20%3C%20n%3B%20i%2B%2B)t%5Bi%5D%20%3D%20e%5Bi%5D%20%7D%20function%20hr(t%2C%20e)%20%7B%20let%20i%20%3D%20nr%5Be%5D%3B%20void%200%20%3D%3D%3D%20i%20%26%26%20(i%20%3D%20new%20Int32Array(e)%2C%20nr%5Be%5D%20%3D%20i)%3B%20for%20(let%20n%20%3D%200%3B%20n%20!%3D%3D%20e%3B%20%2B%2Bn)i%5Bn%5D%20%3D%20t.allocateTextureUnit()%3B%20return%20i%20%7D%20function%20ur(t%2C%20e)%20%7B%20const%20i%20%3D%20this.cache%3B%20i%5B0%5D%20!%3D%3D%20e%20%26%26%20(t.uniform1f(this.addr%2C%20e)%2C%20i%5B0%5D%20%3D%20e)%20%7D%20function%20dr(t%2C%20e)%20%7B%20const%20i%20%3D%20this.cache%3B%20if%20(void%200%20!%3D%3D%20e.x)%20i%5B0%5D%20%3D%3D%3D%20e.x%20%26%26%20i%5B1%5D%20%3D%3D%3D%20e.y%20%7C%7C%20(t.uniform2f(this.addr%2C%20e.x%2C%20e.y)%2C%20i%5B0%5D%20%3D%20e.x%2C%20i%5B1%5D%20%3D%20e.y)%3B%20else%20%7B%20if%20(lr(i%2C%20e))%20return%3B%20t.uniform2fv(this.addr%2C%20e)%2C%20cr(i%2C%20e)%20%7D%20%7D%20function%20pr(t%2C%20e)%20%7B%20const%20i%20%3D%20this.cache%3B%20if%20(void%200%20!%3D%3D%20e.x)%20i%5B0%5D%20%3D%3D%3D%20e.x%20%26%26%20i%5B1%5D%20%3D%3D%3D%20e.y%20%26%26%20i%5B2%5D%20%3D%3D%3D%20e.z%20%7C%7C%20(t.uniform3f(this.addr%2C%20e.x%2C%20e.y%2C%20e.z)%2C%20i%5B0%5D%20%3D%20e.x%2C%20i%5B1%5D%20%3D%20e.y%2C%20i%5B2%5D%20%3D%20e.z)%3B%20else%20if%20(void%200%20!%3D%3D%20e.r)%20i%5B0%5D%20%3D%3D%3D%20e.r%20%26%26%20i%5B1%5D%20%3D%3D%3D%20e.g%20%26%26%20i%5B2%5D%20%3D%3D%3D%20e.b%20%7C%7C%20(t.uniform3f(this.addr%2C%20e.r%2C%20e.g%2C%20e.b)%2C%20i%5B0%5D%20%3D%20e.r%2C%20i%5B1%5D%20%3D%20e.g%2C%20i%5B2%5D%20%3D%20e.b)%3B%20else%20%7B%20if%20(lr(i%2C%20e))%20return%3B%20t.uniform3fv(this.addr%2C%20e)%2C%20cr(i%2C%20e)%20%7D%20%7D%20function%20mr(t%2C%20e)%20%7B%20const%20i%20%3D%20this.cache%3B%20if%20(void%200%20!%3D%3D%20e.x)%20i%5B0%5D%20%3D%3D%3D%20e.x%20%26%26%20i%5B1%5D%20%3D%3D%3D%20e.y%20%26%26%20i%5B2%5D%20%3D%3D%3D%20e.z%20%26%26%20i%5B3%5D%20%3D%3D%3D%20e.w%20%7C%7C%20(t.uniform4f(this.addr%2C%20e.x%2C%20e.y%2C%20e.z%2C%20e.w)%2C%20i%5B0%5D%20%3D%20e.x%2C%20i%5B1%5D%20%3D%20e.y%2C%20i%5B2%5D%20%3D%20e.z%2C%20i%5B3%5D%20%3D%20e.w)%3B%20else%20%7B%20if%20(lr(i%2C%20e))%20return%3B%20t.uniform4fv(this.addr%2C%20e)%2C%20cr(i%2C%20e)%20%7D%20%7D%20function%20fr(t%2C%20e)%20%7B%20const%20i%20%3D%20this.cache%2C%20n%20%3D%20e.elements%3B%20if%20(void%200%20%3D%3D%3D%20n)%20%7B%20if%20(lr(i%2C%20e))%20return%3B%20t.uniformMatrix2fv(this.addr%2C%20!1%2C%20e)%2C%20cr(i%2C%20e)%20%7D%20else%20%7B%20if%20(lr(i%2C%20n))%20return%3B%20ar.set(n)%2C%20t.uniformMatrix2fv(this.addr%2C%20!1%2C%20ar)%2C%20cr(i%2C%20n)%20%7D%20%7D%20function%20gr(t%2C%20e)%20%7B%20const%20i%20%3D%20this.cache%2C%20n%20%3D%20e.elements%3B%20if%20(void%200%20%3D%3D%3D%20n)%20%7B%20if%20(lr(i%2C%20e))%20return%3B%20t.uniformMatrix3fv(this.addr%2C%20!1%2C%20e)%2C%20cr(i%2C%20e)%20%7D%20else%20%7B%20if%20(lr(i%2C%20n))%20return%3B%20sr.set(n)%2C%20t.uniformMatrix3fv(this.addr%2C%20!1%2C%20sr)%2C%20cr(i%2C%20n)%20%7D%20%7D%20function%20vr(t%2C%20e)%20%7B%20const%20i%20%3D%20this.cache%2C%20n%20%3D%20e.elements%3B%20if%20(void%200%20%3D%3D%3D%20n)%20%7B%20if%20(lr(i%2C%20e))%20return%3B%20t.uniformMatrix4fv(this.addr%2C%20!1%2C%20e)%2C%20cr(i%2C%20e)%20%7D%20else%20%7B%20if%20(lr(i%2C%20n))%20return%3B%20rr.set(n)%2C%20t.uniformMatrix4fv(this.addr%2C%20!1%2C%20rr)%2C%20cr(i%2C%20n)%20%7D%20%7D%20function%20xr(t%2C%20e)%20%7B%20const%20i%20%3D%20this.cache%3B%20i%5B0%5D%20!%3D%3D%20e%20%26%26%20(t.uniform1i(this.addr%2C%20e)%2C%20i%5B0%5D%20%3D%20e)%20%7D%20function%20_r(t%2C%20e)%20%7B%20const%20i%20%3D%20this.cache%3B%20if%20(void%200%20!%3D%3D%20e.x)%20i%5B0%5D%20%3D%3D%3D%20e.x%20%26%26%20i%5B1%5D%20%3D%3D%3D%20e.y%20%7C%7C%20(t.uniform2i(this.addr%2C%20e.x%2C%20e.y)%2C%20i%5B0%5D%20%3D%20e.x%2C%20i%5B1%5D%20%3D%20e.y)%3B%20else%20%7B%20if%20(lr(i%2C%20e))%20return%3B%20t.uniform2iv(this.addr%2C%20e)%2C%20cr(i%2C%20e)%20%7D%20%7D%20function%20yr(t%2C%20e)%20%7B%20const%20i%20%3D%20this.cache%3B%20if%20(void%200%20!%3D%3D%20e.x)%20i%5B0%5D%20%3D%3D%3D%20e.x%20%26%26%20i%5B1%5D%20%3D%3D%3D%20e.y%20%26%26%20i%5B2%5D%20%3D%3D%3D%20e.z%20%7C%7C%20(t.uniform3i(this.addr%2C%20e.x%2C%20e.y%2C%20e.z)%2C%20i%5B0%5D%20%3D%20e.x%2C%20i%5B1%5D%20%3D%20e.y%2C%20i%5B2%5D%20%3D%20e.z)%3B%20else%20%7B%20if%20(lr(i%2C%20e))%20return%3B%20t.uniform3iv(this.addr%2C%20e)%2C%20cr(i%2C%20e)%20%7D%20%7D%20function%20Mr(t%2C%20e)%20%7B%20const%20i%20%3D%20this.cache%3B%20if%20(void%200%20!%3D%3D%20e.x)%20i%5B0%5D%20%3D%3D%3D%20e.x%20%26%26%20i%5B1%5D%20%3D%3D%3D%20e.y%20%26%26%20i%5B2%5D%20%3D%3D%3D%20e.z%20%26%26%20i%5B3%5D%20%3D%3D%3D%20e.w%20%7C%7C%20(t.uniform4i(this.addr%2C%20e.x%2C%20e.y%2C%20e.z%2C%20e.w)%2C%20i%5B0%5D%20%3D%20e.x%2C%20i%5B1%5D%20%3D%20e.y%2C%20i%5B2%5D%20%3D%20e.z%2C%20i%5B3%5D%20%3D%20e.w)%3B%20else%20%7B%20if%20(lr(i%2C%20e))%20return%3B%20t.uniform4iv(this.addr%2C%20e)%2C%20cr(i%2C%20e)%20%7D%20%7D%20function%20br(t%2C%20e)%20%7B%20const%20i%20%3D%20this.cache%3B%20i%5B0%5D%20!%3D%3D%20e%20%26%26%20(t.uniform1ui(this.addr%2C%20e)%2C%20i%5B0%5D%20%3D%20e)%20%7D%20function%20Sr(t%2C%20e)%20%7B%20const%20i%20%3D%20this.cache%3B%20if%20(void%200%20!%3D%3D%20e.x)%20i%5B0%5D%20%3D%3D%3D%20e.x%20%26%26%20i%5B1%5D%20%3D%3D%3D%20e.y%20%7C%7C%20(t.uniform2ui(this.addr%2C%20e.x%2C%20e.y)%2C%20i%5B0%5D%20%3D%20e.x%2C%20i%5B1%5D%20%3D%20e.y)%3B%20else%20%7B%20if%20(lr(i%2C%20e))%20return%3B%20t.uniform2uiv(this.addr%2C%20e)%2C%20cr(i%2C%20e)%20%7D%20%7D%20function%20wr(t%2C%20e)%20%7B%20const%20i%20%3D%20this.cache%3B%20if%20(void%200%20!%3D%3D%20e.x)%20i%5B0%5D%20%3D%3D%3D%20e.x%20%26%26%20i%5B1%5D%20%3D%3D%3D%20e.y%20%26%26%20i%5B2%5D%20%3D%3D%3D%20e.z%20%7C%7C%20(t.uniform3ui(this.addr%2C%20e.x%2C%20e.y%2C%20e.z)%2C%20i%5B0%5D%20%3D%20e.x%2C%20i%5B1%5D%20%3D%20e.y%2C%20i%5B2%5D%20%3D%20e.z)%3B%20else%20%7B%20if%20(lr(i%2C%20e))%20return%3B%20t.uniform3uiv(this.addr%2C%20e)%2C%20cr(i%2C%20e)%20%7D%20%7D%20function%20Tr(t%2C%20e)%20%7B%20const%20i%20%3D%20this.cache%3B%20if%20(void%200%20!%3D%3D%20e.x)%20i%5B0%5D%20%3D%3D%3D%20e.x%20%26%26%20i%5B1%5D%20%3D%3D%3D%20e.y%20%26%26%20i%5B2%5D%20%3D%3D%3D%20e.z%20%26%26%20i%5B3%5D%20%3D%3D%3D%20e.w%20%7C%7C%20(t.uniform4ui(this.addr%2C%20e.x%2C%20e.y%2C%20e.z%2C%20e.w)%2C%20i%5B0%5D%20%3D%20e.x%2C%20i%5B1%5D%20%3D%20e.y%2C%20i%5B2%5D%20%3D%20e.z%2C%20i%5B3%5D%20%3D%20e.w)%3B%20else%20%7B%20if%20(lr(i%2C%20e))%20return%3B%20t.uniform4uiv(this.addr%2C%20e)%2C%20cr(i%2C%20e)%20%7D%20%7D%20function%20Ar(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20this.cache%2C%20r%20%3D%20i.allocateTextureUnit()%3B%20n%5B0%5D%20!%3D%3D%20r%20%26%26%20(t.uniform1i(this.addr%2C%20r)%2C%20n%5B0%5D%20%3D%20r)%2C%20i.setTexture2D(e%20%7C%7C%20%24n%2C%20r)%20%7D%20function%20Er(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20this.cache%2C%20r%20%3D%20i.allocateTextureUnit()%3B%20n%5B0%5D%20!%3D%3D%20r%20%26%26%20(t.uniform1i(this.addr%2C%20r)%2C%20n%5B0%5D%20%3D%20r)%2C%20i.setTexture3D(e%20%7C%7C%20tr%2C%20r)%20%7D%20function%20Cr(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20this.cache%2C%20r%20%3D%20i.allocateTextureUnit()%3B%20n%5B0%5D%20!%3D%3D%20r%20%26%26%20(t.uniform1i(this.addr%2C%20r)%2C%20n%5B0%5D%20%3D%20r)%2C%20i.setTextureCube(e%20%7C%7C%20er%2C%20r)%20%7D%20function%20Lr(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20this.cache%2C%20r%20%3D%20i.allocateTextureUnit()%3B%20n%5B0%5D%20!%3D%3D%20r%20%26%26%20(t.uniform1i(this.addr%2C%20r)%2C%20n%5B0%5D%20%3D%20r)%2C%20i.setTexture2DArray(e%20%7C%7C%20Qn%2C%20r)%20%7D%20function%20Rr(t%2C%20e)%20%7B%20t.uniform1fv(this.addr%2C%20e)%20%7D%20function%20Pr(t%2C%20e)%20%7B%20const%20i%20%3D%20or(e%2C%20this.size%2C%202)%3B%20t.uniform2fv(this.addr%2C%20i)%20%7D%20function%20Ir(t%2C%20e)%20%7B%20const%20i%20%3D%20or(e%2C%20this.size%2C%203)%3B%20t.uniform3fv(this.addr%2C%20i)%20%7D%20function%20Dr(t%2C%20e)%20%7B%20const%20i%20%3D%20or(e%2C%20this.size%2C%204)%3B%20t.uniform4fv(this.addr%2C%20i)%20%7D%20function%20Nr(t%2C%20e)%20%7B%20const%20i%20%3D%20or(e%2C%20this.size%2C%204)%3B%20t.uniformMatrix2fv(this.addr%2C%20!1%2C%20i)%20%7D%20function%20Or(t%2C%20e)%20%7B%20const%20i%20%3D%20or(e%2C%20this.size%2C%209)%3B%20t.uniformMatrix3fv(this.addr%2C%20!1%2C%20i)%20%7D%20function%20zr(t%2C%20e)%20%7B%20const%20i%20%3D%20or(e%2C%20this.size%2C%2016)%3B%20t.uniformMatrix4fv(this.addr%2C%20!1%2C%20i)%20%7D%20function%20Ur(t%2C%20e)%20%7B%20t.uniform1iv(this.addr%2C%20e)%20%7D%20function%20Br(t%2C%20e)%20%7B%20t.uniform2iv(this.addr%2C%20e)%20%7D%20function%20Fr(t%2C%20e)%20%7B%20t.uniform3iv(this.addr%2C%20e)%20%7D%20function%20kr(t%2C%20e)%20%7B%20t.uniform4iv(this.addr%2C%20e)%20%7D%20function%20Gr(t%2C%20e)%20%7B%20t.uniform1uiv(this.addr%2C%20e)%20%7D%20function%20Vr(t%2C%20e)%20%7B%20t.uniform2uiv(this.addr%2C%20e)%20%7D%20function%20Hr(t%2C%20e)%20%7B%20t.uniform3uiv(this.addr%2C%20e)%20%7D%20function%20Wr(t%2C%20e)%20%7B%20t.uniform4uiv(this.addr%2C%20e)%20%7D%20function%20jr(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20this.cache%2C%20r%20%3D%20e.length%2C%20s%20%3D%20hr(i%2C%20r)%3B%20lr(n%2C%20s)%20%7C%7C%20(t.uniform1iv(this.addr%2C%20s)%2C%20cr(n%2C%20s))%3B%20for%20(let%20t%20%3D%200%3B%20t%20!%3D%3D%20r%3B%20%2B%2Bt)i.setTexture2D(e%5Bt%5D%20%7C%7C%20%24n%2C%20s%5Bt%5D)%20%7D%20function%20qr(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20this.cache%2C%20r%20%3D%20e.length%2C%20s%20%3D%20hr(i%2C%20r)%3B%20lr(n%2C%20s)%20%7C%7C%20(t.uniform1iv(this.addr%2C%20s)%2C%20cr(n%2C%20s))%3B%20for%20(let%20t%20%3D%200%3B%20t%20!%3D%3D%20r%3B%20%2B%2Bt)i.setTexture3D(e%5Bt%5D%20%7C%7C%20tr%2C%20s%5Bt%5D)%20%7D%20function%20Xr(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20this.cache%2C%20r%20%3D%20e.length%2C%20s%20%3D%20hr(i%2C%20r)%3B%20lr(n%2C%20s)%20%7C%7C%20(t.uniform1iv(this.addr%2C%20s)%2C%20cr(n%2C%20s))%3B%20for%20(let%20t%20%3D%200%3B%20t%20!%3D%3D%20r%3B%20%2B%2Bt)i.setTextureCube(e%5Bt%5D%20%7C%7C%20er%2C%20s%5Bt%5D)%20%7D%20function%20Yr(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20this.cache%2C%20r%20%3D%20e.length%2C%20s%20%3D%20hr(i%2C%20r)%3B%20lr(n%2C%20s)%20%7C%7C%20(t.uniform1iv(this.addr%2C%20s)%2C%20cr(n%2C%20s))%3B%20for%20(let%20t%20%3D%200%3B%20t%20!%3D%3D%20r%3B%20%2B%2Bt)i.setTexture2DArray(e%5Bt%5D%20%7C%7C%20Qn%2C%20s%5Bt%5D)%20%7D%20class%20Zr%20%7B%20constructor(t%2C%20e%2C%20i)%20%7B%20this.id%20%3D%20t%2C%20this.addr%20%3D%20i%2C%20this.cache%20%3D%20%5B%5D%2C%20this.setValue%20%3D%20function%20(t)%20%7B%20switch%20(t)%20%7B%20case%205126%3A%20return%20ur%3B%20case%2035664%3A%20return%20dr%3B%20case%2035665%3A%20return%20pr%3B%20case%2035666%3A%20return%20mr%3B%20case%2035674%3A%20return%20fr%3B%20case%2035675%3A%20return%20gr%3B%20case%2035676%3A%20return%20vr%3B%20case%205124%3A%20case%2035670%3A%20return%20xr%3B%20case%2035667%3A%20case%2035671%3A%20return%20_r%3B%20case%2035668%3A%20case%2035672%3A%20return%20yr%3B%20case%2035669%3A%20case%2035673%3A%20return%20Mr%3B%20case%205125%3A%20return%20br%3B%20case%2036294%3A%20return%20Sr%3B%20case%2036295%3A%20return%20wr%3B%20case%2036296%3A%20return%20Tr%3B%20case%2035678%3A%20case%2036198%3A%20case%2036298%3A%20case%2036306%3A%20case%2035682%3A%20return%20Ar%3B%20case%2035679%3A%20case%2036299%3A%20case%2036307%3A%20return%20Er%3B%20case%2035680%3A%20case%2036300%3A%20case%2036308%3A%20case%2036293%3A%20return%20Cr%3B%20case%2036289%3A%20case%2036303%3A%20case%2036311%3A%20case%2036292%3A%20return%20Lr%20%7D%20%7D(e.type)%20%7D%20%7D%20class%20Jr%20%7B%20constructor(t%2C%20e%2C%20i)%20%7B%20this.id%20%3D%20t%2C%20this.addr%20%3D%20i%2C%20this.cache%20%3D%20%5B%5D%2C%20this.size%20%3D%20e.size%2C%20this.setValue%20%3D%20function%20(t)%20%7B%20switch%20(t)%20%7B%20case%205126%3A%20return%20Rr%3B%20case%2035664%3A%20return%20Pr%3B%20case%2035665%3A%20return%20Ir%3B%20case%2035666%3A%20return%20Dr%3B%20case%2035674%3A%20return%20Nr%3B%20case%2035675%3A%20return%20Or%3B%20case%2035676%3A%20return%20zr%3B%20case%205124%3A%20case%2035670%3A%20return%20Ur%3B%20case%2035667%3A%20case%2035671%3A%20return%20Br%3B%20case%2035668%3A%20case%2035672%3A%20return%20Fr%3B%20case%2035669%3A%20case%2035673%3A%20return%20kr%3B%20case%205125%3A%20return%20Gr%3B%20case%2036294%3A%20return%20Vr%3B%20case%2036295%3A%20return%20Hr%3B%20case%2036296%3A%20return%20Wr%3B%20case%2035678%3A%20case%2036198%3A%20case%2036298%3A%20case%2036306%3A%20case%2035682%3A%20return%20jr%3B%20case%2035679%3A%20case%2036299%3A%20case%2036307%3A%20return%20qr%3B%20case%2035680%3A%20case%2036300%3A%20case%2036308%3A%20case%2036293%3A%20return%20Xr%3B%20case%2036289%3A%20case%2036303%3A%20case%2036311%3A%20case%2036292%3A%20return%20Yr%20%7D%20%7D(e.type)%20%7D%20%7D%20class%20Kr%20%7B%20constructor(t)%20%7B%20this.id%20%3D%20t%2C%20this.seq%20%3D%20%5B%5D%2C%20this.map%20%3D%20%7B%7D%20%7D%20setValue(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20this.seq%3B%20for%20(let%20r%20%3D%200%2C%20s%20%3D%20n.length%3B%20r%20!%3D%3D%20s%3B%20%2B%2Br)%20%7B%20const%20s%20%3D%20n%5Br%5D%3B%20s.setValue(t%2C%20e%5Bs.id%5D%2C%20i)%20%7D%20%7D%20%7D%20const%20%24r%20%3D%20%2F(%5Cw%2B)(%5C%5D)%3F(%5C%5B%7C%5C.)%3F%2Fg%3B%20function%20Qr(t%2C%20e)%20%7B%20t.seq.push(e)%2C%20t.map%5Be.id%5D%20%3D%20e%20%7D%20function%20ts(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20t.name%2C%20r%20%3D%20n.length%3B%20for%20(%24r.lastIndex%20%3D%200%3B%20%3B)%20%7B%20const%20s%20%3D%20%24r.exec(n)%2C%20a%20%3D%20%24r.lastIndex%3B%20let%20o%20%3D%20s%5B1%5D%3B%20const%20l%20%3D%20%22%5D%22%20%3D%3D%3D%20s%5B2%5D%2C%20c%20%3D%20s%5B3%5D%3B%20if%20(l%20%26%26%20(o%20%7C%3D%200)%2C%20void%200%20%3D%3D%3D%20c%20%7C%7C%20%22%5B%22%20%3D%3D%3D%20c%20%26%26%20a%20%2B%202%20%3D%3D%3D%20r)%20%7B%20Qr(i%2C%20void%200%20%3D%3D%3D%20c%20%3F%20new%20Zr(o%2C%20t%2C%20e)%20%3A%20new%20Jr(o%2C%20t%2C%20e))%3B%20break%20%7D%20%7B%20let%20t%20%3D%20i.map%5Bo%5D%3B%20void%200%20%3D%3D%3D%20t%20%26%26%20(t%20%3D%20new%20Kr(o)%2C%20Qr(i%2C%20t))%2C%20i%20%3D%20t%20%7D%20%7D%20%7D%20class%20es%20%7B%20constructor(t%2C%20e)%20%7B%20this.seq%20%3D%20%5B%5D%2C%20this.map%20%3D%20%7B%7D%3B%20const%20i%20%3D%20t.getProgramParameter(e%2C%2035718)%3B%20for%20(let%20n%20%3D%200%3B%20n%20%3C%20i%3B%20%2B%2Bn)%20%7B%20const%20i%20%3D%20t.getActiveUniform(e%2C%20n)%3B%20ts(i%2C%20t.getUniformLocation(e%2C%20i.name)%2C%20this)%20%7D%20%7D%20setValue(t%2C%20e%2C%20i%2C%20n)%20%7B%20const%20r%20%3D%20this.map%5Be%5D%3B%20void%200%20!%3D%3D%20r%20%26%26%20r.setValue(t%2C%20i%2C%20n)%20%7D%20setOptional(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20e%5Bi%5D%3B%20void%200%20!%3D%3D%20n%20%26%26%20this.setValue(t%2C%20i%2C%20n)%20%7D%20static%20upload(t%2C%20e%2C%20i%2C%20n)%20%7B%20for%20(let%20r%20%3D%200%2C%20s%20%3D%20e.length%3B%20r%20!%3D%3D%20s%3B%20%2B%2Br)%20%7B%20const%20s%20%3D%20e%5Br%5D%2C%20a%20%3D%20i%5Bs.id%5D%3B%20!1%20!%3D%3D%20a.needsUpdate%20%26%26%20s.setValue(t%2C%20a.value%2C%20n)%20%7D%20%7D%20static%20seqWithValue(t%2C%20e)%20%7B%20const%20i%20%3D%20%5B%5D%3B%20for%20(let%20n%20%3D%200%2C%20r%20%3D%20t.length%3B%20n%20!%3D%3D%20r%3B%20%2B%2Bn)%20%7B%20const%20r%20%3D%20t%5Bn%5D%3B%20r.id%20in%20e%20%26%26%20i.push(r)%20%7D%20return%20i%20%7D%20%7D%20function%20is(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20t.createShader(e)%3B%20return%20t.shaderSource(n%2C%20i)%2C%20t.compileShader(n)%2C%20n%20%7D%20let%20ns%20%3D%200%3B%20function%20rs(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20t.getShaderParameter(e%2C%2035713)%2C%20r%20%3D%20t.getShaderInfoLog(e).trim()%3B%20if%20(n%20%26%26%20%22%22%20%3D%3D%3D%20r)%20return%20%22%22%3B%20const%20s%20%3D%20%2FERROR%3A%200%3A(%5Cd%2B)%2F.exec(r)%3B%20if%20(s)%20%7B%20const%20n%20%3D%20parseInt(s%5B1%5D)%3B%20return%20i.toUpperCase()%20%2B%20%22%5Cn%5Cn%22%20%2B%20r%20%2B%20%22%5Cn%5Cn%22%20%2B%20function%20(t%2C%20e)%20%7B%20const%20i%20%3D%20t.split(%22%5Cn%22)%2C%20n%20%3D%20%5B%5D%2C%20r%20%3D%20Math.max(e%20-%206%2C%200)%2C%20s%20%3D%20Math.min(e%20%2B%206%2C%20i.length)%3B%20for%20(let%20t%20%3D%20r%3B%20t%20%3C%20s%3B%20t%2B%2B)%20%7B%20const%20r%20%3D%20t%20%2B%201%3B%20n.push(%60%24%7Br%20%3D%3D%3D%20e%20%3F%20%22%3E%22%20%3A%20%22%20%22%7D%20%24%7Br%7D%3A%20%24%7Bi%5Bt%5D%7D%60)%20%7D%20return%20n.join(%22%5Cn%22)%20%7D(t.getShaderSource(e)%2C%20n)%20%7D%20return%20r%20%7D%20function%20ss(t%2C%20e)%20%7B%20const%20i%20%3D%20function%20(t)%20%7B%20switch%20(t)%20%7B%20case%20at%3A%20return%20%5B%22Linear%22%2C%20%22(%20value%20)%22%5D%3B%20case%20ot%3A%20return%20%5B%22sRGB%22%2C%20%22(%20value%20)%22%5D%3B%20default%3A%20return%20console.warn(%22THREE.WebGLProgram%3A%20Unsupported%20encoding%3A%22%2C%20t)%2C%20%5B%22Linear%22%2C%20%22(%20value%20)%22%5D%20%7D%20%7D(e)%3B%20return%20%22vec4%20%22%20%2B%20t%20%2B%20%22(%20vec4%20value%20)%20%7B%20return%20LinearTo%22%20%2B%20i%5B0%5D%20%2B%20i%5B1%5D%20%2B%20%22%3B%20%7D%22%20%7D%20function%20as(t%2C%20e)%20%7B%20let%20i%3B%20switch%20(e)%20%7B%20case%201%3A%20i%20%3D%20%22Linear%22%3B%20break%3B%20case%202%3A%20i%20%3D%20%22Reinhard%22%3B%20break%3B%20case%203%3A%20i%20%3D%20%22OptimizedCineon%22%3B%20break%3B%20case%204%3A%20i%20%3D%20%22ACESFilmic%22%3B%20break%3B%20case%205%3A%20i%20%3D%20%22Custom%22%3B%20break%3B%20default%3A%20console.warn(%22THREE.WebGLProgram%3A%20Unsupported%20toneMapping%3A%22%2C%20e)%2C%20i%20%3D%20%22Linear%22%20%7Dreturn%20%22vec3%20%22%20%2B%20t%20%2B%20%22(%20vec3%20color%20)%20%7B%20return%20%22%20%2B%20i%20%2B%20%22ToneMapping(%20color%20)%3B%20%7D%22%20%7D%20function%20os(t)%20%7B%20return%20%22%22%20!%3D%3D%20t%20%7D%20function%20ls(t%2C%20e)%20%7B%20const%20i%20%3D%20e.numSpotLightShadows%20%2B%20e.numSpotLightMaps%20-%20e.numSpotLightShadowsWithMaps%3B%20return%20t.replace(%2FNUM_DIR_LIGHTS%2Fg%2C%20e.numDirLights).replace(%2FNUM_SPOT_LIGHTS%2Fg%2C%20e.numSpotLights).replace(%2FNUM_SPOT_LIGHT_MAPS%2Fg%2C%20e.numSpotLightMaps).replace(%2FNUM_SPOT_LIGHT_COORDS%2Fg%2C%20i).replace(%2FNUM_RECT_AREA_LIGHTS%2Fg%2C%20e.numRectAreaLights).replace(%2FNUM_POINT_LIGHTS%2Fg%2C%20e.numPointLights).replace(%2FNUM_HEMI_LIGHTS%2Fg%2C%20e.numHemiLights).replace(%2FNUM_DIR_LIGHT_SHADOWS%2Fg%2C%20e.numDirLightShadows).replace(%2FNUM_SPOT_LIGHT_SHADOWS_WITH_MAPS%2Fg%2C%20e.numSpotLightShadowsWithMaps).replace(%2FNUM_SPOT_LIGHT_SHADOWS%2Fg%2C%20e.numSpotLightShadows).replace(%2FNUM_POINT_LIGHT_SHADOWS%2Fg%2C%20e.numPointLightShadows)%20%7D%20function%20cs(t%2C%20e)%20%7B%20return%20t.replace(%2FNUM_CLIPPING_PLANES%2Fg%2C%20e.numClippingPlanes).replace(%2FUNION_CLIPPING_PLANES%2Fg%2C%20e.numClippingPlanes%20-%20e.numClipIntersection)%20%7D%20const%20hs%20%3D%20%2F%5E%5B%20%5Ct%5D*%23include%20%2B%3C(%5B%5Cw%5Cd.%2F%5D%2B)%3E%2Fgm%3B%20function%20us(t)%20%7B%20return%20t.replace(hs%2C%20ds)%20%7D%20function%20ds(t%2C%20e)%20%7B%20const%20i%20%3D%20xn%5Be%5D%3B%20if%20(void%200%20%3D%3D%3D%20i)%20throw%20new%20Error(%22Can%20not%20resolve%20%23include%20%3C%22%20%2B%20e%20%2B%20%22%3E%22)%3B%20return%20us(i)%20%7D%20const%20ps%20%3D%20%2F%23pragma%20unroll_loop_start%5Cs%2Bfor%5Cs*%5C(%5Cs*int%5Cs%2Bi%5Cs*%3D%5Cs*(%5Cd%2B)%5Cs*%3B%5Cs*i%5Cs*%3C%5Cs*(%5Cd%2B)%5Cs*%3B%5Cs*i%5Cs*%5C%2B%5C%2B%5Cs*%5C)%5Cs*%7B(%5B%5Cs%5CS%5D%2B%3F)%7D%5Cs%2B%23pragma%20unroll_loop_end%2Fg%3B%20function%20ms(t)%20%7B%20return%20t.replace(ps%2C%20fs)%20%7D%20function%20fs(t%2C%20e%2C%20i%2C%20n)%20%7B%20let%20r%20%3D%20%22%22%3B%20for%20(let%20t%20%3D%20parseInt(e)%3B%20t%20%3C%20parseInt(i)%3B%20t%2B%2B)r%20%2B%3D%20n.replace(%2F%5C%5B%5Cs*i%5Cs*%5C%5D%2Fg%2C%20%22%5B%20%22%20%2B%20t%20%2B%20%22%20%5D%22).replace(%2FUNROLLED_LOOP_INDEX%2Fg%2C%20t)%3B%20return%20r%20%7D%20function%20gs(t)%20%7B%20let%20e%20%3D%20%22precision%20%22%20%2B%20t.precision%20%2B%20%22%20float%3B%5Cnprecision%20%22%20%2B%20t.precision%20%2B%20%22%20int%3B%22%3B%20return%20%22highp%22%20%3D%3D%3D%20t.precision%20%3F%20e%20%2B%3D%20%22%5Cn%23define%20HIGH_PRECISION%22%20%3A%20%22mediump%22%20%3D%3D%3D%20t.precision%20%3F%20e%20%2B%3D%20%22%5Cn%23define%20MEDIUM_PRECISION%22%20%3A%20%22lowp%22%20%3D%3D%3D%20t.precision%20%26%26%20(e%20%2B%3D%20%22%5Cn%23define%20LOW_PRECISION%22)%2C%20e%20%7D%20function%20vs(t%2C%20e%2C%20i%2C%20n)%20%7B%20const%20a%20%3D%20t.getContext()%2C%20o%20%3D%20i.defines%3B%20let%20c%20%3D%20i.vertexShader%2C%20h%20%3D%20i.fragmentShader%3B%20const%20u%20%3D%20function%20(t)%20%7B%20let%20e%20%3D%20%22SHADOWMAP_TYPE_BASIC%22%3B%20return%201%20%3D%3D%3D%20t.shadowMapType%20%3F%20e%20%3D%20%22SHADOWMAP_TYPE_PCF%22%20%3A%202%20%3D%3D%3D%20t.shadowMapType%20%3F%20e%20%3D%20%22SHADOWMAP_TYPE_PCF_SOFT%22%20%3A%203%20%3D%3D%3D%20t.shadowMapType%20%26%26%20(e%20%3D%20%22SHADOWMAP_TYPE_VSM%22)%2C%20e%20%7D(i)%2C%20d%20%3D%20function%20(t)%20%7B%20let%20e%20%3D%20%22ENVMAP_TYPE_CUBE%22%3B%20if%20(t.envMap)%20switch%20(t.envMapMode)%20%7B%20case%20r%3A%20case%20s%3A%20e%20%3D%20%22ENVMAP_TYPE_CUBE%22%3B%20break%3B%20case%20l%3A%20e%20%3D%20%22ENVMAP_TYPE_CUBE_UV%22%20%7Dreturn%20e%20%7D(i)%2C%20p%20%3D%20function%20(t)%20%7B%20let%20e%20%3D%20%22ENVMAP_MODE_REFLECTION%22%3B%20t.envMap%20%26%26%20t.envMapMode%20%3D%3D%3D%20s%20%26%26%20(e%20%3D%20%22ENVMAP_MODE_REFRACTION%22)%3B%20return%20e%20%7D(i)%2C%20m%20%3D%20function%20(t)%20%7B%20let%20e%20%3D%20%22ENVMAP_BLENDING_NONE%22%3B%20if%20(t.envMap)%20switch%20(t.combine)%20%7B%20case%200%3A%20e%20%3D%20%22ENVMAP_BLENDING_MULTIPLY%22%3B%20break%3B%20case%201%3A%20e%20%3D%20%22ENVMAP_BLENDING_MIX%22%3B%20break%3B%20case%202%3A%20e%20%3D%20%22ENVMAP_BLENDING_ADD%22%20%7Dreturn%20e%20%7D(i)%2C%20f%20%3D%20function%20(t)%20%7B%20const%20e%20%3D%20t.envMapCubeUVHeight%3B%20if%20(null%20%3D%3D%3D%20e)%20return%20null%3B%20const%20i%20%3D%20Math.log2(e)%20-%202%2C%20n%20%3D%201%20%2F%20e%3B%20return%20%7B%20texelWidth%3A%201%20%2F%20(3%20*%20Math.max(Math.pow(2%2C%20i)%2C%20112))%2C%20texelHeight%3A%20n%2C%20maxMip%3A%20i%20%7D%20%7D(i)%2C%20g%20%3D%20i.isWebGL2%20%3F%20%22%22%20%3A%20function%20(t)%20%7B%20return%20%5Bt.extensionDerivatives%20%7C%7C%20t.envMapCubeUVHeight%20%7C%7C%20t.bumpMap%20%7C%7C%20t.tangentSpaceNormalMap%20%7C%7C%20t.clearcoatNormalMap%20%7C%7C%20t.flatShading%20%7C%7C%20%22physical%22%20%3D%3D%3D%20t.shaderID%20%3F%20%22%23extension%20GL_OES_standard_derivatives%20%3A%20enable%22%20%3A%20%22%22%2C%20(t.extensionFragDepth%20%7C%7C%20t.logarithmicDepthBuffer)%20%26%26%20t.rendererExtensionFragDepth%20%3F%20%22%23extension%20GL_EXT_frag_depth%20%3A%20enable%22%20%3A%20%22%22%2C%20t.extensionDrawBuffers%20%26%26%20t.rendererExtensionDrawBuffers%20%3F%20%22%23extension%20GL_EXT_draw_buffers%20%3A%20require%22%20%3A%20%22%22%2C%20(t.extensionShaderTextureLOD%20%7C%7C%20t.envMap%20%7C%7C%20t.transmission)%20%26%26%20t.rendererExtensionShaderTextureLod%20%3F%20%22%23extension%20GL_EXT_shader_texture_lod%20%3A%20enable%22%20%3A%20%22%22%5D.filter(os).join(%22%5Cn%22)%20%7D(i)%2C%20v%20%3D%20function%20(t)%20%7B%20const%20e%20%3D%20%5B%5D%3B%20for%20(const%20i%20in%20t)%20%7B%20const%20n%20%3D%20t%5Bi%5D%3B%20!1%20!%3D%3D%20n%20%26%26%20e.push(%22%23define%20%22%20%2B%20i%20%2B%20%22%20%22%20%2B%20n)%20%7D%20return%20e.join(%22%5Cn%22)%20%7D(o)%2C%20x%20%3D%20a.createProgram()%3B%20let%20_%2C%20y%2C%20M%20%3D%20i.glslVersion%20%3F%20%22%23version%20%22%20%2B%20i.glslVersion%20%2B%20%22%5Cn%22%20%3A%20%22%22%3B%20i.isRawShaderMaterial%20%3F%20(_%20%3D%20%5Bv%5D.filter(os).join(%22%5Cn%22)%2C%20_.length%20%3E%200%20%26%26%20(_%20%2B%3D%20%22%5Cn%22)%2C%20y%20%3D%20%5Bg%2C%20v%5D.filter(os).join(%22%5Cn%22)%2C%20y.length%20%3E%200%20%26%26%20(y%20%2B%3D%20%22%5Cn%22))%20%3A%20(_%20%3D%20%5Bgs(i)%2C%20%22%23define%20SHADER_NAME%20%22%20%2B%20i.shaderName%2C%20v%2C%20i.instancing%20%3F%20%22%23define%20USE_INSTANCING%22%20%3A%20%22%22%2C%20i.instancingColor%20%3F%20%22%23define%20USE_INSTANCING_COLOR%22%20%3A%20%22%22%2C%20i.supportsVertexTextures%20%3F%20%22%23define%20VERTEX_TEXTURES%22%20%3A%20%22%22%2C%20i.useFog%20%26%26%20i.fog%20%3F%20%22%23define%20USE_FOG%22%20%3A%20%22%22%2C%20i.useFog%20%26%26%20i.fogExp2%20%3F%20%22%23define%20FOG_EXP2%22%20%3A%20%22%22%2C%20i.map%20%3F%20%22%23define%20USE_MAP%22%20%3A%20%22%22%2C%20i.envMap%20%3F%20%22%23define%20USE_ENVMAP%22%20%3A%20%22%22%2C%20i.envMap%20%3F%20%22%23define%20%22%20%2B%20p%20%3A%20%22%22%2C%20i.lightMap%20%3F%20%22%23define%20USE_LIGHTMAP%22%20%3A%20%22%22%2C%20i.aoMap%20%3F%20%22%23define%20USE_AOMAP%22%20%3A%20%22%22%2C%20i.emissiveMap%20%3F%20%22%23define%20USE_EMISSIVEMAP%22%20%3A%20%22%22%2C%20i.bumpMap%20%3F%20%22%23define%20USE_BUMPMAP%22%20%3A%20%22%22%2C%20i.normalMap%20%3F%20%22%23define%20USE_NORMALMAP%22%20%3A%20%22%22%2C%20i.normalMap%20%26%26%20i.objectSpaceNormalMap%20%3F%20%22%23define%20OBJECTSPACE_NORMALMAP%22%20%3A%20%22%22%2C%20i.normalMap%20%26%26%20i.tangentSpaceNormalMap%20%3F%20%22%23define%20TANGENTSPACE_NORMALMAP%22%20%3A%20%22%22%2C%20i.clearcoatMap%20%3F%20%22%23define%20USE_CLEARCOATMAP%22%20%3A%20%22%22%2C%20i.clearcoatRoughnessMap%20%3F%20%22%23define%20USE_CLEARCOAT_ROUGHNESSMAP%22%20%3A%20%22%22%2C%20i.clearcoatNormalMap%20%3F%20%22%23define%20USE_CLEARCOAT_NORMALMAP%22%20%3A%20%22%22%2C%20i.iridescenceMap%20%3F%20%22%23define%20USE_IRIDESCENCEMAP%22%20%3A%20%22%22%2C%20i.iridescenceThicknessMap%20%3F%20%22%23define%20USE_IRIDESCENCE_THICKNESSMAP%22%20%3A%20%22%22%2C%20i.displacementMap%20%26%26%20i.supportsVertexTextures%20%3F%20%22%23define%20USE_DISPLACEMENTMAP%22%20%3A%20%22%22%2C%20i.specularMap%20%3F%20%22%23define%20USE_SPECULARMAP%22%20%3A%20%22%22%2C%20i.specularIntensityMap%20%3F%20%22%23define%20USE_SPECULARINTENSITYMAP%22%20%3A%20%22%22%2C%20i.specularColorMap%20%3F%20%22%23define%20USE_SPECULARCOLORMAP%22%20%3A%20%22%22%2C%20i.roughnessMap%20%3F%20%22%23define%20USE_ROUGHNESSMAP%22%20%3A%20%22%22%2C%20i.metalnessMap%20%3F%20%22%23define%20USE_METALNESSMAP%22%20%3A%20%22%22%2C%20i.alphaMap%20%3F%20%22%23define%20USE_ALPHAMAP%22%20%3A%20%22%22%2C%20i.transmission%20%3F%20%22%23define%20USE_TRANSMISSION%22%20%3A%20%22%22%2C%20i.transmissionMap%20%3F%20%22%23define%20USE_TRANSMISSIONMAP%22%20%3A%20%22%22%2C%20i.thicknessMap%20%3F%20%22%23define%20USE_THICKNESSMAP%22%20%3A%20%22%22%2C%20i.sheenColorMap%20%3F%20%22%23define%20USE_SHEENCOLORMAP%22%20%3A%20%22%22%2C%20i.sheenRoughnessMap%20%3F%20%22%23define%20USE_SHEENROUGHNESSMAP%22%20%3A%20%22%22%2C%20i.vertexTangents%20%3F%20%22%23define%20USE_TANGENT%22%20%3A%20%22%22%2C%20i.vertexColors%20%3F%20%22%23define%20USE_COLOR%22%20%3A%20%22%22%2C%20i.vertexAlphas%20%3F%20%22%23define%20USE_COLOR_ALPHA%22%20%3A%20%22%22%2C%20i.vertexUvs%20%3F%20%22%23define%20USE_UV%22%20%3A%20%22%22%2C%20i.uvsVertexOnly%20%3F%20%22%23define%20UVS_VERTEX_ONLY%22%20%3A%20%22%22%2C%20i.flatShading%20%3F%20%22%23define%20FLAT_SHADED%22%20%3A%20%22%22%2C%20i.skinning%20%3F%20%22%23define%20USE_SKINNING%22%20%3A%20%22%22%2C%20i.morphTargets%20%3F%20%22%23define%20USE_MORPHTARGETS%22%20%3A%20%22%22%2C%20i.morphNormals%20%26%26%20!1%20%3D%3D%3D%20i.flatShading%20%3F%20%22%23define%20USE_MORPHNORMALS%22%20%3A%20%22%22%2C%20i.morphColors%20%26%26%20i.isWebGL2%20%3F%20%22%23define%20USE_MORPHCOLORS%22%20%3A%20%22%22%2C%20i.morphTargetsCount%20%3E%200%20%26%26%20i.isWebGL2%20%3F%20%22%23define%20MORPHTARGETS_TEXTURE%22%20%3A%20%22%22%2C%20i.morphTargetsCount%20%3E%200%20%26%26%20i.isWebGL2%20%3F%20%22%23define%20MORPHTARGETS_TEXTURE_STRIDE%20%22%20%2B%20i.morphTextureStride%20%3A%20%22%22%2C%20i.morphTargetsCount%20%3E%200%20%26%26%20i.isWebGL2%20%3F%20%22%23define%20MORPHTARGETS_COUNT%20%22%20%2B%20i.morphTargetsCount%20%3A%20%22%22%2C%20i.doubleSided%20%3F%20%22%23define%20DOUBLE_SIDED%22%20%3A%20%22%22%2C%20i.flipSided%20%3F%20%22%23define%20FLIP_SIDED%22%20%3A%20%22%22%2C%20i.shadowMapEnabled%20%3F%20%22%23define%20USE_SHADOWMAP%22%20%3A%20%22%22%2C%20i.shadowMapEnabled%20%3F%20%22%23define%20%22%20%2B%20u%20%3A%20%22%22%2C%20i.sizeAttenuation%20%3F%20%22%23define%20USE_SIZEATTENUATION%22%20%3A%20%22%22%2C%20i.logarithmicDepthBuffer%20%3F%20%22%23define%20USE_LOGDEPTHBUF%22%20%3A%20%22%22%2C%20i.logarithmicDepthBuffer%20%26%26%20i.rendererExtensionFragDepth%20%3F%20%22%23define%20USE_LOGDEPTHBUF_EXT%22%20%3A%20%22%22%2C%20%22uniform%20mat4%20modelMatrix%3B%22%2C%20%22uniform%20mat4%20modelViewMatrix%3B%22%2C%20%22uniform%20mat4%20projectionMatrix%3B%22%2C%20%22uniform%20mat4%20viewMatrix%3B%22%2C%20%22uniform%20mat3%20normalMatrix%3B%22%2C%20%22uniform%20vec3%20cameraPosition%3B%22%2C%20%22uniform%20bool%20isOrthographic%3B%22%2C%20%22%23ifdef%20USE_INSTANCING%22%2C%20%22%5Ctattribute%20mat4%20instanceMatrix%3B%22%2C%20%22%23endif%22%2C%20%22%23ifdef%20USE_INSTANCING_COLOR%22%2C%20%22%5Ctattribute%20vec3%20instanceColor%3B%22%2C%20%22%23endif%22%2C%20%22attribute%20vec3%20position%3B%22%2C%20%22attribute%20vec3%20normal%3B%22%2C%20%22attribute%20vec2%20uv%3B%22%2C%20%22%23ifdef%20USE_TANGENT%22%2C%20%22%5Ctattribute%20vec4%20tangent%3B%22%2C%20%22%23endif%22%2C%20%22%23if%20defined(%20USE_COLOR_ALPHA%20)%22%2C%20%22%5Ctattribute%20vec4%20color%3B%22%2C%20%22%23elif%20defined(%20USE_COLOR%20)%22%2C%20%22%5Ctattribute%20vec3%20color%3B%22%2C%20%22%23endif%22%2C%20%22%23if%20(%20defined(%20USE_MORPHTARGETS%20)%20%26%26%20!%20defined(%20MORPHTARGETS_TEXTURE%20)%20)%22%2C%20%22%5Ctattribute%20vec3%20morphTarget0%3B%22%2C%20%22%5Ctattribute%20vec3%20morphTarget1%3B%22%2C%20%22%5Ctattribute%20vec3%20morphTarget2%3B%22%2C%20%22%5Ctattribute%20vec3%20morphTarget3%3B%22%2C%20%22%5Ct%23ifdef%20USE_MORPHNORMALS%22%2C%20%22%5Ct%5Ctattribute%20vec3%20morphNormal0%3B%22%2C%20%22%5Ct%5Ctattribute%20vec3%20morphNormal1%3B%22%2C%20%22%5Ct%5Ctattribute%20vec3%20morphNormal2%3B%22%2C%20%22%5Ct%5Ctattribute%20vec3%20morphNormal3%3B%22%2C%20%22%5Ct%23else%22%2C%20%22%5Ct%5Ctattribute%20vec3%20morphTarget4%3B%22%2C%20%22%5Ct%5Ctattribute%20vec3%20morphTarget5%3B%22%2C%20%22%5Ct%5Ctattribute%20vec3%20morphTarget6%3B%22%2C%20%22%5Ct%5Ctattribute%20vec3%20morphTarget7%3B%22%2C%20%22%5Ct%23endif%22%2C%20%22%23endif%22%2C%20%22%23ifdef%20USE_SKINNING%22%2C%20%22%5Ctattribute%20vec4%20skinIndex%3B%22%2C%20%22%5Ctattribute%20vec4%20skinWeight%3B%22%2C%20%22%23endif%22%2C%20%22%5Cn%22%5D.filter(os).join(%22%5Cn%22)%2C%20y%20%3D%20%5Bg%2C%20gs(i)%2C%20%22%23define%20SHADER_NAME%20%22%20%2B%20i.shaderName%2C%20v%2C%20i.useFog%20%26%26%20i.fog%20%3F%20%22%23define%20USE_FOG%22%20%3A%20%22%22%2C%20i.useFog%20%26%26%20i.fogExp2%20%3F%20%22%23define%20FOG_EXP2%22%20%3A%20%22%22%2C%20i.map%20%3F%20%22%23define%20USE_MAP%22%20%3A%20%22%22%2C%20i.matcap%20%3F%20%22%23define%20USE_MATCAP%22%20%3A%20%22%22%2C%20i.envMap%20%3F%20%22%23define%20USE_ENVMAP%22%20%3A%20%22%22%2C%20i.envMap%20%3F%20%22%23define%20%22%20%2B%20d%20%3A%20%22%22%2C%20i.envMap%20%3F%20%22%23define%20%22%20%2B%20p%20%3A%20%22%22%2C%20i.envMap%20%3F%20%22%23define%20%22%20%2B%20m%20%3A%20%22%22%2C%20f%20%3F%20%22%23define%20CUBEUV_TEXEL_WIDTH%20%22%20%2B%20f.texelWidth%20%3A%20%22%22%2C%20f%20%3F%20%22%23define%20CUBEUV_TEXEL_HEIGHT%20%22%20%2B%20f.texelHeight%20%3A%20%22%22%2C%20f%20%3F%20%22%23define%20CUBEUV_MAX_MIP%20%22%20%2B%20f.maxMip%20%2B%20%22.0%22%20%3A%20%22%22%2C%20i.lightMap%20%3F%20%22%23define%20USE_LIGHTMAP%22%20%3A%20%22%22%2C%20i.aoMap%20%3F%20%22%23define%20USE_AOMAP%22%20%3A%20%22%22%2C%20i.emissiveMap%20%3F%20%22%23define%20USE_EMISSIVEMAP%22%20%3A%20%22%22%2C%20i.bumpMap%20%3F%20%22%23define%20USE_BUMPMAP%22%20%3A%20%22%22%2C%20i.normalMap%20%3F%20%22%23define%20USE_NORMALMAP%22%20%3A%20%22%22%2C%20i.normalMap%20%26%26%20i.objectSpaceNormalMap%20%3F%20%22%23define%20OBJECTSPACE_NORMALMAP%22%20%3A%20%22%22%2C%20i.normalMap%20%26%26%20i.tangentSpaceNormalMap%20%3F%20%22%23define%20TANGENTSPACE_NORMALMAP%22%20%3A%20%22%22%2C%20i.clearcoat%20%3F%20%22%23define%20USE_CLEARCOAT%22%20%3A%20%22%22%2C%20i.clearcoatMap%20%3F%20%22%23define%20USE_CLEARCOATMAP%22%20%3A%20%22%22%2C%20i.clearcoatRoughnessMap%20%3F%20%22%23define%20USE_CLEARCOAT_ROUGHNESSMAP%22%20%3A%20%22%22%2C%20i.clearcoatNormalMap%20%3F%20%22%23define%20USE_CLEARCOAT_NORMALMAP%22%20%3A%20%22%22%2C%20i.iridescence%20%3F%20%22%23define%20USE_IRIDESCENCE%22%20%3A%20%22%22%2C%20i.iridescenceMap%20%3F%20%22%23define%20USE_IRIDESCENCEMAP%22%20%3A%20%22%22%2C%20i.iridescenceThicknessMap%20%3F%20%22%23define%20USE_IRIDESCENCE_THICKNESSMAP%22%20%3A%20%22%22%2C%20i.specularMap%20%3F%20%22%23define%20USE_SPECULARMAP%22%20%3A%20%22%22%2C%20i.specularIntensityMap%20%3F%20%22%23define%20USE_SPECULARINTENSITYMAP%22%20%3A%20%22%22%2C%20i.specularColorMap%20%3F%20%22%23define%20USE_SPECULARCOLORMAP%22%20%3A%20%22%22%2C%20i.roughnessMap%20%3F%20%22%23define%20USE_ROUGHNESSMAP%22%20%3A%20%22%22%2C%20i.metalnessMap%20%3F%20%22%23define%20USE_METALNESSMAP%22%20%3A%20%22%22%2C%20i.alphaMap%20%3F%20%22%23define%20USE_ALPHAMAP%22%20%3A%20%22%22%2C%20i.alphaTest%20%3F%20%22%23define%20USE_ALPHATEST%22%20%3A%20%22%22%2C%20i.sheen%20%3F%20%22%23define%20USE_SHEEN%22%20%3A%20%22%22%2C%20i.sheenColorMap%20%3F%20%22%23define%20USE_SHEENCOLORMAP%22%20%3A%20%22%22%2C%20i.sheenRoughnessMap%20%3F%20%22%23define%20USE_SHEENROUGHNESSMAP%22%20%3A%20%22%22%2C%20i.transmission%20%3F%20%22%23define%20USE_TRANSMISSION%22%20%3A%20%22%22%2C%20i.transmissionMap%20%3F%20%22%23define%20USE_TRANSMISSIONMAP%22%20%3A%20%22%22%2C%20i.thicknessMap%20%3F%20%22%23define%20USE_THICKNESSMAP%22%20%3A%20%22%22%2C%20i.decodeVideoTexture%20%3F%20%22%23define%20DECODE_VIDEO_TEXTURE%22%20%3A%20%22%22%2C%20i.vertexTangents%20%3F%20%22%23define%20USE_TANGENT%22%20%3A%20%22%22%2C%20i.vertexColors%20%7C%7C%20i.instancingColor%20%3F%20%22%23define%20USE_COLOR%22%20%3A%20%22%22%2C%20i.vertexAlphas%20%3F%20%22%23define%20USE_COLOR_ALPHA%22%20%3A%20%22%22%2C%20i.vertexUvs%20%3F%20%22%23define%20USE_UV%22%20%3A%20%22%22%2C%20i.uvsVertexOnly%20%3F%20%22%23define%20UVS_VERTEX_ONLY%22%20%3A%20%22%22%2C%20i.gradientMap%20%3F%20%22%23define%20USE_GRADIENTMAP%22%20%3A%20%22%22%2C%20i.flatShading%20%3F%20%22%23define%20FLAT_SHADED%22%20%3A%20%22%22%2C%20i.doubleSided%20%3F%20%22%23define%20DOUBLE_SIDED%22%20%3A%20%22%22%2C%20i.flipSided%20%3F%20%22%23define%20FLIP_SIDED%22%20%3A%20%22%22%2C%20i.shadowMapEnabled%20%3F%20%22%23define%20USE_SHADOWMAP%22%20%3A%20%22%22%2C%20i.shadowMapEnabled%20%3F%20%22%23define%20%22%20%2B%20u%20%3A%20%22%22%2C%20i.premultipliedAlpha%20%3F%20%22%23define%20PREMULTIPLIED_ALPHA%22%20%3A%20%22%22%2C%20i.physicallyCorrectLights%20%3F%20%22%23define%20PHYSICALLY_CORRECT_LIGHTS%22%20%3A%20%22%22%2C%20i.logarithmicDepthBuffer%20%3F%20%22%23define%20USE_LOGDEPTHBUF%22%20%3A%20%22%22%2C%20i.logarithmicDepthBuffer%20%26%26%20i.rendererExtensionFragDepth%20%3F%20%22%23define%20USE_LOGDEPTHBUF_EXT%22%20%3A%20%22%22%2C%20%22uniform%20mat4%20viewMatrix%3B%22%2C%20%22uniform%20vec3%20cameraPosition%3B%22%2C%20%22uniform%20bool%20isOrthographic%3B%22%2C%200%20!%3D%3D%20i.toneMapping%20%3F%20%22%23define%20TONE_MAPPING%22%20%3A%20%22%22%2C%200%20!%3D%3D%20i.toneMapping%20%3F%20xn.tonemapping_pars_fragment%20%3A%20%22%22%2C%200%20!%3D%3D%20i.toneMapping%20%3F%20as(%22toneMapping%22%2C%20i.toneMapping)%20%3A%20%22%22%2C%20i.dithering%20%3F%20%22%23define%20DITHERING%22%20%3A%20%22%22%2C%20i.opaque%20%3F%20%22%23define%20OPAQUE%22%20%3A%20%22%22%2C%20xn.encodings_pars_fragment%2C%20ss(%22linearToOutputTexel%22%2C%20i.outputEncoding)%2C%20i.useDepthPacking%20%3F%20%22%23define%20DEPTH_PACKING%20%22%20%2B%20i.depthPacking%20%3A%20%22%22%2C%20%22%5Cn%22%5D.filter(os).join(%22%5Cn%22))%2C%20c%20%3D%20us(c)%2C%20c%20%3D%20ls(c%2C%20i)%2C%20c%20%3D%20cs(c%2C%20i)%2C%20h%20%3D%20us(h)%2C%20h%20%3D%20ls(h%2C%20i)%2C%20h%20%3D%20cs(h%2C%20i)%2C%20c%20%3D%20ms(c)%2C%20h%20%3D%20ms(h)%2C%20i.isWebGL2%20%26%26%20!0%20!%3D%3D%20i.isRawShaderMaterial%20%26%26%20(M%20%3D%20%22%23version%20300%20es%5Cn%22%2C%20_%20%3D%20%5B%22precision%20mediump%20sampler2DArray%3B%22%2C%20%22%23define%20attribute%20in%22%2C%20%22%23define%20varying%20out%22%2C%20%22%23define%20texture2D%20texture%22%5D.join(%22%5Cn%22)%20%2B%20%22%5Cn%22%20%2B%20_%2C%20y%20%3D%20%5B%22%23define%20varying%20in%22%2C%20i.glslVersion%20%3D%3D%3D%20dt%20%3F%20%22%22%20%3A%20%22layout(location%20%3D%200)%20out%20highp%20vec4%20pc_fragColor%3B%22%2C%20i.glslVersion%20%3D%3D%3D%20dt%20%3F%20%22%22%20%3A%20%22%23define%20gl_FragColor%20pc_fragColor%22%2C%20%22%23define%20gl_FragDepthEXT%20gl_FragDepth%22%2C%20%22%23define%20texture2D%20texture%22%2C%20%22%23define%20textureCube%20texture%22%2C%20%22%23define%20texture2DProj%20textureProj%22%2C%20%22%23define%20texture2DLodEXT%20textureLod%22%2C%20%22%23define%20texture2DProjLodEXT%20textureProjLod%22%2C%20%22%23define%20textureCubeLodEXT%20textureLod%22%2C%20%22%23define%20texture2DGradEXT%20textureGrad%22%2C%20%22%23define%20texture2DProjGradEXT%20textureProjGrad%22%2C%20%22%23define%20textureCubeGradEXT%20textureGrad%22%5D.join(%22%5Cn%22)%20%2B%20%22%5Cn%22%20%2B%20y)%3B%20const%20b%20%3D%20M%20%2B%20y%20%2B%20h%2C%20S%20%3D%20is(a%2C%2035633%2C%20M%20%2B%20_%20%2B%20c)%2C%20w%20%3D%20is(a%2C%2035632%2C%20b)%3B%20if%20(a.attachShader(x%2C%20S)%2C%20a.attachShader(x%2C%20w)%2C%20void%200%20!%3D%3D%20i.index0AttributeName%20%3F%20a.bindAttribLocation(x%2C%200%2C%20i.index0AttributeName)%20%3A%20!0%20%3D%3D%3D%20i.morphTargets%20%26%26%20a.bindAttribLocation(x%2C%200%2C%20%22position%22)%2C%20a.linkProgram(x)%2C%20t.debug.checkShaderErrors)%20%7B%20const%20t%20%3D%20a.getProgramInfoLog(x).trim()%2C%20e%20%3D%20a.getShaderInfoLog(S).trim()%2C%20i%20%3D%20a.getShaderInfoLog(w).trim()%3B%20let%20n%20%3D%20!0%2C%20r%20%3D%20!0%3B%20if%20(!1%20%3D%3D%3D%20a.getProgramParameter(x%2C%2035714))%20%7B%20n%20%3D%20!1%3B%20const%20e%20%3D%20rs(a%2C%20S%2C%20%22vertex%22)%2C%20i%20%3D%20rs(a%2C%20w%2C%20%22fragment%22)%3B%20console.error(%22THREE.WebGLProgram%3A%20Shader%20Error%20%22%20%2B%20a.getError()%20%2B%20%22%20-%20VALIDATE_STATUS%20%22%20%2B%20a.getProgramParameter(x%2C%2035715)%20%2B%20%22%5Cn%5CnProgram%20Info%20Log%3A%20%22%20%2B%20t%20%2B%20%22%5Cn%22%20%2B%20e%20%2B%20%22%5Cn%22%20%2B%20i)%20%7D%20else%20%22%22%20!%3D%3D%20t%20%3F%20console.warn(%22THREE.WebGLProgram%3A%20Program%20Info%20Log%3A%22%2C%20t)%20%3A%20%22%22%20!%3D%3D%20e%20%26%26%20%22%22%20!%3D%3D%20i%20%7C%7C%20(r%20%3D%20!1)%3B%20r%20%26%26%20(this.diagnostics%20%3D%20%7B%20runnable%3A%20n%2C%20programLog%3A%20t%2C%20vertexShader%3A%20%7B%20log%3A%20e%2C%20prefix%3A%20_%20%7D%2C%20fragmentShader%3A%20%7B%20log%3A%20i%2C%20prefix%3A%20y%20%7D%20%7D)%20%7D%20let%20T%2C%20A%3B%20return%20a.deleteShader(S)%2C%20a.deleteShader(w)%2C%20this.getUniforms%20%3D%20function%20()%20%7B%20return%20void%200%20%3D%3D%3D%20T%20%26%26%20(T%20%3D%20new%20es(a%2C%20x))%2C%20T%20%7D%2C%20this.getAttributes%20%3D%20function%20()%20%7B%20return%20void%200%20%3D%3D%3D%20A%20%26%26%20(A%20%3D%20function%20(t%2C%20e)%20%7B%20const%20i%20%3D%20%7B%7D%2C%20n%20%3D%20t.getProgramParameter(e%2C%2035721)%3B%20for%20(let%20r%20%3D%200%3B%20r%20%3C%20n%3B%20r%2B%2B)%20%7B%20const%20n%20%3D%20t.getActiveAttrib(e%2C%20r)%2C%20s%20%3D%20n.name%3B%20let%20a%20%3D%201%3B%2035674%20%3D%3D%3D%20n.type%20%26%26%20(a%20%3D%202)%2C%2035675%20%3D%3D%3D%20n.type%20%26%26%20(a%20%3D%203)%2C%2035676%20%3D%3D%3D%20n.type%20%26%26%20(a%20%3D%204)%2C%20i%5Bs%5D%20%3D%20%7B%20type%3A%20n.type%2C%20location%3A%20t.getAttribLocation(e%2C%20s)%2C%20locationSize%3A%20a%20%7D%20%7D%20return%20i%20%7D(a%2C%20x))%2C%20A%20%7D%2C%20this.destroy%20%3D%20function%20()%20%7B%20n.releaseStatesOfProgram(this)%2C%20a.deleteProgram(x)%2C%20this.program%20%3D%20void%200%20%7D%2C%20this.name%20%3D%20i.shaderName%2C%20this.id%20%3D%20ns%2B%2B%2C%20this.cacheKey%20%3D%20e%2C%20this.usedTimes%20%3D%201%2C%20this.program%20%3D%20x%2C%20this.vertexShader%20%3D%20S%2C%20this.fragmentShader%20%3D%20w%2C%20this%20%7D%20let%20xs%20%3D%200%3B%20class%20_s%20%7B%20constructor()%20%7B%20this.shaderCache%20%3D%20new%20Map%2C%20this.materialCache%20%3D%20new%20Map%20%7D%20update(t)%20%7B%20const%20e%20%3D%20t.vertexShader%2C%20i%20%3D%20t.fragmentShader%2C%20n%20%3D%20this._getShaderStage(e)%2C%20r%20%3D%20this._getShaderStage(i)%2C%20s%20%3D%20this._getShaderCacheForMaterial(t)%3B%20return%20!1%20%3D%3D%3D%20s.has(n)%20%26%26%20(s.add(n)%2C%20n.usedTimes%2B%2B)%2C%20!1%20%3D%3D%3D%20s.has(r)%20%26%26%20(s.add(r)%2C%20r.usedTimes%2B%2B)%2C%20this%20%7D%20remove(t)%20%7B%20const%20e%20%3D%20this.materialCache.get(t)%3B%20for%20(const%20t%20of%20e)%20t.usedTimes--%2C%200%20%3D%3D%3D%20t.usedTimes%20%26%26%20this.shaderCache.delete(t.code)%3B%20return%20this.materialCache.delete(t)%2C%20this%20%7D%20getVertexShaderID(t)%20%7B%20return%20this._getShaderStage(t.vertexShader).id%20%7D%20getFragmentShaderID(t)%20%7B%20return%20this._getShaderStage(t.fragmentShader).id%20%7D%20dispose()%20%7B%20this.shaderCache.clear()%2C%20this.materialCache.clear()%20%7D%20_getShaderCacheForMaterial(t)%20%7B%20const%20e%20%3D%20this.materialCache%3B%20let%20i%20%3D%20e.get(t)%3B%20return%20void%200%20%3D%3D%3D%20i%20%26%26%20(i%20%3D%20new%20Set%2C%20e.set(t%2C%20i))%2C%20i%20%7D%20_getShaderStage(t)%20%7B%20const%20e%20%3D%20this.shaderCache%3B%20let%20i%20%3D%20e.get(t)%3B%20return%20void%200%20%3D%3D%3D%20i%20%26%26%20(i%20%3D%20new%20ys(t)%2C%20e.set(t%2C%20i))%2C%20i%20%7D%20%7D%20class%20ys%20%7B%20constructor(t)%20%7B%20this.id%20%3D%20xs%2B%2B%2C%20this.code%20%3D%20t%2C%20this.usedTimes%20%3D%200%20%7D%20%7D%20function%20Ms(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%20a)%20%7B%20const%20o%20%3D%20new%20je%2C%20c%20%3D%20new%20_s%2C%20h%20%3D%20%5B%5D%2C%20u%20%3D%20r.isWebGL2%2C%20d%20%3D%20r.logarithmicDepthBuffer%2C%20p%20%3D%20r.vertexTextures%3B%20let%20m%20%3D%20r.precision%3B%20const%20f%20%3D%20%7B%20MeshDepthMaterial%3A%20%22depth%22%2C%20MeshDistanceMaterial%3A%20%22distanceRGBA%22%2C%20MeshNormalMaterial%3A%20%22normal%22%2C%20MeshBasicMaterial%3A%20%22basic%22%2C%20MeshLambertMaterial%3A%20%22lambert%22%2C%20MeshPhongMaterial%3A%20%22phong%22%2C%20MeshToonMaterial%3A%20%22toon%22%2C%20MeshStandardMaterial%3A%20%22physical%22%2C%20MeshPhysicalMaterial%3A%20%22physical%22%2C%20MeshMatcapMaterial%3A%20%22matcap%22%2C%20LineBasicMaterial%3A%20%22basic%22%2C%20LineDashedMaterial%3A%20%22dashed%22%2C%20PointsMaterial%3A%20%22points%22%2C%20ShadowMaterial%3A%20%22shadow%22%2C%20SpriteMaterial%3A%20%22sprite%22%20%7D%3B%20return%20%7B%20getParameters%3A%20function%20(s%2C%20o%2C%20h%2C%20g%2C%20v)%20%7B%20const%20x%20%3D%20g.fog%2C%20_%20%3D%20v.geometry%2C%20y%20%3D%20s.isMeshStandardMaterial%20%3F%20g.environment%20%3A%20null%2C%20M%20%3D%20(s.isMeshStandardMaterial%20%3F%20i%20%3A%20e).get(s.envMap%20%7C%7C%20y)%2C%20b%20%3D%20M%20%26%26%20M.mapping%20%3D%3D%3D%20l%20%3F%20M.image.height%20%3A%20null%2C%20S%20%3D%20f%5Bs.type%5D%3B%20null%20!%3D%3D%20s.precision%20%26%26%20(m%20%3D%20r.getMaxPrecision(s.precision)%2C%20m%20!%3D%3D%20s.precision%20%26%26%20console.warn(%22THREE.WebGLProgram.getParameters%3A%22%2C%20s.precision%2C%20%22not%20supported%2C%20using%22%2C%20m%2C%20%22instead.%22))%3B%20const%20w%20%3D%20_.morphAttributes.position%20%7C%7C%20_.morphAttributes.normal%20%7C%7C%20_.morphAttributes.color%2C%20T%20%3D%20void%200%20!%3D%3D%20w%20%3F%20w.length%20%3A%200%3B%20let%20A%2C%20E%2C%20C%2C%20L%2C%20R%20%3D%200%3B%20if%20(void%200%20!%3D%3D%20_.morphAttributes.position%20%26%26%20(R%20%3D%201)%2C%20void%200%20!%3D%3D%20_.morphAttributes.normal%20%26%26%20(R%20%3D%202)%2C%20void%200%20!%3D%3D%20_.morphAttributes.color%20%26%26%20(R%20%3D%203)%2C%20S)%20%7B%20const%20t%20%3D%20yn%5BS%5D%3B%20A%20%3D%20t.vertexShader%2C%20E%20%3D%20t.fragmentShader%20%7D%20else%20A%20%3D%20s.vertexShader%2C%20E%20%3D%20s.fragmentShader%2C%20c.update(s)%2C%20C%20%3D%20c.getVertexShaderID(s)%2C%20L%20%3D%20c.getFragmentShaderID(s)%3B%20const%20P%20%3D%20t.getRenderTarget()%2C%20I%20%3D%20s.alphaTest%20%3E%200%2C%20D%20%3D%20s.clearcoat%20%3E%200%2C%20N%20%3D%20s.iridescence%20%3E%200%3B%20return%20%7B%20isWebGL2%3A%20u%2C%20shaderID%3A%20S%2C%20shaderName%3A%20s.type%2C%20vertexShader%3A%20A%2C%20fragmentShader%3A%20E%2C%20defines%3A%20s.defines%2C%20customVertexShaderID%3A%20C%2C%20customFragmentShaderID%3A%20L%2C%20isRawShaderMaterial%3A%20!0%20%3D%3D%3D%20s.isRawShaderMaterial%2C%20glslVersion%3A%20s.glslVersion%2C%20precision%3A%20m%2C%20instancing%3A%20!0%20%3D%3D%3D%20v.isInstancedMesh%2C%20instancingColor%3A%20!0%20%3D%3D%3D%20v.isInstancedMesh%20%26%26%20null%20!%3D%3D%20v.instanceColor%2C%20supportsVertexTextures%3A%20p%2C%20outputEncoding%3A%20null%20%3D%3D%3D%20P%20%3F%20t.outputEncoding%20%3A%20!0%20%3D%3D%3D%20P.isXRRenderTarget%20%3F%20P.texture.encoding%20%3A%20at%2C%20map%3A%20!!s.map%2C%20matcap%3A%20!!s.matcap%2C%20envMap%3A%20!!M%2C%20envMapMode%3A%20M%20%26%26%20M.mapping%2C%20envMapCubeUVHeight%3A%20b%2C%20lightMap%3A%20!!s.lightMap%2C%20aoMap%3A%20!!s.aoMap%2C%20emissiveMap%3A%20!!s.emissiveMap%2C%20bumpMap%3A%20!!s.bumpMap%2C%20normalMap%3A%20!!s.normalMap%2C%20objectSpaceNormalMap%3A%201%20%3D%3D%3D%20s.normalMapType%2C%20tangentSpaceNormalMap%3A%200%20%3D%3D%3D%20s.normalMapType%2C%20decodeVideoTexture%3A%20!!s.map%20%26%26%20!0%20%3D%3D%3D%20s.map.isVideoTexture%20%26%26%20s.map.encoding%20%3D%3D%3D%20ot%2C%20clearcoat%3A%20D%2C%20clearcoatMap%3A%20D%20%26%26%20!!s.clearcoatMap%2C%20clearcoatRoughnessMap%3A%20D%20%26%26%20!!s.clearcoatRoughnessMap%2C%20clearcoatNormalMap%3A%20D%20%26%26%20!!s.clearcoatNormalMap%2C%20iridescence%3A%20N%2C%20iridescenceMap%3A%20N%20%26%26%20!!s.iridescenceMap%2C%20iridescenceThicknessMap%3A%20N%20%26%26%20!!s.iridescenceThicknessMap%2C%20displacementMap%3A%20!!s.displacementMap%2C%20roughnessMap%3A%20!!s.roughnessMap%2C%20metalnessMap%3A%20!!s.metalnessMap%2C%20specularMap%3A%20!!s.specularMap%2C%20specularIntensityMap%3A%20!!s.specularIntensityMap%2C%20specularColorMap%3A%20!!s.specularColorMap%2C%20opaque%3A%20!1%20%3D%3D%3D%20s.transparent%20%26%26%201%20%3D%3D%3D%20s.blending%2C%20alphaMap%3A%20!!s.alphaMap%2C%20alphaTest%3A%20I%2C%20gradientMap%3A%20!!s.gradientMap%2C%20sheen%3A%20s.sheen%20%3E%200%2C%20sheenColorMap%3A%20!!s.sheenColorMap%2C%20sheenRoughnessMap%3A%20!!s.sheenRoughnessMap%2C%20transmission%3A%20s.transmission%20%3E%200%2C%20transmissionMap%3A%20!!s.transmissionMap%2C%20thicknessMap%3A%20!!s.thicknessMap%2C%20combine%3A%20s.combine%2C%20vertexTangents%3A%20!!s.normalMap%20%26%26%20!!_.attributes.tangent%2C%20vertexColors%3A%20s.vertexColors%2C%20vertexAlphas%3A%20!0%20%3D%3D%3D%20s.vertexColors%20%26%26%20!!_.attributes.color%20%26%26%204%20%3D%3D%3D%20_.attributes.color.itemSize%2C%20vertexUvs%3A%20!!(s.map%20%7C%7C%20s.bumpMap%20%7C%7C%20s.normalMap%20%7C%7C%20s.specularMap%20%7C%7C%20s.alphaMap%20%7C%7C%20s.emissiveMap%20%7C%7C%20s.roughnessMap%20%7C%7C%20s.metalnessMap%20%7C%7C%20s.clearcoatMap%20%7C%7C%20s.clearcoatRoughnessMap%20%7C%7C%20s.clearcoatNormalMap%20%7C%7C%20s.iridescenceMap%20%7C%7C%20s.iridescenceThicknessMap%20%7C%7C%20s.displacementMap%20%7C%7C%20s.transmissionMap%20%7C%7C%20s.thicknessMap%20%7C%7C%20s.specularIntensityMap%20%7C%7C%20s.specularColorMap%20%7C%7C%20s.sheenColorMap%20%7C%7C%20s.sheenRoughnessMap)%2C%20uvsVertexOnly%3A%20!(s.map%20%7C%7C%20s.bumpMap%20%7C%7C%20s.normalMap%20%7C%7C%20s.specularMap%20%7C%7C%20s.alphaMap%20%7C%7C%20s.emissiveMap%20%7C%7C%20s.roughnessMap%20%7C%7C%20s.metalnessMap%20%7C%7C%20s.clearcoatNormalMap%20%7C%7C%20s.iridescenceMap%20%7C%7C%20s.iridescenceThicknessMap%20%7C%7C%20s.transmission%20%3E%200%20%7C%7C%20s.transmissionMap%20%7C%7C%20s.thicknessMap%20%7C%7C%20s.specularIntensityMap%20%7C%7C%20s.specularColorMap%20%7C%7C%20s.sheen%20%3E%200%20%7C%7C%20s.sheenColorMap%20%7C%7C%20s.sheenRoughnessMap%20%7C%7C%20!s.displacementMap)%2C%20fog%3A%20!!x%2C%20useFog%3A%20!0%20%3D%3D%3D%20s.fog%2C%20fogExp2%3A%20x%20%26%26%20x.isFogExp2%2C%20flatShading%3A%20!!s.flatShading%2C%20sizeAttenuation%3A%20s.sizeAttenuation%2C%20logarithmicDepthBuffer%3A%20d%2C%20skinning%3A%20!0%20%3D%3D%3D%20v.isSkinnedMesh%2C%20morphTargets%3A%20void%200%20!%3D%3D%20_.morphAttributes.position%2C%20morphNormals%3A%20void%200%20!%3D%3D%20_.morphAttributes.normal%2C%20morphColors%3A%20void%200%20!%3D%3D%20_.morphAttributes.color%2C%20morphTargetsCount%3A%20T%2C%20morphTextureStride%3A%20R%2C%20numDirLights%3A%20o.directional.length%2C%20numPointLights%3A%20o.point.length%2C%20numSpotLights%3A%20o.spot.length%2C%20numSpotLightMaps%3A%20o.spotLightMap.length%2C%20numRectAreaLights%3A%20o.rectArea.length%2C%20numHemiLights%3A%20o.hemi.length%2C%20numDirLightShadows%3A%20o.directionalShadowMap.length%2C%20numPointLightShadows%3A%20o.pointShadowMap.length%2C%20numSpotLightShadows%3A%20o.spotShadowMap.length%2C%20numSpotLightShadowsWithMaps%3A%20o.numSpotLightShadowsWithMaps%2C%20numClippingPlanes%3A%20a.numPlanes%2C%20numClipIntersection%3A%20a.numIntersection%2C%20dithering%3A%20s.dithering%2C%20shadowMapEnabled%3A%20t.shadowMap.enabled%20%26%26%20h.length%20%3E%200%2C%20shadowMapType%3A%20t.shadowMap.type%2C%20toneMapping%3A%20s.toneMapped%20%3F%20t.toneMapping%20%3A%200%2C%20physicallyCorrectLights%3A%20t.physicallyCorrectLights%2C%20premultipliedAlpha%3A%20s.premultipliedAlpha%2C%20doubleSided%3A%202%20%3D%3D%3D%20s.side%2C%20flipSided%3A%201%20%3D%3D%3D%20s.side%2C%20useDepthPacking%3A%20!!s.depthPacking%2C%20depthPacking%3A%20s.depthPacking%20%7C%7C%200%2C%20index0AttributeName%3A%20s.index0AttributeName%2C%20extensionDerivatives%3A%20s.extensions%20%26%26%20s.extensions.derivatives%2C%20extensionFragDepth%3A%20s.extensions%20%26%26%20s.extensions.fragDepth%2C%20extensionDrawBuffers%3A%20s.extensions%20%26%26%20s.extensions.drawBuffers%2C%20extensionShaderTextureLOD%3A%20s.extensions%20%26%26%20s.extensions.shaderTextureLOD%2C%20rendererExtensionFragDepth%3A%20u%20%7C%7C%20n.has(%22EXT_frag_depth%22)%2C%20rendererExtensionDrawBuffers%3A%20u%20%7C%7C%20n.has(%22WEBGL_draw_buffers%22)%2C%20rendererExtensionShaderTextureLod%3A%20u%20%7C%7C%20n.has(%22EXT_shader_texture_lod%22)%2C%20customProgramCacheKey%3A%20s.customProgramCacheKey()%20%7D%20%7D%2C%20getProgramCacheKey%3A%20function%20(e)%20%7B%20const%20i%20%3D%20%5B%5D%3B%20if%20(e.shaderID%20%3F%20i.push(e.shaderID)%20%3A%20(i.push(e.customVertexShaderID)%2C%20i.push(e.customFragmentShaderID))%2C%20void%200%20!%3D%3D%20e.defines)%20for%20(const%20t%20in%20e.defines)%20i.push(t)%2C%20i.push(e.defines%5Bt%5D)%3B%20return%20!1%20%3D%3D%3D%20e.isRawShaderMaterial%20%26%26%20(!function%20(t%2C%20e)%20%7B%20t.push(e.precision)%2C%20t.push(e.outputEncoding)%2C%20t.push(e.envMapMode)%2C%20t.push(e.envMapCubeUVHeight)%2C%20t.push(e.combine)%2C%20t.push(e.vertexUvs)%2C%20t.push(e.fogExp2)%2C%20t.push(e.sizeAttenuation)%2C%20t.push(e.morphTargetsCount)%2C%20t.push(e.morphAttributeCount)%2C%20t.push(e.numDirLights)%2C%20t.push(e.numPointLights)%2C%20t.push(e.numSpotLights)%2C%20t.push(e.numSpotLightMaps)%2C%20t.push(e.numHemiLights)%2C%20t.push(e.numRectAreaLights)%2C%20t.push(e.numDirLightShadows)%2C%20t.push(e.numPointLightShadows)%2C%20t.push(e.numSpotLightShadows)%2C%20t.push(e.numSpotLightShadowsWithMaps)%2C%20t.push(e.shadowMapType)%2C%20t.push(e.toneMapping)%2C%20t.push(e.numClippingPlanes)%2C%20t.push(e.numClipIntersection)%2C%20t.push(e.depthPacking)%20%7D(i%2C%20e)%2C%20function%20(t%2C%20e)%20%7B%20o.disableAll()%2C%20e.isWebGL2%20%26%26%20o.enable(0)%3B%20e.supportsVertexTextures%20%26%26%20o.enable(1)%3B%20e.instancing%20%26%26%20o.enable(2)%3B%20e.instancingColor%20%26%26%20o.enable(3)%3B%20e.map%20%26%26%20o.enable(4)%3B%20e.matcap%20%26%26%20o.enable(5)%3B%20e.envMap%20%26%26%20o.enable(6)%3B%20e.lightMap%20%26%26%20o.enable(7)%3B%20e.aoMap%20%26%26%20o.enable(8)%3B%20e.emissiveMap%20%26%26%20o.enable(9)%3B%20e.bumpMap%20%26%26%20o.enable(10)%3B%20e.normalMap%20%26%26%20o.enable(11)%3B%20e.objectSpaceNormalMap%20%26%26%20o.enable(12)%3B%20e.tangentSpaceNormalMap%20%26%26%20o.enable(13)%3B%20e.clearcoat%20%26%26%20o.enable(14)%3B%20e.clearcoatMap%20%26%26%20o.enable(15)%3B%20e.clearcoatRoughnessMap%20%26%26%20o.enable(16)%3B%20e.clearcoatNormalMap%20%26%26%20o.enable(17)%3B%20e.iridescence%20%26%26%20o.enable(18)%3B%20e.iridescenceMap%20%26%26%20o.enable(19)%3B%20e.iridescenceThicknessMap%20%26%26%20o.enable(20)%3B%20e.displacementMap%20%26%26%20o.enable(21)%3B%20e.specularMap%20%26%26%20o.enable(22)%3B%20e.roughnessMap%20%26%26%20o.enable(23)%3B%20e.metalnessMap%20%26%26%20o.enable(24)%3B%20e.gradientMap%20%26%26%20o.enable(25)%3B%20e.alphaMap%20%26%26%20o.enable(26)%3B%20e.alphaTest%20%26%26%20o.enable(27)%3B%20e.vertexColors%20%26%26%20o.enable(28)%3B%20e.vertexAlphas%20%26%26%20o.enable(29)%3B%20e.vertexUvs%20%26%26%20o.enable(30)%3B%20e.vertexTangents%20%26%26%20o.enable(31)%3B%20e.uvsVertexOnly%20%26%26%20o.enable(32)%3B%20t.push(o.mask)%2C%20o.disableAll()%2C%20e.fog%20%26%26%20o.enable(0)%3B%20e.useFog%20%26%26%20o.enable(1)%3B%20e.flatShading%20%26%26%20o.enable(2)%3B%20e.logarithmicDepthBuffer%20%26%26%20o.enable(3)%3B%20e.skinning%20%26%26%20o.enable(4)%3B%20e.morphTargets%20%26%26%20o.enable(5)%3B%20e.morphNormals%20%26%26%20o.enable(6)%3B%20e.morphColors%20%26%26%20o.enable(7)%3B%20e.premultipliedAlpha%20%26%26%20o.enable(8)%3B%20e.shadowMapEnabled%20%26%26%20o.enable(9)%3B%20e.physicallyCorrectLights%20%26%26%20o.enable(10)%3B%20e.doubleSided%20%26%26%20o.enable(11)%3B%20e.flipSided%20%26%26%20o.enable(12)%3B%20e.useDepthPacking%20%26%26%20o.enable(13)%3B%20e.dithering%20%26%26%20o.enable(14)%3B%20e.specularIntensityMap%20%26%26%20o.enable(15)%3B%20e.specularColorMap%20%26%26%20o.enable(16)%3B%20e.transmission%20%26%26%20o.enable(17)%3B%20e.transmissionMap%20%26%26%20o.enable(18)%3B%20e.thicknessMap%20%26%26%20o.enable(19)%3B%20e.sheen%20%26%26%20o.enable(20)%3B%20e.sheenColorMap%20%26%26%20o.enable(21)%3B%20e.sheenRoughnessMap%20%26%26%20o.enable(22)%3B%20e.decodeVideoTexture%20%26%26%20o.enable(23)%3B%20e.opaque%20%26%26%20o.enable(24)%3B%20t.push(o.mask)%20%7D(i%2C%20e)%2C%20i.push(t.outputEncoding))%2C%20i.push(e.customProgramCacheKey)%2C%20i.join()%20%7D%2C%20getUniforms%3A%20function%20(t)%20%7B%20const%20e%20%3D%20f%5Bt.type%5D%3B%20let%20i%3B%20if%20(e)%20%7B%20const%20t%20%3D%20yn%5Be%5D%3B%20i%20%3D%20Qi.clone(t.uniforms)%20%7D%20else%20i%20%3D%20t.uniforms%3B%20return%20i%20%7D%2C%20acquireProgram%3A%20function%20(e%2C%20i)%20%7B%20let%20n%3B%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20h.length%3B%20t%20%3C%20e%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20h%5Bt%5D%3B%20if%20(e.cacheKey%20%3D%3D%3D%20i)%20%7B%20n%20%3D%20e%2C%20%2B%2Bn.usedTimes%3B%20break%20%7D%20%7D%20return%20void%200%20%3D%3D%3D%20n%20%26%26%20(n%20%3D%20new%20vs(t%2C%20i%2C%20e%2C%20s)%2C%20h.push(n))%2C%20n%20%7D%2C%20releaseProgram%3A%20function%20(t)%20%7B%20if%20(0%20%3D%3D%20--t.usedTimes)%20%7B%20const%20e%20%3D%20h.indexOf(t)%3B%20h%5Be%5D%20%3D%20h%5Bh.length%20-%201%5D%2C%20h.pop()%2C%20t.destroy()%20%7D%20%7D%2C%20releaseShaderCache%3A%20function%20(t)%20%7B%20c.remove(t)%20%7D%2C%20programs%3A%20h%2C%20dispose%3A%20function%20()%20%7B%20c.dispose()%20%7D%20%7D%20%7D%20function%20bs()%20%7B%20let%20t%20%3D%20new%20WeakMap%3B%20return%20%7B%20get%3A%20function%20(e)%20%7B%20let%20i%20%3D%20t.get(e)%3B%20return%20void%200%20%3D%3D%3D%20i%20%26%26%20(i%20%3D%20%7B%7D%2C%20t.set(e%2C%20i))%2C%20i%20%7D%2C%20remove%3A%20function%20(e)%20%7B%20t.delete(e)%20%7D%2C%20update%3A%20function%20(e%2C%20i%2C%20n)%20%7B%20t.get(e)%5Bi%5D%20%3D%20n%20%7D%2C%20dispose%3A%20function%20()%20%7B%20t%20%3D%20new%20WeakMap%20%7D%20%7D%20%7D%20function%20Ss(t%2C%20e)%20%7B%20return%20t.groupOrder%20!%3D%3D%20e.groupOrder%20%3F%20t.groupOrder%20-%20e.groupOrder%20%3A%20t.renderOrder%20!%3D%3D%20e.renderOrder%20%3F%20t.renderOrder%20-%20e.renderOrder%20%3A%20t.material.id%20!%3D%3D%20e.material.id%20%3F%20t.material.id%20-%20e.material.id%20%3A%20t.z%20!%3D%3D%20e.z%20%3F%20t.z%20-%20e.z%20%3A%20t.id%20-%20e.id%20%7D%20function%20ws(t%2C%20e)%20%7B%20return%20t.groupOrder%20!%3D%3D%20e.groupOrder%20%3F%20t.groupOrder%20-%20e.groupOrder%20%3A%20t.renderOrder%20!%3D%3D%20e.renderOrder%20%3F%20t.renderOrder%20-%20e.renderOrder%20%3A%20t.z%20!%3D%3D%20e.z%20%3F%20e.z%20-%20t.z%20%3A%20t.id%20-%20e.id%20%7D%20function%20Ts()%20%7B%20const%20t%20%3D%20%5B%5D%3B%20let%20e%20%3D%200%3B%20const%20i%20%3D%20%5B%5D%2C%20n%20%3D%20%5B%5D%2C%20r%20%3D%20%5B%5D%3B%20function%20s(i%2C%20n%2C%20r%2C%20s%2C%20a%2C%20o)%20%7B%20let%20l%20%3D%20t%5Be%5D%3B%20return%20void%200%20%3D%3D%3D%20l%20%3F%20(l%20%3D%20%7B%20id%3A%20i.id%2C%20object%3A%20i%2C%20geometry%3A%20n%2C%20material%3A%20r%2C%20groupOrder%3A%20s%2C%20renderOrder%3A%20i.renderOrder%2C%20z%3A%20a%2C%20group%3A%20o%20%7D%2C%20t%5Be%5D%20%3D%20l)%20%3A%20(l.id%20%3D%20i.id%2C%20l.object%20%3D%20i%2C%20l.geometry%20%3D%20n%2C%20l.material%20%3D%20r%2C%20l.groupOrder%20%3D%20s%2C%20l.renderOrder%20%3D%20i.renderOrder%2C%20l.z%20%3D%20a%2C%20l.group%20%3D%20o)%2C%20e%2B%2B%2C%20l%20%7D%20return%20%7B%20opaque%3A%20i%2C%20transmissive%3A%20n%2C%20transparent%3A%20r%2C%20init%3A%20function%20()%20%7B%20e%20%3D%200%2C%20i.length%20%3D%200%2C%20n.length%20%3D%200%2C%20r.length%20%3D%200%20%7D%2C%20push%3A%20function%20(t%2C%20e%2C%20a%2C%20o%2C%20l%2C%20c)%20%7B%20const%20h%20%3D%20s(t%2C%20e%2C%20a%2C%20o%2C%20l%2C%20c)%3B%20a.transmission%20%3E%200%20%3F%20n.push(h)%20%3A%20!0%20%3D%3D%3D%20a.transparent%20%3F%20r.push(h)%20%3A%20i.push(h)%20%7D%2C%20unshift%3A%20function%20(t%2C%20e%2C%20a%2C%20o%2C%20l%2C%20c)%20%7B%20const%20h%20%3D%20s(t%2C%20e%2C%20a%2C%20o%2C%20l%2C%20c)%3B%20a.transmission%20%3E%200%20%3F%20n.unshift(h)%20%3A%20!0%20%3D%3D%3D%20a.transparent%20%3F%20r.unshift(h)%20%3A%20i.unshift(h)%20%7D%2C%20finish%3A%20function%20()%20%7B%20for%20(let%20i%20%3D%20e%2C%20n%20%3D%20t.length%3B%20i%20%3C%20n%3B%20i%2B%2B)%20%7B%20const%20e%20%3D%20t%5Bi%5D%3B%20if%20(null%20%3D%3D%3D%20e.id)%20break%3B%20e.id%20%3D%20null%2C%20e.object%20%3D%20null%2C%20e.geometry%20%3D%20null%2C%20e.material%20%3D%20null%2C%20e.group%20%3D%20null%20%7D%20%7D%2C%20sort%3A%20function%20(t%2C%20e)%20%7B%20i.length%20%3E%201%20%26%26%20i.sort(t%20%7C%7C%20Ss)%2C%20n.length%20%3E%201%20%26%26%20n.sort(e%20%7C%7C%20ws)%2C%20r.length%20%3E%201%20%26%26%20r.sort(e%20%7C%7C%20ws)%20%7D%20%7D%20%7D%20function%20As()%20%7B%20let%20t%20%3D%20new%20WeakMap%3B%20return%20%7B%20get%3A%20function%20(e%2C%20i)%20%7B%20const%20n%20%3D%20t.get(e)%3B%20let%20r%3B%20return%20void%200%20%3D%3D%3D%20n%20%3F%20(r%20%3D%20new%20Ts%2C%20t.set(e%2C%20%5Br%5D))%20%3A%20i%20%3E%3D%20n.length%20%3F%20(r%20%3D%20new%20Ts%2C%20n.push(r))%20%3A%20r%20%3D%20n%5Bi%5D%2C%20r%20%7D%2C%20dispose%3A%20function%20()%20%7B%20t%20%3D%20new%20WeakMap%20%7D%20%7D%20%7D%20function%20Es()%20%7B%20const%20t%20%3D%20%7B%7D%3B%20return%20%7B%20get%3A%20function%20(e)%20%7B%20if%20(void%200%20!%3D%3D%20t%5Be.id%5D)%20return%20t%5Be.id%5D%3B%20let%20i%3B%20switch%20(e.type)%20%7B%20case%20%22DirectionalLight%22%3A%20i%20%3D%20%7B%20direction%3A%20new%20re%2C%20color%3A%20new%20qt%20%7D%3B%20break%3B%20case%20%22SpotLight%22%3A%20i%20%3D%20%7B%20position%3A%20new%20re%2C%20direction%3A%20new%20re%2C%20color%3A%20new%20qt%2C%20distance%3A%200%2C%20coneCos%3A%200%2C%20penumbraCos%3A%200%2C%20decay%3A%200%20%7D%3B%20break%3B%20case%20%22PointLight%22%3A%20i%20%3D%20%7B%20position%3A%20new%20re%2C%20color%3A%20new%20qt%2C%20distance%3A%200%2C%20decay%3A%200%20%7D%3B%20break%3B%20case%20%22HemisphereLight%22%3A%20i%20%3D%20%7B%20direction%3A%20new%20re%2C%20skyColor%3A%20new%20qt%2C%20groundColor%3A%20new%20qt%20%7D%3B%20break%3B%20case%20%22RectAreaLight%22%3A%20i%20%3D%20%7B%20color%3A%20new%20qt%2C%20position%3A%20new%20re%2C%20halfWidth%3A%20new%20re%2C%20halfHeight%3A%20new%20re%20%7D%20%7Dreturn%20t%5Be.id%5D%20%3D%20i%2C%20i%20%7D%20%7D%20%7D%20let%20Cs%20%3D%200%3B%20function%20Ls(t%2C%20e)%20%7B%20return%20(e.castShadow%20%3F%202%20%3A%200)%20-%20(t.castShadow%20%3F%202%20%3A%200)%20%2B%20(e.map%20%3F%201%20%3A%200)%20-%20(t.map%20%3F%201%20%3A%200)%20%7D%20function%20Rs(t%2C%20e)%20%7B%20const%20i%20%3D%20new%20Es%2C%20n%20%3D%20function%20()%20%7B%20const%20t%20%3D%20%7B%7D%3B%20return%20%7B%20get%3A%20function%20(e)%20%7B%20if%20(void%200%20!%3D%3D%20t%5Be.id%5D)%20return%20t%5Be.id%5D%3B%20let%20i%3B%20switch%20(e.type)%20%7B%20case%20%22DirectionalLight%22%3A%20case%20%22SpotLight%22%3A%20i%20%3D%20%7B%20shadowBias%3A%200%2C%20shadowNormalBias%3A%200%2C%20shadowRadius%3A%201%2C%20shadowMapSize%3A%20new%20Lt%20%7D%3B%20break%3B%20case%20%22PointLight%22%3A%20i%20%3D%20%7B%20shadowBias%3A%200%2C%20shadowNormalBias%3A%200%2C%20shadowRadius%3A%201%2C%20shadowMapSize%3A%20new%20Lt%2C%20shadowCameraNear%3A%201%2C%20shadowCameraFar%3A%201e3%20%7D%20%7Dreturn%20t%5Be.id%5D%20%3D%20i%2C%20i%20%7D%20%7D%20%7D()%2C%20r%20%3D%20%7B%20version%3A%200%2C%20hash%3A%20%7B%20directionalLength%3A%20-1%2C%20pointLength%3A%20-1%2C%20spotLength%3A%20-1%2C%20rectAreaLength%3A%20-1%2C%20hemiLength%3A%20-1%2C%20numDirectionalShadows%3A%20-1%2C%20numPointShadows%3A%20-1%2C%20numSpotShadows%3A%20-1%2C%20numSpotMaps%3A%20-1%20%7D%2C%20ambient%3A%20%5B0%2C%200%2C%200%5D%2C%20probe%3A%20%5B%5D%2C%20directional%3A%20%5B%5D%2C%20directionalShadow%3A%20%5B%5D%2C%20directionalShadowMap%3A%20%5B%5D%2C%20directionalShadowMatrix%3A%20%5B%5D%2C%20spot%3A%20%5B%5D%2C%20spotLightMap%3A%20%5B%5D%2C%20spotShadow%3A%20%5B%5D%2C%20spotShadowMap%3A%20%5B%5D%2C%20spotLightMatrix%3A%20%5B%5D%2C%20rectArea%3A%20%5B%5D%2C%20rectAreaLTC1%3A%20null%2C%20rectAreaLTC2%3A%20null%2C%20point%3A%20%5B%5D%2C%20pointShadow%3A%20%5B%5D%2C%20pointShadowMap%3A%20%5B%5D%2C%20pointShadowMatrix%3A%20%5B%5D%2C%20hemi%3A%20%5B%5D%2C%20numSpotLightShadowsWithMaps%3A%200%20%7D%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%209%3B%20t%2B%2B)r.probe.push(new%20re)%3B%20const%20s%20%3D%20new%20re%2C%20a%20%3D%20new%20Ne%2C%20o%20%3D%20new%20Ne%3B%20return%20%7B%20setup%3A%20function%20(s%2C%20a)%20%7B%20let%20o%20%3D%200%2C%20l%20%3D%200%2C%20c%20%3D%200%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%209%3B%20t%2B%2B)r.probe%5Bt%5D.set(0%2C%200%2C%200)%3B%20let%20h%20%3D%200%2C%20u%20%3D%200%2C%20d%20%3D%200%2C%20p%20%3D%200%2C%20m%20%3D%200%2C%20f%20%3D%200%2C%20g%20%3D%200%2C%20v%20%3D%200%2C%20x%20%3D%200%2C%20_%20%3D%200%3B%20s.sort(Ls)%3B%20const%20y%20%3D%20!0%20!%3D%3D%20a%20%3F%20Math.PI%20%3A%201%3B%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20s.length%3B%20t%20%3C%20e%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20s%5Bt%5D%2C%20a%20%3D%20e.color%2C%20M%20%3D%20e.intensity%2C%20b%20%3D%20e.distance%2C%20S%20%3D%20e.shadow%20%26%26%20e.shadow.map%20%3F%20e.shadow.map.texture%20%3A%20null%3B%20if%20(e.isAmbientLight)%20o%20%2B%3D%20a.r%20*%20M%20*%20y%2C%20l%20%2B%3D%20a.g%20*%20M%20*%20y%2C%20c%20%2B%3D%20a.b%20*%20M%20*%20y%3B%20else%20if%20(e.isLightProbe)%20for%20(let%20t%20%3D%200%3B%20t%20%3C%209%3B%20t%2B%2B)r.probe%5Bt%5D.addScaledVector(e.sh.coefficients%5Bt%5D%2C%20M)%3B%20else%20if%20(e.isDirectionalLight)%20%7B%20const%20t%20%3D%20i.get(e)%3B%20if%20(t.color.copy(e.color).multiplyScalar(e.intensity%20*%20y)%2C%20e.castShadow)%20%7B%20const%20t%20%3D%20e.shadow%2C%20i%20%3D%20n.get(e)%3B%20i.shadowBias%20%3D%20t.bias%2C%20i.shadowNormalBias%20%3D%20t.normalBias%2C%20i.shadowRadius%20%3D%20t.radius%2C%20i.shadowMapSize%20%3D%20t.mapSize%2C%20r.directionalShadow%5Bh%5D%20%3D%20i%2C%20r.directionalShadowMap%5Bh%5D%20%3D%20S%2C%20r.directionalShadowMatrix%5Bh%5D%20%3D%20e.shadow.matrix%2C%20f%2B%2B%20%7D%20r.directional%5Bh%5D%20%3D%20t%2C%20h%2B%2B%20%7D%20else%20if%20(e.isSpotLight)%20%7B%20const%20t%20%3D%20i.get(e)%3B%20t.position.setFromMatrixPosition(e.matrixWorld)%2C%20t.color.copy(a).multiplyScalar(M%20*%20y)%2C%20t.distance%20%3D%20b%2C%20t.coneCos%20%3D%20Math.cos(e.angle)%2C%20t.penumbraCos%20%3D%20Math.cos(e.angle%20*%20(1%20-%20e.penumbra))%2C%20t.decay%20%3D%20e.decay%2C%20r.spot%5Bd%5D%20%3D%20t%3B%20const%20s%20%3D%20e.shadow%3B%20if%20(e.map%20%26%26%20(r.spotLightMap%5Bx%5D%20%3D%20e.map%2C%20x%2B%2B%2C%20s.updateMatrices(e)%2C%20e.castShadow%20%26%26%20_%2B%2B)%2C%20r.spotLightMatrix%5Bd%5D%20%3D%20s.matrix%2C%20e.castShadow)%20%7B%20const%20t%20%3D%20n.get(e)%3B%20t.shadowBias%20%3D%20s.bias%2C%20t.shadowNormalBias%20%3D%20s.normalBias%2C%20t.shadowRadius%20%3D%20s.radius%2C%20t.shadowMapSize%20%3D%20s.mapSize%2C%20r.spotShadow%5Bd%5D%20%3D%20t%2C%20r.spotShadowMap%5Bd%5D%20%3D%20S%2C%20v%2B%2B%20%7D%20d%2B%2B%20%7D%20else%20if%20(e.isRectAreaLight)%20%7B%20const%20t%20%3D%20i.get(e)%3B%20t.color.copy(a).multiplyScalar(M)%2C%20t.halfWidth.set(.5%20*%20e.width%2C%200%2C%200)%2C%20t.halfHeight.set(0%2C%20.5%20*%20e.height%2C%200)%2C%20r.rectArea%5Bp%5D%20%3D%20t%2C%20p%2B%2B%20%7D%20else%20if%20(e.isPointLight)%20%7B%20const%20t%20%3D%20i.get(e)%3B%20if%20(t.color.copy(e.color).multiplyScalar(e.intensity%20*%20y)%2C%20t.distance%20%3D%20e.distance%2C%20t.decay%20%3D%20e.decay%2C%20e.castShadow)%20%7B%20const%20t%20%3D%20e.shadow%2C%20i%20%3D%20n.get(e)%3B%20i.shadowBias%20%3D%20t.bias%2C%20i.shadowNormalBias%20%3D%20t.normalBias%2C%20i.shadowRadius%20%3D%20t.radius%2C%20i.shadowMapSize%20%3D%20t.mapSize%2C%20i.shadowCameraNear%20%3D%20t.camera.near%2C%20i.shadowCameraFar%20%3D%20t.camera.far%2C%20r.pointShadow%5Bu%5D%20%3D%20i%2C%20r.pointShadowMap%5Bu%5D%20%3D%20S%2C%20r.pointShadowMatrix%5Bu%5D%20%3D%20e.shadow.matrix%2C%20g%2B%2B%20%7D%20r.point%5Bu%5D%20%3D%20t%2C%20u%2B%2B%20%7D%20else%20if%20(e.isHemisphereLight)%20%7B%20const%20t%20%3D%20i.get(e)%3B%20t.skyColor.copy(e.color).multiplyScalar(M%20*%20y)%2C%20t.groundColor.copy(e.groundColor).multiplyScalar(M%20*%20y)%2C%20r.hemi%5Bm%5D%20%3D%20t%2C%20m%2B%2B%20%7D%20%7D%20p%20%3E%200%20%26%26%20(e.isWebGL2%20%7C%7C%20!0%20%3D%3D%3D%20t.has(%22OES_texture_float_linear%22)%20%3F%20(r.rectAreaLTC1%20%3D%20_n.LTC_FLOAT_1%2C%20r.rectAreaLTC2%20%3D%20_n.LTC_FLOAT_2)%20%3A%20!0%20%3D%3D%3D%20t.has(%22OES_texture_half_float_linear%22)%20%3F%20(r.rectAreaLTC1%20%3D%20_n.LTC_HALF_1%2C%20r.rectAreaLTC2%20%3D%20_n.LTC_HALF_2)%20%3A%20console.error(%22THREE.WebGLRenderer%3A%20Unable%20to%20use%20RectAreaLight.%20Missing%20WebGL%20extensions.%22))%2C%20r.ambient%5B0%5D%20%3D%20o%2C%20r.ambient%5B1%5D%20%3D%20l%2C%20r.ambient%5B2%5D%20%3D%20c%3B%20const%20M%20%3D%20r.hash%3B%20M.directionalLength%20%3D%3D%3D%20h%20%26%26%20M.pointLength%20%3D%3D%3D%20u%20%26%26%20M.spotLength%20%3D%3D%3D%20d%20%26%26%20M.rectAreaLength%20%3D%3D%3D%20p%20%26%26%20M.hemiLength%20%3D%3D%3D%20m%20%26%26%20M.numDirectionalShadows%20%3D%3D%3D%20f%20%26%26%20M.numPointShadows%20%3D%3D%3D%20g%20%26%26%20M.numSpotShadows%20%3D%3D%3D%20v%20%26%26%20M.numSpotMaps%20%3D%3D%3D%20x%20%7C%7C%20(r.directional.length%20%3D%20h%2C%20r.spot.length%20%3D%20d%2C%20r.rectArea.length%20%3D%20p%2C%20r.point.length%20%3D%20u%2C%20r.hemi.length%20%3D%20m%2C%20r.directionalShadow.length%20%3D%20f%2C%20r.directionalShadowMap.length%20%3D%20f%2C%20r.pointShadow.length%20%3D%20g%2C%20r.pointShadowMap.length%20%3D%20g%2C%20r.spotShadow.length%20%3D%20v%2C%20r.spotShadowMap.length%20%3D%20v%2C%20r.directionalShadowMatrix.length%20%3D%20f%2C%20r.pointShadowMatrix.length%20%3D%20g%2C%20r.spotLightMatrix.length%20%3D%20v%20%2B%20x%20-%20_%2C%20r.spotLightMap.length%20%3D%20x%2C%20r.numSpotLightShadowsWithMaps%20%3D%20_%2C%20M.directionalLength%20%3D%20h%2C%20M.pointLength%20%3D%20u%2C%20M.spotLength%20%3D%20d%2C%20M.rectAreaLength%20%3D%20p%2C%20M.hemiLength%20%3D%20m%2C%20M.numDirectionalShadows%20%3D%20f%2C%20M.numPointShadows%20%3D%20g%2C%20M.numSpotShadows%20%3D%20v%2C%20M.numSpotMaps%20%3D%20x%2C%20r.version%20%3D%20Cs%2B%2B)%20%7D%2C%20setupView%3A%20function%20(t%2C%20e)%20%7B%20let%20i%20%3D%200%2C%20n%20%3D%200%2C%20l%20%3D%200%2C%20c%20%3D%200%2C%20h%20%3D%200%3B%20const%20u%20%3D%20e.matrixWorldInverse%3B%20for%20(let%20e%20%3D%200%2C%20d%20%3D%20t.length%3B%20e%20%3C%20d%3B%20e%2B%2B)%20%7B%20const%20d%20%3D%20t%5Be%5D%3B%20if%20(d.isDirectionalLight)%20%7B%20const%20t%20%3D%20r.directional%5Bi%5D%3B%20t.direction.setFromMatrixPosition(d.matrixWorld)%2C%20s.setFromMatrixPosition(d.target.matrixWorld)%2C%20t.direction.sub(s)%2C%20t.direction.transformDirection(u)%2C%20i%2B%2B%20%7D%20else%20if%20(d.isSpotLight)%20%7B%20const%20t%20%3D%20r.spot%5Bl%5D%3B%20t.position.setFromMatrixPosition(d.matrixWorld)%2C%20t.position.applyMatrix4(u)%2C%20t.direction.setFromMatrixPosition(d.matrixWorld)%2C%20s.setFromMatrixPosition(d.target.matrixWorld)%2C%20t.direction.sub(s)%2C%20t.direction.transformDirection(u)%2C%20l%2B%2B%20%7D%20else%20if%20(d.isRectAreaLight)%20%7B%20const%20t%20%3D%20r.rectArea%5Bc%5D%3B%20t.position.setFromMatrixPosition(d.matrixWorld)%2C%20t.position.applyMatrix4(u)%2C%20o.identity()%2C%20a.copy(d.matrixWorld)%2C%20a.premultiply(u)%2C%20o.extractRotation(a)%2C%20t.halfWidth.set(.5%20*%20d.width%2C%200%2C%200)%2C%20t.halfHeight.set(0%2C%20.5%20*%20d.height%2C%200)%2C%20t.halfWidth.applyMatrix4(o)%2C%20t.halfHeight.applyMatrix4(o)%2C%20c%2B%2B%20%7D%20else%20if%20(d.isPointLight)%20%7B%20const%20t%20%3D%20r.point%5Bn%5D%3B%20t.position.setFromMatrixPosition(d.matrixWorld)%2C%20t.position.applyMatrix4(u)%2C%20n%2B%2B%20%7D%20else%20if%20(d.isHemisphereLight)%20%7B%20const%20t%20%3D%20r.hemi%5Bh%5D%3B%20t.direction.setFromMatrixPosition(d.matrixWorld)%2C%20t.direction.transformDirection(u)%2C%20h%2B%2B%20%7D%20%7D%20%7D%2C%20state%3A%20r%20%7D%20%7D%20function%20Ps(t%2C%20e)%20%7B%20const%20i%20%3D%20new%20Rs(t%2C%20e)%2C%20n%20%3D%20%5B%5D%2C%20r%20%3D%20%5B%5D%3B%20return%20%7B%20init%3A%20function%20()%20%7B%20n.length%20%3D%200%2C%20r.length%20%3D%200%20%7D%2C%20state%3A%20%7B%20lightsArray%3A%20n%2C%20shadowsArray%3A%20r%2C%20lights%3A%20i%20%7D%2C%20setupLights%3A%20function%20(t)%20%7B%20i.setup(n%2C%20t)%20%7D%2C%20setupLightsView%3A%20function%20(t)%20%7B%20i.setupView(n%2C%20t)%20%7D%2C%20pushLight%3A%20function%20(t)%20%7B%20n.push(t)%20%7D%2C%20pushShadow%3A%20function%20(t)%20%7B%20r.push(t)%20%7D%20%7D%20%7D%20function%20Is(t%2C%20e)%20%7B%20let%20i%20%3D%20new%20WeakMap%3B%20return%20%7B%20get%3A%20function%20(n%2C%20r%20%3D%200)%20%7B%20const%20s%20%3D%20i.get(n)%3B%20let%20a%3B%20return%20void%200%20%3D%3D%3D%20s%20%3F%20(a%20%3D%20new%20Ps(t%2C%20e)%2C%20i.set(n%2C%20%5Ba%5D))%20%3A%20r%20%3E%3D%20s.length%20%3F%20(a%20%3D%20new%20Ps(t%2C%20e)%2C%20s.push(a))%20%3A%20a%20%3D%20s%5Br%5D%2C%20a%20%7D%2C%20dispose%3A%20function%20()%20%7B%20i%20%3D%20new%20WeakMap%20%7D%20%7D%20%7D%20class%20Ds%20extends%20xi%20%7B%20constructor(t)%20%7B%20super()%2C%20this.isMeshDepthMaterial%20%3D%20!0%2C%20this.type%20%3D%20%22MeshDepthMaterial%22%2C%20this.depthPacking%20%3D%203200%2C%20this.map%20%3D%20null%2C%20this.alphaMap%20%3D%20null%2C%20this.displacementMap%20%3D%20null%2C%20this.displacementScale%20%3D%201%2C%20this.displacementBias%20%3D%200%2C%20this.wireframe%20%3D%20!1%2C%20this.wireframeLinewidth%20%3D%201%2C%20this.setValues(t)%20%7D%20copy(t)%20%7B%20return%20super.copy(t)%2C%20this.depthPacking%20%3D%20t.depthPacking%2C%20this.map%20%3D%20t.map%2C%20this.alphaMap%20%3D%20t.alphaMap%2C%20this.displacementMap%20%3D%20t.displacementMap%2C%20this.displacementScale%20%3D%20t.displacementScale%2C%20this.displacementBias%20%3D%20t.displacementBias%2C%20this.wireframe%20%3D%20t.wireframe%2C%20this.wireframeLinewidth%20%3D%20t.wireframeLinewidth%2C%20this%20%7D%20%7D%20class%20Ns%20extends%20xi%20%7B%20constructor(t)%20%7B%20super()%2C%20this.isMeshDistanceMaterial%20%3D%20!0%2C%20this.type%20%3D%20%22MeshDistanceMaterial%22%2C%20this.referencePosition%20%3D%20new%20re%2C%20this.nearDistance%20%3D%201%2C%20this.farDistance%20%3D%201e3%2C%20this.map%20%3D%20null%2C%20this.alphaMap%20%3D%20null%2C%20this.displacementMap%20%3D%20null%2C%20this.displacementScale%20%3D%201%2C%20this.displacementBias%20%3D%200%2C%20this.setValues(t)%20%7D%20copy(t)%20%7B%20return%20super.copy(t)%2C%20this.referencePosition.copy(t.referencePosition)%2C%20this.nearDistance%20%3D%20t.nearDistance%2C%20this.farDistance%20%3D%20t.farDistance%2C%20this.map%20%3D%20t.map%2C%20this.alphaMap%20%3D%20t.alphaMap%2C%20this.displacementMap%20%3D%20t.displacementMap%2C%20this.displacementScale%20%3D%20t.displacementScale%2C%20this.displacementBias%20%3D%20t.displacementBias%2C%20this%20%7D%20%7D%20function%20Os(t%2C%20e%2C%20i)%20%7B%20let%20n%20%3D%20new%20mn%3B%20const%20r%20%3D%20new%20Lt%2C%20s%20%3D%20new%20Lt%2C%20a%20%3D%20new%20Qt%2C%20o%20%3D%20new%20Ds(%7B%20depthPacking%3A%203201%20%7D)%2C%20l%20%3D%20new%20Ns%2C%20c%20%3D%20%7B%7D%2C%20h%20%3D%20i.maxTextureSize%2C%20u%20%3D%20%7B%200%3A%201%2C%201%3A%200%2C%202%3A%202%20%7D%2C%20p%20%3D%20new%20tn(%7B%20defines%3A%20%7B%20VSM_SAMPLES%3A%208%20%7D%2C%20uniforms%3A%20%7B%20shadow_pass%3A%20%7B%20value%3A%20null%20%7D%2C%20resolution%3A%20%7B%20value%3A%20new%20Lt%20%7D%2C%20radius%3A%20%7B%20value%3A%204%20%7D%20%7D%2C%20vertexShader%3A%20%22void%20main()%20%7B%5Cn%5Ctgl_Position%20%3D%20vec4(%20position%2C%201.0%20)%3B%5Cn%7D%22%2C%20fragmentShader%3A%20%22uniform%20sampler2D%20shadow_pass%3B%5Cnuniform%20vec2%20resolution%3B%5Cnuniform%20float%20radius%3B%5Cn%23include%20%3Cpacking%3E%5Cnvoid%20main()%20%7B%5Cn%5Ctconst%20float%20samples%20%3D%20float(%20VSM_SAMPLES%20)%3B%5Cn%5Ctfloat%20mean%20%3D%200.0%3B%5Cn%5Ctfloat%20squared_mean%20%3D%200.0%3B%5Cn%5Ctfloat%20uvStride%20%3D%20samples%20%3C%3D%201.0%20%3F%200.0%20%3A%202.0%20%2F%20(%20samples%20-%201.0%20)%3B%5Cn%5Ctfloat%20uvStart%20%3D%20samples%20%3C%3D%201.0%20%3F%200.0%20%3A%20-%201.0%3B%5Cn%5Ctfor%20(%20float%20i%20%3D%200.0%3B%20i%20%3C%20samples%3B%20i%20%2B%2B%20)%20%7B%5Cn%5Ct%5Ctfloat%20uvOffset%20%3D%20uvStart%20%2B%20i%20*%20uvStride%3B%5Cn%5Ct%5Ct%23ifdef%20HORIZONTAL_PASS%5Cn%5Ct%5Ct%5Ctvec2%20distribution%20%3D%20unpackRGBATo2Half(%20texture2D(%20shadow_pass%2C%20(%20gl_FragCoord.xy%20%2B%20vec2(%20uvOffset%2C%200.0%20)%20*%20radius%20)%20%2F%20resolution%20)%20)%3B%5Cn%5Ct%5Ct%5Ctmean%20%2B%3D%20distribution.x%3B%5Cn%5Ct%5Ct%5Ctsquared_mean%20%2B%3D%20distribution.y%20*%20distribution.y%20%2B%20distribution.x%20*%20distribution.x%3B%5Cn%5Ct%5Ct%23else%5Cn%5Ct%5Ct%5Ctfloat%20depth%20%3D%20unpackRGBAToDepth(%20texture2D(%20shadow_pass%2C%20(%20gl_FragCoord.xy%20%2B%20vec2(%200.0%2C%20uvOffset%20)%20*%20radius%20)%20%2F%20resolution%20)%20)%3B%5Cn%5Ct%5Ct%5Ctmean%20%2B%3D%20depth%3B%5Cn%5Ct%5Ct%5Ctsquared_mean%20%2B%3D%20depth%20*%20depth%3B%5Cn%5Ct%5Ct%23endif%5Cn%5Ct%7D%5Cn%5Ctmean%20%3D%20mean%20%2F%20samples%3B%5Cn%5Ctsquared_mean%20%3D%20squared_mean%20%2F%20samples%3B%5Cn%5Ctfloat%20std_dev%20%3D%20sqrt(%20squared_mean%20-%20mean%20*%20mean%20)%3B%5Cn%5Ctgl_FragColor%20%3D%20pack2HalfToRGBA(%20vec2(%20mean%2C%20std_dev%20)%20)%3B%5Cn%7D%22%20%7D)%2C%20m%20%3D%20p.clone()%3B%20m.defines.HORIZONTAL_PASS%20%3D%201%3B%20const%20f%20%3D%20new%20Di%3B%20f.setAttribute(%22position%22%2C%20new%20bi(new%20Float32Array(%5B-1%2C%20-1%2C%20.5%2C%203%2C%20-1%2C%20.5%2C%20-1%2C%203%2C%20.5%5D)%2C%203))%3B%20const%20g%20%3D%20new%20Xi(f%2C%20p)%2C%20v%20%3D%20this%3B%20function%20x(i%2C%20n)%20%7B%20const%20s%20%3D%20e.update(g)%3B%20p.defines.VSM_SAMPLES%20!%3D%3D%20i.blurSamples%20%26%26%20(p.defines.VSM_SAMPLES%20%3D%20i.blurSamples%2C%20m.defines.VSM_SAMPLES%20%3D%20i.blurSamples%2C%20p.needsUpdate%20%3D%20!0%2C%20m.needsUpdate%20%3D%20!0)%2C%20null%20%3D%3D%3D%20i.mapPass%20%26%26%20(i.mapPass%20%3D%20new%20te(r.x%2C%20r.y))%2C%20p.uniforms.shadow_pass.value%20%3D%20i.map.texture%2C%20p.uniforms.resolution.value%20%3D%20i.mapSize%2C%20p.uniforms.radius.value%20%3D%20i.radius%2C%20t.setRenderTarget(i.mapPass)%2C%20t.clear()%2C%20t.renderBufferDirect(n%2C%20null%2C%20s%2C%20p%2C%20g%2C%20null)%2C%20m.uniforms.shadow_pass.value%20%3D%20i.mapPass.texture%2C%20m.uniforms.resolution.value%20%3D%20i.mapSize%2C%20m.uniforms.radius.value%20%3D%20i.radius%2C%20t.setRenderTarget(i.map)%2C%20t.clear()%2C%20t.renderBufferDirect(n%2C%20null%2C%20s%2C%20m%2C%20g%2C%20null)%20%7D%20function%20_(e%2C%20i%2C%20n%2C%20r%2C%20s%2C%20a)%20%7B%20let%20h%20%3D%20null%3B%20const%20d%20%3D%20!0%20%3D%3D%3D%20n.isPointLight%20%3F%20e.customDistanceMaterial%20%3A%20e.customDepthMaterial%3B%20if%20(void%200%20!%3D%3D%20d)%20h%20%3D%20d%3B%20else%20if%20(h%20%3D%20!0%20%3D%3D%3D%20n.isPointLight%20%3F%20l%20%3A%20o%2C%20t.localClippingEnabled%20%26%26%20!0%20%3D%3D%3D%20i.clipShadows%20%26%26%20Array.isArray(i.clippingPlanes)%20%26%26%200%20!%3D%3D%20i.clippingPlanes.length%20%7C%7C%20i.displacementMap%20%26%26%200%20!%3D%3D%20i.displacementScale%20%7C%7C%20i.alphaMap%20%26%26%20i.alphaTest%20%3E%200%20%7C%7C%20i.map%20%26%26%20i.alphaTest%20%3E%200)%20%7B%20const%20t%20%3D%20h.uuid%2C%20e%20%3D%20i.uuid%3B%20let%20n%20%3D%20c%5Bt%5D%3B%20void%200%20%3D%3D%3D%20n%20%26%26%20(n%20%3D%20%7B%7D%2C%20c%5Bt%5D%20%3D%20n)%3B%20let%20r%20%3D%20n%5Be%5D%3B%20void%200%20%3D%3D%3D%20r%20%26%26%20(r%20%3D%20h.clone()%2C%20n%5Be%5D%20%3D%20r)%2C%20h%20%3D%20r%20%7D%20return%20h.visible%20%3D%20i.visible%2C%20h.wireframe%20%3D%20i.wireframe%2C%20h.side%20%3D%203%20%3D%3D%3D%20a%20%3F%20null%20!%3D%3D%20i.shadowSide%20%3F%20i.shadowSide%20%3A%20i.side%20%3A%20null%20!%3D%3D%20i.shadowSide%20%3F%20i.shadowSide%20%3A%20u%5Bi.side%5D%2C%20h.alphaMap%20%3D%20i.alphaMap%2C%20h.alphaTest%20%3D%20i.alphaTest%2C%20h.map%20%3D%20i.map%2C%20h.clipShadows%20%3D%20i.clipShadows%2C%20h.clippingPlanes%20%3D%20i.clippingPlanes%2C%20h.clipIntersection%20%3D%20i.clipIntersection%2C%20h.displacementMap%20%3D%20i.displacementMap%2C%20h.displacementScale%20%3D%20i.displacementScale%2C%20h.displacementBias%20%3D%20i.displacementBias%2C%20h.wireframeLinewidth%20%3D%20i.wireframeLinewidth%2C%20h.linewidth%20%3D%20i.linewidth%2C%20!0%20%3D%3D%3D%20n.isPointLight%20%26%26%20!0%20%3D%3D%3D%20h.isMeshDistanceMaterial%20%26%26%20(h.referencePosition.setFromMatrixPosition(n.matrixWorld)%2C%20h.nearDistance%20%3D%20r%2C%20h.farDistance%20%3D%20s)%2C%20h%20%7D%20function%20y(i%2C%20r%2C%20s%2C%20a%2C%20o)%20%7B%20if%20(!1%20%3D%3D%3D%20i.visible)%20return%3B%20if%20(i.layers.test(r.layers)%20%26%26%20(i.isMesh%20%7C%7C%20i.isLine%20%7C%7C%20i.isPoints)%20%26%26%20(i.castShadow%20%7C%7C%20i.receiveShadow%20%26%26%203%20%3D%3D%3D%20o)%20%26%26%20(!i.frustumCulled%20%7C%7C%20n.intersectsObject(i)))%20%7B%20i.modelViewMatrix.multiplyMatrices(s.matrixWorldInverse%2C%20i.matrixWorld)%3B%20const%20n%20%3D%20e.update(i)%2C%20r%20%3D%20i.material%3B%20if%20(Array.isArray(r))%20%7B%20const%20e%20%3D%20n.groups%3B%20for%20(let%20l%20%3D%200%2C%20c%20%3D%20e.length%3B%20l%20%3C%20c%3B%20l%2B%2B)%20%7B%20const%20c%20%3D%20e%5Bl%5D%2C%20h%20%3D%20r%5Bc.materialIndex%5D%3B%20if%20(h%20%26%26%20h.visible)%20%7B%20const%20e%20%3D%20_(i%2C%20h%2C%20a%2C%20s.near%2C%20s.far%2C%20o)%3B%20t.renderBufferDirect(s%2C%20null%2C%20n%2C%20e%2C%20i%2C%20c)%20%7D%20%7D%20%7D%20else%20if%20(r.visible)%20%7B%20const%20e%20%3D%20_(i%2C%20r%2C%20a%2C%20s.near%2C%20s.far%2C%20o)%3B%20t.renderBufferDirect(s%2C%20null%2C%20n%2C%20e%2C%20i%2C%20null)%20%7D%20%7D%20const%20l%20%3D%20i.children%3B%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20l.length%3B%20t%20%3C%20e%3B%20t%2B%2B)y(l%5Bt%5D%2C%20r%2C%20s%2C%20a%2C%20o)%20%7D%20this.enabled%20%3D%20!1%2C%20this.autoUpdate%20%3D%20!0%2C%20this.needsUpdate%20%3D%20!1%2C%20this.type%20%3D%201%2C%20this.render%20%3D%20function%20(e%2C%20i%2C%20o)%20%7B%20if%20(!1%20%3D%3D%3D%20v.enabled)%20return%3B%20if%20(!1%20%3D%3D%3D%20v.autoUpdate%20%26%26%20!1%20%3D%3D%3D%20v.needsUpdate)%20return%3B%20if%20(0%20%3D%3D%3D%20e.length)%20return%3B%20const%20l%20%3D%20t.getRenderTarget()%2C%20c%20%3D%20t.getActiveCubeFace()%2C%20u%20%3D%20t.getActiveMipmapLevel()%2C%20p%20%3D%20t.state%3B%20p.setBlending(0)%2C%20p.buffers.color.setClear(1%2C%201%2C%201%2C%201)%2C%20p.buffers.depth.setTest(!0)%2C%20p.setScissorTest(!1)%3B%20for%20(let%20l%20%3D%200%2C%20c%20%3D%20e.length%3B%20l%20%3C%20c%3B%20l%2B%2B)%20%7B%20const%20c%20%3D%20e%5Bl%5D%2C%20u%20%3D%20c.shadow%3B%20if%20(void%200%20%3D%3D%3D%20u)%20%7B%20console.warn(%22THREE.WebGLShadowMap%3A%22%2C%20c%2C%20%22has%20no%20shadow.%22)%3B%20continue%20%7D%20if%20(!1%20%3D%3D%3D%20u.autoUpdate%20%26%26%20!1%20%3D%3D%3D%20u.needsUpdate)%20continue%3B%20r.copy(u.mapSize)%3B%20const%20m%20%3D%20u.getFrameExtents()%3B%20if%20(r.multiply(m)%2C%20s.copy(u.mapSize)%2C%20(r.x%20%3E%20h%20%7C%7C%20r.y%20%3E%20h)%20%26%26%20(r.x%20%3E%20h%20%26%26%20(s.x%20%3D%20Math.floor(h%20%2F%20m.x)%2C%20r.x%20%3D%20s.x%20*%20m.x%2C%20u.mapSize.x%20%3D%20s.x)%2C%20r.y%20%3E%20h%20%26%26%20(s.y%20%3D%20Math.floor(h%20%2F%20m.y)%2C%20r.y%20%3D%20s.y%20*%20m.y%2C%20u.mapSize.y%20%3D%20s.y))%2C%20null%20%3D%3D%3D%20u.map)%20%7B%20const%20t%20%3D%203%20!%3D%3D%20this.type%20%3F%20%7B%20minFilter%3A%20d%2C%20magFilter%3A%20d%20%7D%20%3A%20%7B%7D%3B%20u.map%20%3D%20new%20te(r.x%2C%20r.y%2C%20t)%2C%20u.map.texture.name%20%3D%20c.name%20%2B%20%22.shadowMap%22%2C%20u.camera.updateProjectionMatrix()%20%7D%20t.setRenderTarget(u.map)%2C%20t.clear()%3B%20const%20f%20%3D%20u.getViewportCount()%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20f%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20u.getViewport(t)%3B%20a.set(s.x%20*%20e.x%2C%20s.y%20*%20e.y%2C%20s.x%20*%20e.z%2C%20s.y%20*%20e.w)%2C%20p.viewport(a)%2C%20u.updateMatrices(c%2C%20t)%2C%20n%20%3D%20u.getFrustum()%2C%20y(i%2C%20o%2C%20u.camera%2C%20c%2C%20this.type)%20%7D%20!0%20!%3D%3D%20u.isPointLightShadow%20%26%26%203%20%3D%3D%3D%20this.type%20%26%26%20x(u%2C%20o)%2C%20u.needsUpdate%20%3D%20!1%20%7D%20v.needsUpdate%20%3D%20!1%2C%20t.setRenderTarget(l%2C%20c%2C%20u)%20%7D%20%7D%20function%20zs(t%2C%20e%2C%20n)%20%7B%20const%20r%20%3D%20n.isWebGL2%3B%20const%20s%20%3D%20new%20function%20()%20%7B%20let%20e%20%3D%20!1%3B%20const%20i%20%3D%20new%20Qt%3B%20let%20n%20%3D%20null%3B%20const%20r%20%3D%20new%20Qt(0%2C%200%2C%200%2C%200)%3B%20return%20%7B%20setMask%3A%20function%20(i)%20%7B%20n%20%3D%3D%3D%20i%20%7C%7C%20e%20%7C%7C%20(t.colorMask(i%2C%20i%2C%20i%2C%20i)%2C%20n%20%3D%20i)%20%7D%2C%20setLocked%3A%20function%20(t)%20%7B%20e%20%3D%20t%20%7D%2C%20setClear%3A%20function%20(e%2C%20n%2C%20s%2C%20a%2C%20o)%20%7B%20!0%20%3D%3D%3D%20o%20%26%26%20(e%20*%3D%20a%2C%20n%20*%3D%20a%2C%20s%20*%3D%20a)%2C%20i.set(e%2C%20n%2C%20s%2C%20a)%2C%20!1%20%3D%3D%3D%20r.equals(i)%20%26%26%20(t.clearColor(e%2C%20n%2C%20s%2C%20a)%2C%20r.copy(i))%20%7D%2C%20reset%3A%20function%20()%20%7B%20e%20%3D%20!1%2C%20n%20%3D%20null%2C%20r.set(-1%2C%200%2C%200%2C%200)%20%7D%20%7D%20%7D%2C%20a%20%3D%20new%20function%20()%20%7B%20let%20e%20%3D%20!1%2C%20i%20%3D%20null%2C%20n%20%3D%20null%2C%20r%20%3D%20null%3B%20return%20%7B%20setTest%3A%20function%20(t)%20%7B%20t%20%3F%20G(2929)%20%3A%20V(2929)%20%7D%2C%20setMask%3A%20function%20(n)%20%7B%20i%20%3D%3D%3D%20n%20%7C%7C%20e%20%7C%7C%20(t.depthMask(n)%2C%20i%20%3D%20n)%20%7D%2C%20setFunc%3A%20function%20(e)%20%7B%20if%20(n%20!%3D%3D%20e)%20%7B%20switch%20(e)%20%7B%20case%200%3A%20t.depthFunc(512)%3B%20break%3B%20case%201%3A%20t.depthFunc(519)%3B%20break%3B%20case%202%3A%20t.depthFunc(513)%3B%20break%3B%20case%203%3A%20default%3A%20t.depthFunc(515)%3B%20break%3B%20case%204%3A%20t.depthFunc(514)%3B%20break%3B%20case%205%3A%20t.depthFunc(518)%3B%20break%3B%20case%206%3A%20t.depthFunc(516)%3B%20break%3B%20case%207%3A%20t.depthFunc(517)%20%7Dn%20%3D%20e%20%7D%20%7D%2C%20setLocked%3A%20function%20(t)%20%7B%20e%20%3D%20t%20%7D%2C%20setClear%3A%20function%20(e)%20%7B%20r%20!%3D%3D%20e%20%26%26%20(t.clearDepth(e)%2C%20r%20%3D%20e)%20%7D%2C%20reset%3A%20function%20()%20%7B%20e%20%3D%20!1%2C%20i%20%3D%20null%2C%20n%20%3D%20null%2C%20r%20%3D%20null%20%7D%20%7D%20%7D%2C%20o%20%3D%20new%20function%20()%20%7B%20let%20e%20%3D%20!1%2C%20i%20%3D%20null%2C%20n%20%3D%20null%2C%20r%20%3D%20null%2C%20s%20%3D%20null%2C%20a%20%3D%20null%2C%20o%20%3D%20null%2C%20l%20%3D%20null%2C%20c%20%3D%20null%3B%20return%20%7B%20setTest%3A%20function%20(t)%20%7B%20e%20%7C%7C%20(t%20%3F%20G(2960)%20%3A%20V(2960))%20%7D%2C%20setMask%3A%20function%20(n)%20%7B%20i%20%3D%3D%3D%20n%20%7C%7C%20e%20%7C%7C%20(t.stencilMask(n)%2C%20i%20%3D%20n)%20%7D%2C%20setFunc%3A%20function%20(e%2C%20i%2C%20a)%20%7B%20n%20%3D%3D%3D%20e%20%26%26%20r%20%3D%3D%3D%20i%20%26%26%20s%20%3D%3D%3D%20a%20%7C%7C%20(t.stencilFunc(e%2C%20i%2C%20a)%2C%20n%20%3D%20e%2C%20r%20%3D%20i%2C%20s%20%3D%20a)%20%7D%2C%20setOp%3A%20function%20(e%2C%20i%2C%20n)%20%7B%20a%20%3D%3D%3D%20e%20%26%26%20o%20%3D%3D%3D%20i%20%26%26%20l%20%3D%3D%3D%20n%20%7C%7C%20(t.stencilOp(e%2C%20i%2C%20n)%2C%20a%20%3D%20e%2C%20o%20%3D%20i%2C%20l%20%3D%20n)%20%7D%2C%20setLocked%3A%20function%20(t)%20%7B%20e%20%3D%20t%20%7D%2C%20setClear%3A%20function%20(e)%20%7B%20c%20!%3D%3D%20e%20%26%26%20(t.clearStencil(e)%2C%20c%20%3D%20e)%20%7D%2C%20reset%3A%20function%20()%20%7B%20e%20%3D%20!1%2C%20i%20%3D%20null%2C%20n%20%3D%20null%2C%20r%20%3D%20null%2C%20s%20%3D%20null%2C%20a%20%3D%20null%2C%20o%20%3D%20null%2C%20l%20%3D%20null%2C%20c%20%3D%20null%20%7D%20%7D%20%7D%2C%20l%20%3D%20new%20WeakMap%2C%20c%20%3D%20new%20WeakMap%3B%20let%20h%20%3D%20%7B%7D%2C%20u%20%3D%20%7B%7D%2C%20d%20%3D%20new%20WeakMap%2C%20p%20%3D%20%5B%5D%2C%20m%20%3D%20null%2C%20f%20%3D%20!1%2C%20g%20%3D%20null%2C%20v%20%3D%20null%2C%20x%20%3D%20null%2C%20_%20%3D%20null%2C%20y%20%3D%20null%2C%20M%20%3D%20null%2C%20b%20%3D%20null%2C%20S%20%3D%20!1%2C%20w%20%3D%20null%2C%20T%20%3D%20null%2C%20A%20%3D%20null%2C%20E%20%3D%20null%2C%20C%20%3D%20null%3B%20const%20L%20%3D%20t.getParameter(35661)%3B%20let%20R%20%3D%20!1%2C%20P%20%3D%200%3B%20const%20I%20%3D%20t.getParameter(7938)%3B%20-1%20!%3D%3D%20I.indexOf(%22WebGL%22)%20%3F%20(P%20%3D%20parseFloat(%2F%5EWebGL%20(%5Cd)%2F.exec(I)%5B1%5D)%2C%20R%20%3D%20P%20%3E%3D%201)%20%3A%20-1%20!%3D%3D%20I.indexOf(%22OpenGL%20ES%22)%20%26%26%20(P%20%3D%20parseFloat(%2F%5EOpenGL%20ES%20(%5Cd)%2F.exec(I)%5B1%5D)%2C%20R%20%3D%20P%20%3E%3D%202)%3B%20let%20D%20%3D%20null%2C%20N%20%3D%20%7B%7D%3B%20const%20O%20%3D%20t.getParameter(3088)%2C%20z%20%3D%20t.getParameter(2978)%2C%20U%20%3D%20(new%20Qt).fromArray(O)%2C%20B%20%3D%20(new%20Qt).fromArray(z)%3B%20function%20F(e%2C%20i%2C%20n)%20%7B%20const%20r%20%3D%20new%20Uint8Array(4)%2C%20s%20%3D%20t.createTexture()%3B%20t.bindTexture(e%2C%20s)%2C%20t.texParameteri(e%2C%2010241%2C%209728)%2C%20t.texParameteri(e%2C%2010240%2C%209728)%3B%20for%20(let%20e%20%3D%200%3B%20e%20%3C%20n%3B%20e%2B%2B)t.texImage2D(i%20%2B%20e%2C%200%2C%206408%2C%201%2C%201%2C%200%2C%206408%2C%205121%2C%20r)%3B%20return%20s%20%7D%20const%20k%20%3D%20%7B%7D%3B%20function%20G(e)%20%7B%20!0%20!%3D%3D%20h%5Be%5D%20%26%26%20(t.enable(e)%2C%20h%5Be%5D%20%3D%20!0)%20%7D%20function%20V(e)%20%7B%20!1%20!%3D%3D%20h%5Be%5D%20%26%26%20(t.disable(e)%2C%20h%5Be%5D%20%3D%20!1)%20%7D%20k%5B3553%5D%20%3D%20F(3553%2C%203553%2C%201)%2C%20k%5B34067%5D%20%3D%20F(34067%2C%2034069%2C%206)%2C%20s.setClear(0%2C%200%2C%200%2C%201)%2C%20a.setClear(1)%2C%20o.setClear(0)%2C%20G(2929)%2C%20a.setFunc(3)%2C%20q(!1)%2C%20X(1)%2C%20G(2884)%2C%20j(0)%3B%20const%20H%20%3D%20%7B%20%5Bi%5D%3A%2032774%2C%20101%3A%2032778%2C%20102%3A%2032779%20%7D%3B%20if%20(r)%20H%5B103%5D%20%3D%2032775%2C%20H%5B104%5D%20%3D%2032776%3B%20else%20%7B%20const%20t%20%3D%20e.get(%22EXT_blend_minmax%22)%3B%20null%20!%3D%3D%20t%20%26%26%20(H%5B103%5D%20%3D%20t.MIN_EXT%2C%20H%5B104%5D%20%3D%20t.MAX_EXT)%20%7D%20const%20W%20%3D%20%7B%20200%3A%200%2C%20201%3A%201%2C%20202%3A%20768%2C%20204%3A%20770%2C%20210%3A%20776%2C%20208%3A%20774%2C%20206%3A%20772%2C%20203%3A%20769%2C%20205%3A%20771%2C%20209%3A%20775%2C%20207%3A%20773%20%7D%3B%20function%20j(e%2C%20n%2C%20r%2C%20s%2C%20a%2C%20o%2C%20l%2C%20c)%20%7B%20if%20(0%20!%3D%3D%20e)%20%7B%20if%20(!1%20%3D%3D%3D%20f%20%26%26%20(G(3042)%2C%20f%20%3D%20!0)%2C%205%20%3D%3D%3D%20e)%20a%20%3D%20a%20%7C%7C%20n%2C%20o%20%3D%20o%20%7C%7C%20r%2C%20l%20%3D%20l%20%7C%7C%20s%2C%20n%20%3D%3D%3D%20v%20%26%26%20a%20%3D%3D%3D%20y%20%7C%7C%20(t.blendEquationSeparate(H%5Bn%5D%2C%20H%5Ba%5D)%2C%20v%20%3D%20n%2C%20y%20%3D%20a)%2C%20r%20%3D%3D%3D%20x%20%26%26%20s%20%3D%3D%3D%20_%20%26%26%20o%20%3D%3D%3D%20M%20%26%26%20l%20%3D%3D%3D%20b%20%7C%7C%20(t.blendFuncSeparate(W%5Br%5D%2C%20W%5Bs%5D%2C%20W%5Bo%5D%2C%20W%5Bl%5D)%2C%20x%20%3D%20r%2C%20_%20%3D%20s%2C%20M%20%3D%20o%2C%20b%20%3D%20l)%2C%20g%20%3D%20e%2C%20S%20%3D%20!1%3B%20else%20if%20(e%20!%3D%3D%20g%20%7C%7C%20c%20!%3D%3D%20S)%20%7B%20if%20(v%20%3D%3D%3D%20i%20%26%26%20y%20%3D%3D%3D%20i%20%7C%7C%20(t.blendEquation(32774)%2C%20v%20%3D%20i%2C%20y%20%3D%20i)%2C%20c)%20switch%20(e)%20%7B%20case%201%3A%20t.blendFuncSeparate(1%2C%20771%2C%201%2C%20771)%3B%20break%3B%20case%202%3A%20t.blendFunc(1%2C%201)%3B%20break%3B%20case%203%3A%20t.blendFuncSeparate(0%2C%20769%2C%200%2C%201)%3B%20break%3B%20case%204%3A%20t.blendFuncSeparate(0%2C%20768%2C%200%2C%20770)%3B%20break%3B%20default%3A%20console.error(%22THREE.WebGLState%3A%20Invalid%20blending%3A%20%22%2C%20e)%20%7D%20else%20switch%20(e)%20%7B%20case%201%3A%20t.blendFuncSeparate(770%2C%20771%2C%201%2C%20771)%3B%20break%3B%20case%202%3A%20t.blendFunc(770%2C%201)%3B%20break%3B%20case%203%3A%20t.blendFuncSeparate(0%2C%20769%2C%200%2C%201)%3B%20break%3B%20case%204%3A%20t.blendFunc(0%2C%20768)%3B%20break%3B%20default%3A%20console.error(%22THREE.WebGLState%3A%20Invalid%20blending%3A%20%22%2C%20e)%20%7Dx%20%3D%20null%2C%20_%20%3D%20null%2C%20M%20%3D%20null%2C%20b%20%3D%20null%2C%20g%20%3D%20e%2C%20S%20%3D%20c%20%7D%20%7D%20else%20!0%20%3D%3D%3D%20f%20%26%26%20(V(3042)%2C%20f%20%3D%20!1)%20%7D%20function%20q(e)%20%7B%20w%20!%3D%3D%20e%20%26%26%20(e%20%3F%20t.frontFace(2304)%20%3A%20t.frontFace(2305)%2C%20w%20%3D%20e)%20%7D%20function%20X(e)%20%7B%200%20!%3D%3D%20e%20%3F%20(G(2884)%2C%20e%20!%3D%3D%20T%20%26%26%20(1%20%3D%3D%3D%20e%20%3F%20t.cullFace(1029)%20%3A%202%20%3D%3D%3D%20e%20%3F%20t.cullFace(1028)%20%3A%20t.cullFace(1032)))%20%3A%20V(2884)%2C%20T%20%3D%20e%20%7D%20function%20Y(e%2C%20i%2C%20n)%20%7B%20e%20%3F%20(G(32823)%2C%20E%20%3D%3D%3D%20i%20%26%26%20C%20%3D%3D%3D%20n%20%7C%7C%20(t.polygonOffset(i%2C%20n)%2C%20E%20%3D%20i%2C%20C%20%3D%20n))%20%3A%20V(32823)%20%7D%20return%20%7B%20buffers%3A%20%7B%20color%3A%20s%2C%20depth%3A%20a%2C%20stencil%3A%20o%20%7D%2C%20enable%3A%20G%2C%20disable%3A%20V%2C%20bindFramebuffer%3A%20function%20(e%2C%20i)%20%7B%20return%20u%5Be%5D%20!%3D%3D%20i%20%26%26%20(t.bindFramebuffer(e%2C%20i)%2C%20u%5Be%5D%20%3D%20i%2C%20r%20%26%26%20(36009%20%3D%3D%3D%20e%20%26%26%20(u%5B36160%5D%20%3D%20i)%2C%2036160%20%3D%3D%3D%20e%20%26%26%20(u%5B36009%5D%20%3D%20i))%2C%20!0)%20%7D%2C%20drawBuffers%3A%20function%20(i%2C%20r)%20%7B%20let%20s%20%3D%20p%2C%20a%20%3D%20!1%3B%20if%20(i)%20if%20(s%20%3D%20d.get(r)%2C%20void%200%20%3D%3D%3D%20s%20%26%26%20(s%20%3D%20%5B%5D%2C%20d.set(r%2C%20s))%2C%20i.isWebGLMultipleRenderTargets)%20%7B%20const%20t%20%3D%20i.texture%3B%20if%20(s.length%20!%3D%3D%20t.length%20%7C%7C%2036064%20!%3D%3D%20s%5B0%5D)%20%7B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20t.length%3B%20e%20%3C%20i%3B%20e%2B%2B)s%5Be%5D%20%3D%2036064%20%2B%20e%3B%20s.length%20%3D%20t.length%2C%20a%20%3D%20!0%20%7D%20%7D%20else%2036064%20!%3D%3D%20s%5B0%5D%20%26%26%20(s%5B0%5D%20%3D%2036064%2C%20a%20%3D%20!0)%3B%20else%201029%20!%3D%3D%20s%5B0%5D%20%26%26%20(s%5B0%5D%20%3D%201029%2C%20a%20%3D%20!0)%3B%20a%20%26%26%20(n.isWebGL2%20%3F%20t.drawBuffers(s)%20%3A%20e.get(%22WEBGL_draw_buffers%22).drawBuffersWEBGL(s))%20%7D%2C%20useProgram%3A%20function%20(e)%20%7B%20return%20m%20!%3D%3D%20e%20%26%26%20(t.useProgram(e)%2C%20m%20%3D%20e%2C%20!0)%20%7D%2C%20setBlending%3A%20j%2C%20setMaterial%3A%20function%20(t%2C%20e)%20%7B%202%20%3D%3D%3D%20t.side%20%3F%20V(2884)%20%3A%20G(2884)%3B%20let%20i%20%3D%201%20%3D%3D%3D%20t.side%3B%20e%20%26%26%20(i%20%3D%20!i)%2C%20q(i)%2C%201%20%3D%3D%3D%20t.blending%20%26%26%20!1%20%3D%3D%3D%20t.transparent%20%3F%20j(0)%20%3A%20j(t.blending%2C%20t.blendEquation%2C%20t.blendSrc%2C%20t.blendDst%2C%20t.blendEquationAlpha%2C%20t.blendSrcAlpha%2C%20t.blendDstAlpha%2C%20t.premultipliedAlpha)%2C%20a.setFunc(t.depthFunc)%2C%20a.setTest(t.depthTest)%2C%20a.setMask(t.depthWrite)%2C%20s.setMask(t.colorWrite)%3B%20const%20n%20%3D%20t.stencilWrite%3B%20o.setTest(n)%2C%20n%20%26%26%20(o.setMask(t.stencilWriteMask)%2C%20o.setFunc(t.stencilFunc%2C%20t.stencilRef%2C%20t.stencilFuncMask)%2C%20o.setOp(t.stencilFail%2C%20t.stencilZFail%2C%20t.stencilZPass))%2C%20Y(t.polygonOffset%2C%20t.polygonOffsetFactor%2C%20t.polygonOffsetUnits)%2C%20!0%20%3D%3D%3D%20t.alphaToCoverage%20%3F%20G(32926)%20%3A%20V(32926)%20%7D%2C%20setFlipSided%3A%20q%2C%20setCullFace%3A%20X%2C%20setLineWidth%3A%20function%20(e)%20%7B%20e%20!%3D%3D%20A%20%26%26%20(R%20%26%26%20t.lineWidth(e)%2C%20A%20%3D%20e)%20%7D%2C%20setPolygonOffset%3A%20Y%2C%20setScissorTest%3A%20function%20(t)%20%7B%20t%20%3F%20G(3089)%20%3A%20V(3089)%20%7D%2C%20activeTexture%3A%20function%20(e)%20%7B%20void%200%20%3D%3D%3D%20e%20%26%26%20(e%20%3D%2033984%20%2B%20L%20-%201)%2C%20D%20!%3D%3D%20e%20%26%26%20(t.activeTexture(e)%2C%20D%20%3D%20e)%20%7D%2C%20bindTexture%3A%20function%20(e%2C%20i%2C%20n)%20%7B%20void%200%20%3D%3D%3D%20n%20%26%26%20(n%20%3D%20null%20%3D%3D%3D%20D%20%3F%2033984%20%2B%20L%20-%201%20%3A%20D)%3B%20let%20r%20%3D%20N%5Bn%5D%3B%20void%200%20%3D%3D%3D%20r%20%26%26%20(r%20%3D%20%7B%20type%3A%20void%200%2C%20texture%3A%20void%200%20%7D%2C%20N%5Bn%5D%20%3D%20r)%2C%20r.type%20%3D%3D%3D%20e%20%26%26%20r.texture%20%3D%3D%3D%20i%20%7C%7C%20(D%20!%3D%3D%20n%20%26%26%20(t.activeTexture(n)%2C%20D%20%3D%20n)%2C%20t.bindTexture(e%2C%20i%20%7C%7C%20k%5Be%5D)%2C%20r.type%20%3D%20e%2C%20r.texture%20%3D%20i)%20%7D%2C%20unbindTexture%3A%20function%20()%20%7B%20const%20e%20%3D%20N%5BD%5D%3B%20void%200%20!%3D%3D%20e%20%26%26%20void%200%20!%3D%3D%20e.type%20%26%26%20(t.bindTexture(e.type%2C%20null)%2C%20e.type%20%3D%20void%200%2C%20e.texture%20%3D%20void%200)%20%7D%2C%20compressedTexImage2D%3A%20function%20()%20%7B%20try%20%7B%20t.compressedTexImage2D.apply(t%2C%20arguments)%20%7D%20catch%20(t)%20%7B%20console.error(%22THREE.WebGLState%3A%22%2C%20t)%20%7D%20%7D%2C%20compressedTexImage3D%3A%20function%20()%20%7B%20try%20%7B%20t.compressedTexImage3D.apply(t%2C%20arguments)%20%7D%20catch%20(t)%20%7B%20console.error(%22THREE.WebGLState%3A%22%2C%20t)%20%7D%20%7D%2C%20texImage2D%3A%20function%20()%20%7B%20try%20%7B%20t.texImage2D.apply(t%2C%20arguments)%20%7D%20catch%20(t)%20%7B%20console.error(%22THREE.WebGLState%3A%22%2C%20t)%20%7D%20%7D%2C%20texImage3D%3A%20function%20()%20%7B%20try%20%7B%20t.texImage3D.apply(t%2C%20arguments)%20%7D%20catch%20(t)%20%7B%20console.error(%22THREE.WebGLState%3A%22%2C%20t)%20%7D%20%7D%2C%20updateUBOMapping%3A%20function%20(e%2C%20i)%20%7B%20let%20n%20%3D%20c.get(i)%3B%20void%200%20%3D%3D%3D%20n%20%26%26%20(n%20%3D%20new%20WeakMap%2C%20c.set(i%2C%20n))%3B%20let%20r%20%3D%20n.get(e)%3B%20void%200%20%3D%3D%3D%20r%20%26%26%20(r%20%3D%20t.getUniformBlockIndex(i%2C%20e.name)%2C%20n.set(e%2C%20r))%20%7D%2C%20uniformBlockBinding%3A%20function%20(e%2C%20i)%20%7B%20const%20n%20%3D%20c.get(i).get(e)%3B%20l.get(i)%20!%3D%3D%20n%20%26%26%20(t.uniformBlockBinding(i%2C%20n%2C%20e.__bindingPointIndex)%2C%20l.set(i%2C%20n))%20%7D%2C%20texStorage2D%3A%20function%20()%20%7B%20try%20%7B%20t.texStorage2D.apply(t%2C%20arguments)%20%7D%20catch%20(t)%20%7B%20console.error(%22THREE.WebGLState%3A%22%2C%20t)%20%7D%20%7D%2C%20texStorage3D%3A%20function%20()%20%7B%20try%20%7B%20t.texStorage3D.apply(t%2C%20arguments)%20%7D%20catch%20(t)%20%7B%20console.error(%22THREE.WebGLState%3A%22%2C%20t)%20%7D%20%7D%2C%20texSubImage2D%3A%20function%20()%20%7B%20try%20%7B%20t.texSubImage2D.apply(t%2C%20arguments)%20%7D%20catch%20(t)%20%7B%20console.error(%22THREE.WebGLState%3A%22%2C%20t)%20%7D%20%7D%2C%20texSubImage3D%3A%20function%20()%20%7B%20try%20%7B%20t.texSubImage3D.apply(t%2C%20arguments)%20%7D%20catch%20(t)%20%7B%20console.error(%22THREE.WebGLState%3A%22%2C%20t)%20%7D%20%7D%2C%20compressedTexSubImage2D%3A%20function%20()%20%7B%20try%20%7B%20t.compressedTexSubImage2D.apply(t%2C%20arguments)%20%7D%20catch%20(t)%20%7B%20console.error(%22THREE.WebGLState%3A%22%2C%20t)%20%7D%20%7D%2C%20compressedTexSubImage3D%3A%20function%20()%20%7B%20try%20%7B%20t.compressedTexSubImage3D.apply(t%2C%20arguments)%20%7D%20catch%20(t)%20%7B%20console.error(%22THREE.WebGLState%3A%22%2C%20t)%20%7D%20%7D%2C%20scissor%3A%20function%20(e)%20%7B%20!1%20%3D%3D%3D%20U.equals(e)%20%26%26%20(t.scissor(e.x%2C%20e.y%2C%20e.z%2C%20e.w)%2C%20U.copy(e))%20%7D%2C%20viewport%3A%20function%20(e)%20%7B%20!1%20%3D%3D%3D%20B.equals(e)%20%26%26%20(t.viewport(e.x%2C%20e.y%2C%20e.z%2C%20e.w)%2C%20B.copy(e))%20%7D%2C%20reset%3A%20function%20()%20%7B%20t.disable(3042)%2C%20t.disable(2884)%2C%20t.disable(2929)%2C%20t.disable(32823)%2C%20t.disable(3089)%2C%20t.disable(2960)%2C%20t.disable(32926)%2C%20t.blendEquation(32774)%2C%20t.blendFunc(1%2C%200)%2C%20t.blendFuncSeparate(1%2C%200%2C%201%2C%200)%2C%20t.colorMask(!0%2C%20!0%2C%20!0%2C%20!0)%2C%20t.clearColor(0%2C%200%2C%200%2C%200)%2C%20t.depthMask(!0)%2C%20t.depthFunc(513)%2C%20t.clearDepth(1)%2C%20t.stencilMask(4294967295)%2C%20t.stencilFunc(519%2C%200%2C%204294967295)%2C%20t.stencilOp(7680%2C%207680%2C%207680)%2C%20t.clearStencil(0)%2C%20t.cullFace(1029)%2C%20t.frontFace(2305)%2C%20t.polygonOffset(0%2C%200)%2C%20t.activeTexture(33984)%2C%20t.bindFramebuffer(36160%2C%20null)%2C%20!0%20%3D%3D%3D%20r%20%26%26%20(t.bindFramebuffer(36009%2C%20null)%2C%20t.bindFramebuffer(36008%2C%20null))%2C%20t.useProgram(null)%2C%20t.lineWidth(1)%2C%20t.scissor(0%2C%200%2C%20t.canvas.width%2C%20t.canvas.height)%2C%20t.viewport(0%2C%200%2C%20t.canvas.width%2C%20t.canvas.height)%2C%20h%20%3D%20%7B%7D%2C%20D%20%3D%20null%2C%20N%20%3D%20%7B%7D%2C%20u%20%3D%20%7B%7D%2C%20d%20%3D%20new%20WeakMap%2C%20p%20%3D%20%5B%5D%2C%20m%20%3D%20null%2C%20f%20%3D%20!1%2C%20g%20%3D%20null%2C%20v%20%3D%20null%2C%20x%20%3D%20null%2C%20_%20%3D%20null%2C%20y%20%3D%20null%2C%20M%20%3D%20null%2C%20b%20%3D%20null%2C%20S%20%3D%20!1%2C%20w%20%3D%20null%2C%20T%20%3D%20null%2C%20A%20%3D%20null%2C%20E%20%3D%20null%2C%20C%20%3D%20null%2C%20U.set(0%2C%200%2C%20t.canvas.width%2C%20t.canvas.height)%2C%20B.set(0%2C%200%2C%20t.canvas.width%2C%20t.canvas.height)%2C%20s.reset()%2C%20a.reset()%2C%20o.reset()%20%7D%20%7D%20%7D%20function%20Us(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%20a)%20%7B%20const%20o%20%3D%20r.isWebGL2%2C%20l%20%3D%20r.maxTextures%2C%20E%20%3D%20r.maxCubemapSize%2C%20C%20%3D%20r.maxTextureSize%2C%20L%20%3D%20r.maxSamples%2C%20R%20%3D%20e.has(%22WEBGL_multisampled_render_to_texture%22)%20%3F%20e.get(%22WEBGL_multisampled_render_to_texture%22)%20%3A%20null%2C%20P%20%3D%20%22undefined%22%20!%3D%20typeof%20navigator%20%26%26%20%2FOculusBrowser%2Fg.test(navigator.userAgent)%2C%20I%20%3D%20new%20WeakMap%3B%20let%20D%3B%20const%20N%20%3D%20new%20WeakMap%3B%20let%20O%20%3D%20!1%3B%20try%20%7B%20O%20%3D%20%22undefined%22%20!%3D%20typeof%20OffscreenCanvas%20%26%26%20null%20!%3D%3D%20new%20OffscreenCanvas(1%2C%201).getContext(%222d%22)%20%7D%20catch%20(t)%20%7B%20%7D%20function%20z(t%2C%20e)%20%7B%20return%20O%20%3F%20new%20OffscreenCanvas(t%2C%20e)%20%3A%20Ot(%22canvas%22)%20%7D%20function%20U(t%2C%20e%2C%20i%2C%20n)%20%7B%20let%20r%20%3D%201%3B%20if%20((t.width%20%3E%20n%20%7C%7C%20t.height%20%3E%20n)%20%26%26%20(r%20%3D%20n%20%2F%20Math.max(t.width%2C%20t.height))%2C%20r%20%3C%201%20%7C%7C%20!0%20%3D%3D%3D%20e)%20%7B%20if%20(%22undefined%22%20!%3D%20typeof%20HTMLImageElement%20%26%26%20t%20instanceof%20HTMLImageElement%20%7C%7C%20%22undefined%22%20!%3D%20typeof%20HTMLCanvasElement%20%26%26%20t%20instanceof%20HTMLCanvasElement%20%7C%7C%20%22undefined%22%20!%3D%20typeof%20ImageBitmap%20%26%26%20t%20instanceof%20ImageBitmap)%20%7B%20const%20n%20%3D%20e%20%3F%20Tt%20%3A%20Math.floor%2C%20s%20%3D%20n(r%20*%20t.width)%2C%20a%20%3D%20n(r%20*%20t.height)%3B%20void%200%20%3D%3D%3D%20D%20%26%26%20(D%20%3D%20z(s%2C%20a))%3B%20const%20o%20%3D%20i%20%3F%20z(s%2C%20a)%20%3A%20D%3B%20o.width%20%3D%20s%2C%20o.height%20%3D%20a%3B%20return%20o.getContext(%222d%22).drawImage(t%2C%200%2C%200%2C%20s%2C%20a)%2C%20console.warn(%22THREE.WebGLRenderer%3A%20Texture%20has%20been%20resized%20from%20(%22%20%2B%20t.width%20%2B%20%22x%22%20%2B%20t.height%20%2B%20%22)%20to%20(%22%20%2B%20s%20%2B%20%22x%22%20%2B%20a%20%2B%20%22).%22)%2C%20o%20%7D%20return%20%22data%22%20in%20t%20%26%26%20console.warn(%22THREE.WebGLRenderer%3A%20Image%20in%20DataTexture%20is%20too%20big%20(%22%20%2B%20t.width%20%2B%20%22x%22%20%2B%20t.height%20%2B%20%22).%22)%2C%20t%20%7D%20return%20t%20%7D%20function%20B(t)%20%7B%20return%20St(t.width)%20%26%26%20St(t.height)%20%7D%20function%20F(t%2C%20e)%20%7B%20return%20t.generateMipmaps%20%26%26%20e%20%26%26%20t.minFilter%20!%3D%3D%20d%20%26%26%20t.minFilter%20!%3D%3D%20f%20%7D%20function%20k(e)%20%7B%20t.generateMipmap(e)%20%7D%20function%20G(i%2C%20n%2C%20r%2C%20s%2C%20a%20%3D%20!1)%20%7B%20if%20(!1%20%3D%3D%3D%20o)%20return%20n%3B%20if%20(null%20!%3D%3D%20i)%20%7B%20if%20(void%200%20!%3D%3D%20t%5Bi%5D)%20return%20t%5Bi%5D%3B%20console.warn(%22THREE.WebGLRenderer%3A%20Attempt%20to%20use%20non-existing%20WebGL%20internal%20format%20'%22%20%2B%20i%20%2B%20%22'%22)%20%7D%20let%20l%20%3D%20n%3B%20return%206403%20%3D%3D%3D%20n%20%26%26%20(5126%20%3D%3D%3D%20r%20%26%26%20(l%20%3D%2033326)%2C%205131%20%3D%3D%3D%20r%20%26%26%20(l%20%3D%2033325)%2C%205121%20%3D%3D%3D%20r%20%26%26%20(l%20%3D%2033321))%2C%2033319%20%3D%3D%3D%20n%20%26%26%20(5126%20%3D%3D%3D%20r%20%26%26%20(l%20%3D%2033328)%2C%205131%20%3D%3D%3D%20r%20%26%26%20(l%20%3D%2033327)%2C%205121%20%3D%3D%3D%20r%20%26%26%20(l%20%3D%2033323))%2C%206408%20%3D%3D%3D%20n%20%26%26%20(5126%20%3D%3D%3D%20r%20%26%26%20(l%20%3D%2034836)%2C%205131%20%3D%3D%3D%20r%20%26%26%20(l%20%3D%2034842)%2C%205121%20%3D%3D%3D%20r%20%26%26%20(l%20%3D%20s%20%3D%3D%3D%20ot%20%26%26%20!1%20%3D%3D%3D%20a%20%3F%2035907%20%3A%2032856)%2C%2032819%20%3D%3D%3D%20r%20%26%26%20(l%20%3D%2032854)%2C%2032820%20%3D%3D%3D%20r%20%26%26%20(l%20%3D%2032855))%2C%2033325%20!%3D%3D%20l%20%26%26%2033326%20!%3D%3D%20l%20%26%26%2033327%20!%3D%3D%20l%20%26%26%2033328%20!%3D%3D%20l%20%26%26%2034842%20!%3D%3D%20l%20%26%26%2034836%20!%3D%3D%20l%20%7C%7C%20e.get(%22EXT_color_buffer_float%22)%2C%20l%20%7D%20function%20V(t%2C%20e%2C%20i)%20%7B%20return%20!0%20%3D%3D%3D%20F(t%2C%20i)%20%7C%7C%20t.isFramebufferTexture%20%26%26%20t.minFilter%20!%3D%3D%20d%20%26%26%20t.minFilter%20!%3D%3D%20f%20%3F%20Math.log2(Math.max(e.width%2C%20e.height))%20%2B%201%20%3A%20void%200%20!%3D%3D%20t.mipmaps%20%26%26%20t.mipmaps.length%20%3E%200%20%3F%20t.mipmaps.length%20%3A%20t.isCompressedTexture%20%26%26%20Array.isArray(t.image)%20%3F%20e.mipmaps.length%20%3A%201%20%7D%20function%20H(t)%20%7B%20return%20t%20%3D%3D%3D%20d%20%7C%7C%20t%20%3D%3D%3D%20p%20%7C%7C%20t%20%3D%3D%3D%20m%20%3F%209728%20%3A%209729%20%7D%20function%20W(t)%20%7B%20const%20e%20%3D%20t.target%3B%20e.removeEventListener(%22dispose%22%2C%20W)%2C%20function%20(t)%20%7B%20const%20e%20%3D%20n.get(t)%3B%20if%20(void%200%20%3D%3D%3D%20e.__webglInit)%20return%3B%20const%20i%20%3D%20t.source%2C%20r%20%3D%20N.get(i)%3B%20if%20(r)%20%7B%20const%20n%20%3D%20r%5Be.__cacheKey%5D%3B%20n.usedTimes--%2C%200%20%3D%3D%3D%20n.usedTimes%20%26%26%20q(t)%2C%200%20%3D%3D%3D%20Object.keys(r).length%20%26%26%20N.delete(i)%20%7D%20n.remove(t)%20%7D(e)%2C%20e.isVideoTexture%20%26%26%20I.delete(e)%20%7D%20function%20j(e)%20%7B%20const%20i%20%3D%20e.target%3B%20i.removeEventListener(%22dispose%22%2C%20j)%2C%20function%20(e)%20%7B%20const%20i%20%3D%20e.texture%2C%20r%20%3D%20n.get(e)%2C%20s%20%3D%20n.get(i)%3B%20void%200%20!%3D%3D%20s.__webglTexture%20%26%26%20(t.deleteTexture(s.__webglTexture)%2C%20a.memory.textures--)%3B%20e.depthTexture%20%26%26%20e.depthTexture.dispose()%3B%20if%20(e.isWebGLCubeRenderTarget)%20for%20(let%20e%20%3D%200%3B%20e%20%3C%206%3B%20e%2B%2B)t.deleteFramebuffer(r.__webglFramebuffer%5Be%5D)%2C%20r.__webglDepthbuffer%20%26%26%20t.deleteRenderbuffer(r.__webglDepthbuffer%5Be%5D)%3B%20else%20%7B%20if%20(t.deleteFramebuffer(r.__webglFramebuffer)%2C%20r.__webglDepthbuffer%20%26%26%20t.deleteRenderbuffer(r.__webglDepthbuffer)%2C%20r.__webglMultisampledFramebuffer%20%26%26%20t.deleteFramebuffer(r.__webglMultisampledFramebuffer)%2C%20r.__webglColorRenderbuffer)%20for%20(let%20e%20%3D%200%3B%20e%20%3C%20r.__webglColorRenderbuffer.length%3B%20e%2B%2B)r.__webglColorRenderbuffer%5Be%5D%20%26%26%20t.deleteRenderbuffer(r.__webglColorRenderbuffer%5Be%5D)%3B%20r.__webglDepthRenderbuffer%20%26%26%20t.deleteRenderbuffer(r.__webglDepthRenderbuffer)%20%7D%20if%20(e.isWebGLMultipleRenderTargets)%20for%20(let%20e%20%3D%200%2C%20r%20%3D%20i.length%3B%20e%20%3C%20r%3B%20e%2B%2B)%20%7B%20const%20r%20%3D%20n.get(i%5Be%5D)%3B%20r.__webglTexture%20%26%26%20(t.deleteTexture(r.__webglTexture)%2C%20a.memory.textures--)%2C%20n.remove(i%5Be%5D)%20%7D%20n.remove(i)%2C%20n.remove(e)%20%7D(i)%20%7D%20function%20q(e)%20%7B%20const%20i%20%3D%20n.get(e)%3B%20t.deleteTexture(i.__webglTexture)%3B%20const%20r%20%3D%20e.source%3B%20delete%20N.get(r)%5Bi.__cacheKey%5D%2C%20a.memory.textures--%20%7D%20let%20X%20%3D%200%3B%20function%20Y(t%2C%20e)%20%7B%20const%20r%20%3D%20n.get(t)%3B%20if%20(t.isVideoTexture%20%26%26%20function%20(t)%20%7B%20const%20e%20%3D%20a.render.frame%3B%20I.get(t)%20!%3D%3D%20e%20%26%26%20(I.set(t%2C%20e)%2C%20t.update())%20%7D(t)%2C%20!1%20%3D%3D%3D%20t.isRenderTargetTexture%20%26%26%20t.version%20%3E%200%20%26%26%20r.__version%20!%3D%3D%20t.version)%20%7B%20const%20i%20%3D%20t.image%3B%20if%20(null%20%3D%3D%3D%20i)%20console.warn(%22THREE.WebGLRenderer%3A%20Texture%20marked%20for%20update%20but%20no%20image%20data%20found.%22)%3B%20else%20%7B%20if%20(!1%20!%3D%3D%20i.complete)%20return%20void%20Q(r%2C%20t%2C%20e)%3B%20console.warn(%22THREE.WebGLRenderer%3A%20Texture%20marked%20for%20update%20but%20image%20is%20incomplete%22)%20%7D%20%7D%20i.bindTexture(3553%2C%20r.__webglTexture%2C%2033984%20%2B%20e)%20%7D%20const%20Z%20%3D%20%7B%20%5Bc%5D%3A%2010497%2C%20%5Bh%5D%3A%2033071%2C%20%5Bu%5D%3A%2033648%20%7D%2C%20J%20%3D%20%7B%20%5Bd%5D%3A%209728%2C%20%5Bp%5D%3A%209984%2C%20%5Bm%5D%3A%209986%2C%20%5Bf%5D%3A%209729%2C%20%5Bg%5D%3A%209985%2C%20%5Bv%5D%3A%209987%20%7D%3B%20function%20K(i%2C%20s%2C%20a)%20%7B%20if%20(a%20%3F%20(t.texParameteri(i%2C%2010242%2C%20Z%5Bs.wrapS%5D)%2C%20t.texParameteri(i%2C%2010243%2C%20Z%5Bs.wrapT%5D)%2C%2032879%20!%3D%3D%20i%20%26%26%2035866%20!%3D%3D%20i%20%7C%7C%20t.texParameteri(i%2C%2032882%2C%20Z%5Bs.wrapR%5D)%2C%20t.texParameteri(i%2C%2010240%2C%20J%5Bs.magFilter%5D)%2C%20t.texParameteri(i%2C%2010241%2C%20J%5Bs.minFilter%5D))%20%3A%20(t.texParameteri(i%2C%2010242%2C%2033071)%2C%20t.texParameteri(i%2C%2010243%2C%2033071)%2C%2032879%20!%3D%3D%20i%20%26%26%2035866%20!%3D%3D%20i%20%7C%7C%20t.texParameteri(i%2C%2032882%2C%2033071)%2C%20s.wrapS%20%3D%3D%3D%20h%20%26%26%20s.wrapT%20%3D%3D%3D%20h%20%7C%7C%20console.warn(%22THREE.WebGLRenderer%3A%20Texture%20is%20not%20power%20of%20two.%20Texture.wrapS%20and%20Texture.wrapT%20should%20be%20set%20to%20THREE.ClampToEdgeWrapping.%22)%2C%20t.texParameteri(i%2C%2010240%2C%20H(s.magFilter))%2C%20t.texParameteri(i%2C%2010241%2C%20H(s.minFilter))%2C%20s.minFilter%20!%3D%3D%20d%20%26%26%20s.minFilter%20!%3D%3D%20f%20%26%26%20console.warn(%22THREE.WebGLRenderer%3A%20Texture%20is%20not%20power%20of%20two.%20Texture.minFilter%20should%20be%20set%20to%20THREE.NearestFilter%20or%20THREE.LinearFilter.%22))%2C%20!0%20%3D%3D%3D%20e.has(%22EXT_texture_filter_anisotropic%22))%20%7B%20const%20a%20%3D%20e.get(%22EXT_texture_filter_anisotropic%22)%3B%20if%20(s.magFilter%20%3D%3D%3D%20d)%20return%3B%20if%20(s.minFilter%20!%3D%3D%20m%20%26%26%20s.minFilter%20!%3D%3D%20v)%20return%3B%20if%20(s.type%20%3D%3D%3D%20M%20%26%26%20!1%20%3D%3D%3D%20e.has(%22OES_texture_float_linear%22))%20return%3B%20if%20(!1%20%3D%3D%3D%20o%20%26%26%20s.type%20%3D%3D%3D%20b%20%26%26%20!1%20%3D%3D%3D%20e.has(%22OES_texture_half_float_linear%22))%20return%3B%20(s.anisotropy%20%3E%201%20%7C%7C%20n.get(s).__currentAnisotropy)%20%26%26%20(t.texParameterf(i%2C%20a.TEXTURE_MAX_ANISOTROPY_EXT%2C%20Math.min(s.anisotropy%2C%20r.getMaxAnisotropy()))%2C%20n.get(s).__currentAnisotropy%20%3D%20s.anisotropy)%20%7D%20%7D%20function%20%24(e%2C%20i)%20%7B%20let%20n%20%3D%20!1%3B%20void%200%20%3D%3D%3D%20e.__webglInit%20%26%26%20(e.__webglInit%20%3D%20!0%2C%20i.addEventListener(%22dispose%22%2C%20W))%3B%20const%20r%20%3D%20i.source%3B%20let%20s%20%3D%20N.get(r)%3B%20void%200%20%3D%3D%3D%20s%20%26%26%20(s%20%3D%20%7B%7D%2C%20N.set(r%2C%20s))%3B%20const%20o%20%3D%20function%20(t)%20%7B%20const%20e%20%3D%20%5B%5D%3B%20return%20e.push(t.wrapS)%2C%20e.push(t.wrapT)%2C%20e.push(t.wrapR%20%7C%7C%200)%2C%20e.push(t.magFilter)%2C%20e.push(t.minFilter)%2C%20e.push(t.anisotropy)%2C%20e.push(t.internalFormat)%2C%20e.push(t.format)%2C%20e.push(t.type)%2C%20e.push(t.generateMipmaps)%2C%20e.push(t.premultiplyAlpha)%2C%20e.push(t.flipY)%2C%20e.push(t.unpackAlignment)%2C%20e.push(t.encoding)%2C%20e.join()%20%7D(i)%3B%20if%20(o%20!%3D%3D%20e.__cacheKey)%20%7B%20void%200%20%3D%3D%3D%20s%5Bo%5D%20%26%26%20(s%5Bo%5D%20%3D%20%7B%20texture%3A%20t.createTexture()%2C%20usedTimes%3A%200%20%7D%2C%20a.memory.textures%2B%2B%2C%20n%20%3D%20!0)%2C%20s%5Bo%5D.usedTimes%2B%2B%3B%20const%20r%20%3D%20s%5Be.__cacheKey%5D%3B%20void%200%20!%3D%3D%20r%20%26%26%20(s%5Be.__cacheKey%5D.usedTimes--%2C%200%20%3D%3D%3D%20r.usedTimes%20%26%26%20q(i))%2C%20e.__cacheKey%20%3D%20o%2C%20e.__webglTexture%20%3D%20s%5Bo%5D.texture%20%7D%20return%20n%20%7D%20function%20Q(e%2C%20r%2C%20a)%20%7B%20let%20l%20%3D%203553%3B%20(r.isDataArrayTexture%20%7C%7C%20r.isCompressedArrayTexture)%20%26%26%20(l%20%3D%2035866)%2C%20r.isData3DTexture%20%26%26%20(l%20%3D%2032879)%3B%20const%20c%20%3D%20%24(e%2C%20r)%2C%20u%20%3D%20r.source%3B%20i.bindTexture(l%2C%20e.__webglTexture%2C%2033984%20%2B%20a)%3B%20const%20p%20%3D%20n.get(u)%3B%20if%20(u.version%20!%3D%3D%20p.__version%20%7C%7C%20!0%20%3D%3D%3D%20c)%20%7B%20i.activeTexture(33984%20%2B%20a)%2C%20t.pixelStorei(37440%2C%20r.flipY)%2C%20t.pixelStorei(37441%2C%20r.premultiplyAlpha)%2C%20t.pixelStorei(3317%2C%20r.unpackAlignment)%2C%20t.pixelStorei(37443%2C%200)%3B%20const%20e%20%3D%20function%20(t)%20%7B%20return%20!o%20%26%26%20(t.wrapS%20!%3D%3D%20h%20%7C%7C%20t.wrapT%20!%3D%3D%20h%20%7C%7C%20t.minFilter%20!%3D%3D%20d%20%26%26%20t.minFilter%20!%3D%3D%20f)%20%7D(r)%20%26%26%20!1%20%3D%3D%3D%20B(r.image)%3B%20let%20n%20%3D%20U(r.image%2C%20e%2C%20!1%2C%20C)%3B%20n%20%3D%20st(r%2C%20n)%3B%20const%20m%20%3D%20B(n)%20%7C%7C%20o%2C%20g%20%3D%20s.convert(r.format%2C%20r.encoding)%3B%20let%20v%2C%20x%20%3D%20s.convert(r.type)%2C%20b%20%3D%20G(r.internalFormat%2C%20g%2C%20x%2C%20r.encoding%2C%20r.isVideoTexture)%3B%20K(l%2C%20r%2C%20m)%3B%20const%20E%20%3D%20r.mipmaps%2C%20L%20%3D%20o%20%26%26%20!0%20!%3D%3D%20r.isVideoTexture%2C%20R%20%3D%20void%200%20%3D%3D%3D%20p.__version%20%7C%7C%20!0%20%3D%3D%3D%20c%2C%20P%20%3D%20V(r%2C%20n%2C%20m)%3B%20if%20(r.isDepthTexture)%20b%20%3D%206402%2C%20o%20%3F%20b%20%3D%20r.type%20%3D%3D%3D%20M%20%3F%2036012%20%3A%20r.type%20%3D%3D%3D%20y%20%3F%2033190%20%3A%20r.type%20%3D%3D%3D%20S%20%3F%2035056%20%3A%2033189%20%3A%20r.type%20%3D%3D%3D%20M%20%26%26%20console.error(%22WebGLRenderer%3A%20Floating%20point%20depth%20texture%20requires%20WebGL2.%22)%2C%20r.format%20%3D%3D%3D%20T%20%26%26%206402%20%3D%3D%3D%20b%20%26%26%20r.type%20!%3D%3D%20_%20%26%26%20r.type%20!%3D%3D%20y%20%26%26%20(console.warn(%22THREE.WebGLRenderer%3A%20Use%20UnsignedShortType%20or%20UnsignedIntType%20for%20DepthFormat%20DepthTexture.%22)%2C%20r.type%20%3D%20y%2C%20x%20%3D%20s.convert(r.type))%2C%20r.format%20%3D%3D%3D%20A%20%26%26%206402%20%3D%3D%3D%20b%20%26%26%20(b%20%3D%2034041%2C%20r.type%20!%3D%3D%20S%20%26%26%20(console.warn(%22THREE.WebGLRenderer%3A%20Use%20UnsignedInt248Type%20for%20DepthStencilFormat%20DepthTexture.%22)%2C%20r.type%20%3D%20S%2C%20x%20%3D%20s.convert(r.type)))%2C%20R%20%26%26%20(L%20%3F%20i.texStorage2D(3553%2C%201%2C%20b%2C%20n.width%2C%20n.height)%20%3A%20i.texImage2D(3553%2C%200%2C%20b%2C%20n.width%2C%20n.height%2C%200%2C%20g%2C%20x%2C%20null))%3B%20else%20if%20(r.isDataTexture)%20if%20(E.length%20%3E%200%20%26%26%20m)%20%7B%20L%20%26%26%20R%20%26%26%20i.texStorage2D(3553%2C%20P%2C%20b%2C%20E%5B0%5D.width%2C%20E%5B0%5D.height)%3B%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20E.length%3B%20t%20%3C%20e%3B%20t%2B%2B)v%20%3D%20E%5Bt%5D%2C%20L%20%3F%20i.texSubImage2D(3553%2C%20t%2C%200%2C%200%2C%20v.width%2C%20v.height%2C%20g%2C%20x%2C%20v.data)%20%3A%20i.texImage2D(3553%2C%20t%2C%20b%2C%20v.width%2C%20v.height%2C%200%2C%20g%2C%20x%2C%20v.data)%3B%20r.generateMipmaps%20%3D%20!1%20%7D%20else%20L%20%3F%20(R%20%26%26%20i.texStorage2D(3553%2C%20P%2C%20b%2C%20n.width%2C%20n.height)%2C%20i.texSubImage2D(3553%2C%200%2C%200%2C%200%2C%20n.width%2C%20n.height%2C%20g%2C%20x%2C%20n.data))%20%3A%20i.texImage2D(3553%2C%200%2C%20b%2C%20n.width%2C%20n.height%2C%200%2C%20g%2C%20x%2C%20n.data)%3B%20else%20if%20(r.isCompressedTexture)%20if%20(r.isCompressedArrayTexture)%20%7B%20L%20%26%26%20R%20%26%26%20i.texStorage3D(35866%2C%20P%2C%20b%2C%20E%5B0%5D.width%2C%20E%5B0%5D.height%2C%20n.depth)%3B%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20E.length%3B%20t%20%3C%20e%3B%20t%2B%2B)v%20%3D%20E%5Bt%5D%2C%20r.format%20!%3D%3D%20w%20%3F%20null%20!%3D%3D%20g%20%3F%20L%20%3F%20i.compressedTexSubImage3D(35866%2C%20t%2C%200%2C%200%2C%200%2C%20v.width%2C%20v.height%2C%20n.depth%2C%20g%2C%20v.data%2C%200%2C%200)%20%3A%20i.compressedTexImage3D(35866%2C%20t%2C%20b%2C%20v.width%2C%20v.height%2C%20n.depth%2C%200%2C%20v.data%2C%200%2C%200)%20%3A%20console.warn(%22THREE.WebGLRenderer%3A%20Attempt%20to%20load%20unsupported%20compressed%20texture%20format%20in%20.uploadTexture()%22)%20%3A%20L%20%3F%20i.texSubImage3D(35866%2C%20t%2C%200%2C%200%2C%200%2C%20v.width%2C%20v.height%2C%20n.depth%2C%20g%2C%20x%2C%20v.data)%20%3A%20i.texImage3D(35866%2C%20t%2C%20b%2C%20v.width%2C%20v.height%2C%20n.depth%2C%200%2C%20g%2C%20x%2C%20v.data)%20%7D%20else%20%7B%20L%20%26%26%20R%20%26%26%20i.texStorage2D(3553%2C%20P%2C%20b%2C%20E%5B0%5D.width%2C%20E%5B0%5D.height)%3B%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20E.length%3B%20t%20%3C%20e%3B%20t%2B%2B)v%20%3D%20E%5Bt%5D%2C%20r.format%20!%3D%3D%20w%20%3F%20null%20!%3D%3D%20g%20%3F%20L%20%3F%20i.compressedTexSubImage2D(3553%2C%20t%2C%200%2C%200%2C%20v.width%2C%20v.height%2C%20g%2C%20v.data)%20%3A%20i.compressedTexImage2D(3553%2C%20t%2C%20b%2C%20v.width%2C%20v.height%2C%200%2C%20v.data)%20%3A%20console.warn(%22THREE.WebGLRenderer%3A%20Attempt%20to%20load%20unsupported%20compressed%20texture%20format%20in%20.uploadTexture()%22)%20%3A%20L%20%3F%20i.texSubImage2D(3553%2C%20t%2C%200%2C%200%2C%20v.width%2C%20v.height%2C%20g%2C%20x%2C%20v.data)%20%3A%20i.texImage2D(3553%2C%20t%2C%20b%2C%20v.width%2C%20v.height%2C%200%2C%20g%2C%20x%2C%20v.data)%20%7D%20else%20if%20(r.isDataArrayTexture)%20L%20%3F%20(R%20%26%26%20i.texStorage3D(35866%2C%20P%2C%20b%2C%20n.width%2C%20n.height%2C%20n.depth)%2C%20i.texSubImage3D(35866%2C%200%2C%200%2C%200%2C%200%2C%20n.width%2C%20n.height%2C%20n.depth%2C%20g%2C%20x%2C%20n.data))%20%3A%20i.texImage3D(35866%2C%200%2C%20b%2C%20n.width%2C%20n.height%2C%20n.depth%2C%200%2C%20g%2C%20x%2C%20n.data)%3B%20else%20if%20(r.isData3DTexture)%20L%20%3F%20(R%20%26%26%20i.texStorage3D(32879%2C%20P%2C%20b%2C%20n.width%2C%20n.height%2C%20n.depth)%2C%20i.texSubImage3D(32879%2C%200%2C%200%2C%200%2C%200%2C%20n.width%2C%20n.height%2C%20n.depth%2C%20g%2C%20x%2C%20n.data))%20%3A%20i.texImage3D(32879%2C%200%2C%20b%2C%20n.width%2C%20n.height%2C%20n.depth%2C%200%2C%20g%2C%20x%2C%20n.data)%3B%20else%20if%20(r.isFramebufferTexture)%20%7B%20if%20(R)%20if%20(L)%20i.texStorage2D(3553%2C%20P%2C%20b%2C%20n.width%2C%20n.height)%3B%20else%20%7B%20let%20t%20%3D%20n.width%2C%20e%20%3D%20n.height%3B%20for%20(let%20n%20%3D%200%3B%20n%20%3C%20P%3B%20n%2B%2B)i.texImage2D(3553%2C%20n%2C%20b%2C%20t%2C%20e%2C%200%2C%20g%2C%20x%2C%20null)%2C%20t%20%3E%3E%3D%201%2C%20e%20%3E%3E%3D%201%20%7D%20%7D%20else%20if%20(E.length%20%3E%200%20%26%26%20m)%20%7B%20L%20%26%26%20R%20%26%26%20i.texStorage2D(3553%2C%20P%2C%20b%2C%20E%5B0%5D.width%2C%20E%5B0%5D.height)%3B%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20E.length%3B%20t%20%3C%20e%3B%20t%2B%2B)v%20%3D%20E%5Bt%5D%2C%20L%20%3F%20i.texSubImage2D(3553%2C%20t%2C%200%2C%200%2C%20g%2C%20x%2C%20v)%20%3A%20i.texImage2D(3553%2C%20t%2C%20b%2C%20g%2C%20x%2C%20v)%3B%20r.generateMipmaps%20%3D%20!1%20%7D%20else%20L%20%3F%20(R%20%26%26%20i.texStorage2D(3553%2C%20P%2C%20b%2C%20n.width%2C%20n.height)%2C%20i.texSubImage2D(3553%2C%200%2C%200%2C%200%2C%20g%2C%20x%2C%20n))%20%3A%20i.texImage2D(3553%2C%200%2C%20b%2C%20g%2C%20x%2C%20n)%3B%20F(r%2C%20m)%20%26%26%20k(l)%2C%20p.__version%20%3D%20u.version%2C%20r.onUpdate%20%26%26%20r.onUpdate(r)%20%7D%20e.__version%20%3D%20r.version%20%7D%20function%20tt(e%2C%20r%2C%20a%2C%20o%2C%20l)%20%7B%20const%20c%20%3D%20s.convert(a.format%2C%20a.encoding)%2C%20h%20%3D%20s.convert(a.type)%2C%20u%20%3D%20G(a.internalFormat%2C%20c%2C%20h%2C%20a.encoding)%3B%20n.get(r).__hasExternalTextures%20%7C%7C%20(32879%20%3D%3D%3D%20l%20%7C%7C%2035866%20%3D%3D%3D%20l%20%3F%20i.texImage3D(l%2C%200%2C%20u%2C%20r.width%2C%20r.height%2C%20r.depth%2C%200%2C%20c%2C%20h%2C%20null)%20%3A%20i.texImage2D(l%2C%200%2C%20u%2C%20r.width%2C%20r.height%2C%200%2C%20c%2C%20h%2C%20null))%2C%20i.bindFramebuffer(36160%2C%20e)%2C%20rt(r)%20%3F%20R.framebufferTexture2DMultisampleEXT(36160%2C%20o%2C%20l%2C%20n.get(a).__webglTexture%2C%200%2C%20nt(r))%20%3A%20(3553%20%3D%3D%3D%20l%20%7C%7C%20l%20%3E%3D%2034069%20%26%26%20l%20%3C%3D%2034074)%20%26%26%20t.framebufferTexture2D(36160%2C%20o%2C%20l%2C%20n.get(a).__webglTexture%2C%200)%2C%20i.bindFramebuffer(36160%2C%20null)%20%7D%20function%20et(e%2C%20i%2C%20n)%20%7B%20if%20(t.bindRenderbuffer(36161%2C%20e)%2C%20i.depthBuffer%20%26%26%20!i.stencilBuffer)%20%7B%20let%20r%20%3D%2033189%3B%20if%20(n%20%7C%7C%20rt(i))%20%7B%20const%20e%20%3D%20i.depthTexture%3B%20e%20%26%26%20e.isDepthTexture%20%26%26%20(e.type%20%3D%3D%3D%20M%20%3F%20r%20%3D%2036012%20%3A%20e.type%20%3D%3D%3D%20y%20%26%26%20(r%20%3D%2033190))%3B%20const%20n%20%3D%20nt(i)%3B%20rt(i)%20%3F%20R.renderbufferStorageMultisampleEXT(36161%2C%20n%2C%20r%2C%20i.width%2C%20i.height)%20%3A%20t.renderbufferStorageMultisample(36161%2C%20n%2C%20r%2C%20i.width%2C%20i.height)%20%7D%20else%20t.renderbufferStorage(36161%2C%20r%2C%20i.width%2C%20i.height)%3B%20t.framebufferRenderbuffer(36160%2C%2036096%2C%2036161%2C%20e)%20%7D%20else%20if%20(i.depthBuffer%20%26%26%20i.stencilBuffer)%20%7B%20const%20r%20%3D%20nt(i)%3B%20n%20%26%26%20!1%20%3D%3D%3D%20rt(i)%20%3F%20t.renderbufferStorageMultisample(36161%2C%20r%2C%2035056%2C%20i.width%2C%20i.height)%20%3A%20rt(i)%20%3F%20R.renderbufferStorageMultisampleEXT(36161%2C%20r%2C%2035056%2C%20i.width%2C%20i.height)%20%3A%20t.renderbufferStorage(36161%2C%2034041%2C%20i.width%2C%20i.height)%2C%20t.framebufferRenderbuffer(36160%2C%2033306%2C%2036161%2C%20e)%20%7D%20else%20%7B%20const%20e%20%3D%20!0%20%3D%3D%3D%20i.isWebGLMultipleRenderTargets%20%3F%20i.texture%20%3A%20%5Bi.texture%5D%3B%20for%20(let%20r%20%3D%200%3B%20r%20%3C%20e.length%3B%20r%2B%2B)%20%7B%20const%20a%20%3D%20e%5Br%5D%2C%20o%20%3D%20s.convert(a.format%2C%20a.encoding)%2C%20l%20%3D%20s.convert(a.type)%2C%20c%20%3D%20G(a.internalFormat%2C%20o%2C%20l%2C%20a.encoding)%2C%20h%20%3D%20nt(i)%3B%20n%20%26%26%20!1%20%3D%3D%3D%20rt(i)%20%3F%20t.renderbufferStorageMultisample(36161%2C%20h%2C%20c%2C%20i.width%2C%20i.height)%20%3A%20rt(i)%20%3F%20R.renderbufferStorageMultisampleEXT(36161%2C%20h%2C%20c%2C%20i.width%2C%20i.height)%20%3A%20t.renderbufferStorage(36161%2C%20c%2C%20i.width%2C%20i.height)%20%7D%20%7D%20t.bindRenderbuffer(36161%2C%20null)%20%7D%20function%20it(e)%20%7B%20const%20r%20%3D%20n.get(e)%2C%20s%20%3D%20!0%20%3D%3D%3D%20e.isWebGLCubeRenderTarget%3B%20if%20(e.depthTexture%20%26%26%20!r.__autoAllocateDepthBuffer)%20%7B%20if%20(s)%20throw%20new%20Error(%22target.depthTexture%20not%20supported%20in%20Cube%20render%20targets%22)%3B%20!function%20(e%2C%20r)%20%7B%20if%20(r%20%26%26%20r.isWebGLCubeRenderTarget)%20throw%20new%20Error(%22Depth%20Texture%20with%20cube%20render%20targets%20is%20not%20supported%22)%3B%20if%20(i.bindFramebuffer(36160%2C%20e)%2C%20!r.depthTexture%20%7C%7C%20!r.depthTexture.isDepthTexture)%20throw%20new%20Error(%22renderTarget.depthTexture%20must%20be%20an%20instance%20of%20THREE.DepthTexture%22)%3B%20n.get(r.depthTexture).__webglTexture%20%26%26%20r.depthTexture.image.width%20%3D%3D%3D%20r.width%20%26%26%20r.depthTexture.image.height%20%3D%3D%3D%20r.height%20%7C%7C%20(r.depthTexture.image.width%20%3D%20r.width%2C%20r.depthTexture.image.height%20%3D%20r.height%2C%20r.depthTexture.needsUpdate%20%3D%20!0)%2C%20Y(r.depthTexture%2C%200)%3B%20const%20s%20%3D%20n.get(r.depthTexture).__webglTexture%2C%20a%20%3D%20nt(r)%3B%20if%20(r.depthTexture.format%20%3D%3D%3D%20T)%20rt(r)%20%3F%20R.framebufferTexture2DMultisampleEXT(36160%2C%2036096%2C%203553%2C%20s%2C%200%2C%20a)%20%3A%20t.framebufferTexture2D(36160%2C%2036096%2C%203553%2C%20s%2C%200)%3B%20else%20%7B%20if%20(r.depthTexture.format%20!%3D%3D%20A)%20throw%20new%20Error(%22Unknown%20depthTexture%20format%22)%3B%20rt(r)%20%3F%20R.framebufferTexture2DMultisampleEXT(36160%2C%2033306%2C%203553%2C%20s%2C%200%2C%20a)%20%3A%20t.framebufferTexture2D(36160%2C%2033306%2C%203553%2C%20s%2C%200)%20%7D%20%7D(r.__webglFramebuffer%2C%20e)%20%7D%20else%20if%20(s)%20%7B%20r.__webglDepthbuffer%20%3D%20%5B%5D%3B%20for%20(let%20n%20%3D%200%3B%20n%20%3C%206%3B%20n%2B%2B)i.bindFramebuffer(36160%2C%20r.__webglFramebuffer%5Bn%5D)%2C%20r.__webglDepthbuffer%5Bn%5D%20%3D%20t.createRenderbuffer()%2C%20et(r.__webglDepthbuffer%5Bn%5D%2C%20e%2C%20!1)%20%7D%20else%20i.bindFramebuffer(36160%2C%20r.__webglFramebuffer)%2C%20r.__webglDepthbuffer%20%3D%20t.createRenderbuffer()%2C%20et(r.__webglDepthbuffer%2C%20e%2C%20!1)%3B%20i.bindFramebuffer(36160%2C%20null)%20%7D%20function%20nt(t)%20%7B%20return%20Math.min(L%2C%20t.samples)%20%7D%20function%20rt(t)%20%7B%20const%20i%20%3D%20n.get(t)%3B%20return%20o%20%26%26%20t.samples%20%3E%200%20%26%26%20!0%20%3D%3D%3D%20e.has(%22WEBGL_multisampled_render_to_texture%22)%20%26%26%20!1%20!%3D%3D%20i.__useRenderToTexture%20%7D%20function%20st(t%2C%20i)%20%7B%20const%20n%20%3D%20t.encoding%2C%20r%20%3D%20t.format%2C%20s%20%3D%20t.type%3B%20return%20!0%20%3D%3D%3D%20t.isCompressedTexture%20%7C%7C%20!0%20%3D%3D%3D%20t.isVideoTexture%20%7C%7C%20t.format%20%3D%3D%3D%20pt%20%7C%7C%20n%20!%3D%3D%20at%20%26%26%20(n%20%3D%3D%3D%20ot%20%3F%20!1%20%3D%3D%3D%20o%20%3F%20!0%20%3D%3D%3D%20e.has(%22EXT_sRGB%22)%20%26%26%20r%20%3D%3D%3D%20w%20%3F%20(t.format%20%3D%20pt%2C%20t.minFilter%20%3D%20f%2C%20t.generateMipmaps%20%3D%20!1)%20%3A%20i%20%3D%20Yt.sRGBToLinear(i)%20%3A%20r%20%3D%3D%3D%20w%20%26%26%20s%20%3D%3D%3D%20x%20%7C%7C%20console.warn(%22THREE.WebGLTextures%3A%20sRGB%20encoded%20textures%20have%20to%20use%20RGBAFormat%20and%20UnsignedByteType.%22)%20%3A%20console.error(%22THREE.WebGLTextures%3A%20Unsupported%20texture%20encoding%3A%22%2C%20n))%2C%20i%20%7D%20this.allocateTextureUnit%20%3D%20function%20()%20%7B%20const%20t%20%3D%20X%3B%20return%20t%20%3E%3D%20l%20%26%26%20console.warn(%22THREE.WebGLTextures%3A%20Trying%20to%20use%20%22%20%2B%20t%20%2B%20%22%20texture%20units%20while%20this%20GPU%20supports%20only%20%22%20%2B%20l)%2C%20X%20%2B%3D%201%2C%20t%20%7D%2C%20this.resetTextureUnits%20%3D%20function%20()%20%7B%20X%20%3D%200%20%7D%2C%20this.setTexture2D%20%3D%20Y%2C%20this.setTexture2DArray%20%3D%20function%20(t%2C%20e)%20%7B%20const%20r%20%3D%20n.get(t)%3B%20t.version%20%3E%200%20%26%26%20r.__version%20!%3D%3D%20t.version%20%3F%20Q(r%2C%20t%2C%20e)%20%3A%20i.bindTexture(35866%2C%20r.__webglTexture%2C%2033984%20%2B%20e)%20%7D%2C%20this.setTexture3D%20%3D%20function%20(t%2C%20e)%20%7B%20const%20r%20%3D%20n.get(t)%3B%20t.version%20%3E%200%20%26%26%20r.__version%20!%3D%3D%20t.version%20%3F%20Q(r%2C%20t%2C%20e)%20%3A%20i.bindTexture(32879%2C%20r.__webglTexture%2C%2033984%20%2B%20e)%20%7D%2C%20this.setTextureCube%20%3D%20function%20(e%2C%20r)%20%7B%20const%20a%20%3D%20n.get(e)%3B%20e.version%20%3E%200%20%26%26%20a.__version%20!%3D%3D%20e.version%20%3F%20function%20(e%2C%20r%2C%20a)%20%7B%20if%20(6%20!%3D%3D%20r.image.length)%20return%3B%20const%20l%20%3D%20%24(e%2C%20r)%2C%20c%20%3D%20r.source%3B%20i.bindTexture(34067%2C%20e.__webglTexture%2C%2033984%20%2B%20a)%3B%20const%20h%20%3D%20n.get(c)%3B%20if%20(c.version%20!%3D%3D%20h.__version%20%7C%7C%20!0%20%3D%3D%3D%20l)%20%7B%20i.activeTexture(33984%20%2B%20a)%2C%20t.pixelStorei(37440%2C%20r.flipY)%2C%20t.pixelStorei(37441%2C%20r.premultiplyAlpha)%2C%20t.pixelStorei(3317%2C%20r.unpackAlignment)%2C%20t.pixelStorei(37443%2C%200)%3B%20const%20e%20%3D%20r.isCompressedTexture%20%7C%7C%20r.image%5B0%5D.isCompressedTexture%2C%20n%20%3D%20r.image%5B0%5D%20%26%26%20r.image%5B0%5D.isDataTexture%2C%20u%20%3D%20%5B%5D%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%206%3B%20t%2B%2B)u%5Bt%5D%20%3D%20e%20%7C%7C%20n%20%3F%20n%20%3F%20r.image%5Bt%5D.image%20%3A%20r.image%5Bt%5D%20%3A%20U(r.image%5Bt%5D%2C%20!1%2C%20!0%2C%20E)%2C%20u%5Bt%5D%20%3D%20st(r%2C%20u%5Bt%5D)%3B%20const%20d%20%3D%20u%5B0%5D%2C%20p%20%3D%20B(d)%20%7C%7C%20o%2C%20m%20%3D%20s.convert(r.format%2C%20r.encoding)%2C%20f%20%3D%20s.convert(r.type)%2C%20g%20%3D%20G(r.internalFormat%2C%20m%2C%20f%2C%20r.encoding)%2C%20v%20%3D%20o%20%26%26%20!0%20!%3D%3D%20r.isVideoTexture%2C%20x%20%3D%20void%200%20%3D%3D%3D%20h.__version%20%7C%7C%20!0%20%3D%3D%3D%20l%3B%20let%20_%2C%20y%20%3D%20V(r%2C%20d%2C%20p)%3B%20if%20(K(34067%2C%20r%2C%20p)%2C%20e)%20%7B%20v%20%26%26%20x%20%26%26%20i.texStorage2D(34067%2C%20y%2C%20g%2C%20d.width%2C%20d.height)%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%206%3B%20t%2B%2B)%20%7B%20_%20%3D%20u%5Bt%5D.mipmaps%3B%20for%20(let%20e%20%3D%200%3B%20e%20%3C%20_.length%3B%20e%2B%2B)%20%7B%20const%20n%20%3D%20_%5Be%5D%3B%20r.format%20!%3D%3D%20w%20%3F%20null%20!%3D%3D%20m%20%3F%20v%20%3F%20i.compressedTexSubImage2D(34069%20%2B%20t%2C%20e%2C%200%2C%200%2C%20n.width%2C%20n.height%2C%20m%2C%20n.data)%20%3A%20i.compressedTexImage2D(34069%20%2B%20t%2C%20e%2C%20g%2C%20n.width%2C%20n.height%2C%200%2C%20n.data)%20%3A%20console.warn(%22THREE.WebGLRenderer%3A%20Attempt%20to%20load%20unsupported%20compressed%20texture%20format%20in%20.setTextureCube()%22)%20%3A%20v%20%3F%20i.texSubImage2D(34069%20%2B%20t%2C%20e%2C%200%2C%200%2C%20n.width%2C%20n.height%2C%20m%2C%20f%2C%20n.data)%20%3A%20i.texImage2D(34069%20%2B%20t%2C%20e%2C%20g%2C%20n.width%2C%20n.height%2C%200%2C%20m%2C%20f%2C%20n.data)%20%7D%20%7D%20%7D%20else%20%7B%20_%20%3D%20r.mipmaps%2C%20v%20%26%26%20x%20%26%26%20(_.length%20%3E%200%20%26%26%20y%2B%2B%2C%20i.texStorage2D(34067%2C%20y%2C%20g%2C%20u%5B0%5D.width%2C%20u%5B0%5D.height))%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%206%3B%20t%2B%2B)if%20(n)%20%7B%20v%20%3F%20i.texSubImage2D(34069%20%2B%20t%2C%200%2C%200%2C%200%2C%20u%5Bt%5D.width%2C%20u%5Bt%5D.height%2C%20m%2C%20f%2C%20u%5Bt%5D.data)%20%3A%20i.texImage2D(34069%20%2B%20t%2C%200%2C%20g%2C%20u%5Bt%5D.width%2C%20u%5Bt%5D.height%2C%200%2C%20m%2C%20f%2C%20u%5Bt%5D.data)%3B%20for%20(let%20e%20%3D%200%3B%20e%20%3C%20_.length%3B%20e%2B%2B)%20%7B%20const%20n%20%3D%20_%5Be%5D.image%5Bt%5D.image%3B%20v%20%3F%20i.texSubImage2D(34069%20%2B%20t%2C%20e%20%2B%201%2C%200%2C%200%2C%20n.width%2C%20n.height%2C%20m%2C%20f%2C%20n.data)%20%3A%20i.texImage2D(34069%20%2B%20t%2C%20e%20%2B%201%2C%20g%2C%20n.width%2C%20n.height%2C%200%2C%20m%2C%20f%2C%20n.data)%20%7D%20%7D%20else%20%7B%20v%20%3F%20i.texSubImage2D(34069%20%2B%20t%2C%200%2C%200%2C%200%2C%20m%2C%20f%2C%20u%5Bt%5D)%20%3A%20i.texImage2D(34069%20%2B%20t%2C%200%2C%20g%2C%20m%2C%20f%2C%20u%5Bt%5D)%3B%20for%20(let%20e%20%3D%200%3B%20e%20%3C%20_.length%3B%20e%2B%2B)%20%7B%20const%20n%20%3D%20_%5Be%5D%3B%20v%20%3F%20i.texSubImage2D(34069%20%2B%20t%2C%20e%20%2B%201%2C%200%2C%200%2C%20m%2C%20f%2C%20n.image%5Bt%5D)%20%3A%20i.texImage2D(34069%20%2B%20t%2C%20e%20%2B%201%2C%20g%2C%20m%2C%20f%2C%20n.image%5Bt%5D)%20%7D%20%7D%20%7D%20F(r%2C%20p)%20%26%26%20k(34067)%2C%20h.__version%20%3D%20c.version%2C%20r.onUpdate%20%26%26%20r.onUpdate(r)%20%7D%20e.__version%20%3D%20r.version%20%7D(a%2C%20e%2C%20r)%20%3A%20i.bindTexture(34067%2C%20a.__webglTexture%2C%2033984%20%2B%20r)%20%7D%2C%20this.rebindTextures%20%3D%20function%20(t%2C%20e%2C%20i)%20%7B%20const%20r%20%3D%20n.get(t)%3B%20void%200%20!%3D%3D%20e%20%26%26%20tt(r.__webglFramebuffer%2C%20t%2C%20t.texture%2C%2036064%2C%203553)%2C%20void%200%20!%3D%3D%20i%20%26%26%20it(t)%20%7D%2C%20this.setupRenderTarget%20%3D%20function%20(e)%20%7B%20const%20l%20%3D%20e.texture%2C%20c%20%3D%20n.get(e)%2C%20h%20%3D%20n.get(l)%3B%20e.addEventListener(%22dispose%22%2C%20j)%2C%20!0%20!%3D%3D%20e.isWebGLMultipleRenderTargets%20%26%26%20(void%200%20%3D%3D%3D%20h.__webglTexture%20%26%26%20(h.__webglTexture%20%3D%20t.createTexture())%2C%20h.__version%20%3D%20l.version%2C%20a.memory.textures%2B%2B)%3B%20const%20u%20%3D%20!0%20%3D%3D%3D%20e.isWebGLCubeRenderTarget%2C%20d%20%3D%20!0%20%3D%3D%3D%20e.isWebGLMultipleRenderTargets%2C%20p%20%3D%20B(e)%20%7C%7C%20o%3B%20if%20(u)%20%7B%20c.__webglFramebuffer%20%3D%20%5B%5D%3B%20for%20(let%20e%20%3D%200%3B%20e%20%3C%206%3B%20e%2B%2B)c.__webglFramebuffer%5Be%5D%20%3D%20t.createFramebuffer()%20%7D%20else%20%7B%20if%20(c.__webglFramebuffer%20%3D%20t.createFramebuffer()%2C%20d)%20if%20(r.drawBuffers)%20%7B%20const%20i%20%3D%20e.texture%3B%20for%20(let%20e%20%3D%200%2C%20r%20%3D%20i.length%3B%20e%20%3C%20r%3B%20e%2B%2B)%20%7B%20const%20r%20%3D%20n.get(i%5Be%5D)%3B%20void%200%20%3D%3D%3D%20r.__webglTexture%20%26%26%20(r.__webglTexture%20%3D%20t.createTexture()%2C%20a.memory.textures%2B%2B)%20%7D%20%7D%20else%20console.warn(%22THREE.WebGLRenderer%3A%20WebGLMultipleRenderTargets%20can%20only%20be%20used%20with%20WebGL2%20or%20WEBGL_draw_buffers%20extension.%22)%3B%20if%20(o%20%26%26%20e.samples%20%3E%200%20%26%26%20!1%20%3D%3D%3D%20rt(e))%20%7B%20const%20n%20%3D%20d%20%3F%20l%20%3A%20%5Bl%5D%3B%20c.__webglMultisampledFramebuffer%20%3D%20t.createFramebuffer()%2C%20c.__webglColorRenderbuffer%20%3D%20%5B%5D%2C%20i.bindFramebuffer(36160%2C%20c.__webglMultisampledFramebuffer)%3B%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20n.length%3B%20i%2B%2B)%20%7B%20const%20r%20%3D%20n%5Bi%5D%3B%20c.__webglColorRenderbuffer%5Bi%5D%20%3D%20t.createRenderbuffer()%2C%20t.bindRenderbuffer(36161%2C%20c.__webglColorRenderbuffer%5Bi%5D)%3B%20const%20a%20%3D%20s.convert(r.format%2C%20r.encoding)%2C%20o%20%3D%20s.convert(r.type)%2C%20l%20%3D%20G(r.internalFormat%2C%20a%2C%20o%2C%20r.encoding%2C%20!0%20%3D%3D%3D%20e.isXRRenderTarget)%2C%20h%20%3D%20nt(e)%3B%20t.renderbufferStorageMultisample(36161%2C%20h%2C%20l%2C%20e.width%2C%20e.height)%2C%20t.framebufferRenderbuffer(36160%2C%2036064%20%2B%20i%2C%2036161%2C%20c.__webglColorRenderbuffer%5Bi%5D)%20%7D%20t.bindRenderbuffer(36161%2C%20null)%2C%20e.depthBuffer%20%26%26%20(c.__webglDepthRenderbuffer%20%3D%20t.createRenderbuffer()%2C%20et(c.__webglDepthRenderbuffer%2C%20e%2C%20!0))%2C%20i.bindFramebuffer(36160%2C%20null)%20%7D%20%7D%20if%20(u)%20%7B%20i.bindTexture(34067%2C%20h.__webglTexture)%2C%20K(34067%2C%20l%2C%20p)%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%206%3B%20t%2B%2B)tt(c.__webglFramebuffer%5Bt%5D%2C%20e%2C%20l%2C%2036064%2C%2034069%20%2B%20t)%3B%20F(l%2C%20p)%20%26%26%20k(34067)%2C%20i.unbindTexture()%20%7D%20else%20if%20(d)%20%7B%20const%20t%20%3D%20e.texture%3B%20for%20(let%20r%20%3D%200%2C%20s%20%3D%20t.length%3B%20r%20%3C%20s%3B%20r%2B%2B)%20%7B%20const%20s%20%3D%20t%5Br%5D%2C%20a%20%3D%20n.get(s)%3B%20i.bindTexture(3553%2C%20a.__webglTexture)%2C%20K(3553%2C%20s%2C%20p)%2C%20tt(c.__webglFramebuffer%2C%20e%2C%20s%2C%2036064%20%2B%20r%2C%203553)%2C%20F(s%2C%20p)%20%26%26%20k(3553)%20%7D%20i.unbindTexture()%20%7D%20else%20%7B%20let%20t%20%3D%203553%3B%20(e.isWebGL3DRenderTarget%20%7C%7C%20e.isWebGLArrayRenderTarget)%20%26%26%20(o%20%3F%20t%20%3D%20e.isWebGL3DRenderTarget%20%3F%2032879%20%3A%2035866%20%3A%20console.error(%22THREE.WebGLTextures%3A%20THREE.Data3DTexture%20and%20THREE.DataArrayTexture%20only%20supported%20with%20WebGL2.%22))%2C%20i.bindTexture(t%2C%20h.__webglTexture)%2C%20K(t%2C%20l%2C%20p)%2C%20tt(c.__webglFramebuffer%2C%20e%2C%20l%2C%2036064%2C%20t)%2C%20F(l%2C%20p)%20%26%26%20k(t)%2C%20i.unbindTexture()%20%7D%20e.depthBuffer%20%26%26%20it(e)%20%7D%2C%20this.updateRenderTargetMipmap%20%3D%20function%20(t)%20%7B%20const%20e%20%3D%20B(t)%20%7C%7C%20o%2C%20r%20%3D%20!0%20%3D%3D%3D%20t.isWebGLMultipleRenderTargets%20%3F%20t.texture%20%3A%20%5Bt.texture%5D%3B%20for%20(let%20s%20%3D%200%2C%20a%20%3D%20r.length%3B%20s%20%3C%20a%3B%20s%2B%2B)%20%7B%20const%20a%20%3D%20r%5Bs%5D%3B%20if%20(F(a%2C%20e))%20%7B%20const%20e%20%3D%20t.isWebGLCubeRenderTarget%20%3F%2034067%20%3A%203553%2C%20r%20%3D%20n.get(a).__webglTexture%3B%20i.bindTexture(e%2C%20r)%2C%20k(e)%2C%20i.unbindTexture()%20%7D%20%7D%20%7D%2C%20this.updateMultisampleRenderTarget%20%3D%20function%20(e)%20%7B%20if%20(o%20%26%26%20e.samples%20%3E%200%20%26%26%20!1%20%3D%3D%3D%20rt(e))%20%7B%20const%20r%20%3D%20e.isWebGLMultipleRenderTargets%20%3F%20e.texture%20%3A%20%5Be.texture%5D%2C%20s%20%3D%20e.width%2C%20a%20%3D%20e.height%3B%20let%20o%20%3D%2016384%3B%20const%20l%20%3D%20%5B%5D%2C%20c%20%3D%20e.stencilBuffer%20%3F%2033306%20%3A%2036096%2C%20h%20%3D%20n.get(e)%2C%20u%20%3D%20!0%20%3D%3D%3D%20e.isWebGLMultipleRenderTargets%3B%20if%20(u)%20for%20(let%20e%20%3D%200%3B%20e%20%3C%20r.length%3B%20e%2B%2B)i.bindFramebuffer(36160%2C%20h.__webglMultisampledFramebuffer)%2C%20t.framebufferRenderbuffer(36160%2C%2036064%20%2B%20e%2C%2036161%2C%20null)%2C%20i.bindFramebuffer(36160%2C%20h.__webglFramebuffer)%2C%20t.framebufferTexture2D(36009%2C%2036064%20%2B%20e%2C%203553%2C%20null%2C%200)%3B%20i.bindFramebuffer(36008%2C%20h.__webglMultisampledFramebuffer)%2C%20i.bindFramebuffer(36009%2C%20h.__webglFramebuffer)%3B%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20r.length%3B%20i%2B%2B)%20%7B%20l.push(36064%20%2B%20i)%2C%20e.depthBuffer%20%26%26%20l.push(c)%3B%20const%20d%20%3D%20void%200%20!%3D%3D%20h.__ignoreDepthValues%20%26%26%20h.__ignoreDepthValues%3B%20if%20(!1%20%3D%3D%3D%20d%20%26%26%20(e.depthBuffer%20%26%26%20(o%20%7C%3D%20256)%2C%20e.stencilBuffer%20%26%26%20(o%20%7C%3D%201024))%2C%20u%20%26%26%20t.framebufferRenderbuffer(36008%2C%2036064%2C%2036161%2C%20h.__webglColorRenderbuffer%5Bi%5D)%2C%20!0%20%3D%3D%3D%20d%20%26%26%20(t.invalidateFramebuffer(36008%2C%20%5Bc%5D)%2C%20t.invalidateFramebuffer(36009%2C%20%5Bc%5D))%2C%20u)%20%7B%20const%20e%20%3D%20n.get(r%5Bi%5D).__webglTexture%3B%20t.framebufferTexture2D(36009%2C%2036064%2C%203553%2C%20e%2C%200)%20%7D%20t.blitFramebuffer(0%2C%200%2C%20s%2C%20a%2C%200%2C%200%2C%20s%2C%20a%2C%20o%2C%209728)%2C%20P%20%26%26%20t.invalidateFramebuffer(36008%2C%20l)%20%7D%20if%20(i.bindFramebuffer(36008%2C%20null)%2C%20i.bindFramebuffer(36009%2C%20null)%2C%20u)%20for%20(let%20e%20%3D%200%3B%20e%20%3C%20r.length%3B%20e%2B%2B)%20%7B%20i.bindFramebuffer(36160%2C%20h.__webglMultisampledFramebuffer)%2C%20t.framebufferRenderbuffer(36160%2C%2036064%20%2B%20e%2C%2036161%2C%20h.__webglColorRenderbuffer%5Be%5D)%3B%20const%20s%20%3D%20n.get(r%5Be%5D).__webglTexture%3B%20i.bindFramebuffer(36160%2C%20h.__webglFramebuffer)%2C%20t.framebufferTexture2D(36009%2C%2036064%20%2B%20e%2C%203553%2C%20s%2C%200)%20%7D%20i.bindFramebuffer(36009%2C%20h.__webglMultisampledFramebuffer)%20%7D%20%7D%2C%20this.setupDepthRenderbuffer%20%3D%20it%2C%20this.setupFrameBufferTexture%20%3D%20tt%2C%20this.useMultisampledRTT%20%3D%20rt%20%7D%20function%20Bs(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20i.isWebGL2%3B%20return%20%7B%20convert%3A%20function%20(i%2C%20r%20%3D%20null)%20%7B%20let%20s%3B%20if%20(i%20%3D%3D%3D%20x)%20return%205121%3B%20if%20(1017%20%3D%3D%3D%20i)%20return%2032819%3B%20if%20(1018%20%3D%3D%3D%20i)%20return%2032820%3B%20if%20(1010%20%3D%3D%3D%20i)%20return%205120%3B%20if%20(1011%20%3D%3D%3D%20i)%20return%205122%3B%20if%20(i%20%3D%3D%3D%20_)%20return%205123%3B%20if%20(1013%20%3D%3D%3D%20i)%20return%205124%3B%20if%20(i%20%3D%3D%3D%20y)%20return%205125%3B%20if%20(i%20%3D%3D%3D%20M)%20return%205126%3B%20if%20(i%20%3D%3D%3D%20b)%20return%20n%20%3F%205131%20%3A%20(s%20%3D%20e.get(%22OES_texture_half_float%22)%2C%20null%20!%3D%3D%20s%20%3F%20s.HALF_FLOAT_OES%20%3A%20null)%3B%20if%20(1021%20%3D%3D%3D%20i)%20return%206406%3B%20if%20(i%20%3D%3D%3D%20w)%20return%206408%3B%20if%20(1024%20%3D%3D%3D%20i)%20return%206409%3B%20if%20(1025%20%3D%3D%3D%20i)%20return%206410%3B%20if%20(i%20%3D%3D%3D%20T)%20return%206402%3B%20if%20(i%20%3D%3D%3D%20A)%20return%2034041%3B%20if%20(1022%20%3D%3D%3D%20i)%20return%20console.warn(%22THREE.WebGLRenderer%3A%20THREE.RGBFormat%20has%20been%20removed.%20Use%20THREE.RGBAFormat%20instead.%20https%3A%2F%2Fgithub.com%2Fmrdoob%2Fthree.js%2Fpull%2F23228%22)%2C%206408%3B%20if%20(i%20%3D%3D%3D%20pt)%20return%20s%20%3D%20e.get(%22EXT_sRGB%22)%2C%20null%20!%3D%3D%20s%20%3F%20s.SRGB_ALPHA_EXT%20%3A%20null%3B%20if%20(1028%20%3D%3D%3D%20i)%20return%206403%3B%20if%20(1029%20%3D%3D%3D%20i)%20return%2036244%3B%20if%20(1030%20%3D%3D%3D%20i)%20return%2033319%3B%20if%20(1031%20%3D%3D%3D%20i)%20return%2033320%3B%20if%20(1033%20%3D%3D%3D%20i)%20return%2036249%3B%20if%20(i%20%3D%3D%3D%20E%20%7C%7C%20i%20%3D%3D%3D%20C%20%7C%7C%20i%20%3D%3D%3D%20L%20%7C%7C%20i%20%3D%3D%3D%20R)%20if%20(r%20%3D%3D%3D%20ot)%20%7B%20if%20(s%20%3D%20e.get(%22WEBGL_compressed_texture_s3tc_srgb%22)%2C%20null%20%3D%3D%3D%20s)%20return%20null%3B%20if%20(i%20%3D%3D%3D%20E)%20return%20s.COMPRESSED_SRGB_S3TC_DXT1_EXT%3B%20if%20(i%20%3D%3D%3D%20C)%20return%20s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT%3B%20if%20(i%20%3D%3D%3D%20L)%20return%20s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT%3B%20if%20(i%20%3D%3D%3D%20R)%20return%20s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT%20%7D%20else%20%7B%20if%20(s%20%3D%20e.get(%22WEBGL_compressed_texture_s3tc%22)%2C%20null%20%3D%3D%3D%20s)%20return%20null%3B%20if%20(i%20%3D%3D%3D%20E)%20return%20s.COMPRESSED_RGB_S3TC_DXT1_EXT%3B%20if%20(i%20%3D%3D%3D%20C)%20return%20s.COMPRESSED_RGBA_S3TC_DXT1_EXT%3B%20if%20(i%20%3D%3D%3D%20L)%20return%20s.COMPRESSED_RGBA_S3TC_DXT3_EXT%3B%20if%20(i%20%3D%3D%3D%20R)%20return%20s.COMPRESSED_RGBA_S3TC_DXT5_EXT%20%7D%20if%20(i%20%3D%3D%3D%20P%20%7C%7C%20i%20%3D%3D%3D%20I%20%7C%7C%20i%20%3D%3D%3D%20D%20%7C%7C%20i%20%3D%3D%3D%20N)%20%7B%20if%20(s%20%3D%20e.get(%22WEBGL_compressed_texture_pvrtc%22)%2C%20null%20%3D%3D%3D%20s)%20return%20null%3B%20if%20(i%20%3D%3D%3D%20P)%20return%20s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG%3B%20if%20(i%20%3D%3D%3D%20I)%20return%20s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG%3B%20if%20(i%20%3D%3D%3D%20D)%20return%20s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG%3B%20if%20(i%20%3D%3D%3D%20N)%20return%20s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG%20%7D%20if%20(36196%20%3D%3D%3D%20i)%20return%20s%20%3D%20e.get(%22WEBGL_compressed_texture_etc1%22)%2C%20null%20!%3D%3D%20s%20%3F%20s.COMPRESSED_RGB_ETC1_WEBGL%20%3A%20null%3B%20if%20(i%20%3D%3D%3D%20O%20%7C%7C%20i%20%3D%3D%3D%20z)%20%7B%20if%20(s%20%3D%20e.get(%22WEBGL_compressed_texture_etc%22)%2C%20null%20%3D%3D%3D%20s)%20return%20null%3B%20if%20(i%20%3D%3D%3D%20O)%20return%20r%20%3D%3D%3D%20ot%20%3F%20s.COMPRESSED_SRGB8_ETC2%20%3A%20s.COMPRESSED_RGB8_ETC2%3B%20if%20(i%20%3D%3D%3D%20z)%20return%20r%20%3D%3D%3D%20ot%20%3F%20s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC%20%3A%20s.COMPRESSED_RGBA8_ETC2_EAC%20%7D%20if%20(i%20%3D%3D%3D%20U%20%7C%7C%20i%20%3D%3D%3D%20B%20%7C%7C%20i%20%3D%3D%3D%20F%20%7C%7C%20i%20%3D%3D%3D%20k%20%7C%7C%20i%20%3D%3D%3D%20G%20%7C%7C%20i%20%3D%3D%3D%20V%20%7C%7C%20i%20%3D%3D%3D%20H%20%7C%7C%20i%20%3D%3D%3D%20W%20%7C%7C%20i%20%3D%3D%3D%20j%20%7C%7C%20i%20%3D%3D%3D%20q%20%7C%7C%20i%20%3D%3D%3D%20X%20%7C%7C%20i%20%3D%3D%3D%20Y%20%7C%7C%20i%20%3D%3D%3D%20Z%20%7C%7C%20i%20%3D%3D%3D%20J)%20%7B%20if%20(s%20%3D%20e.get(%22WEBGL_compressed_texture_astc%22)%2C%20null%20%3D%3D%3D%20s)%20return%20null%3B%20if%20(i%20%3D%3D%3D%20U)%20return%20r%20%3D%3D%3D%20ot%20%3F%20s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR%20%3A%20s.COMPRESSED_RGBA_ASTC_4x4_KHR%3B%20if%20(i%20%3D%3D%3D%20B)%20return%20r%20%3D%3D%3D%20ot%20%3F%20s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR%20%3A%20s.COMPRESSED_RGBA_ASTC_5x4_KHR%3B%20if%20(i%20%3D%3D%3D%20F)%20return%20r%20%3D%3D%3D%20ot%20%3F%20s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR%20%3A%20s.COMPRESSED_RGBA_ASTC_5x5_KHR%3B%20if%20(i%20%3D%3D%3D%20k)%20return%20r%20%3D%3D%3D%20ot%20%3F%20s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR%20%3A%20s.COMPRESSED_RGBA_ASTC_6x5_KHR%3B%20if%20(i%20%3D%3D%3D%20G)%20return%20r%20%3D%3D%3D%20ot%20%3F%20s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR%20%3A%20s.COMPRESSED_RGBA_ASTC_6x6_KHR%3B%20if%20(i%20%3D%3D%3D%20V)%20return%20r%20%3D%3D%3D%20ot%20%3F%20s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR%20%3A%20s.COMPRESSED_RGBA_ASTC_8x5_KHR%3B%20if%20(i%20%3D%3D%3D%20H)%20return%20r%20%3D%3D%3D%20ot%20%3F%20s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR%20%3A%20s.COMPRESSED_RGBA_ASTC_8x6_KHR%3B%20if%20(i%20%3D%3D%3D%20W)%20return%20r%20%3D%3D%3D%20ot%20%3F%20s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR%20%3A%20s.COMPRESSED_RGBA_ASTC_8x8_KHR%3B%20if%20(i%20%3D%3D%3D%20j)%20return%20r%20%3D%3D%3D%20ot%20%3F%20s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR%20%3A%20s.COMPRESSED_RGBA_ASTC_10x5_KHR%3B%20if%20(i%20%3D%3D%3D%20q)%20return%20r%20%3D%3D%3D%20ot%20%3F%20s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR%20%3A%20s.COMPRESSED_RGBA_ASTC_10x6_KHR%3B%20if%20(i%20%3D%3D%3D%20X)%20return%20r%20%3D%3D%3D%20ot%20%3F%20s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR%20%3A%20s.COMPRESSED_RGBA_ASTC_10x8_KHR%3B%20if%20(i%20%3D%3D%3D%20Y)%20return%20r%20%3D%3D%3D%20ot%20%3F%20s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR%20%3A%20s.COMPRESSED_RGBA_ASTC_10x10_KHR%3B%20if%20(i%20%3D%3D%3D%20Z)%20return%20r%20%3D%3D%3D%20ot%20%3F%20s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR%20%3A%20s.COMPRESSED_RGBA_ASTC_12x10_KHR%3B%20if%20(i%20%3D%3D%3D%20J)%20return%20r%20%3D%3D%3D%20ot%20%3F%20s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR%20%3A%20s.COMPRESSED_RGBA_ASTC_12x12_KHR%20%7D%20if%20(i%20%3D%3D%3D%20K)%20%7B%20if%20(s%20%3D%20e.get(%22EXT_texture_compression_bptc%22)%2C%20null%20%3D%3D%3D%20s)%20return%20null%3B%20if%20(i%20%3D%3D%3D%20K)%20return%20r%20%3D%3D%3D%20ot%20%3F%20s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT%20%3A%20s.COMPRESSED_RGBA_BPTC_UNORM_EXT%20%7D%20return%20i%20%3D%3D%3D%20S%20%3F%20n%20%3F%2034042%20%3A%20(s%20%3D%20e.get(%22WEBGL_depth_texture%22)%2C%20null%20!%3D%3D%20s%20%3F%20s.UNSIGNED_INT_24_8_WEBGL%20%3A%20null)%20%3A%20void%200%20!%3D%3D%20t%5Bi%5D%20%3F%20t%5Bi%5D%20%3A%20null%20%7D%20%7D%20%7D%20class%20Fs%20extends%20nn%20%7B%20constructor(t%20%3D%20%5B%5D)%20%7B%20super()%2C%20this.isArrayCamera%20%3D%20!0%2C%20this.cameras%20%3D%20t%20%7D%20%7D%20class%20ks%20extends%20si%20%7B%20constructor()%20%7B%20super()%2C%20this.isGroup%20%3D%20!0%2C%20this.type%20%3D%20%22Group%22%20%7D%20%7D%20const%20Gs%20%3D%20%7B%20type%3A%20%22move%22%20%7D%3B%20class%20Vs%20%7B%20constructor()%20%7B%20this._targetRay%20%3D%20null%2C%20this._grip%20%3D%20null%2C%20this._hand%20%3D%20null%20%7D%20getHandSpace()%20%7B%20return%20null%20%3D%3D%3D%20this._hand%20%26%26%20(this._hand%20%3D%20new%20ks%2C%20this._hand.matrixAutoUpdate%20%3D%20!1%2C%20this._hand.visible%20%3D%20!1%2C%20this._hand.joints%20%3D%20%7B%7D%2C%20this._hand.inputState%20%3D%20%7B%20pinching%3A%20!1%20%7D)%2C%20this._hand%20%7D%20getTargetRaySpace()%20%7B%20return%20null%20%3D%3D%3D%20this._targetRay%20%26%26%20(this._targetRay%20%3D%20new%20ks%2C%20this._targetRay.matrixAutoUpdate%20%3D%20!1%2C%20this._targetRay.visible%20%3D%20!1%2C%20this._targetRay.hasLinearVelocity%20%3D%20!1%2C%20this._targetRay.linearVelocity%20%3D%20new%20re%2C%20this._targetRay.hasAngularVelocity%20%3D%20!1%2C%20this._targetRay.angularVelocity%20%3D%20new%20re)%2C%20this._targetRay%20%7D%20getGripSpace()%20%7B%20return%20null%20%3D%3D%3D%20this._grip%20%26%26%20(this._grip%20%3D%20new%20ks%2C%20this._grip.matrixAutoUpdate%20%3D%20!1%2C%20this._grip.visible%20%3D%20!1%2C%20this._grip.hasLinearVelocity%20%3D%20!1%2C%20this._grip.linearVelocity%20%3D%20new%20re%2C%20this._grip.hasAngularVelocity%20%3D%20!1%2C%20this._grip.angularVelocity%20%3D%20new%20re)%2C%20this._grip%20%7D%20dispatchEvent(t)%20%7B%20return%20null%20!%3D%3D%20this._targetRay%20%26%26%20this._targetRay.dispatchEvent(t)%2C%20null%20!%3D%3D%20this._grip%20%26%26%20this._grip.dispatchEvent(t)%2C%20null%20!%3D%3D%20this._hand%20%26%26%20this._hand.dispatchEvent(t)%2C%20this%20%7D%20connect(t)%20%7B%20if%20(t%20%26%26%20t.hand)%20%7B%20const%20e%20%3D%20this._hand%3B%20if%20(e)%20for%20(const%20i%20of%20t.hand.values())%20this._getHandJoint(e%2C%20i)%20%7D%20return%20this.dispatchEvent(%7B%20type%3A%20%22connected%22%2C%20data%3A%20t%20%7D)%2C%20this%20%7D%20disconnect(t)%20%7B%20return%20this.dispatchEvent(%7B%20type%3A%20%22disconnected%22%2C%20data%3A%20t%20%7D)%2C%20null%20!%3D%3D%20this._targetRay%20%26%26%20(this._targetRay.visible%20%3D%20!1)%2C%20null%20!%3D%3D%20this._grip%20%26%26%20(this._grip.visible%20%3D%20!1)%2C%20null%20!%3D%3D%20this._hand%20%26%26%20(this._hand.visible%20%3D%20!1)%2C%20this%20%7D%20update(t%2C%20e%2C%20i)%20%7B%20let%20n%20%3D%20null%2C%20r%20%3D%20null%2C%20s%20%3D%20null%3B%20const%20a%20%3D%20this._targetRay%2C%20o%20%3D%20this._grip%2C%20l%20%3D%20this._hand%3B%20if%20(t%20%26%26%20%22visible-blurred%22%20!%3D%3D%20e.session.visibilityState)%20%7B%20if%20(l%20%26%26%20t.hand)%20%7B%20s%20%3D%20!0%3B%20for%20(const%20n%20of%20t.hand.values())%20%7B%20const%20t%20%3D%20e.getJointPose(n%2C%20i)%2C%20r%20%3D%20this._getHandJoint(l%2C%20n)%3B%20null%20!%3D%3D%20t%20%26%26%20(r.matrix.fromArray(t.transform.matrix)%2C%20r.matrix.decompose(r.position%2C%20r.rotation%2C%20r.scale)%2C%20r.jointRadius%20%3D%20t.radius)%2C%20r.visible%20%3D%20null%20!%3D%3D%20t%20%7D%20const%20n%20%3D%20l.joints%5B%22index-finger-tip%22%5D%2C%20r%20%3D%20l.joints%5B%22thumb-tip%22%5D%2C%20a%20%3D%20n.position.distanceTo(r.position)%2C%20o%20%3D%20.02%2C%20c%20%3D%20.005%3B%20l.inputState.pinching%20%26%26%20a%20%3E%20o%20%2B%20c%20%3F%20(l.inputState.pinching%20%3D%20!1%2C%20this.dispatchEvent(%7B%20type%3A%20%22pinchend%22%2C%20handedness%3A%20t.handedness%2C%20target%3A%20this%20%7D))%20%3A%20!l.inputState.pinching%20%26%26%20a%20%3C%3D%20o%20-%20c%20%26%26%20(l.inputState.pinching%20%3D%20!0%2C%20this.dispatchEvent(%7B%20type%3A%20%22pinchstart%22%2C%20handedness%3A%20t.handedness%2C%20target%3A%20this%20%7D))%20%7D%20else%20null%20!%3D%3D%20o%20%26%26%20t.gripSpace%20%26%26%20(r%20%3D%20e.getPose(t.gripSpace%2C%20i)%2C%20null%20!%3D%3D%20r%20%26%26%20(o.matrix.fromArray(r.transform.matrix)%2C%20o.matrix.decompose(o.position%2C%20o.rotation%2C%20o.scale)%2C%20r.linearVelocity%20%3F%20(o.hasLinearVelocity%20%3D%20!0%2C%20o.linearVelocity.copy(r.linearVelocity))%20%3A%20o.hasLinearVelocity%20%3D%20!1%2C%20r.angularVelocity%20%3F%20(o.hasAngularVelocity%20%3D%20!0%2C%20o.angularVelocity.copy(r.angularVelocity))%20%3A%20o.hasAngularVelocity%20%3D%20!1))%3B%20null%20!%3D%3D%20a%20%26%26%20(n%20%3D%20e.getPose(t.targetRaySpace%2C%20i)%2C%20null%20%3D%3D%3D%20n%20%26%26%20null%20!%3D%3D%20r%20%26%26%20(n%20%3D%20r)%2C%20null%20!%3D%3D%20n%20%26%26%20(a.matrix.fromArray(n.transform.matrix)%2C%20a.matrix.decompose(a.position%2C%20a.rotation%2C%20a.scale)%2C%20n.linearVelocity%20%3F%20(a.hasLinearVelocity%20%3D%20!0%2C%20a.linearVelocity.copy(n.linearVelocity))%20%3A%20a.hasLinearVelocity%20%3D%20!1%2C%20n.angularVelocity%20%3F%20(a.hasAngularVelocity%20%3D%20!0%2C%20a.angularVelocity.copy(n.angularVelocity))%20%3A%20a.hasAngularVelocity%20%3D%20!1%2C%20this.dispatchEvent(Gs)))%20%7D%20return%20null%20!%3D%3D%20a%20%26%26%20(a.visible%20%3D%20null%20!%3D%3D%20n)%2C%20null%20!%3D%3D%20o%20%26%26%20(o.visible%20%3D%20null%20!%3D%3D%20r)%2C%20null%20!%3D%3D%20l%20%26%26%20(l.visible%20%3D%20null%20!%3D%3D%20s)%2C%20this%20%7D%20_getHandJoint(t%2C%20e)%20%7B%20if%20(void%200%20%3D%3D%3D%20t.joints%5Be.jointName%5D)%20%7B%20const%20i%20%3D%20new%20ks%3B%20i.matrixAutoUpdate%20%3D%20!1%2C%20i.visible%20%3D%20!1%2C%20t.joints%5Be.jointName%5D%20%3D%20i%2C%20t.add(i)%20%7D%20return%20t.joints%5Be.jointName%5D%20%7D%20%7D%20class%20Hs%20extends%20%24t%20%7B%20constructor(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%20a%2C%20o%2C%20l%2C%20c)%20%7B%20if%20((c%20%3D%20void%200%20!%3D%3D%20c%20%3F%20c%20%3A%20T)%20!%3D%3D%20T%20%26%26%20c%20!%3D%3D%20A)%20throw%20new%20Error(%22DepthTexture%20format%20must%20be%20either%20THREE.DepthFormat%20or%20THREE.DepthStencilFormat%22)%3B%20void%200%20%3D%3D%3D%20i%20%26%26%20c%20%3D%3D%3D%20T%20%26%26%20(i%20%3D%20y)%2C%20void%200%20%3D%3D%3D%20i%20%26%26%20c%20%3D%3D%3D%20A%20%26%26%20(i%20%3D%20S)%2C%20super(null%2C%20n%2C%20r%2C%20s%2C%20a%2C%20o%2C%20c%2C%20i%2C%20l)%2C%20this.isDepthTexture%20%3D%20!0%2C%20this.image%20%3D%20%7B%20width%3A%20t%2C%20height%3A%20e%20%7D%2C%20this.magFilter%20%3D%20void%200%20!%3D%3D%20a%20%3F%20a%20%3A%20d%2C%20this.minFilter%20%3D%20void%200%20!%3D%3D%20o%20%3F%20o%20%3A%20d%2C%20this.flipY%20%3D%20!1%2C%20this.generateMipmaps%20%3D%20!1%20%7D%20%7D%20class%20Ws%20extends%20mt%20%7B%20constructor(t%2C%20e)%20%7B%20super()%3B%20const%20i%20%3D%20this%3B%20let%20n%20%3D%20null%2C%20r%20%3D%201%2C%20s%20%3D%20null%2C%20a%20%3D%20%22local-floor%22%2C%20o%20%3D%20null%2C%20l%20%3D%20null%2C%20c%20%3D%20null%2C%20h%20%3D%20null%2C%20u%20%3D%20null%2C%20d%20%3D%20null%3B%20const%20p%20%3D%20e.getContextAttributes()%3B%20let%20m%20%3D%20null%2C%20f%20%3D%20null%3B%20const%20g%20%3D%20%5B%5D%2C%20v%20%3D%20%5B%5D%2C%20_%20%3D%20new%20Set%2C%20M%20%3D%20new%20Map%2C%20b%20%3D%20new%20nn%3B%20b.layers.enable(1)%2C%20b.viewport%20%3D%20new%20Qt%3B%20const%20E%20%3D%20new%20nn%3B%20E.layers.enable(2)%2C%20E.viewport%20%3D%20new%20Qt%3B%20const%20C%20%3D%20%5Bb%2C%20E%5D%2C%20L%20%3D%20new%20Fs%3B%20L.layers.enable(1)%2C%20L.layers.enable(2)%3B%20let%20R%20%3D%20null%2C%20P%20%3D%20null%3B%20function%20I(t)%20%7B%20const%20e%20%3D%20v.indexOf(t.inputSource)%3B%20if%20(-1%20%3D%3D%3D%20e)%20return%3B%20const%20i%20%3D%20g%5Be%5D%3B%20void%200%20!%3D%3D%20i%20%26%26%20i.dispatchEvent(%7B%20type%3A%20t.type%2C%20data%3A%20t.inputSource%20%7D)%20%7D%20function%20D()%20%7B%20n.removeEventListener(%22select%22%2C%20I)%2C%20n.removeEventListener(%22selectstart%22%2C%20I)%2C%20n.removeEventListener(%22selectend%22%2C%20I)%2C%20n.removeEventListener(%22squeeze%22%2C%20I)%2C%20n.removeEventListener(%22squeezestart%22%2C%20I)%2C%20n.removeEventListener(%22squeezeend%22%2C%20I)%2C%20n.removeEventListener(%22end%22%2C%20D)%2C%20n.removeEventListener(%22inputsourceschange%22%2C%20N)%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20g.length%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20v%5Bt%5D%3B%20null%20!%3D%3D%20e%20%26%26%20(v%5Bt%5D%20%3D%20null%2C%20g%5Bt%5D.disconnect(e))%20%7D%20R%20%3D%20null%2C%20P%20%3D%20null%2C%20t.setRenderTarget(m)%2C%20u%20%3D%20null%2C%20h%20%3D%20null%2C%20c%20%3D%20null%2C%20n%20%3D%20null%2C%20f%20%3D%20null%2C%20F.stop()%2C%20i.isPresenting%20%3D%20!1%2C%20i.dispatchEvent(%7B%20type%3A%20%22sessionend%22%20%7D)%20%7D%20function%20N(t)%20%7B%20for%20(let%20e%20%3D%200%3B%20e%20%3C%20t.removed.length%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20t.removed%5Be%5D%2C%20n%20%3D%20v.indexOf(i)%3B%20n%20%3E%3D%200%20%26%26%20(v%5Bn%5D%20%3D%20null%2C%20g%5Bn%5D.disconnect(i))%20%7D%20for%20(let%20e%20%3D%200%3B%20e%20%3C%20t.added.length%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20t.added%5Be%5D%3B%20let%20n%20%3D%20v.indexOf(i)%3B%20if%20(-1%20%3D%3D%3D%20n)%20%7B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20g.length%3B%20t%2B%2B)%20%7B%20if%20(t%20%3E%3D%20v.length)%20%7B%20v.push(i)%2C%20n%20%3D%20t%3B%20break%20%7D%20if%20(null%20%3D%3D%3D%20v%5Bt%5D)%20%7B%20v%5Bt%5D%20%3D%20i%2C%20n%20%3D%20t%3B%20break%20%7D%20%7D%20if%20(-1%20%3D%3D%3D%20n)%20break%20%7D%20const%20r%20%3D%20g%5Bn%5D%3B%20r%20%26%26%20r.connect(i)%20%7D%20%7D%20this.cameraAutoUpdate%20%3D%20!0%2C%20this.enabled%20%3D%20!1%2C%20this.isPresenting%20%3D%20!1%2C%20this.getController%20%3D%20function%20(t)%20%7B%20let%20e%20%3D%20g%5Bt%5D%3B%20return%20void%200%20%3D%3D%3D%20e%20%26%26%20(e%20%3D%20new%20Vs%2C%20g%5Bt%5D%20%3D%20e)%2C%20e.getTargetRaySpace()%20%7D%2C%20this.getControllerGrip%20%3D%20function%20(t)%20%7B%20let%20e%20%3D%20g%5Bt%5D%3B%20return%20void%200%20%3D%3D%3D%20e%20%26%26%20(e%20%3D%20new%20Vs%2C%20g%5Bt%5D%20%3D%20e)%2C%20e.getGripSpace()%20%7D%2C%20this.getHand%20%3D%20function%20(t)%20%7B%20let%20e%20%3D%20g%5Bt%5D%3B%20return%20void%200%20%3D%3D%3D%20e%20%26%26%20(e%20%3D%20new%20Vs%2C%20g%5Bt%5D%20%3D%20e)%2C%20e.getHandSpace()%20%7D%2C%20this.setFramebufferScaleFactor%20%3D%20function%20(t)%20%7B%20r%20%3D%20t%2C%20!0%20%3D%3D%3D%20i.isPresenting%20%26%26%20console.warn(%22THREE.WebXRManager%3A%20Cannot%20change%20framebuffer%20scale%20while%20presenting.%22)%20%7D%2C%20this.setReferenceSpaceType%20%3D%20function%20(t)%20%7B%20a%20%3D%20t%2C%20!0%20%3D%3D%3D%20i.isPresenting%20%26%26%20console.warn(%22THREE.WebXRManager%3A%20Cannot%20change%20reference%20space%20type%20while%20presenting.%22)%20%7D%2C%20this.getReferenceSpace%20%3D%20function%20()%20%7B%20return%20o%20%7C%7C%20s%20%7D%2C%20this.setReferenceSpace%20%3D%20function%20(t)%20%7B%20o%20%3D%20t%20%7D%2C%20this.getBaseLayer%20%3D%20function%20()%20%7B%20return%20null%20!%3D%3D%20h%20%3F%20h%20%3A%20u%20%7D%2C%20this.getBinding%20%3D%20function%20()%20%7B%20return%20c%20%7D%2C%20this.getFrame%20%3D%20function%20()%20%7B%20return%20d%20%7D%2C%20this.getSession%20%3D%20function%20()%20%7B%20return%20n%20%7D%2C%20this.setSession%20%3D%20async%20function%20(l)%20%7B%20if%20(n%20%3D%20l%2C%20null%20!%3D%3D%20n)%20%7B%20if%20(m%20%3D%20t.getRenderTarget()%2C%20n.addEventListener(%22select%22%2C%20I)%2C%20n.addEventListener(%22selectstart%22%2C%20I)%2C%20n.addEventListener(%22selectend%22%2C%20I)%2C%20n.addEventListener(%22squeeze%22%2C%20I)%2C%20n.addEventListener(%22squeezestart%22%2C%20I)%2C%20n.addEventListener(%22squeezeend%22%2C%20I)%2C%20n.addEventListener(%22end%22%2C%20D)%2C%20n.addEventListener(%22inputsourceschange%22%2C%20N)%2C%20!0%20!%3D%3D%20p.xrCompatible%20%26%26%20await%20e.makeXRCompatible()%2C%20void%200%20%3D%3D%3D%20n.renderState.layers%20%7C%7C%20!1%20%3D%3D%3D%20t.capabilities.isWebGL2)%20%7B%20const%20i%20%3D%20%7B%20antialias%3A%20void%200%20!%3D%3D%20n.renderState.layers%20%7C%7C%20p.antialias%2C%20alpha%3A%20p.alpha%2C%20depth%3A%20p.depth%2C%20stencil%3A%20p.stencil%2C%20framebufferScaleFactor%3A%20r%20%7D%3B%20u%20%3D%20new%20XRWebGLLayer(n%2C%20e%2C%20i)%2C%20n.updateRenderState(%7B%20baseLayer%3A%20u%20%7D)%2C%20f%20%3D%20new%20te(u.framebufferWidth%2C%20u.framebufferHeight%2C%20%7B%20format%3A%20w%2C%20type%3A%20x%2C%20encoding%3A%20t.outputEncoding%2C%20stencilBuffer%3A%20p.stencil%20%7D)%20%7D%20else%20%7B%20let%20i%20%3D%20null%2C%20s%20%3D%20null%2C%20a%20%3D%20null%3B%20p.depth%20%26%26%20(a%20%3D%20p.stencil%20%3F%2035056%20%3A%2033190%2C%20i%20%3D%20p.stencil%20%3F%20A%20%3A%20T%2C%20s%20%3D%20p.stencil%20%3F%20S%20%3A%20y)%3B%20const%20o%20%3D%20%7B%20colorFormat%3A%2032856%2C%20depthFormat%3A%20a%2C%20scaleFactor%3A%20r%20%7D%3B%20c%20%3D%20new%20XRWebGLBinding(n%2C%20e)%2C%20h%20%3D%20c.createProjectionLayer(o)%2C%20n.updateRenderState(%7B%20layers%3A%20%5Bh%5D%20%7D)%2C%20f%20%3D%20new%20te(h.textureWidth%2C%20h.textureHeight%2C%20%7B%20format%3A%20w%2C%20type%3A%20x%2C%20depthTexture%3A%20new%20Hs(h.textureWidth%2C%20h.textureHeight%2C%20s%2C%20void%200%2C%20void%200%2C%20void%200%2C%20void%200%2C%20void%200%2C%20void%200%2C%20i)%2C%20stencilBuffer%3A%20p.stencil%2C%20encoding%3A%20t.outputEncoding%2C%20samples%3A%20p.antialias%20%3F%204%20%3A%200%20%7D)%3B%20t.properties.get(f).__ignoreDepthValues%20%3D%20h.ignoreDepthValues%20%7D%20f.isXRRenderTarget%20%3D%20!0%2C%20this.setFoveation(1)%2C%20o%20%3D%20null%2C%20s%20%3D%20await%20n.requestReferenceSpace(a)%2C%20F.setContext(n)%2C%20F.start()%2C%20i.isPresenting%20%3D%20!0%2C%20i.dispatchEvent(%7B%20type%3A%20%22sessionstart%22%20%7D)%20%7D%20%7D%3B%20const%20O%20%3D%20new%20re%2C%20z%20%3D%20new%20re%3B%20function%20U(t%2C%20e)%20%7B%20null%20%3D%3D%3D%20e%20%3F%20t.matrixWorld.copy(t.matrix)%20%3A%20t.matrixWorld.multiplyMatrices(e.matrixWorld%2C%20t.matrix)%2C%20t.matrixWorldInverse.copy(t.matrixWorld).invert()%20%7D%20this.updateCamera%20%3D%20function%20(t)%20%7B%20if%20(null%20%3D%3D%3D%20n)%20return%3B%20L.near%20%3D%20E.near%20%3D%20b.near%20%3D%20t.near%2C%20L.far%20%3D%20E.far%20%3D%20b.far%20%3D%20t.far%2C%20R%20%3D%3D%3D%20L.near%20%26%26%20P%20%3D%3D%3D%20L.far%20%7C%7C%20(n.updateRenderState(%7B%20depthNear%3A%20L.near%2C%20depthFar%3A%20L.far%20%7D)%2C%20R%20%3D%20L.near%2C%20P%20%3D%20L.far)%3B%20const%20e%20%3D%20t.parent%2C%20i%20%3D%20L.cameras%3B%20U(L%2C%20e)%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20i.length%3B%20t%2B%2B)U(i%5Bt%5D%2C%20e)%3B%20L.matrixWorld.decompose(L.position%2C%20L.quaternion%2C%20L.scale)%2C%20t.matrix.copy(L.matrix)%2C%20t.matrix.decompose(t.position%2C%20t.quaternion%2C%20t.scale)%3B%20const%20r%20%3D%20t.children%3B%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20r.length%3B%20t%20%3C%20e%3B%20t%2B%2B)r%5Bt%5D.updateMatrixWorld(!0)%3B%202%20%3D%3D%3D%20i.length%20%3F%20function%20(t%2C%20e%2C%20i)%20%7B%20O.setFromMatrixPosition(e.matrixWorld)%2C%20z.setFromMatrixPosition(i.matrixWorld)%3B%20const%20n%20%3D%20O.distanceTo(z)%2C%20r%20%3D%20e.projectionMatrix.elements%2C%20s%20%3D%20i.projectionMatrix.elements%2C%20a%20%3D%20r%5B14%5D%20%2F%20(r%5B10%5D%20-%201)%2C%20o%20%3D%20r%5B14%5D%20%2F%20(r%5B10%5D%20%2B%201)%2C%20l%20%3D%20(r%5B9%5D%20%2B%201)%20%2F%20r%5B5%5D%2C%20c%20%3D%20(r%5B9%5D%20-%201)%20%2F%20r%5B5%5D%2C%20h%20%3D%20(r%5B8%5D%20-%201)%20%2F%20r%5B0%5D%2C%20u%20%3D%20(s%5B8%5D%20%2B%201)%20%2F%20s%5B0%5D%2C%20d%20%3D%20a%20*%20h%2C%20p%20%3D%20a%20*%20u%2C%20m%20%3D%20n%20%2F%20(-h%20%2B%20u)%2C%20f%20%3D%20m%20*%20-h%3B%20e.matrixWorld.decompose(t.position%2C%20t.quaternion%2C%20t.scale)%2C%20t.translateX(f)%2C%20t.translateZ(m)%2C%20t.matrixWorld.compose(t.position%2C%20t.quaternion%2C%20t.scale)%2C%20t.matrixWorldInverse.copy(t.matrixWorld).invert()%3B%20const%20g%20%3D%20a%20%2B%20m%2C%20v%20%3D%20o%20%2B%20m%2C%20x%20%3D%20d%20-%20f%2C%20_%20%3D%20p%20%2B%20(n%20-%20f)%2C%20y%20%3D%20l%20*%20o%20%2F%20v%20*%20g%2C%20M%20%3D%20c%20*%20o%20%2F%20v%20*%20g%3B%20t.projectionMatrix.makePerspective(x%2C%20_%2C%20y%2C%20M%2C%20g%2C%20v)%20%7D(L%2C%20b%2C%20E)%20%3A%20L.projectionMatrix.copy(b.projectionMatrix)%20%7D%2C%20this.getCamera%20%3D%20function%20()%20%7B%20return%20L%20%7D%2C%20this.getFoveation%20%3D%20function%20()%20%7B%20return%20null%20!%3D%3D%20h%20%3F%20h.fixedFoveation%20%3A%20null%20!%3D%3D%20u%20%3F%20u.fixedFoveation%20%3A%20void%200%20%7D%2C%20this.setFoveation%20%3D%20function%20(t)%20%7B%20null%20!%3D%3D%20h%20%26%26%20(h.fixedFoveation%20%3D%20t)%2C%20null%20!%3D%3D%20u%20%26%26%20void%200%20!%3D%3D%20u.fixedFoveation%20%26%26%20(u.fixedFoveation%20%3D%20t)%20%7D%2C%20this.getPlanes%20%3D%20function%20()%20%7B%20return%20_%20%7D%3B%20let%20B%20%3D%20null%3B%20const%20F%20%3D%20new%20fn%3B%20F.setAnimationLoop((function%20(e%2C%20n)%20%7B%20if%20(l%20%3D%20n.getViewerPose(o%20%7C%7C%20s)%2C%20d%20%3D%20n%2C%20null%20!%3D%3D%20l)%20%7B%20const%20e%20%3D%20l.views%3B%20null%20!%3D%3D%20u%20%26%26%20(t.setRenderTargetFramebuffer(f%2C%20u.framebuffer)%2C%20t.setRenderTarget(f))%3B%20let%20i%20%3D%20!1%3B%20e.length%20!%3D%3D%20L.cameras.length%20%26%26%20(L.cameras.length%20%3D%200%2C%20i%20%3D%20!0)%3B%20for%20(let%20n%20%3D%200%3B%20n%20%3C%20e.length%3B%20n%2B%2B)%20%7B%20const%20r%20%3D%20e%5Bn%5D%3B%20let%20s%20%3D%20null%3B%20if%20(null%20!%3D%3D%20u)%20s%20%3D%20u.getViewport(r)%3B%20else%20%7B%20const%20e%20%3D%20c.getViewSubImage(h%2C%20r)%3B%20s%20%3D%20e.viewport%2C%200%20%3D%3D%3D%20n%20%26%26%20(t.setRenderTargetTextures(f%2C%20e.colorTexture%2C%20h.ignoreDepthValues%20%3F%20void%200%20%3A%20e.depthStencilTexture)%2C%20t.setRenderTarget(f))%20%7D%20let%20a%20%3D%20C%5Bn%5D%3B%20void%200%20%3D%3D%3D%20a%20%26%26%20(a%20%3D%20new%20nn%2C%20a.layers.enable(n)%2C%20a.viewport%20%3D%20new%20Qt%2C%20C%5Bn%5D%20%3D%20a)%2C%20a.matrix.fromArray(r.transform.matrix)%2C%20a.projectionMatrix.fromArray(r.projectionMatrix)%2C%20a.viewport.set(s.x%2C%20s.y%2C%20s.width%2C%20s.height)%2C%200%20%3D%3D%3D%20n%20%26%26%20L.matrix.copy(a.matrix)%2C%20!0%20%3D%3D%3D%20i%20%26%26%20L.cameras.push(a)%20%7D%20%7D%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20g.length%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20v%5Bt%5D%2C%20i%20%3D%20g%5Bt%5D%3B%20null%20!%3D%3D%20e%20%26%26%20void%200%20!%3D%3D%20i%20%26%26%20i.update(e%2C%20n%2C%20o%20%7C%7C%20s)%20%7D%20if%20(B%20%26%26%20B(e%2C%20n)%2C%20n.detectedPlanes)%20%7B%20i.dispatchEvent(%7B%20type%3A%20%22planesdetected%22%2C%20data%3A%20n.detectedPlanes%20%7D)%3B%20let%20t%20%3D%20null%3B%20for%20(const%20e%20of%20_)%20n.detectedPlanes.has(e)%20%7C%7C%20(null%20%3D%3D%3D%20t%20%26%26%20(t%20%3D%20%5B%5D)%2C%20t.push(e))%3B%20if%20(null%20!%3D%3D%20t)%20for%20(const%20e%20of%20t)%20_.delete(e)%2C%20M.delete(e)%2C%20i.dispatchEvent(%7B%20type%3A%20%22planeremoved%22%2C%20data%3A%20e%20%7D)%3B%20for%20(const%20t%20of%20n.detectedPlanes)%20if%20(_.has(t))%20%7B%20const%20e%20%3D%20M.get(t)%3B%20t.lastChangedTime%20%3E%20e%20%26%26%20(M.set(t%2C%20t.lastChangedTime)%2C%20i.dispatchEvent(%7B%20type%3A%20%22planechanged%22%2C%20data%3A%20t%20%7D))%20%7D%20else%20_.add(t)%2C%20M.set(t%2C%20n.lastChangedTime)%2C%20i.dispatchEvent(%7B%20type%3A%20%22planeadded%22%2C%20data%3A%20t%20%7D)%20%7D%20d%20%3D%20null%20%7D))%2C%20this.setAnimationLoop%20%3D%20function%20(t)%20%7B%20B%20%3D%20t%20%7D%2C%20this.dispose%20%3D%20function%20()%20%7B%20%7D%20%7D%20%7D%20function%20js(t%2C%20e)%20%7B%20function%20i(i%2C%20n)%20%7B%20i.opacity.value%20%3D%20n.opacity%2C%20n.color%20%26%26%20i.diffuse.value.copy(n.color)%2C%20n.emissive%20%26%26%20i.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity)%2C%20n.map%20%26%26%20(i.map.value%20%3D%20n.map)%2C%20n.alphaMap%20%26%26%20(i.alphaMap.value%20%3D%20n.alphaMap)%2C%20n.bumpMap%20%26%26%20(i.bumpMap.value%20%3D%20n.bumpMap%2C%20i.bumpScale.value%20%3D%20n.bumpScale%2C%201%20%3D%3D%3D%20n.side%20%26%26%20(i.bumpScale.value%20*%3D%20-1))%2C%20n.displacementMap%20%26%26%20(i.displacementMap.value%20%3D%20n.displacementMap%2C%20i.displacementScale.value%20%3D%20n.displacementScale%2C%20i.displacementBias.value%20%3D%20n.displacementBias)%2C%20n.emissiveMap%20%26%26%20(i.emissiveMap.value%20%3D%20n.emissiveMap)%2C%20n.normalMap%20%26%26%20(i.normalMap.value%20%3D%20n.normalMap%2C%20i.normalScale.value.copy(n.normalScale)%2C%201%20%3D%3D%3D%20n.side%20%26%26%20i.normalScale.value.negate())%2C%20n.specularMap%20%26%26%20(i.specularMap.value%20%3D%20n.specularMap)%2C%20n.alphaTest%20%3E%200%20%26%26%20(i.alphaTest.value%20%3D%20n.alphaTest)%3B%20const%20r%20%3D%20e.get(n).envMap%3B%20if%20(r%20%26%26%20(i.envMap.value%20%3D%20r%2C%20i.flipEnvMap.value%20%3D%20r.isCubeTexture%20%26%26%20!1%20%3D%3D%3D%20r.isRenderTargetTexture%20%3F%20-1%20%3A%201%2C%20i.reflectivity.value%20%3D%20n.reflectivity%2C%20i.ior.value%20%3D%20n.ior%2C%20i.refractionRatio.value%20%3D%20n.refractionRatio)%2C%20n.lightMap)%20%7B%20i.lightMap.value%20%3D%20n.lightMap%3B%20const%20e%20%3D%20!0%20!%3D%3D%20t.physicallyCorrectLights%20%3F%20Math.PI%20%3A%201%3B%20i.lightMapIntensity.value%20%3D%20n.lightMapIntensity%20*%20e%20%7D%20let%20s%2C%20a%3B%20n.aoMap%20%26%26%20(i.aoMap.value%20%3D%20n.aoMap%2C%20i.aoMapIntensity.value%20%3D%20n.aoMapIntensity)%2C%20n.map%20%3F%20s%20%3D%20n.map%20%3A%20n.specularMap%20%3F%20s%20%3D%20n.specularMap%20%3A%20n.displacementMap%20%3F%20s%20%3D%20n.displacementMap%20%3A%20n.normalMap%20%3F%20s%20%3D%20n.normalMap%20%3A%20n.bumpMap%20%3F%20s%20%3D%20n.bumpMap%20%3A%20n.roughnessMap%20%3F%20s%20%3D%20n.roughnessMap%20%3A%20n.metalnessMap%20%3F%20s%20%3D%20n.metalnessMap%20%3A%20n.alphaMap%20%3F%20s%20%3D%20n.alphaMap%20%3A%20n.emissiveMap%20%3F%20s%20%3D%20n.emissiveMap%20%3A%20n.clearcoatMap%20%3F%20s%20%3D%20n.clearcoatMap%20%3A%20n.clearcoatNormalMap%20%3F%20s%20%3D%20n.clearcoatNormalMap%20%3A%20n.clearcoatRoughnessMap%20%3F%20s%20%3D%20n.clearcoatRoughnessMap%20%3A%20n.iridescenceMap%20%3F%20s%20%3D%20n.iridescenceMap%20%3A%20n.iridescenceThicknessMap%20%3F%20s%20%3D%20n.iridescenceThicknessMap%20%3A%20n.specularIntensityMap%20%3F%20s%20%3D%20n.specularIntensityMap%20%3A%20n.specularColorMap%20%3F%20s%20%3D%20n.specularColorMap%20%3A%20n.transmissionMap%20%3F%20s%20%3D%20n.transmissionMap%20%3A%20n.thicknessMap%20%3F%20s%20%3D%20n.thicknessMap%20%3A%20n.sheenColorMap%20%3F%20s%20%3D%20n.sheenColorMap%20%3A%20n.sheenRoughnessMap%20%26%26%20(s%20%3D%20n.sheenRoughnessMap)%2C%20void%200%20!%3D%3D%20s%20%26%26%20(s.isWebGLRenderTarget%20%26%26%20(s%20%3D%20s.texture)%2C%20!0%20%3D%3D%3D%20s.matrixAutoUpdate%20%26%26%20s.updateMatrix()%2C%20i.uvTransform.value.copy(s.matrix))%2C%20n.aoMap%20%3F%20a%20%3D%20n.aoMap%20%3A%20n.lightMap%20%26%26%20(a%20%3D%20n.lightMap)%2C%20void%200%20!%3D%3D%20a%20%26%26%20(a.isWebGLRenderTarget%20%26%26%20(a%20%3D%20a.texture)%2C%20!0%20%3D%3D%3D%20a.matrixAutoUpdate%20%26%26%20a.updateMatrix()%2C%20i.uv2Transform.value.copy(a.matrix))%20%7D%20return%20%7B%20refreshFogUniforms%3A%20function%20(e%2C%20i)%20%7B%20i.color.getRGB(e.fogColor.value%2C%20%24i(t))%2C%20i.isFog%20%3F%20(e.fogNear.value%20%3D%20i.near%2C%20e.fogFar.value%20%3D%20i.far)%20%3A%20i.isFogExp2%20%26%26%20(e.fogDensity.value%20%3D%20i.density)%20%7D%2C%20refreshMaterialUniforms%3A%20function%20(t%2C%20n%2C%20r%2C%20s%2C%20a)%20%7B%20n.isMeshBasicMaterial%20%7C%7C%20n.isMeshLambertMaterial%20%3F%20i(t%2C%20n)%20%3A%20n.isMeshToonMaterial%20%3F%20(i(t%2C%20n)%2C%20function%20(t%2C%20e)%20%7B%20e.gradientMap%20%26%26%20(t.gradientMap.value%20%3D%20e.gradientMap)%20%7D(t%2C%20n))%20%3A%20n.isMeshPhongMaterial%20%3F%20(i(t%2C%20n)%2C%20function%20(t%2C%20e)%20%7B%20t.specular.value.copy(e.specular)%2C%20t.shininess.value%20%3D%20Math.max(e.shininess%2C%201e-4)%20%7D(t%2C%20n))%20%3A%20n.isMeshStandardMaterial%20%3F%20(i(t%2C%20n)%2C%20function%20(t%2C%20i)%20%7B%20t.roughness.value%20%3D%20i.roughness%2C%20t.metalness.value%20%3D%20i.metalness%2C%20i.roughnessMap%20%26%26%20(t.roughnessMap.value%20%3D%20i.roughnessMap)%3B%20i.metalnessMap%20%26%26%20(t.metalnessMap.value%20%3D%20i.metalnessMap)%3B%20const%20n%20%3D%20e.get(i).envMap%3B%20n%20%26%26%20(t.envMapIntensity.value%20%3D%20i.envMapIntensity)%20%7D(t%2C%20n)%2C%20n.isMeshPhysicalMaterial%20%26%26%20function%20(t%2C%20e%2C%20i)%20%7B%20t.ior.value%20%3D%20e.ior%2C%20e.sheen%20%3E%200%20%26%26%20(t.sheenColor.value.copy(e.sheenColor).multiplyScalar(e.sheen)%2C%20t.sheenRoughness.value%20%3D%20e.sheenRoughness%2C%20e.sheenColorMap%20%26%26%20(t.sheenColorMap.value%20%3D%20e.sheenColorMap)%2C%20e.sheenRoughnessMap%20%26%26%20(t.sheenRoughnessMap.value%20%3D%20e.sheenRoughnessMap))%3B%20e.clearcoat%20%3E%200%20%26%26%20(t.clearcoat.value%20%3D%20e.clearcoat%2C%20t.clearcoatRoughness.value%20%3D%20e.clearcoatRoughness%2C%20e.clearcoatMap%20%26%26%20(t.clearcoatMap.value%20%3D%20e.clearcoatMap)%2C%20e.clearcoatRoughnessMap%20%26%26%20(t.clearcoatRoughnessMap.value%20%3D%20e.clearcoatRoughnessMap)%2C%20e.clearcoatNormalMap%20%26%26%20(t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale)%2C%20t.clearcoatNormalMap.value%20%3D%20e.clearcoatNormalMap%2C%201%20%3D%3D%3D%20e.side%20%26%26%20t.clearcoatNormalScale.value.negate()))%3B%20e.iridescence%20%3E%200%20%26%26%20(t.iridescence.value%20%3D%20e.iridescence%2C%20t.iridescenceIOR.value%20%3D%20e.iridescenceIOR%2C%20t.iridescenceThicknessMinimum.value%20%3D%20e.iridescenceThicknessRange%5B0%5D%2C%20t.iridescenceThicknessMaximum.value%20%3D%20e.iridescenceThicknessRange%5B1%5D%2C%20e.iridescenceMap%20%26%26%20(t.iridescenceMap.value%20%3D%20e.iridescenceMap)%2C%20e.iridescenceThicknessMap%20%26%26%20(t.iridescenceThicknessMap.value%20%3D%20e.iridescenceThicknessMap))%3B%20e.transmission%20%3E%200%20%26%26%20(t.transmission.value%20%3D%20e.transmission%2C%20t.transmissionSamplerMap.value%20%3D%20i.texture%2C%20t.transmissionSamplerSize.value.set(i.width%2C%20i.height)%2C%20e.transmissionMap%20%26%26%20(t.transmissionMap.value%20%3D%20e.transmissionMap)%2C%20t.thickness.value%20%3D%20e.thickness%2C%20e.thicknessMap%20%26%26%20(t.thicknessMap.value%20%3D%20e.thicknessMap)%2C%20t.attenuationDistance.value%20%3D%20e.attenuationDistance%2C%20t.attenuationColor.value.copy(e.attenuationColor))%3B%20t.specularIntensity.value%20%3D%20e.specularIntensity%2C%20t.specularColor.value.copy(e.specularColor)%2C%20e.specularIntensityMap%20%26%26%20(t.specularIntensityMap.value%20%3D%20e.specularIntensityMap)%3B%20e.specularColorMap%20%26%26%20(t.specularColorMap.value%20%3D%20e.specularColorMap)%20%7D(t%2C%20n%2C%20a))%20%3A%20n.isMeshMatcapMaterial%20%3F%20(i(t%2C%20n)%2C%20function%20(t%2C%20e)%20%7B%20e.matcap%20%26%26%20(t.matcap.value%20%3D%20e.matcap)%20%7D(t%2C%20n))%20%3A%20n.isMeshDepthMaterial%20%3F%20i(t%2C%20n)%20%3A%20n.isMeshDistanceMaterial%20%3F%20(i(t%2C%20n)%2C%20function%20(t%2C%20e)%20%7B%20t.referencePosition.value.copy(e.referencePosition)%2C%20t.nearDistance.value%20%3D%20e.nearDistance%2C%20t.farDistance.value%20%3D%20e.farDistance%20%7D(t%2C%20n))%20%3A%20n.isMeshNormalMaterial%20%3F%20i(t%2C%20n)%20%3A%20n.isLineBasicMaterial%20%3F%20(function%20(t%2C%20e)%20%7B%20t.diffuse.value.copy(e.color)%2C%20t.opacity.value%20%3D%20e.opacity%20%7D(t%2C%20n)%2C%20n.isLineDashedMaterial%20%26%26%20function%20(t%2C%20e)%20%7B%20t.dashSize.value%20%3D%20e.dashSize%2C%20t.totalSize.value%20%3D%20e.dashSize%20%2B%20e.gapSize%2C%20t.scale.value%20%3D%20e.scale%20%7D(t%2C%20n))%20%3A%20n.isPointsMaterial%20%3F%20function%20(t%2C%20e%2C%20i%2C%20n)%20%7B%20t.diffuse.value.copy(e.color)%2C%20t.opacity.value%20%3D%20e.opacity%2C%20t.size.value%20%3D%20e.size%20*%20i%2C%20t.scale.value%20%3D%20.5%20*%20n%2C%20e.map%20%26%26%20(t.map.value%20%3D%20e.map)%3B%20e.alphaMap%20%26%26%20(t.alphaMap.value%20%3D%20e.alphaMap)%3B%20e.alphaTest%20%3E%200%20%26%26%20(t.alphaTest.value%20%3D%20e.alphaTest)%3B%20let%20r%3B%20e.map%20%3F%20r%20%3D%20e.map%20%3A%20e.alphaMap%20%26%26%20(r%20%3D%20e.alphaMap)%3B%20void%200%20!%3D%3D%20r%20%26%26%20(!0%20%3D%3D%3D%20r.matrixAutoUpdate%20%26%26%20r.updateMatrix()%2C%20t.uvTransform.value.copy(r.matrix))%20%7D(t%2C%20n%2C%20r%2C%20s)%20%3A%20n.isSpriteMaterial%20%3F%20function%20(t%2C%20e)%20%7B%20t.diffuse.value.copy(e.color)%2C%20t.opacity.value%20%3D%20e.opacity%2C%20t.rotation.value%20%3D%20e.rotation%2C%20e.map%20%26%26%20(t.map.value%20%3D%20e.map)%3B%20e.alphaMap%20%26%26%20(t.alphaMap.value%20%3D%20e.alphaMap)%3B%20e.alphaTest%20%3E%200%20%26%26%20(t.alphaTest.value%20%3D%20e.alphaTest)%3B%20let%20i%3B%20e.map%20%3F%20i%20%3D%20e.map%20%3A%20e.alphaMap%20%26%26%20(i%20%3D%20e.alphaMap)%3B%20void%200%20!%3D%3D%20i%20%26%26%20(!0%20%3D%3D%3D%20i.matrixAutoUpdate%20%26%26%20i.updateMatrix()%2C%20t.uvTransform.value.copy(i.matrix))%20%7D(t%2C%20n)%20%3A%20n.isShadowMaterial%20%3F%20(t.color.value.copy(n.color)%2C%20t.opacity.value%20%3D%20n.opacity)%20%3A%20n.isShaderMaterial%20%26%26%20(n.uniformsNeedUpdate%20%3D%20!1)%20%7D%20%7D%20%7D%20function%20qs(t%2C%20e%2C%20i%2C%20n)%20%7B%20let%20r%20%3D%20%7B%7D%2C%20s%20%3D%20%7B%7D%2C%20a%20%3D%20%5B%5D%3B%20const%20o%20%3D%20i.isWebGL2%20%3F%20t.getParameter(35375)%20%3A%200%3B%20function%20l(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20t.value%3B%20if%20(void%200%20%3D%3D%3D%20i%5Be%5D)%20%7B%20if%20(%22number%22%20%3D%3D%20typeof%20n)%20i%5Be%5D%20%3D%20n%3B%20else%20%7B%20const%20t%20%3D%20Array.isArray(n)%20%3F%20n%20%3A%20%5Bn%5D%2C%20r%20%3D%20%5B%5D%3B%20for%20(let%20e%20%3D%200%3B%20e%20%3C%20t.length%3B%20e%2B%2B)r.push(t%5Be%5D.clone())%3B%20i%5Be%5D%20%3D%20r%20%7D%20return%20!0%20%7D%20if%20(%22number%22%20%3D%3D%20typeof%20n)%20%7B%20if%20(i%5Be%5D%20!%3D%3D%20n)%20return%20i%5Be%5D%20%3D%20n%2C%20!0%20%7D%20else%20%7B%20const%20t%20%3D%20Array.isArray(i%5Be%5D)%20%3F%20i%5Be%5D%20%3A%20%5Bi%5Be%5D%5D%2C%20r%20%3D%20Array.isArray(n)%20%3F%20n%20%3A%20%5Bn%5D%3B%20for%20(let%20e%20%3D%200%3B%20e%20%3C%20t.length%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20t%5Be%5D%3B%20if%20(!1%20%3D%3D%3D%20i.equals(r%5Be%5D))%20return%20i.copy(r%5Be%5D)%2C%20!0%20%7D%20%7D%20return%20!1%20%7D%20function%20c(t)%20%7B%20const%20e%20%3D%20%7B%20boundary%3A%200%2C%20storage%3A%200%20%7D%3B%20return%20%22number%22%20%3D%3D%20typeof%20t%20%3F%20(e.boundary%20%3D%204%2C%20e.storage%20%3D%204)%20%3A%20t.isVector2%20%3F%20(e.boundary%20%3D%208%2C%20e.storage%20%3D%208)%20%3A%20t.isVector3%20%7C%7C%20t.isColor%20%3F%20(e.boundary%20%3D%2016%2C%20e.storage%20%3D%2012)%20%3A%20t.isVector4%20%3F%20(e.boundary%20%3D%2016%2C%20e.storage%20%3D%2016)%20%3A%20t.isMatrix3%20%3F%20(e.boundary%20%3D%2048%2C%20e.storage%20%3D%2048)%20%3A%20t.isMatrix4%20%3F%20(e.boundary%20%3D%2064%2C%20e.storage%20%3D%2064)%20%3A%20t.isTexture%20%3F%20console.warn(%22THREE.WebGLRenderer%3A%20Texture%20samplers%20can%20not%20be%20part%20of%20an%20uniforms%20group.%22)%20%3A%20console.warn(%22THREE.WebGLRenderer%3A%20Unsupported%20uniform%20value%20type.%22%2C%20t)%2C%20e%20%7D%20function%20h(e)%20%7B%20const%20i%20%3D%20e.target%3B%20i.removeEventListener(%22dispose%22%2C%20h)%3B%20const%20n%20%3D%20a.indexOf(i.__bindingPointIndex)%3B%20a.splice(n%2C%201)%2C%20t.deleteBuffer(r%5Bi.id%5D)%2C%20delete%20r%5Bi.id%5D%2C%20delete%20s%5Bi.id%5D%20%7D%20return%20%7B%20bind%3A%20function%20(t%2C%20e)%20%7B%20const%20i%20%3D%20e.program%3B%20n.uniformBlockBinding(t%2C%20i)%20%7D%2C%20update%3A%20function%20(i%2C%20u)%20%7B%20let%20d%20%3D%20r%5Bi.id%5D%3B%20void%200%20%3D%3D%3D%20d%20%26%26%20(!function%20(t)%20%7B%20const%20e%20%3D%20t.uniforms%3B%20let%20i%20%3D%200%3B%20const%20n%20%3D%2016%3B%20let%20r%20%3D%200%3B%20for%20(let%20t%20%3D%200%2C%20s%20%3D%20e.length%3B%20t%20%3C%20s%3B%20t%2B%2B)%20%7B%20const%20s%20%3D%20e%5Bt%5D%2C%20a%20%3D%20%7B%20boundary%3A%200%2C%20storage%3A%200%20%7D%2C%20o%20%3D%20Array.isArray(s.value)%20%3F%20s.value%20%3A%20%5Bs.value%5D%3B%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20o.length%3B%20t%20%3C%20e%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20c(o%5Bt%5D)%3B%20a.boundary%20%2B%3D%20e.boundary%2C%20a.storage%20%2B%3D%20e.storage%20%7D%20if%20(s.__data%20%3D%20new%20Float32Array(a.storage%20%2F%20Float32Array.BYTES_PER_ELEMENT)%2C%20s.__offset%20%3D%20i%2C%20t%20%3E%200)%20%7B%20r%20%3D%20i%20%25%20n%3B%200%20!%3D%3D%20r%20%26%26%20n%20-%20r%20-%20a.boundary%20%3C%200%20%26%26%20(i%20%2B%3D%20n%20-%20r%2C%20s.__offset%20%3D%20i)%20%7D%20i%20%2B%3D%20a.storage%20%7D%20r%20%3D%20i%20%25%20n%2C%20r%20%3E%200%20%26%26%20(i%20%2B%3D%20n%20-%20r)%3B%20t.__size%20%3D%20i%2C%20t.__cache%20%3D%20%7B%7D%20%7D(i)%2C%20d%20%3D%20function%20(e)%20%7B%20const%20i%20%3D%20function%20()%20%7B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20o%3B%20t%2B%2B)if%20(-1%20%3D%3D%3D%20a.indexOf(t))%20return%20a.push(t)%2C%20t%3B%20return%20console.error(%22THREE.WebGLRenderer%3A%20Maximum%20number%20of%20simultaneously%20usable%20uniforms%20groups%20reached.%22)%2C%200%20%7D()%3B%20e.__bindingPointIndex%20%3D%20i%3B%20const%20n%20%3D%20t.createBuffer()%2C%20r%20%3D%20e.__size%2C%20s%20%3D%20e.usage%3B%20return%20t.bindBuffer(35345%2C%20n)%2C%20t.bufferData(35345%2C%20r%2C%20s)%2C%20t.bindBuffer(35345%2C%20null)%2C%20t.bindBufferBase(35345%2C%20i%2C%20n)%2C%20n%20%7D(i)%2C%20r%5Bi.id%5D%20%3D%20d%2C%20i.addEventListener(%22dispose%22%2C%20h))%3B%20const%20p%20%3D%20u.program%3B%20n.updateUBOMapping(i%2C%20p)%3B%20const%20m%20%3D%20e.render.frame%3B%20s%5Bi.id%5D%20!%3D%3D%20m%20%26%26%20(!function%20(e)%20%7B%20const%20i%20%3D%20r%5Be.id%5D%2C%20n%20%3D%20e.uniforms%2C%20s%20%3D%20e.__cache%3B%20t.bindBuffer(35345%2C%20i)%3B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20n.length%3B%20e%20%3C%20i%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20n%5Be%5D%3B%20if%20(!0%20%3D%3D%3D%20l(i%2C%20e%2C%20s))%20%7B%20const%20e%20%3D%20i.__offset%2C%20n%20%3D%20Array.isArray(i.value)%20%3F%20i.value%20%3A%20%5Bi.value%5D%3B%20let%20r%20%3D%200%3B%20for%20(let%20s%20%3D%200%3B%20s%20%3C%20n.length%3B%20s%2B%2B)%20%7B%20const%20a%20%3D%20n%5Bs%5D%2C%20o%20%3D%20c(a)%3B%20%22number%22%20%3D%3D%20typeof%20a%20%3F%20(i.__data%5B0%5D%20%3D%20a%2C%20t.bufferSubData(35345%2C%20e%20%2B%20r%2C%20i.__data))%20%3A%20a.isMatrix3%20%3F%20(i.__data%5B0%5D%20%3D%20a.elements%5B0%5D%2C%20i.__data%5B1%5D%20%3D%20a.elements%5B1%5D%2C%20i.__data%5B2%5D%20%3D%20a.elements%5B2%5D%2C%20i.__data%5B3%5D%20%3D%20a.elements%5B0%5D%2C%20i.__data%5B4%5D%20%3D%20a.elements%5B3%5D%2C%20i.__data%5B5%5D%20%3D%20a.elements%5B4%5D%2C%20i.__data%5B6%5D%20%3D%20a.elements%5B5%5D%2C%20i.__data%5B7%5D%20%3D%20a.elements%5B0%5D%2C%20i.__data%5B8%5D%20%3D%20a.elements%5B6%5D%2C%20i.__data%5B9%5D%20%3D%20a.elements%5B7%5D%2C%20i.__data%5B10%5D%20%3D%20a.elements%5B8%5D%2C%20i.__data%5B11%5D%20%3D%20a.elements%5B0%5D)%20%3A%20(a.toArray(i.__data%2C%20r)%2C%20r%20%2B%3D%20o.storage%20%2F%20Float32Array.BYTES_PER_ELEMENT)%20%7D%20t.bufferSubData(35345%2C%20e%2C%20i.__data)%20%7D%20%7D%20t.bindBuffer(35345%2C%20null)%20%7D(i)%2C%20s%5Bi.id%5D%20%3D%20m)%20%7D%2C%20dispose%3A%20function%20()%20%7B%20for%20(const%20e%20in%20r)%20t.deleteBuffer(r%5Be%5D)%3B%20a%20%3D%20%5B%5D%2C%20r%20%3D%20%7B%7D%2C%20s%20%3D%20%7B%7D%20%7D%20%7D%20%7D%20function%20Xs(t%20%3D%20%7B%7D)%20%7B%20this.isWebGLRenderer%20%3D%20!0%3B%20const%20i%20%3D%20void%200%20!%3D%3D%20t.canvas%20%3F%20t.canvas%20%3A%20function%20()%20%7B%20const%20t%20%3D%20Ot(%22canvas%22)%3B%20return%20t.style.display%20%3D%20%22block%22%2C%20t%20%7D()%2C%20n%20%3D%20void%200%20!%3D%3D%20t.context%20%3F%20t.context%20%3A%20null%2C%20r%20%3D%20void%200%20%3D%3D%3D%20t.depth%20%7C%7C%20t.depth%2C%20s%20%3D%20void%200%20%3D%3D%3D%20t.stencil%20%7C%7C%20t.stencil%2C%20a%20%3D%20void%200%20!%3D%3D%20t.antialias%20%26%26%20t.antialias%2C%20o%20%3D%20void%200%20%3D%3D%3D%20t.premultipliedAlpha%20%7C%7C%20t.premultipliedAlpha%2C%20l%20%3D%20void%200%20!%3D%3D%20t.preserveDrawingBuffer%20%26%26%20t.preserveDrawingBuffer%2C%20c%20%3D%20void%200%20!%3D%3D%20t.powerPreference%20%3F%20t.powerPreference%20%3A%20%22default%22%2C%20h%20%3D%20void%200%20!%3D%3D%20t.failIfMajorPerformanceCaveat%20%26%26%20t.failIfMajorPerformanceCaveat%3B%20let%20u%3B%20u%20%3D%20null%20!%3D%3D%20n%20%3F%20n.getContextAttributes().alpha%20%3A%20void%200%20!%3D%3D%20t.alpha%20%26%26%20t.alpha%3B%20let%20d%20%3D%20null%2C%20p%20%3D%20null%3B%20const%20m%20%3D%20%5B%5D%2C%20f%20%3D%20%5B%5D%3B%20this.domElement%20%3D%20i%2C%20this.debug%20%3D%20%7B%20checkShaderErrors%3A%20!0%20%7D%2C%20this.autoClear%20%3D%20!0%2C%20this.autoClearColor%20%3D%20!0%2C%20this.autoClearDepth%20%3D%20!0%2C%20this.autoClearStencil%20%3D%20!0%2C%20this.sortObjects%20%3D%20!0%2C%20this.clippingPlanes%20%3D%20%5B%5D%2C%20this.localClippingEnabled%20%3D%20!1%2C%20this.outputEncoding%20%3D%20at%2C%20this.physicallyCorrectLights%20%3D%20!1%2C%20this.toneMapping%20%3D%200%2C%20this.toneMappingExposure%20%3D%201%3B%20const%20g%20%3D%20this%3B%20let%20_%20%3D%20!1%2C%20y%20%3D%200%2C%20S%20%3D%200%2C%20T%20%3D%20null%2C%20A%20%3D%20-1%2C%20E%20%3D%20null%3B%20const%20C%20%3D%20new%20Qt%2C%20L%20%3D%20new%20Qt%3B%20let%20R%20%3D%20null%2C%20P%20%3D%20i.width%2C%20I%20%3D%20i.height%2C%20D%20%3D%201%2C%20N%20%3D%20null%2C%20O%20%3D%20null%3B%20const%20z%20%3D%20new%20Qt(0%2C%200%2C%20P%2C%20I)%2C%20U%20%3D%20new%20Qt(0%2C%200%2C%20P%2C%20I)%3B%20let%20B%20%3D%20!1%3B%20const%20F%20%3D%20new%20mn%3B%20let%20k%20%3D%20!1%2C%20G%20%3D%20!1%2C%20V%20%3D%20null%3B%20const%20H%20%3D%20new%20Ne%2C%20W%20%3D%20new%20Lt%2C%20j%20%3D%20new%20re%2C%20q%20%3D%20%7B%20background%3A%20null%2C%20fog%3A%20null%2C%20environment%3A%20null%2C%20overrideMaterial%3A%20null%2C%20isScene%3A%20!0%20%7D%3B%20function%20X()%20%7B%20return%20null%20%3D%3D%3D%20T%20%3F%20D%20%3A%201%20%7D%20let%20Y%2C%20Z%2C%20J%2C%20K%2C%20%24%2C%20Q%2C%20tt%2C%20et%2C%20it%2C%20nt%2C%20rt%2C%20st%2C%20ot%2C%20lt%2C%20ct%2C%20ht%2C%20ut%2C%20dt%2C%20pt%2C%20mt%2C%20ft%2C%20gt%2C%20vt%2C%20xt%2C%20_t%20%3D%20n%3B%20function%20yt(t%2C%20e)%20%7B%20for%20(let%20n%20%3D%200%3B%20n%20%3C%20t.length%3B%20n%2B%2B)%20%7B%20const%20r%20%3D%20t%5Bn%5D%2C%20s%20%3D%20i.getContext(r%2C%20e)%3B%20if%20(null%20!%3D%3D%20s)%20return%20s%20%7D%20return%20null%20%7D%20try%20%7B%20const%20t%20%3D%20%7B%20alpha%3A%20!0%2C%20depth%3A%20r%2C%20stencil%3A%20s%2C%20antialias%3A%20a%2C%20premultipliedAlpha%3A%20o%2C%20preserveDrawingBuffer%3A%20l%2C%20powerPreference%3A%20c%2C%20failIfMajorPerformanceCaveat%3A%20h%20%7D%3B%20if%20(%22setAttribute%22%20in%20i%20%26%26%20i.setAttribute(%22data-engine%22%2C%20%60three.js%20r%24%7Be%7D%60)%2C%20i.addEventListener(%22webglcontextlost%22%2C%20St%2C%20!1)%2C%20i.addEventListener(%22webglcontextrestored%22%2C%20wt%2C%20!1)%2C%20i.addEventListener(%22webglcontextcreationerror%22%2C%20At%2C%20!1)%2C%20null%20%3D%3D%3D%20_t)%20%7B%20const%20e%20%3D%20%5B%22webgl2%22%2C%20%22webgl%22%2C%20%22experimental-webgl%22%5D%3B%20if%20(!0%20%3D%3D%3D%20g.isWebGL1Renderer%20%26%26%20e.shift()%2C%20_t%20%3D%20yt(e%2C%20t)%2C%20null%20%3D%3D%3D%20_t)%20throw%20yt(e)%20%3F%20new%20Error(%22Error%20creating%20WebGL%20context%20with%20your%20selected%20attributes.%22)%20%3A%20new%20Error(%22Error%20creating%20WebGL%20context.%22)%20%7D%20void%200%20%3D%3D%3D%20_t.getShaderPrecisionFormat%20%26%26%20(_t.getShaderPrecisionFormat%20%3D%20function%20()%20%7B%20return%20%7B%20rangeMin%3A%201%2C%20rangeMax%3A%201%2C%20precision%3A%201%20%7D%20%7D)%20%7D%20catch%20(t)%20%7B%20throw%20console.error(%22THREE.WebGLRenderer%3A%20%22%20%2B%20t.message)%2C%20t%20%7D%20function%20Mt()%20%7B%20Y%20%3D%20new%20Wn(_t)%2C%20Z%20%3D%20new%20Tn(_t%2C%20Y%2C%20t)%2C%20Y.init(Z)%2C%20gt%20%3D%20new%20Bs(_t%2C%20Y%2C%20Z)%2C%20J%20%3D%20new%20zs(_t%2C%20Y%2C%20Z)%2C%20K%20%3D%20new%20Xn%2C%20%24%20%3D%20new%20bs%2C%20Q%20%3D%20new%20Us(_t%2C%20Y%2C%20J%2C%20%24%2C%20Z%2C%20gt%2C%20K)%2C%20tt%20%3D%20new%20En(g)%2C%20et%20%3D%20new%20Hn(g)%2C%20it%20%3D%20new%20gn(_t%2C%20Z)%2C%20vt%20%3D%20new%20Sn(_t%2C%20Y%2C%20it%2C%20Z)%2C%20nt%20%3D%20new%20jn(_t%2C%20it%2C%20K%2C%20vt)%2C%20rt%20%3D%20new%20Kn(_t%2C%20nt%2C%20it%2C%20K)%2C%20pt%20%3D%20new%20Jn(_t%2C%20Z%2C%20Q)%2C%20ht%20%3D%20new%20An(%24)%2C%20st%20%3D%20new%20Ms(g%2C%20tt%2C%20et%2C%20Y%2C%20Z%2C%20vt%2C%20ht)%2C%20ot%20%3D%20new%20js(g%2C%20%24)%2C%20lt%20%3D%20new%20As%2C%20ct%20%3D%20new%20Is(Y%2C%20Z)%2C%20dt%20%3D%20new%20bn(g%2C%20tt%2C%20et%2C%20J%2C%20rt%2C%20u%2C%20o)%2C%20ut%20%3D%20new%20Os(g%2C%20rt%2C%20Z)%2C%20xt%20%3D%20new%20qs(_t%2C%20K%2C%20Z%2C%20J)%2C%20mt%20%3D%20new%20wn(_t%2C%20Y%2C%20K%2C%20Z)%2C%20ft%20%3D%20new%20qn(_t%2C%20Y%2C%20K%2C%20Z)%2C%20K.programs%20%3D%20st.programs%2C%20g.capabilities%20%3D%20Z%2C%20g.extensions%20%3D%20Y%2C%20g.properties%20%3D%20%24%2C%20g.renderLists%20%3D%20lt%2C%20g.shadowMap%20%3D%20ut%2C%20g.state%20%3D%20J%2C%20g.info%20%3D%20K%20%7D%20Mt()%3B%20const%20bt%20%3D%20new%20Ws(g%2C%20_t)%3B%20function%20St(t)%20%7B%20t.preventDefault()%2C%20console.log(%22THREE.WebGLRenderer%3A%20Context%20Lost.%22)%2C%20_%20%3D%20!0%20%7D%20function%20wt()%20%7B%20console.log(%22THREE.WebGLRenderer%3A%20Context%20Restored.%22)%2C%20_%20%3D%20!1%3B%20const%20t%20%3D%20K.autoReset%2C%20e%20%3D%20ut.enabled%2C%20i%20%3D%20ut.autoUpdate%2C%20n%20%3D%20ut.needsUpdate%2C%20r%20%3D%20ut.type%3B%20Mt()%2C%20K.autoReset%20%3D%20t%2C%20ut.enabled%20%3D%20e%2C%20ut.autoUpdate%20%3D%20i%2C%20ut.needsUpdate%20%3D%20n%2C%20ut.type%20%3D%20r%20%7D%20function%20At(t)%20%7B%20console.error(%22THREE.WebGLRenderer%3A%20A%20WebGL%20context%20could%20not%20be%20created.%20Reason%3A%20%22%2C%20t.statusMessage)%20%7D%20function%20Et(t)%20%7B%20const%20e%20%3D%20t.target%3B%20e.removeEventListener(%22dispose%22%2C%20Et)%2C%20function%20(t)%20%7B%20(function%20(t)%20%7B%20const%20e%20%3D%20%24.get(t).programs%3B%20void%200%20!%3D%3D%20e%20%26%26%20(e.forEach((function%20(t)%20%7B%20st.releaseProgram(t)%20%7D))%2C%20t.isShaderMaterial%20%26%26%20st.releaseShaderCache(t))%20%7D)(t)%2C%20%24.remove(t)%20%7D(e)%20%7D%20this.xr%20%3D%20bt%2C%20this.getContext%20%3D%20function%20()%20%7B%20return%20_t%20%7D%2C%20this.getContextAttributes%20%3D%20function%20()%20%7B%20return%20_t.getContextAttributes()%20%7D%2C%20this.forceContextLoss%20%3D%20function%20()%20%7B%20const%20t%20%3D%20Y.get(%22WEBGL_lose_context%22)%3B%20t%20%26%26%20t.loseContext()%20%7D%2C%20this.forceContextRestore%20%3D%20function%20()%20%7B%20const%20t%20%3D%20Y.get(%22WEBGL_lose_context%22)%3B%20t%20%26%26%20t.restoreContext()%20%7D%2C%20this.getPixelRatio%20%3D%20function%20()%20%7B%20return%20D%20%7D%2C%20this.setPixelRatio%20%3D%20function%20(t)%20%7B%20void%200%20!%3D%3D%20t%20%26%26%20(D%20%3D%20t%2C%20this.setSize(P%2C%20I%2C%20!1))%20%7D%2C%20this.getSize%20%3D%20function%20(t)%20%7B%20return%20t.set(P%2C%20I)%20%7D%2C%20this.setSize%20%3D%20function%20(t%2C%20e%2C%20n)%20%7B%20bt.isPresenting%20%3F%20console.warn(%22THREE.WebGLRenderer%3A%20Can't%20change%20size%20while%20VR%20device%20is%20presenting.%22)%20%3A%20(P%20%3D%20t%2C%20I%20%3D%20e%2C%20i.width%20%3D%20Math.floor(t%20*%20D)%2C%20i.height%20%3D%20Math.floor(e%20*%20D)%2C%20!1%20!%3D%3D%20n%20%26%26%20(i.style.width%20%3D%20t%20%2B%20%22px%22%2C%20i.style.height%20%3D%20e%20%2B%20%22px%22)%2C%20this.setViewport(0%2C%200%2C%20t%2C%20e))%20%7D%2C%20this.getDrawingBufferSize%20%3D%20function%20(t)%20%7B%20return%20t.set(P%20*%20D%2C%20I%20*%20D).floor()%20%7D%2C%20this.setDrawingBufferSize%20%3D%20function%20(t%2C%20e%2C%20n)%20%7B%20P%20%3D%20t%2C%20I%20%3D%20e%2C%20D%20%3D%20n%2C%20i.width%20%3D%20Math.floor(t%20*%20n)%2C%20i.height%20%3D%20Math.floor(e%20*%20n)%2C%20this.setViewport(0%2C%200%2C%20t%2C%20e)%20%7D%2C%20this.getCurrentViewport%20%3D%20function%20(t)%20%7B%20return%20t.copy(C)%20%7D%2C%20this.getViewport%20%3D%20function%20(t)%20%7B%20return%20t.copy(z)%20%7D%2C%20this.setViewport%20%3D%20function%20(t%2C%20e%2C%20i%2C%20n)%20%7B%20t.isVector4%20%3F%20z.set(t.x%2C%20t.y%2C%20t.z%2C%20t.w)%20%3A%20z.set(t%2C%20e%2C%20i%2C%20n)%2C%20J.viewport(C.copy(z).multiplyScalar(D).floor())%20%7D%2C%20this.getScissor%20%3D%20function%20(t)%20%7B%20return%20t.copy(U)%20%7D%2C%20this.setScissor%20%3D%20function%20(t%2C%20e%2C%20i%2C%20n)%20%7B%20t.isVector4%20%3F%20U.set(t.x%2C%20t.y%2C%20t.z%2C%20t.w)%20%3A%20U.set(t%2C%20e%2C%20i%2C%20n)%2C%20J.scissor(L.copy(U).multiplyScalar(D).floor())%20%7D%2C%20this.getScissorTest%20%3D%20function%20()%20%7B%20return%20B%20%7D%2C%20this.setScissorTest%20%3D%20function%20(t)%20%7B%20J.setScissorTest(B%20%3D%20t)%20%7D%2C%20this.setOpaqueSort%20%3D%20function%20(t)%20%7B%20N%20%3D%20t%20%7D%2C%20this.setTransparentSort%20%3D%20function%20(t)%20%7B%20O%20%3D%20t%20%7D%2C%20this.getClearColor%20%3D%20function%20(t)%20%7B%20return%20t.copy(dt.getClearColor())%20%7D%2C%20this.setClearColor%20%3D%20function%20()%20%7B%20dt.setClearColor.apply(dt%2C%20arguments)%20%7D%2C%20this.getClearAlpha%20%3D%20function%20()%20%7B%20return%20dt.getClearAlpha()%20%7D%2C%20this.setClearAlpha%20%3D%20function%20()%20%7B%20dt.setClearAlpha.apply(dt%2C%20arguments)%20%7D%2C%20this.clear%20%3D%20function%20(t%20%3D%20!0%2C%20e%20%3D%20!0%2C%20i%20%3D%20!0)%20%7B%20let%20n%20%3D%200%3B%20t%20%26%26%20(n%20%7C%3D%2016384)%2C%20e%20%26%26%20(n%20%7C%3D%20256)%2C%20i%20%26%26%20(n%20%7C%3D%201024)%2C%20_t.clear(n)%20%7D%2C%20this.clearColor%20%3D%20function%20()%20%7B%20this.clear(!0%2C%20!1%2C%20!1)%20%7D%2C%20this.clearDepth%20%3D%20function%20()%20%7B%20this.clear(!1%2C%20!0%2C%20!1)%20%7D%2C%20this.clearStencil%20%3D%20function%20()%20%7B%20this.clear(!1%2C%20!1%2C%20!0)%20%7D%2C%20this.dispose%20%3D%20function%20()%20%7B%20i.removeEventListener(%22webglcontextlost%22%2C%20St%2C%20!1)%2C%20i.removeEventListener(%22webglcontextrestored%22%2C%20wt%2C%20!1)%2C%20i.removeEventListener(%22webglcontextcreationerror%22%2C%20At%2C%20!1)%2C%20lt.dispose()%2C%20ct.dispose()%2C%20%24.dispose()%2C%20tt.dispose()%2C%20et.dispose()%2C%20rt.dispose()%2C%20vt.dispose()%2C%20xt.dispose()%2C%20st.dispose()%2C%20bt.dispose()%2C%20bt.removeEventListener(%22sessionstart%22%2C%20Rt)%2C%20bt.removeEventListener(%22sessionend%22%2C%20Pt)%2C%20V%20%26%26%20(V.dispose()%2C%20V%20%3D%20null)%2C%20It.stop()%20%7D%2C%20this.renderBufferDirect%20%3D%20function%20(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s)%20%7B%20null%20%3D%3D%3D%20e%20%26%26%20(e%20%3D%20q)%3B%20const%20a%20%3D%20r.isMesh%20%26%26%20r.matrixWorld.determinant()%20%3C%200%2C%20o%20%3D%20function%20(t%2C%20e%2C%20i%2C%20n%2C%20r)%20%7B%20!0%20!%3D%3D%20e.isScene%20%26%26%20(e%20%3D%20q)%3B%20Q.resetTextureUnits()%3B%20const%20s%20%3D%20e.fog%2C%20a%20%3D%20n.isMeshStandardMaterial%20%3F%20e.environment%20%3A%20null%2C%20o%20%3D%20null%20%3D%3D%3D%20T%20%3F%20g.outputEncoding%20%3A%20!0%20%3D%3D%3D%20T.isXRRenderTarget%20%3F%20T.texture.encoding%20%3A%20at%2C%20l%20%3D%20(n.isMeshStandardMaterial%20%3F%20et%20%3A%20tt).get(n.envMap%20%7C%7C%20a)%2C%20c%20%3D%20!0%20%3D%3D%3D%20n.vertexColors%20%26%26%20!!i.attributes.color%20%26%26%204%20%3D%3D%3D%20i.attributes.color.itemSize%2C%20h%20%3D%20!!n.normalMap%20%26%26%20!!i.attributes.tangent%2C%20u%20%3D%20!!i.morphAttributes.position%2C%20d%20%3D%20!!i.morphAttributes.normal%2C%20m%20%3D%20!!i.morphAttributes.color%2C%20f%20%3D%20n.toneMapped%20%3F%20g.toneMapping%20%3A%200%2C%20v%20%3D%20i.morphAttributes.position%20%7C%7C%20i.morphAttributes.normal%20%7C%7C%20i.morphAttributes.color%2C%20x%20%3D%20void%200%20!%3D%3D%20v%20%3F%20v.length%20%3A%200%2C%20_%20%3D%20%24.get(n)%2C%20y%20%3D%20p.state.lights%3B%20if%20(!0%20%3D%3D%3D%20k%20%26%26%20(!0%20%3D%3D%3D%20G%20%7C%7C%20t%20!%3D%3D%20E))%20%7B%20const%20e%20%3D%20t%20%3D%3D%3D%20E%20%26%26%20n.id%20%3D%3D%3D%20A%3B%20ht.setState(n%2C%20t%2C%20e)%20%7D%20let%20M%20%3D%20!1%3B%20n.version%20%3D%3D%3D%20_.__version%20%3F%20_.needsLights%20%26%26%20_.lightsStateVersion%20!%3D%3D%20y.state.version%20%7C%7C%20_.outputEncoding%20!%3D%3D%20o%20%7C%7C%20r.isInstancedMesh%20%26%26%20!1%20%3D%3D%3D%20_.instancing%20%3F%20M%20%3D%20!0%20%3A%20r.isInstancedMesh%20%7C%7C%20!0%20!%3D%3D%20_.instancing%20%3F%20r.isSkinnedMesh%20%26%26%20!1%20%3D%3D%3D%20_.skinning%20%3F%20M%20%3D%20!0%20%3A%20r.isSkinnedMesh%20%7C%7C%20!0%20!%3D%3D%20_.skinning%20%3F%20_.envMap%20!%3D%3D%20l%20%7C%7C%20!0%20%3D%3D%3D%20n.fog%20%26%26%20_.fog%20!%3D%3D%20s%20%3F%20M%20%3D%20!0%20%3A%20void%200%20%3D%3D%3D%20_.numClippingPlanes%20%7C%7C%20_.numClippingPlanes%20%3D%3D%3D%20ht.numPlanes%20%26%26%20_.numIntersection%20%3D%3D%3D%20ht.numIntersection%20%3F%20(_.vertexAlphas%20!%3D%3D%20c%20%7C%7C%20_.vertexTangents%20!%3D%3D%20h%20%7C%7C%20_.morphTargets%20!%3D%3D%20u%20%7C%7C%20_.morphNormals%20!%3D%3D%20d%20%7C%7C%20_.morphColors%20!%3D%3D%20m%20%7C%7C%20_.toneMapping%20!%3D%3D%20f%20%7C%7C%20!0%20%3D%3D%3D%20Z.isWebGL2%20%26%26%20_.morphTargetsCount%20!%3D%3D%20x)%20%26%26%20(M%20%3D%20!0)%20%3A%20M%20%3D%20!0%20%3A%20M%20%3D%20!0%20%3A%20M%20%3D%20!0%20%3A%20(M%20%3D%20!0%2C%20_.__version%20%3D%20n.version)%3B%20let%20b%20%3D%20_.currentProgram%3B%20!0%20%3D%3D%3D%20M%20%26%26%20(b%20%3D%20Bt(n%2C%20e%2C%20r))%3B%20let%20S%20%3D%20!1%2C%20w%20%3D%20!1%2C%20C%20%3D%20!1%3B%20const%20L%20%3D%20b.getUniforms()%2C%20R%20%3D%20_.uniforms%3B%20J.useProgram(b.program)%20%26%26%20(S%20%3D%20!0%2C%20w%20%3D%20!0%2C%20C%20%3D%20!0)%3B%20n.id%20!%3D%3D%20A%20%26%26%20(A%20%3D%20n.id%2C%20w%20%3D%20!0)%3B%20if%20(S%20%7C%7C%20E%20!%3D%3D%20t)%20%7B%20if%20(L.setValue(_t%2C%20%22projectionMatrix%22%2C%20t.projectionMatrix)%2C%20Z.logarithmicDepthBuffer%20%26%26%20L.setValue(_t%2C%20%22logDepthBufFC%22%2C%202%20%2F%20(Math.log(t.far%20%2B%201)%20%2F%20Math.LN2))%2C%20E%20!%3D%3D%20t%20%26%26%20(E%20%3D%20t%2C%20w%20%3D%20!0%2C%20C%20%3D%20!0)%2C%20n.isShaderMaterial%20%7C%7C%20n.isMeshPhongMaterial%20%7C%7C%20n.isMeshToonMaterial%20%7C%7C%20n.isMeshStandardMaterial%20%7C%7C%20n.envMap)%20%7B%20const%20e%20%3D%20L.map.cameraPosition%3B%20void%200%20!%3D%3D%20e%20%26%26%20e.setValue(_t%2C%20j.setFromMatrixPosition(t.matrixWorld))%20%7D%20(n.isMeshPhongMaterial%20%7C%7C%20n.isMeshToonMaterial%20%7C%7C%20n.isMeshLambertMaterial%20%7C%7C%20n.isMeshBasicMaterial%20%7C%7C%20n.isMeshStandardMaterial%20%7C%7C%20n.isShaderMaterial)%20%26%26%20L.setValue(_t%2C%20%22isOrthographic%22%2C%20!0%20%3D%3D%3D%20t.isOrthographicCamera)%2C%20(n.isMeshPhongMaterial%20%7C%7C%20n.isMeshToonMaterial%20%7C%7C%20n.isMeshLambertMaterial%20%7C%7C%20n.isMeshBasicMaterial%20%7C%7C%20n.isMeshStandardMaterial%20%7C%7C%20n.isShaderMaterial%20%7C%7C%20n.isShadowMaterial%20%7C%7C%20r.isSkinnedMesh)%20%26%26%20L.setValue(_t%2C%20%22viewMatrix%22%2C%20t.matrixWorldInverse)%20%7D%20if%20(r.isSkinnedMesh)%20%7B%20L.setOptional(_t%2C%20r%2C%20%22bindMatrix%22)%2C%20L.setOptional(_t%2C%20r%2C%20%22bindMatrixInverse%22)%3B%20const%20t%20%3D%20r.skeleton%3B%20t%20%26%26%20(Z.floatVertexTextures%20%3F%20(null%20%3D%3D%3D%20t.boneTexture%20%26%26%20t.computeBoneTexture()%2C%20L.setValue(_t%2C%20%22boneTexture%22%2C%20t.boneTexture%2C%20Q)%2C%20L.setValue(_t%2C%20%22boneTextureSize%22%2C%20t.boneTextureSize))%20%3A%20console.warn(%22THREE.WebGLRenderer%3A%20SkinnedMesh%20can%20only%20be%20used%20with%20WebGL%202.%20With%20WebGL%201%20OES_texture_float%20and%20vertex%20textures%20support%20is%20required.%22))%20%7D%20const%20P%20%3D%20i.morphAttributes%3B%20(void%200%20!%3D%3D%20P.position%20%7C%7C%20void%200%20!%3D%3D%20P.normal%20%7C%7C%20void%200%20!%3D%3D%20P.color%20%26%26%20!0%20%3D%3D%3D%20Z.isWebGL2)%20%26%26%20pt.update(r%2C%20i%2C%20n%2C%20b)%3B%20(w%20%7C%7C%20_.receiveShadow%20!%3D%3D%20r.receiveShadow)%20%26%26%20(_.receiveShadow%20%3D%20r.receiveShadow%2C%20L.setValue(_t%2C%20%22receiveShadow%22%2C%20r.receiveShadow))%3B%20n.isMeshGouraudMaterial%20%26%26%20null%20!%3D%3D%20n.envMap%20%26%26%20(R.envMap.value%20%3D%20l%2C%20R.flipEnvMap.value%20%3D%20l.isCubeTexture%20%26%26%20!1%20%3D%3D%3D%20l.isRenderTargetTexture%20%3F%20-1%20%3A%201)%3B%20w%20%26%26%20(L.setValue(_t%2C%20%22toneMappingExposure%22%2C%20g.toneMappingExposure)%2C%20_.needsLights%20%26%26%20(O%20%3D%20C%2C%20(N%20%3D%20R).ambientLightColor.needsUpdate%20%3D%20O%2C%20N.lightProbe.needsUpdate%20%3D%20O%2C%20N.directionalLights.needsUpdate%20%3D%20O%2C%20N.directionalLightShadows.needsUpdate%20%3D%20O%2C%20N.pointLights.needsUpdate%20%3D%20O%2C%20N.pointLightShadows.needsUpdate%20%3D%20O%2C%20N.spotLights.needsUpdate%20%3D%20O%2C%20N.spotLightShadows.needsUpdate%20%3D%20O%2C%20N.rectAreaLights.needsUpdate%20%3D%20O%2C%20N.hemisphereLights.needsUpdate%20%3D%20O)%2C%20s%20%26%26%20!0%20%3D%3D%3D%20n.fog%20%26%26%20ot.refreshFogUniforms(R%2C%20s)%2C%20ot.refreshMaterialUniforms(R%2C%20n%2C%20D%2C%20I%2C%20V)%2C%20es.upload(_t%2C%20_.uniformsList%2C%20R%2C%20Q))%3B%20var%20N%2C%20O%3B%20n.isShaderMaterial%20%26%26%20!0%20%3D%3D%3D%20n.uniformsNeedUpdate%20%26%26%20(es.upload(_t%2C%20_.uniformsList%2C%20R%2C%20Q)%2C%20n.uniformsNeedUpdate%20%3D%20!1)%3B%20n.isSpriteMaterial%20%26%26%20L.setValue(_t%2C%20%22center%22%2C%20r.center)%3B%20if%20(L.setValue(_t%2C%20%22modelViewMatrix%22%2C%20r.modelViewMatrix)%2C%20L.setValue(_t%2C%20%22normalMatrix%22%2C%20r.normalMatrix)%2C%20L.setValue(_t%2C%20%22modelMatrix%22%2C%20r.matrixWorld)%2C%20n.isShaderMaterial%20%7C%7C%20n.isRawShaderMaterial)%20%7B%20const%20t%20%3D%20n.uniformsGroups%3B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20t.length%3B%20e%20%3C%20i%3B%20e%2B%2B)if%20(Z.isWebGL2)%20%7B%20const%20i%20%3D%20t%5Be%5D%3B%20xt.update(i%2C%20b)%2C%20xt.bind(i%2C%20b)%20%7D%20else%20console.warn(%22THREE.WebGLRenderer%3A%20Uniform%20Buffer%20Objects%20can%20only%20be%20used%20with%20WebGL%202.%22)%20%7D%20return%20b%20%7D(t%2C%20e%2C%20i%2C%20n%2C%20r)%3B%20J.setMaterial(n%2C%20a)%3B%20let%20l%20%3D%20i.index%2C%20c%20%3D%201%3B%20!0%20%3D%3D%3D%20n.wireframe%20%26%26%20(l%20%3D%20nt.getWireframeAttribute(i)%2C%20c%20%3D%202)%3B%20const%20h%20%3D%20i.drawRange%2C%20u%20%3D%20i.attributes.position%3B%20let%20d%20%3D%20h.start%20*%20c%2C%20m%20%3D%20(h.start%20%2B%20h.count)%20*%20c%3B%20null%20!%3D%3D%20s%20%26%26%20(d%20%3D%20Math.max(d%2C%20s.start%20*%20c)%2C%20m%20%3D%20Math.min(m%2C%20(s.start%20%2B%20s.count)%20*%20c))%2C%20null%20!%3D%3D%20l%20%3F%20(d%20%3D%20Math.max(d%2C%200)%2C%20m%20%3D%20Math.min(m%2C%20l.count))%20%3A%20null%20!%3D%20u%20%26%26%20(d%20%3D%20Math.max(d%2C%200)%2C%20m%20%3D%20Math.min(m%2C%20u.count))%3B%20const%20f%20%3D%20m%20-%20d%3B%20if%20(f%20%3C%200%20%7C%7C%20f%20%3D%3D%3D%201%20%2F%200)%20return%3B%20let%20v%3B%20vt.setup(r%2C%20n%2C%20o%2C%20i%2C%20l)%3B%20let%20x%20%3D%20mt%3B%20if%20(null%20!%3D%3D%20l%20%26%26%20(v%20%3D%20it.get(l)%2C%20x%20%3D%20ft%2C%20x.setIndex(v))%2C%20r.isMesh)%20!0%20%3D%3D%3D%20n.wireframe%20%3F%20(J.setLineWidth(n.wireframeLinewidth%20*%20X())%2C%20x.setMode(1))%20%3A%20x.setMode(4)%3B%20else%20if%20(r.isLine)%20%7B%20let%20t%20%3D%20n.linewidth%3B%20void%200%20%3D%3D%3D%20t%20%26%26%20(t%20%3D%201)%2C%20J.setLineWidth(t%20*%20X())%2C%20r.isLineSegments%20%3F%20x.setMode(1)%20%3A%20r.isLineLoop%20%3F%20x.setMode(2)%20%3A%20x.setMode(3)%20%7D%20else%20r.isPoints%20%3F%20x.setMode(0)%20%3A%20r.isSprite%20%26%26%20x.setMode(4)%3B%20if%20(r.isInstancedMesh)%20x.renderInstances(d%2C%20f%2C%20r.count)%3B%20else%20if%20(i.isInstancedBufferGeometry)%20%7B%20const%20t%20%3D%20void%200%20!%3D%3D%20i._maxInstanceCount%20%3F%20i._maxInstanceCount%20%3A%201%20%2F%200%2C%20e%20%3D%20Math.min(i.instanceCount%2C%20t)%3B%20x.renderInstances(d%2C%20f%2C%20e)%20%7D%20else%20x.render(d%2C%20f)%20%7D%2C%20this.compile%20%3D%20function%20(t%2C%20e)%20%7B%20function%20i(t%2C%20e%2C%20i)%20%7B%20!0%20%3D%3D%3D%20t.transparent%20%26%26%203%20%3D%3D%3D%20t.side%20%3F%20(t.side%20%3D%201%2C%20t.needsUpdate%20%3D%20!0%2C%20Bt(t%2C%20e%2C%20i)%2C%20t.side%20%3D%200%2C%20t.needsUpdate%20%3D%20!0%2C%20Bt(t%2C%20e%2C%20i)%2C%20t.side%20%3D%203)%20%3A%20Bt(t%2C%20e%2C%20i)%20%7D%20p%20%3D%20ct.get(t)%2C%20p.init()%2C%20f.push(p)%2C%20t.traverseVisible((function%20(t)%20%7B%20t.isLight%20%26%26%20t.layers.test(e.layers)%20%26%26%20(p.pushLight(t)%2C%20t.castShadow%20%26%26%20p.pushShadow(t))%20%7D))%2C%20p.setupLights(g.physicallyCorrectLights)%2C%20t.traverse((function%20(e)%20%7B%20const%20n%20%3D%20e.material%3B%20if%20(n)%20if%20(Array.isArray(n))%20for%20(let%20r%20%3D%200%3B%20r%20%3C%20n.length%3B%20r%2B%2B)%20%7B%20i(n%5Br%5D%2C%20t%2C%20e)%20%7D%20else%20i(n%2C%20t%2C%20e)%20%7D))%2C%20f.pop()%2C%20p%20%3D%20null%20%7D%3B%20let%20Ct%20%3D%20null%3B%20function%20Rt()%20%7B%20It.stop()%20%7D%20function%20Pt()%20%7B%20It.start()%20%7D%20const%20It%20%3D%20new%20fn%3B%20function%20Dt(t%2C%20e%2C%20i%2C%20n)%20%7B%20if%20(!1%20%3D%3D%3D%20t.visible)%20return%3B%20if%20(t.layers.test(e.layers))%20if%20(t.isGroup)%20i%20%3D%20t.renderOrder%3B%20else%20if%20(t.isLOD)%20!0%20%3D%3D%3D%20t.autoUpdate%20%26%26%20t.update(e)%3B%20else%20if%20(t.isLight)%20p.pushLight(t)%2C%20t.castShadow%20%26%26%20p.pushShadow(t)%3B%20else%20if%20(t.isSprite)%20%7B%20if%20(!t.frustumCulled%20%7C%7C%20F.intersectsSprite(t))%20%7B%20n%20%26%26%20j.setFromMatrixPosition(t.matrixWorld).applyMatrix4(H)%3B%20const%20e%20%3D%20rt.update(t)%2C%20r%20%3D%20t.material%3B%20r.visible%20%26%26%20d.push(t%2C%20e%2C%20r%2C%20i%2C%20j.z%2C%20null)%20%7D%20%7D%20else%20if%20((t.isMesh%20%7C%7C%20t.isLine%20%7C%7C%20t.isPoints)%20%26%26%20(t.isSkinnedMesh%20%26%26%20t.skeleton.frame%20!%3D%3D%20K.render.frame%20%26%26%20(t.skeleton.update()%2C%20t.skeleton.frame%20%3D%20K.render.frame)%2C%20!t.frustumCulled%20%7C%7C%20F.intersectsObject(t)))%20%7B%20n%20%26%26%20j.setFromMatrixPosition(t.matrixWorld).applyMatrix4(H)%3B%20const%20e%20%3D%20rt.update(t)%2C%20r%20%3D%20t.material%3B%20if%20(Array.isArray(r))%20%7B%20const%20n%20%3D%20e.groups%3B%20for%20(let%20s%20%3D%200%2C%20a%20%3D%20n.length%3B%20s%20%3C%20a%3B%20s%2B%2B)%20%7B%20const%20a%20%3D%20n%5Bs%5D%2C%20o%20%3D%20r%5Ba.materialIndex%5D%3B%20o%20%26%26%20o.visible%20%26%26%20d.push(t%2C%20e%2C%20o%2C%20i%2C%20j.z%2C%20a)%20%7D%20%7D%20else%20r.visible%20%26%26%20d.push(t%2C%20e%2C%20r%2C%20i%2C%20j.z%2C%20null)%20%7D%20const%20r%20%3D%20t.children%3B%20for%20(let%20t%20%3D%200%2C%20s%20%3D%20r.length%3B%20t%20%3C%20s%3B%20t%2B%2B)Dt(r%5Bt%5D%2C%20e%2C%20i%2C%20n)%20%7D%20function%20Nt(t%2C%20e%2C%20i%2C%20n)%20%7B%20const%20r%20%3D%20t.opaque%2C%20s%20%3D%20t.transmissive%2C%20o%20%3D%20t.transparent%3B%20p.setupLightsView(i)%2C%20s.length%20%3E%200%20%26%26%20function%20(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20Z.isWebGL2%3B%20null%20%3D%3D%3D%20V%20%26%26%20(V%20%3D%20new%20te(1%2C%201%2C%20%7B%20generateMipmaps%3A%20!0%2C%20type%3A%20Y.has(%22EXT_color_buffer_half_float%22)%20%3F%20b%20%3A%20x%2C%20minFilter%3A%20v%2C%20samples%3A%20n%20%26%26%20!0%20%3D%3D%3D%20a%20%3F%204%20%3A%200%20%7D))%3B%20g.getDrawingBufferSize(W)%2C%20n%20%3F%20V.setSize(W.x%2C%20W.y)%20%3A%20V.setSize(Tt(W.x)%2C%20Tt(W.y))%3B%20const%20r%20%3D%20g.getRenderTarget()%3B%20g.setRenderTarget(V)%2C%20g.clear()%3B%20const%20s%20%3D%20g.toneMapping%3B%20g.toneMapping%20%3D%200%2C%20zt(t%2C%20e%2C%20i)%2C%20g.toneMapping%20%3D%20s%2C%20Q.updateMultisampleRenderTarget(V)%2C%20Q.updateRenderTargetMipmap(V)%2C%20g.setRenderTarget(r)%20%7D(r%2C%20e%2C%20i)%2C%20n%20%26%26%20J.viewport(C.copy(n))%2C%20r.length%20%3E%200%20%26%26%20zt(r%2C%20e%2C%20i)%2C%20s.length%20%3E%200%20%26%26%20zt(s%2C%20e%2C%20i)%2C%20o.length%20%3E%200%20%26%26%20zt(o%2C%20e%2C%20i)%2C%20J.buffers.depth.setTest(!0)%2C%20J.buffers.depth.setMask(!0)%2C%20J.buffers.color.setMask(!0)%2C%20J.setPolygonOffset(!1)%20%7D%20function%20zt(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20!0%20%3D%3D%3D%20e.isScene%20%3F%20e.overrideMaterial%20%3A%20null%3B%20for%20(let%20r%20%3D%200%2C%20s%20%3D%20t.length%3B%20r%20%3C%20s%3B%20r%2B%2B)%20%7B%20const%20s%20%3D%20t%5Br%5D%2C%20a%20%3D%20s.object%2C%20o%20%3D%20s.geometry%2C%20l%20%3D%20null%20%3D%3D%3D%20n%20%3F%20s.material%20%3A%20n%2C%20c%20%3D%20s.group%3B%20a.layers.test(i.layers)%20%26%26%20Ut(a%2C%20e%2C%20i%2C%20o%2C%20l%2C%20c)%20%7D%20%7D%20function%20Ut(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s)%20%7B%20t.onBeforeRender(g%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s)%2C%20t.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse%2C%20t.matrixWorld)%2C%20t.normalMatrix.getNormalMatrix(t.modelViewMatrix)%2C%20r.onBeforeRender(g%2C%20e%2C%20i%2C%20n%2C%20t%2C%20s)%2C%20!0%20%3D%3D%3D%20r.transparent%20%26%26%203%20%3D%3D%3D%20r.side%20%3F%20(r.side%20%3D%201%2C%20r.needsUpdate%20%3D%20!0%2C%20g.renderBufferDirect(i%2C%20e%2C%20n%2C%20r%2C%20t%2C%20s)%2C%20r.side%20%3D%200%2C%20r.needsUpdate%20%3D%20!0%2C%20g.renderBufferDirect(i%2C%20e%2C%20n%2C%20r%2C%20t%2C%20s)%2C%20r.side%20%3D%203)%20%3A%20g.renderBufferDirect(i%2C%20e%2C%20n%2C%20r%2C%20t%2C%20s)%2C%20t.onAfterRender(g%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s)%20%7D%20function%20Bt(t%2C%20e%2C%20i)%20%7B%20!0%20!%3D%3D%20e.isScene%20%26%26%20(e%20%3D%20q)%3B%20const%20n%20%3D%20%24.get(t)%2C%20r%20%3D%20p.state.lights%2C%20s%20%3D%20p.state.shadowsArray%2C%20a%20%3D%20r.state.version%2C%20o%20%3D%20st.getParameters(t%2C%20r.state%2C%20s%2C%20e%2C%20i)%2C%20l%20%3D%20st.getProgramCacheKey(o)%3B%20let%20c%20%3D%20n.programs%3B%20n.environment%20%3D%20t.isMeshStandardMaterial%20%3F%20e.environment%20%3A%20null%2C%20n.fog%20%3D%20e.fog%2C%20n.envMap%20%3D%20(t.isMeshStandardMaterial%20%3F%20et%20%3A%20tt).get(t.envMap%20%7C%7C%20n.environment)%2C%20void%200%20%3D%3D%3D%20c%20%26%26%20(t.addEventListener(%22dispose%22%2C%20Et)%2C%20c%20%3D%20new%20Map%2C%20n.programs%20%3D%20c)%3B%20let%20h%20%3D%20c.get(l)%3B%20if%20(void%200%20!%3D%3D%20h)%20%7B%20if%20(n.currentProgram%20%3D%3D%3D%20h%20%26%26%20n.lightsStateVersion%20%3D%3D%3D%20a)%20return%20Ft(t%2C%20o)%2C%20h%20%7D%20else%20o.uniforms%20%3D%20st.getUniforms(t)%2C%20t.onBuild(i%2C%20o%2C%20g)%2C%20t.onBeforeCompile(o%2C%20g)%2C%20h%20%3D%20st.acquireProgram(o%2C%20l)%2C%20c.set(l%2C%20h)%2C%20n.uniforms%20%3D%20o.uniforms%3B%20const%20u%20%3D%20n.uniforms%3B%20(t.isShaderMaterial%20%7C%7C%20t.isRawShaderMaterial)%20%26%26%20!0%20!%3D%3D%20t.clipping%20%7C%7C%20(u.clippingPlanes%20%3D%20ht.uniform)%2C%20Ft(t%2C%20o)%2C%20n.needsLights%20%3D%20function%20(t)%20%7B%20return%20t.isMeshLambertMaterial%20%7C%7C%20t.isMeshToonMaterial%20%7C%7C%20t.isMeshPhongMaterial%20%7C%7C%20t.isMeshStandardMaterial%20%7C%7C%20t.isShadowMaterial%20%7C%7C%20t.isShaderMaterial%20%26%26%20!0%20%3D%3D%3D%20t.lights%20%7D(t)%2C%20n.lightsStateVersion%20%3D%20a%2C%20n.needsLights%20%26%26%20(u.ambientLightColor.value%20%3D%20r.state.ambient%2C%20u.lightProbe.value%20%3D%20r.state.probe%2C%20u.directionalLights.value%20%3D%20r.state.directional%2C%20u.directionalLightShadows.value%20%3D%20r.state.directionalShadow%2C%20u.spotLights.value%20%3D%20r.state.spot%2C%20u.spotLightShadows.value%20%3D%20r.state.spotShadow%2C%20u.rectAreaLights.value%20%3D%20r.state.rectArea%2C%20u.ltc_1.value%20%3D%20r.state.rectAreaLTC1%2C%20u.ltc_2.value%20%3D%20r.state.rectAreaLTC2%2C%20u.pointLights.value%20%3D%20r.state.point%2C%20u.pointLightShadows.value%20%3D%20r.state.pointShadow%2C%20u.hemisphereLights.value%20%3D%20r.state.hemi%2C%20u.directionalShadowMap.value%20%3D%20r.state.directionalShadowMap%2C%20u.directionalShadowMatrix.value%20%3D%20r.state.directionalShadowMatrix%2C%20u.spotShadowMap.value%20%3D%20r.state.spotShadowMap%2C%20u.spotLightMatrix.value%20%3D%20r.state.spotLightMatrix%2C%20u.spotLightMap.value%20%3D%20r.state.spotLightMap%2C%20u.pointShadowMap.value%20%3D%20r.state.pointShadowMap%2C%20u.pointShadowMatrix.value%20%3D%20r.state.pointShadowMatrix)%3B%20const%20d%20%3D%20h.getUniforms()%2C%20m%20%3D%20es.seqWithValue(d.seq%2C%20u)%3B%20return%20n.currentProgram%20%3D%20h%2C%20n.uniformsList%20%3D%20m%2C%20h%20%7D%20function%20Ft(t%2C%20e)%20%7B%20const%20i%20%3D%20%24.get(t)%3B%20i.outputEncoding%20%3D%20e.outputEncoding%2C%20i.instancing%20%3D%20e.instancing%2C%20i.skinning%20%3D%20e.skinning%2C%20i.morphTargets%20%3D%20e.morphTargets%2C%20i.morphNormals%20%3D%20e.morphNormals%2C%20i.morphColors%20%3D%20e.morphColors%2C%20i.morphTargetsCount%20%3D%20e.morphTargetsCount%2C%20i.numClippingPlanes%20%3D%20e.numClippingPlanes%2C%20i.numIntersection%20%3D%20e.numClipIntersection%2C%20i.vertexAlphas%20%3D%20e.vertexAlphas%2C%20i.vertexTangents%20%3D%20e.vertexTangents%2C%20i.toneMapping%20%3D%20e.toneMapping%20%7D%20It.setAnimationLoop((function%20(t)%20%7B%20Ct%20%26%26%20Ct(t)%20%7D))%2C%20%22undefined%22%20!%3D%20typeof%20self%20%26%26%20It.setContext(self)%2C%20this.setAnimationLoop%20%3D%20function%20(t)%20%7B%20Ct%20%3D%20t%2C%20bt.setAnimationLoop(t)%2C%20null%20%3D%3D%3D%20t%20%3F%20It.stop()%20%3A%20It.start()%20%7D%2C%20bt.addEventListener(%22sessionstart%22%2C%20Rt)%2C%20bt.addEventListener(%22sessionend%22%2C%20Pt)%2C%20this.render%20%3D%20function%20(t%2C%20e)%20%7B%20if%20(void%200%20!%3D%3D%20e%20%26%26%20!0%20!%3D%3D%20e.isCamera)%20return%20void%20console.error(%22THREE.WebGLRenderer.render%3A%20camera%20is%20not%20an%20instance%20of%20THREE.Camera.%22)%3B%20if%20(!0%20%3D%3D%3D%20_)%20return%3B%20!0%20%3D%3D%3D%20t.matrixWorldAutoUpdate%20%26%26%20t.updateMatrixWorld()%2C%20null%20%3D%3D%3D%20e.parent%20%26%26%20!0%20%3D%3D%3D%20e.matrixWorldAutoUpdate%20%26%26%20e.updateMatrixWorld()%2C%20!0%20%3D%3D%3D%20bt.enabled%20%26%26%20!0%20%3D%3D%3D%20bt.isPresenting%20%26%26%20(!0%20%3D%3D%3D%20bt.cameraAutoUpdate%20%26%26%20bt.updateCamera(e)%2C%20e%20%3D%20bt.getCamera())%2C%20!0%20%3D%3D%3D%20t.isScene%20%26%26%20t.onBeforeRender(g%2C%20t%2C%20e%2C%20T)%2C%20p%20%3D%20ct.get(t%2C%20f.length)%2C%20p.init()%2C%20f.push(p)%2C%20H.multiplyMatrices(e.projectionMatrix%2C%20e.matrixWorldInverse)%2C%20F.setFromProjectionMatrix(H)%2C%20G%20%3D%20this.localClippingEnabled%2C%20k%20%3D%20ht.init(this.clippingPlanes%2C%20G%2C%20e)%2C%20d%20%3D%20lt.get(t%2C%20m.length)%2C%20d.init()%2C%20m.push(d)%2C%20Dt(t%2C%20e%2C%200%2C%20g.sortObjects)%2C%20d.finish()%2C%20!0%20%3D%3D%3D%20g.sortObjects%20%26%26%20d.sort(N%2C%20O)%2C%20!0%20%3D%3D%3D%20k%20%26%26%20ht.beginShadows()%3B%20const%20i%20%3D%20p.state.shadowsArray%3B%20if%20(ut.render(i%2C%20t%2C%20e)%2C%20!0%20%3D%3D%3D%20k%20%26%26%20ht.endShadows()%2C%20!0%20%3D%3D%3D%20this.info.autoReset%20%26%26%20this.info.reset()%2C%20dt.render(d%2C%20t)%2C%20p.setupLights(g.physicallyCorrectLights)%2C%20e.isArrayCamera)%20%7B%20const%20i%20%3D%20e.cameras%3B%20for%20(let%20e%20%3D%200%2C%20n%20%3D%20i.length%3B%20e%20%3C%20n%3B%20e%2B%2B)%20%7B%20const%20n%20%3D%20i%5Be%5D%3B%20Nt(d%2C%20t%2C%20n%2C%20n.viewport)%20%7D%20%7D%20else%20Nt(d%2C%20t%2C%20e)%3B%20null%20!%3D%3D%20T%20%26%26%20(Q.updateMultisampleRenderTarget(T)%2C%20Q.updateRenderTargetMipmap(T))%2C%20!0%20%3D%3D%3D%20t.isScene%20%26%26%20t.onAfterRender(g%2C%20t%2C%20e)%2C%20vt.resetDefaultState()%2C%20A%20%3D%20-1%2C%20E%20%3D%20null%2C%20f.pop()%2C%20p%20%3D%20f.length%20%3E%200%20%3F%20f%5Bf.length%20-%201%5D%20%3A%20null%2C%20m.pop()%2C%20d%20%3D%20m.length%20%3E%200%20%3F%20m%5Bm.length%20-%201%5D%20%3A%20null%20%7D%2C%20this.getActiveCubeFace%20%3D%20function%20()%20%7B%20return%20y%20%7D%2C%20this.getActiveMipmapLevel%20%3D%20function%20()%20%7B%20return%20S%20%7D%2C%20this.getRenderTarget%20%3D%20function%20()%20%7B%20return%20T%20%7D%2C%20this.setRenderTargetTextures%20%3D%20function%20(t%2C%20e%2C%20i)%20%7B%20%24.get(t.texture).__webglTexture%20%3D%20e%2C%20%24.get(t.depthTexture).__webglTexture%20%3D%20i%3B%20const%20n%20%3D%20%24.get(t)%3B%20n.__hasExternalTextures%20%3D%20!0%2C%20n.__hasExternalTextures%20%26%26%20(n.__autoAllocateDepthBuffer%20%3D%20void%200%20%3D%3D%3D%20i%2C%20n.__autoAllocateDepthBuffer%20%7C%7C%20!0%20%3D%3D%3D%20Y.has(%22WEBGL_multisampled_render_to_texture%22)%20%26%26%20(console.warn(%22THREE.WebGLRenderer%3A%20Render-to-texture%20extension%20was%20disabled%20because%20an%20external%20texture%20was%20provided%22)%2C%20n.__useRenderToTexture%20%3D%20!1))%20%7D%2C%20this.setRenderTargetFramebuffer%20%3D%20function%20(t%2C%20e)%20%7B%20const%20i%20%3D%20%24.get(t)%3B%20i.__webglFramebuffer%20%3D%20e%2C%20i.__useDefaultFramebuffer%20%3D%20void%200%20%3D%3D%3D%20e%20%7D%2C%20this.setRenderTarget%20%3D%20function%20(t%2C%20e%20%3D%200%2C%20i%20%3D%200)%20%7B%20T%20%3D%20t%2C%20y%20%3D%20e%2C%20S%20%3D%20i%3B%20let%20n%20%3D%20!0%2C%20r%20%3D%20null%2C%20s%20%3D%20!1%2C%20a%20%3D%20!1%3B%20if%20(t)%20%7B%20const%20i%20%3D%20%24.get(t)%3B%20void%200%20!%3D%3D%20i.__useDefaultFramebuffer%20%3F%20(J.bindFramebuffer(36160%2C%20null)%2C%20n%20%3D%20!1)%20%3A%20void%200%20%3D%3D%3D%20i.__webglFramebuffer%20%3F%20Q.setupRenderTarget(t)%20%3A%20i.__hasExternalTextures%20%26%26%20Q.rebindTextures(t%2C%20%24.get(t.texture).__webglTexture%2C%20%24.get(t.depthTexture).__webglTexture)%3B%20const%20o%20%3D%20t.texture%3B%20(o.isData3DTexture%20%7C%7C%20o.isDataArrayTexture%20%7C%7C%20o.isCompressedArrayTexture)%20%26%26%20(a%20%3D%20!0)%3B%20const%20l%20%3D%20%24.get(t).__webglFramebuffer%3B%20t.isWebGLCubeRenderTarget%20%3F%20(r%20%3D%20l%5Be%5D%2C%20s%20%3D%20!0)%20%3A%20r%20%3D%20Z.isWebGL2%20%26%26%20t.samples%20%3E%200%20%26%26%20!1%20%3D%3D%3D%20Q.useMultisampledRTT(t)%20%3F%20%24.get(t).__webglMultisampledFramebuffer%20%3A%20l%2C%20C.copy(t.viewport)%2C%20L.copy(t.scissor)%2C%20R%20%3D%20t.scissorTest%20%7D%20else%20C.copy(z).multiplyScalar(D).floor()%2C%20L.copy(U).multiplyScalar(D).floor()%2C%20R%20%3D%20B%3B%20if%20(J.bindFramebuffer(36160%2C%20r)%20%26%26%20Z.drawBuffers%20%26%26%20n%20%26%26%20J.drawBuffers(t%2C%20r)%2C%20J.viewport(C)%2C%20J.scissor(L)%2C%20J.setScissorTest(R)%2C%20s)%20%7B%20const%20n%20%3D%20%24.get(t.texture)%3B%20_t.framebufferTexture2D(36160%2C%2036064%2C%2034069%20%2B%20e%2C%20n.__webglTexture%2C%20i)%20%7D%20else%20if%20(a)%20%7B%20const%20n%20%3D%20%24.get(t.texture)%2C%20r%20%3D%20e%20%7C%7C%200%3B%20_t.framebufferTextureLayer(36160%2C%2036064%2C%20n.__webglTexture%2C%20i%20%7C%7C%200%2C%20r)%20%7D%20A%20%3D%20-1%20%7D%2C%20this.readRenderTargetPixels%20%3D%20function%20(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%20a)%20%7B%20if%20(!t%20%7C%7C%20!t.isWebGLRenderTarget)%20return%20void%20console.error(%22THREE.WebGLRenderer.readRenderTargetPixels%3A%20renderTarget%20is%20not%20THREE.WebGLRenderTarget.%22)%3B%20let%20o%20%3D%20%24.get(t).__webglFramebuffer%3B%20if%20(t.isWebGLCubeRenderTarget%20%26%26%20void%200%20!%3D%3D%20a%20%26%26%20(o%20%3D%20o%5Ba%5D)%2C%20o)%20%7B%20J.bindFramebuffer(36160%2C%20o)%3B%20try%20%7B%20const%20a%20%3D%20t.texture%2C%20o%20%3D%20a.format%2C%20l%20%3D%20a.type%3B%20if%20(o%20!%3D%3D%20w%20%26%26%20gt.convert(o)%20!%3D%3D%20_t.getParameter(35739))%20return%20void%20console.error(%22THREE.WebGLRenderer.readRenderTargetPixels%3A%20renderTarget%20is%20not%20in%20RGBA%20or%20implementation%20defined%20format.%22)%3B%20const%20c%20%3D%20l%20%3D%3D%3D%20b%20%26%26%20(Y.has(%22EXT_color_buffer_half_float%22)%20%7C%7C%20Z.isWebGL2%20%26%26%20Y.has(%22EXT_color_buffer_float%22))%3B%20if%20(!(l%20%3D%3D%3D%20x%20%7C%7C%20gt.convert(l)%20%3D%3D%3D%20_t.getParameter(35738)%20%7C%7C%20l%20%3D%3D%3D%20M%20%26%26%20(Z.isWebGL2%20%7C%7C%20Y.has(%22OES_texture_float%22)%20%7C%7C%20Y.has(%22WEBGL_color_buffer_float%22))%20%7C%7C%20c))%20return%20void%20console.error(%22THREE.WebGLRenderer.readRenderTargetPixels%3A%20renderTarget%20is%20not%20in%20UnsignedByteType%20or%20implementation%20defined%20type.%22)%3B%20e%20%3E%3D%200%20%26%26%20e%20%3C%3D%20t.width%20-%20n%20%26%26%20i%20%3E%3D%200%20%26%26%20i%20%3C%3D%20t.height%20-%20r%20%26%26%20_t.readPixels(e%2C%20i%2C%20n%2C%20r%2C%20gt.convert(o)%2C%20gt.convert(l)%2C%20s)%20%7D%20finally%20%7B%20const%20t%20%3D%20null%20!%3D%3D%20T%20%3F%20%24.get(T).__webglFramebuffer%20%3A%20null%3B%20J.bindFramebuffer(36160%2C%20t)%20%7D%20%7D%20%7D%2C%20this.copyFramebufferToTexture%20%3D%20function%20(t%2C%20e%2C%20i%20%3D%200)%20%7B%20const%20n%20%3D%20Math.pow(2%2C%20-i)%2C%20r%20%3D%20Math.floor(e.image.width%20*%20n)%2C%20s%20%3D%20Math.floor(e.image.height%20*%20n)%3B%20Q.setTexture2D(e%2C%200)%2C%20_t.copyTexSubImage2D(3553%2C%20i%2C%200%2C%200%2C%20t.x%2C%20t.y%2C%20r%2C%20s)%2C%20J.unbindTexture()%20%7D%2C%20this.copyTextureToTexture%20%3D%20function%20(t%2C%20e%2C%20i%2C%20n%20%3D%200)%20%7B%20const%20r%20%3D%20e.image.width%2C%20s%20%3D%20e.image.height%2C%20a%20%3D%20gt.convert(i.format)%2C%20o%20%3D%20gt.convert(i.type)%3B%20Q.setTexture2D(i%2C%200)%2C%20_t.pixelStorei(37440%2C%20i.flipY)%2C%20_t.pixelStorei(37441%2C%20i.premultiplyAlpha)%2C%20_t.pixelStorei(3317%2C%20i.unpackAlignment)%2C%20e.isDataTexture%20%3F%20_t.texSubImage2D(3553%2C%20n%2C%20t.x%2C%20t.y%2C%20r%2C%20s%2C%20a%2C%20o%2C%20e.image.data)%20%3A%20e.isCompressedTexture%20%3F%20_t.compressedTexSubImage2D(3553%2C%20n%2C%20t.x%2C%20t.y%2C%20e.mipmaps%5B0%5D.width%2C%20e.mipmaps%5B0%5D.height%2C%20a%2C%20e.mipmaps%5B0%5D.data)%20%3A%20_t.texSubImage2D(3553%2C%20n%2C%20t.x%2C%20t.y%2C%20a%2C%20o%2C%20e.image)%2C%200%20%3D%3D%3D%20n%20%26%26%20i.generateMipmaps%20%26%26%20_t.generateMipmap(3553)%2C%20J.unbindTexture()%20%7D%2C%20this.copyTextureToTexture3D%20%3D%20function%20(t%2C%20e%2C%20i%2C%20n%2C%20r%20%3D%200)%20%7B%20if%20(g.isWebGL1Renderer)%20return%20void%20console.warn(%22THREE.WebGLRenderer.copyTextureToTexture3D%3A%20can%20only%20be%20used%20with%20WebGL2.%22)%3B%20const%20s%20%3D%20t.max.x%20-%20t.min.x%20%2B%201%2C%20a%20%3D%20t.max.y%20-%20t.min.y%20%2B%201%2C%20o%20%3D%20t.max.z%20-%20t.min.z%20%2B%201%2C%20l%20%3D%20gt.convert(n.format)%2C%20c%20%3D%20gt.convert(n.type)%3B%20let%20h%3B%20if%20(n.isData3DTexture)%20Q.setTexture3D(n%2C%200)%2C%20h%20%3D%2032879%3B%20else%20%7B%20if%20(!n.isDataArrayTexture)%20return%20void%20console.warn(%22THREE.WebGLRenderer.copyTextureToTexture3D%3A%20only%20supports%20THREE.DataTexture3D%20and%20THREE.DataTexture2DArray.%22)%3B%20Q.setTexture2DArray(n%2C%200)%2C%20h%20%3D%2035866%20%7D%20_t.pixelStorei(37440%2C%20n.flipY)%2C%20_t.pixelStorei(37441%2C%20n.premultiplyAlpha)%2C%20_t.pixelStorei(3317%2C%20n.unpackAlignment)%3B%20const%20u%20%3D%20_t.getParameter(3314)%2C%20d%20%3D%20_t.getParameter(32878)%2C%20p%20%3D%20_t.getParameter(3316)%2C%20m%20%3D%20_t.getParameter(3315)%2C%20f%20%3D%20_t.getParameter(32877)%2C%20v%20%3D%20i.isCompressedTexture%20%3F%20i.mipmaps%5B0%5D%20%3A%20i.image%3B%20_t.pixelStorei(3314%2C%20v.width)%2C%20_t.pixelStorei(32878%2C%20v.height)%2C%20_t.pixelStorei(3316%2C%20t.min.x)%2C%20_t.pixelStorei(3315%2C%20t.min.y)%2C%20_t.pixelStorei(32877%2C%20t.min.z)%2C%20i.isDataTexture%20%7C%7C%20i.isData3DTexture%20%3F%20_t.texSubImage3D(h%2C%20r%2C%20e.x%2C%20e.y%2C%20e.z%2C%20s%2C%20a%2C%20o%2C%20l%2C%20c%2C%20v.data)%20%3A%20i.isCompressedArrayTexture%20%3F%20(console.warn(%22THREE.WebGLRenderer.copyTextureToTexture3D%3A%20untested%20support%20for%20compressed%20srcTexture.%22)%2C%20_t.compressedTexSubImage3D(h%2C%20r%2C%20e.x%2C%20e.y%2C%20e.z%2C%20s%2C%20a%2C%20o%2C%20l%2C%20v.data))%20%3A%20_t.texSubImage3D(h%2C%20r%2C%20e.x%2C%20e.y%2C%20e.z%2C%20s%2C%20a%2C%20o%2C%20l%2C%20c%2C%20v)%2C%20_t.pixelStorei(3314%2C%20u)%2C%20_t.pixelStorei(32878%2C%20d)%2C%20_t.pixelStorei(3316%2C%20p)%2C%20_t.pixelStorei(3315%2C%20m)%2C%20_t.pixelStorei(32877%2C%20f)%2C%200%20%3D%3D%3D%20r%20%26%26%20n.generateMipmaps%20%26%26%20_t.generateMipmap(h)%2C%20J.unbindTexture()%20%7D%2C%20this.initTexture%20%3D%20function%20(t)%20%7B%20t.isCubeTexture%20%3F%20Q.setTextureCube(t%2C%200)%20%3A%20t.isData3DTexture%20%3F%20Q.setTexture3D(t%2C%200)%20%3A%20t.isDataArrayTexture%20%7C%7C%20t.isCompressedArrayTexture%20%3F%20Q.setTexture2DArray(t%2C%200)%20%3A%20Q.setTexture2D(t%2C%200)%2C%20J.unbindTexture()%20%7D%2C%20this.resetState%20%3D%20function%20()%20%7B%20y%20%3D%200%2C%20S%20%3D%200%2C%20T%20%3D%20null%2C%20J.reset()%2C%20vt.reset()%20%7D%2C%20%22undefined%22%20!%3D%20typeof%20__THREE_DEVTOOLS__%20%26%26%20__THREE_DEVTOOLS__.dispatchEvent(new%20CustomEvent(%22observe%22%2C%20%7B%20detail%3A%20this%20%7D))%20%7D%20class%20Ys%20extends%20Xs%20%7B%20%7D%20Ys.prototype.isWebGL1Renderer%20%3D%20!0%3B%20class%20Zs%20%7B%20constructor(t%2C%20e%20%3D%2025e-5)%20%7B%20this.isFogExp2%20%3D%20!0%2C%20this.name%20%3D%20%22%22%2C%20this.color%20%3D%20new%20qt(t)%2C%20this.density%20%3D%20e%20%7D%20clone()%20%7B%20return%20new%20Zs(this.color%2C%20this.density)%20%7D%20toJSON()%20%7B%20return%20%7B%20type%3A%20%22FogExp2%22%2C%20color%3A%20this.color.getHex()%2C%20density%3A%20this.density%20%7D%20%7D%20%7D%20class%20Js%20%7B%20constructor(t%2C%20e%20%3D%201%2C%20i%20%3D%201e3)%20%7B%20this.isFog%20%3D%20!0%2C%20this.name%20%3D%20%22%22%2C%20this.color%20%3D%20new%20qt(t)%2C%20this.near%20%3D%20e%2C%20this.far%20%3D%20i%20%7D%20clone()%20%7B%20return%20new%20Js(this.color%2C%20this.near%2C%20this.far)%20%7D%20toJSON()%20%7B%20return%20%7B%20type%3A%20%22Fog%22%2C%20color%3A%20this.color.getHex()%2C%20near%3A%20this.near%2C%20far%3A%20this.far%20%7D%20%7D%20%7D%20class%20Ks%20extends%20si%20%7B%20constructor()%20%7B%20super()%2C%20this.isScene%20%3D%20!0%2C%20this.type%20%3D%20%22Scene%22%2C%20this.background%20%3D%20null%2C%20this.environment%20%3D%20null%2C%20this.fog%20%3D%20null%2C%20this.backgroundBlurriness%20%3D%200%2C%20this.backgroundIntensity%20%3D%201%2C%20this.overrideMaterial%20%3D%20null%2C%20%22undefined%22%20!%3D%20typeof%20__THREE_DEVTOOLS__%20%26%26%20__THREE_DEVTOOLS__.dispatchEvent(new%20CustomEvent(%22observe%22%2C%20%7B%20detail%3A%20this%20%7D))%20%7D%20copy(t%2C%20e)%20%7B%20return%20super.copy(t%2C%20e)%2C%20null%20!%3D%3D%20t.background%20%26%26%20(this.background%20%3D%20t.background.clone())%2C%20null%20!%3D%3D%20t.environment%20%26%26%20(this.environment%20%3D%20t.environment.clone())%2C%20null%20!%3D%3D%20t.fog%20%26%26%20(this.fog%20%3D%20t.fog.clone())%2C%20this.backgroundBlurriness%20%3D%20t.backgroundBlurriness%2C%20this.backgroundIntensity%20%3D%20t.backgroundIntensity%2C%20null%20!%3D%3D%20t.overrideMaterial%20%26%26%20(this.overrideMaterial%20%3D%20t.overrideMaterial.clone())%2C%20this.matrixAutoUpdate%20%3D%20t.matrixAutoUpdate%2C%20this%20%7D%20toJSON(t)%20%7B%20const%20e%20%3D%20super.toJSON(t)%3B%20return%20null%20!%3D%3D%20this.fog%20%26%26%20(e.object.fog%20%3D%20this.fog.toJSON())%2C%20this.backgroundBlurriness%20%3E%200%20%26%26%20(e.backgroundBlurriness%20%3D%20this.backgroundBlurriness)%2C%201%20!%3D%3D%20this.backgroundIntensity%20%26%26%20(e.backgroundIntensity%20%3D%20this.backgroundIntensity)%2C%20e%20%7D%20get%20autoUpdate()%20%7B%20return%20console.warn(%22THREE.Scene%3A%20autoUpdate%20was%20renamed%20to%20matrixWorldAutoUpdate%20in%20r144.%22)%2C%20this.matrixWorldAutoUpdate%20%7D%20set%20autoUpdate(t)%20%7B%20console.warn(%22THREE.Scene%3A%20autoUpdate%20was%20renamed%20to%20matrixWorldAutoUpdate%20in%20r144.%22)%2C%20this.matrixWorldAutoUpdate%20%3D%20t%20%7D%20%7D%20class%20%24s%20%7B%20constructor(t%2C%20e)%20%7B%20this.isInterleavedBuffer%20%3D%20!0%2C%20this.array%20%3D%20t%2C%20this.stride%20%3D%20e%2C%20this.count%20%3D%20void%200%20!%3D%3D%20t%20%3F%20t.length%20%2F%20e%20%3A%200%2C%20this.usage%20%3D%20ut%2C%20this.updateRange%20%3D%20%7B%20offset%3A%200%2C%20count%3A%20-1%20%7D%2C%20this.version%20%3D%200%2C%20this.uuid%20%3D%20_t()%20%7D%20onUploadCallback()%20%7B%20%7D%20set%20needsUpdate(t)%20%7B%20!0%20%3D%3D%3D%20t%20%26%26%20this.version%2B%2B%20%7D%20setUsage(t)%20%7B%20return%20this.usage%20%3D%20t%2C%20this%20%7D%20copy(t)%20%7B%20return%20this.array%20%3D%20new%20t.array.constructor(t.array)%2C%20this.count%20%3D%20t.count%2C%20this.stride%20%3D%20t.stride%2C%20this.usage%20%3D%20t.usage%2C%20this%20%7D%20copyAt(t%2C%20e%2C%20i)%20%7B%20t%20*%3D%20this.stride%2C%20i%20*%3D%20e.stride%3B%20for%20(let%20n%20%3D%200%2C%20r%20%3D%20this.stride%3B%20n%20%3C%20r%3B%20n%2B%2B)this.array%5Bt%20%2B%20n%5D%20%3D%20e.array%5Bi%20%2B%20n%5D%3B%20return%20this%20%7D%20set(t%2C%20e%20%3D%200)%20%7B%20return%20this.array.set(t%2C%20e)%2C%20this%20%7D%20clone(t)%20%7B%20void%200%20%3D%3D%3D%20t.arrayBuffers%20%26%26%20(t.arrayBuffers%20%3D%20%7B%7D)%2C%20void%200%20%3D%3D%3D%20this.array.buffer._uuid%20%26%26%20(this.array.buffer._uuid%20%3D%20_t())%2C%20void%200%20%3D%3D%3D%20t.arrayBuffers%5Bthis.array.buffer._uuid%5D%20%26%26%20(t.arrayBuffers%5Bthis.array.buffer._uuid%5D%20%3D%20this.array.slice(0).buffer)%3B%20const%20e%20%3D%20new%20this.array.constructor(t.arrayBuffers%5Bthis.array.buffer._uuid%5D)%2C%20i%20%3D%20new%20this.constructor(e%2C%20this.stride)%3B%20return%20i.setUsage(this.usage)%2C%20i%20%7D%20onUpload(t)%20%7B%20return%20this.onUploadCallback%20%3D%20t%2C%20this%20%7D%20toJSON(t)%20%7B%20return%20void%200%20%3D%3D%3D%20t.arrayBuffers%20%26%26%20(t.arrayBuffers%20%3D%20%7B%7D)%2C%20void%200%20%3D%3D%3D%20this.array.buffer._uuid%20%26%26%20(this.array.buffer._uuid%20%3D%20_t())%2C%20void%200%20%3D%3D%3D%20t.arrayBuffers%5Bthis.array.buffer._uuid%5D%20%26%26%20(t.arrayBuffers%5Bthis.array.buffer._uuid%5D%20%3D%20Array.from(new%20Uint32Array(this.array.buffer)))%2C%20%7B%20uuid%3A%20this.uuid%2C%20buffer%3A%20this.array.buffer._uuid%2C%20type%3A%20this.array.constructor.name%2C%20stride%3A%20this.stride%20%7D%20%7D%20%7D%20const%20Qs%20%3D%20new%20re%3B%20class%20ta%20%7B%20constructor(t%2C%20e%2C%20i%2C%20n%20%3D%20!1)%20%7B%20this.isInterleavedBufferAttribute%20%3D%20!0%2C%20this.name%20%3D%20%22%22%2C%20this.data%20%3D%20t%2C%20this.itemSize%20%3D%20e%2C%20this.offset%20%3D%20i%2C%20this.normalized%20%3D%20n%20%7D%20get%20count()%20%7B%20return%20this.data.count%20%7D%20get%20array()%20%7B%20return%20this.data.array%20%7D%20set%20needsUpdate(t)%20%7B%20this.data.needsUpdate%20%3D%20t%20%7D%20applyMatrix4(t)%20%7B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20this.data.count%3B%20e%20%3C%20i%3B%20e%2B%2B)Qs.fromBufferAttribute(this%2C%20e)%2C%20Qs.applyMatrix4(t)%2C%20this.setXYZ(e%2C%20Qs.x%2C%20Qs.y%2C%20Qs.z)%3B%20return%20this%20%7D%20applyNormalMatrix(t)%20%7B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20this.count%3B%20e%20%3C%20i%3B%20e%2B%2B)Qs.fromBufferAttribute(this%2C%20e)%2C%20Qs.applyNormalMatrix(t)%2C%20this.setXYZ(e%2C%20Qs.x%2C%20Qs.y%2C%20Qs.z)%3B%20return%20this%20%7D%20transformDirection(t)%20%7B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20this.count%3B%20e%20%3C%20i%3B%20e%2B%2B)Qs.fromBufferAttribute(this%2C%20e)%2C%20Qs.transformDirection(t)%2C%20this.setXYZ(e%2C%20Qs.x%2C%20Qs.y%2C%20Qs.z)%3B%20return%20this%20%7D%20setX(t%2C%20e)%20%7B%20return%20this.normalized%20%26%26%20(e%20%3D%20Et(e%2C%20this.array))%2C%20this.data.array%5Bt%20*%20this.data.stride%20%2B%20this.offset%5D%20%3D%20e%2C%20this%20%7D%20setY(t%2C%20e)%20%7B%20return%20this.normalized%20%26%26%20(e%20%3D%20Et(e%2C%20this.array))%2C%20this.data.array%5Bt%20*%20this.data.stride%20%2B%20this.offset%20%2B%201%5D%20%3D%20e%2C%20this%20%7D%20setZ(t%2C%20e)%20%7B%20return%20this.normalized%20%26%26%20(e%20%3D%20Et(e%2C%20this.array))%2C%20this.data.array%5Bt%20*%20this.data.stride%20%2B%20this.offset%20%2B%202%5D%20%3D%20e%2C%20this%20%7D%20setW(t%2C%20e)%20%7B%20return%20this.normalized%20%26%26%20(e%20%3D%20Et(e%2C%20this.array))%2C%20this.data.array%5Bt%20*%20this.data.stride%20%2B%20this.offset%20%2B%203%5D%20%3D%20e%2C%20this%20%7D%20getX(t)%20%7B%20let%20e%20%3D%20this.data.array%5Bt%20*%20this.data.stride%20%2B%20this.offset%5D%3B%20return%20this.normalized%20%26%26%20(e%20%3D%20At(e%2C%20this.array))%2C%20e%20%7D%20getY(t)%20%7B%20let%20e%20%3D%20this.data.array%5Bt%20*%20this.data.stride%20%2B%20this.offset%20%2B%201%5D%3B%20return%20this.normalized%20%26%26%20(e%20%3D%20At(e%2C%20this.array))%2C%20e%20%7D%20getZ(t)%20%7B%20let%20e%20%3D%20this.data.array%5Bt%20*%20this.data.stride%20%2B%20this.offset%20%2B%202%5D%3B%20return%20this.normalized%20%26%26%20(e%20%3D%20At(e%2C%20this.array))%2C%20e%20%7D%20getW(t)%20%7B%20let%20e%20%3D%20this.data.array%5Bt%20*%20this.data.stride%20%2B%20this.offset%20%2B%203%5D%3B%20return%20this.normalized%20%26%26%20(e%20%3D%20At(e%2C%20this.array))%2C%20e%20%7D%20setXY(t%2C%20e%2C%20i)%20%7B%20return%20t%20%3D%20t%20*%20this.data.stride%20%2B%20this.offset%2C%20this.normalized%20%26%26%20(e%20%3D%20Et(e%2C%20this.array)%2C%20i%20%3D%20Et(i%2C%20this.array))%2C%20this.data.array%5Bt%20%2B%200%5D%20%3D%20e%2C%20this.data.array%5Bt%20%2B%201%5D%20%3D%20i%2C%20this%20%7D%20setXYZ(t%2C%20e%2C%20i%2C%20n)%20%7B%20return%20t%20%3D%20t%20*%20this.data.stride%20%2B%20this.offset%2C%20this.normalized%20%26%26%20(e%20%3D%20Et(e%2C%20this.array)%2C%20i%20%3D%20Et(i%2C%20this.array)%2C%20n%20%3D%20Et(n%2C%20this.array))%2C%20this.data.array%5Bt%20%2B%200%5D%20%3D%20e%2C%20this.data.array%5Bt%20%2B%201%5D%20%3D%20i%2C%20this.data.array%5Bt%20%2B%202%5D%20%3D%20n%2C%20this%20%7D%20setXYZW(t%2C%20e%2C%20i%2C%20n%2C%20r)%20%7B%20return%20t%20%3D%20t%20*%20this.data.stride%20%2B%20this.offset%2C%20this.normalized%20%26%26%20(e%20%3D%20Et(e%2C%20this.array)%2C%20i%20%3D%20Et(i%2C%20this.array)%2C%20n%20%3D%20Et(n%2C%20this.array)%2C%20r%20%3D%20Et(r%2C%20this.array))%2C%20this.data.array%5Bt%20%2B%200%5D%20%3D%20e%2C%20this.data.array%5Bt%20%2B%201%5D%20%3D%20i%2C%20this.data.array%5Bt%20%2B%202%5D%20%3D%20n%2C%20this.data.array%5Bt%20%2B%203%5D%20%3D%20r%2C%20this%20%7D%20clone(t)%20%7B%20if%20(void%200%20%3D%3D%3D%20t)%20%7B%20console.log(%22THREE.InterleavedBufferAttribute.clone()%3A%20Cloning%20an%20interleaved%20buffer%20attribute%20will%20de-interleave%20buffer%20data.%22)%3B%20const%20t%20%3D%20%5B%5D%3B%20for%20(let%20e%20%3D%200%3B%20e%20%3C%20this.count%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20e%20*%20this.data.stride%20%2B%20this.offset%3B%20for%20(let%20e%20%3D%200%3B%20e%20%3C%20this.itemSize%3B%20e%2B%2B)t.push(this.data.array%5Bi%20%2B%20e%5D)%20%7D%20return%20new%20bi(new%20this.array.constructor(t)%2C%20this.itemSize%2C%20this.normalized)%20%7D%20return%20void%200%20%3D%3D%3D%20t.interleavedBuffers%20%26%26%20(t.interleavedBuffers%20%3D%20%7B%7D)%2C%20void%200%20%3D%3D%3D%20t.interleavedBuffers%5Bthis.data.uuid%5D%20%26%26%20(t.interleavedBuffers%5Bthis.data.uuid%5D%20%3D%20this.data.clone(t))%2C%20new%20ta(t.interleavedBuffers%5Bthis.data.uuid%5D%2C%20this.itemSize%2C%20this.offset%2C%20this.normalized)%20%7D%20toJSON(t)%20%7B%20if%20(void%200%20%3D%3D%3D%20t)%20%7B%20console.log(%22THREE.InterleavedBufferAttribute.toJSON()%3A%20Serializing%20an%20interleaved%20buffer%20attribute%20will%20de-interleave%20buffer%20data.%22)%3B%20const%20t%20%3D%20%5B%5D%3B%20for%20(let%20e%20%3D%200%3B%20e%20%3C%20this.count%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20e%20*%20this.data.stride%20%2B%20this.offset%3B%20for%20(let%20e%20%3D%200%3B%20e%20%3C%20this.itemSize%3B%20e%2B%2B)t.push(this.data.array%5Bi%20%2B%20e%5D)%20%7D%20return%20%7B%20itemSize%3A%20this.itemSize%2C%20type%3A%20this.array.constructor.name%2C%20array%3A%20t%2C%20normalized%3A%20this.normalized%20%7D%20%7D%20return%20void%200%20%3D%3D%3D%20t.interleavedBuffers%20%26%26%20(t.interleavedBuffers%20%3D%20%7B%7D)%2C%20void%200%20%3D%3D%3D%20t.interleavedBuffers%5Bthis.data.uuid%5D%20%26%26%20(t.interleavedBuffers%5Bthis.data.uuid%5D%20%3D%20this.data.toJSON(t))%2C%20%7B%20isInterleavedBufferAttribute%3A%20!0%2C%20itemSize%3A%20this.itemSize%2C%20data%3A%20this.data.uuid%2C%20offset%3A%20this.offset%2C%20normalized%3A%20this.normalized%20%7D%20%7D%20%7D%20class%20ea%20extends%20xi%20%7B%20constructor(t)%20%7B%20super()%2C%20this.isSpriteMaterial%20%3D%20!0%2C%20this.type%20%3D%20%22SpriteMaterial%22%2C%20this.color%20%3D%20new%20qt(16777215)%2C%20this.map%20%3D%20null%2C%20this.alphaMap%20%3D%20null%2C%20this.rotation%20%3D%200%2C%20this.sizeAttenuation%20%3D%20!0%2C%20this.transparent%20%3D%20!0%2C%20this.fog%20%3D%20!0%2C%20this.setValues(t)%20%7D%20copy(t)%20%7B%20return%20super.copy(t)%2C%20this.color.copy(t.color)%2C%20this.map%20%3D%20t.map%2C%20this.alphaMap%20%3D%20t.alphaMap%2C%20this.rotation%20%3D%20t.rotation%2C%20this.sizeAttenuation%20%3D%20t.sizeAttenuation%2C%20this.fog%20%3D%20t.fog%2C%20this%20%7D%20%7D%20let%20ia%3B%20const%20na%20%3D%20new%20re%2C%20ra%20%3D%20new%20re%2C%20sa%20%3D%20new%20re%2C%20aa%20%3D%20new%20Lt%2C%20oa%20%3D%20new%20Lt%2C%20la%20%3D%20new%20Ne%2C%20ca%20%3D%20new%20re%2C%20ha%20%3D%20new%20re%2C%20ua%20%3D%20new%20re%2C%20da%20%3D%20new%20Lt%2C%20pa%20%3D%20new%20Lt%2C%20ma%20%3D%20new%20Lt%3B%20class%20fa%20extends%20si%20%7B%20constructor(t)%20%7B%20if%20(super()%2C%20this.isSprite%20%3D%20!0%2C%20this.type%20%3D%20%22Sprite%22%2C%20void%200%20%3D%3D%3D%20ia)%20%7B%20ia%20%3D%20new%20Di%3B%20const%20t%20%3D%20new%20Float32Array(%5B-.5%2C%20-.5%2C%200%2C%200%2C%200%2C%20.5%2C%20-.5%2C%200%2C%201%2C%200%2C%20.5%2C%20.5%2C%200%2C%201%2C%201%2C%20-.5%2C%20.5%2C%200%2C%200%2C%201%5D)%2C%20e%20%3D%20new%20%24s(t%2C%205)%3B%20ia.setIndex(%5B0%2C%201%2C%202%2C%200%2C%202%2C%203%5D)%2C%20ia.setAttribute(%22position%22%2C%20new%20ta(e%2C%203%2C%200%2C%20!1))%2C%20ia.setAttribute(%22uv%22%2C%20new%20ta(e%2C%202%2C%203%2C%20!1))%20%7D%20this.geometry%20%3D%20ia%2C%20this.material%20%3D%20void%200%20!%3D%3D%20t%20%3F%20t%20%3A%20new%20ea%2C%20this.center%20%3D%20new%20Lt(.5%2C%20.5)%20%7D%20raycast(t%2C%20e)%20%7B%20null%20%3D%3D%3D%20t.camera%20%26%26%20console.error('THREE.Sprite%3A%20%22Raycaster.camera%22%20needs%20to%20be%20set%20in%20order%20to%20raycast%20against%20sprites.')%2C%20ra.setFromMatrixScale(this.matrixWorld)%2C%20la.copy(t.camera.matrixWorld)%2C%20this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse%2C%20this.matrixWorld)%2C%20sa.setFromMatrixPosition(this.modelViewMatrix)%2C%20t.camera.isPerspectiveCamera%20%26%26%20!1%20%3D%3D%3D%20this.material.sizeAttenuation%20%26%26%20ra.multiplyScalar(-sa.z)%3B%20const%20i%20%3D%20this.material.rotation%3B%20let%20n%2C%20r%3B%200%20!%3D%3D%20i%20%26%26%20(r%20%3D%20Math.cos(i)%2C%20n%20%3D%20Math.sin(i))%3B%20const%20s%20%3D%20this.center%3B%20ga(ca.set(-.5%2C%20-.5%2C%200)%2C%20sa%2C%20s%2C%20ra%2C%20n%2C%20r)%2C%20ga(ha.set(.5%2C%20-.5%2C%200)%2C%20sa%2C%20s%2C%20ra%2C%20n%2C%20r)%2C%20ga(ua.set(.5%2C%20.5%2C%200)%2C%20sa%2C%20s%2C%20ra%2C%20n%2C%20r)%2C%20da.set(0%2C%200)%2C%20pa.set(1%2C%200)%2C%20ma.set(1%2C%201)%3B%20let%20a%20%3D%20t.ray.intersectTriangle(ca%2C%20ha%2C%20ua%2C%20!1%2C%20na)%3B%20if%20(null%20%3D%3D%3D%20a%20%26%26%20(ga(ha.set(-.5%2C%20.5%2C%200)%2C%20sa%2C%20s%2C%20ra%2C%20n%2C%20r)%2C%20pa.set(0%2C%201)%2C%20a%20%3D%20t.ray.intersectTriangle(ca%2C%20ua%2C%20ha%2C%20!1%2C%20na)%2C%20null%20%3D%3D%3D%20a))%20return%3B%20const%20o%20%3D%20t.ray.origin.distanceTo(na)%3B%20o%20%3C%20t.near%20%7C%7C%20o%20%3E%20t.far%20%7C%7C%20e.push(%7B%20distance%3A%20o%2C%20point%3A%20na.clone()%2C%20uv%3A%20gi.getUV(na%2C%20ca%2C%20ha%2C%20ua%2C%20da%2C%20pa%2C%20ma%2C%20new%20Lt)%2C%20face%3A%20null%2C%20object%3A%20this%20%7D)%20%7D%20copy(t%2C%20e)%20%7B%20return%20super.copy(t%2C%20e)%2C%20void%200%20!%3D%3D%20t.center%20%26%26%20this.center.copy(t.center)%2C%20this.material%20%3D%20t.material%2C%20this%20%7D%20%7D%20function%20ga(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s)%20%7B%20aa.subVectors(t%2C%20i).addScalar(.5).multiply(n)%2C%20void%200%20!%3D%3D%20r%20%3F%20(oa.x%20%3D%20s%20*%20aa.x%20-%20r%20*%20aa.y%2C%20oa.y%20%3D%20r%20*%20aa.x%20%2B%20s%20*%20aa.y)%20%3A%20oa.copy(aa)%2C%20t.copy(e)%2C%20t.x%20%2B%3D%20oa.x%2C%20t.y%20%2B%3D%20oa.y%2C%20t.applyMatrix4(la)%20%7D%20const%20va%20%3D%20new%20re%2C%20xa%20%3D%20new%20re%3B%20class%20_a%20extends%20si%20%7B%20constructor()%20%7B%20super()%2C%20this._currentLevel%20%3D%200%2C%20this.type%20%3D%20%22LOD%22%2C%20Object.defineProperties(this%2C%20%7B%20levels%3A%20%7B%20enumerable%3A%20!0%2C%20value%3A%20%5B%5D%20%7D%2C%20isLOD%3A%20%7B%20value%3A%20!0%20%7D%20%7D)%2C%20this.autoUpdate%20%3D%20!0%20%7D%20copy(t)%20%7B%20super.copy(t%2C%20!1)%3B%20const%20e%20%3D%20t.levels%3B%20for%20(let%20t%20%3D%200%2C%20i%20%3D%20e.length%3B%20t%20%3C%20i%3B%20t%2B%2B)%20%7B%20const%20i%20%3D%20e%5Bt%5D%3B%20this.addLevel(i.object.clone()%2C%20i.distance%2C%20i.hysteresis)%20%7D%20return%20this.autoUpdate%20%3D%20t.autoUpdate%2C%20this%20%7D%20addLevel(t%2C%20e%20%3D%200%2C%20i%20%3D%200)%20%7B%20e%20%3D%20Math.abs(e)%3B%20const%20n%20%3D%20this.levels%3B%20let%20r%3B%20for%20(r%20%3D%200%3B%20r%20%3C%20n.length%20%26%26%20!(e%20%3C%20n%5Br%5D.distance)%3B%20r%2B%2B)%3B%20return%20n.splice(r%2C%200%2C%20%7B%20distance%3A%20e%2C%20hysteresis%3A%20i%2C%20object%3A%20t%20%7D)%2C%20this.add(t)%2C%20this%20%7D%20getCurrentLevel()%20%7B%20return%20this._currentLevel%20%7D%20getObjectForDistance(t)%20%7B%20const%20e%20%3D%20this.levels%3B%20if%20(e.length%20%3E%200)%20%7B%20let%20i%2C%20n%3B%20for%20(i%20%3D%201%2C%20n%20%3D%20e.length%3B%20i%20%3C%20n%3B%20i%2B%2B)%20%7B%20let%20n%20%3D%20e%5Bi%5D.distance%3B%20if%20(e%5Bi%5D.object.visible%20%26%26%20(n%20-%3D%20n%20*%20e%5Bi%5D.hysteresis)%2C%20t%20%3C%20n)%20break%20%7D%20return%20e%5Bi%20-%201%5D.object%20%7D%20return%20null%20%7D%20raycast(t%2C%20e)%20%7B%20if%20(this.levels.length%20%3E%200)%20%7B%20va.setFromMatrixPosition(this.matrixWorld)%3B%20const%20i%20%3D%20t.ray.origin.distanceTo(va)%3B%20this.getObjectForDistance(i).raycast(t%2C%20e)%20%7D%20%7D%20update(t)%20%7B%20const%20e%20%3D%20this.levels%3B%20if%20(e.length%20%3E%201)%20%7B%20va.setFromMatrixPosition(t.matrixWorld)%2C%20xa.setFromMatrixPosition(this.matrixWorld)%3B%20const%20i%20%3D%20va.distanceTo(xa)%20%2F%20t.zoom%3B%20let%20n%2C%20r%3B%20for%20(e%5B0%5D.object.visible%20%3D%20!0%2C%20n%20%3D%201%2C%20r%20%3D%20e.length%3B%20n%20%3C%20r%3B%20n%2B%2B)%20%7B%20let%20t%20%3D%20e%5Bn%5D.distance%3B%20if%20(e%5Bn%5D.object.visible%20%26%26%20(t%20-%3D%20t%20*%20e%5Bn%5D.hysteresis)%2C%20!(i%20%3E%3D%20t))%20break%3B%20e%5Bn%20-%201%5D.object.visible%20%3D%20!1%2C%20e%5Bn%5D.object.visible%20%3D%20!0%20%7D%20for%20(this._currentLevel%20%3D%20n%20-%201%3B%20n%20%3C%20r%3B%20n%2B%2B)e%5Bn%5D.object.visible%20%3D%20!1%20%7D%20%7D%20toJSON(t)%20%7B%20const%20e%20%3D%20super.toJSON(t)%3B%20!1%20%3D%3D%3D%20this.autoUpdate%20%26%26%20(e.object.autoUpdate%20%3D%20!1)%2C%20e.object.levels%20%3D%20%5B%5D%3B%20const%20i%20%3D%20this.levels%3B%20for%20(let%20t%20%3D%200%2C%20n%20%3D%20i.length%3B%20t%20%3C%20n%3B%20t%2B%2B)%20%7B%20const%20n%20%3D%20i%5Bt%5D%3B%20e.object.levels.push(%7B%20object%3A%20n.object.uuid%2C%20distance%3A%20n.distance%2C%20hysteresis%3A%20n.hysteresis%20%7D)%20%7D%20return%20e%20%7D%20%7D%20const%20ya%20%3D%20new%20re%2C%20Ma%20%3D%20new%20Qt%2C%20ba%20%3D%20new%20Qt%2C%20Sa%20%3D%20new%20re%2C%20wa%20%3D%20new%20Ne%3B%20class%20Ta%20extends%20Xi%20%7B%20constructor(t%2C%20e)%20%7B%20super(t%2C%20e)%2C%20this.isSkinnedMesh%20%3D%20!0%2C%20this.type%20%3D%20%22SkinnedMesh%22%2C%20this.bindMode%20%3D%20%22attached%22%2C%20this.bindMatrix%20%3D%20new%20Ne%2C%20this.bindMatrixInverse%20%3D%20new%20Ne%20%7D%20copy(t%2C%20e)%20%7B%20return%20super.copy(t%2C%20e)%2C%20this.bindMode%20%3D%20t.bindMode%2C%20this.bindMatrix.copy(t.bindMatrix)%2C%20this.bindMatrixInverse.copy(t.bindMatrixInverse)%2C%20this.skeleton%20%3D%20t.skeleton%2C%20this%20%7D%20bind(t%2C%20e)%20%7B%20this.skeleton%20%3D%20t%2C%20void%200%20%3D%3D%3D%20e%20%26%26%20(this.updateMatrixWorld(!0)%2C%20this.skeleton.calculateInverses()%2C%20e%20%3D%20this.matrixWorld)%2C%20this.bindMatrix.copy(e)%2C%20this.bindMatrixInverse.copy(e).invert()%20%7D%20pose()%20%7B%20this.skeleton.pose()%20%7D%20normalizeSkinWeights()%20%7B%20const%20t%20%3D%20new%20Qt%2C%20e%20%3D%20this.geometry.attributes.skinWeight%3B%20for%20(let%20i%20%3D%200%2C%20n%20%3D%20e.count%3B%20i%20%3C%20n%3B%20i%2B%2B)%20%7B%20t.fromBufferAttribute(e%2C%20i)%3B%20const%20n%20%3D%201%20%2F%20t.manhattanLength()%3B%20n%20!%3D%3D%201%20%2F%200%20%3F%20t.multiplyScalar(n)%20%3A%20t.set(1%2C%200%2C%200%2C%200)%2C%20e.setXYZW(i%2C%20t.x%2C%20t.y%2C%20t.z%2C%20t.w)%20%7D%20%7D%20updateMatrixWorld(t)%20%7B%20super.updateMatrixWorld(t)%2C%20%22attached%22%20%3D%3D%3D%20this.bindMode%20%3F%20this.bindMatrixInverse.copy(this.matrixWorld).invert()%20%3A%20%22detached%22%20%3D%3D%3D%20this.bindMode%20%3F%20this.bindMatrixInverse.copy(this.bindMatrix).invert()%20%3A%20console.warn(%22THREE.SkinnedMesh%3A%20Unrecognized%20bindMode%3A%20%22%20%2B%20this.bindMode)%20%7D%20boneTransform(t%2C%20e)%20%7B%20const%20i%20%3D%20this.skeleton%2C%20n%20%3D%20this.geometry%3B%20Ma.fromBufferAttribute(n.attributes.skinIndex%2C%20t)%2C%20ba.fromBufferAttribute(n.attributes.skinWeight%2C%20t)%2C%20ya.copy(e).applyMatrix4(this.bindMatrix)%2C%20e.set(0%2C%200%2C%200)%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%204%3B%20t%2B%2B)%20%7B%20const%20n%20%3D%20ba.getComponent(t)%3B%20if%20(0%20!%3D%3D%20n)%20%7B%20const%20r%20%3D%20Ma.getComponent(t)%3B%20wa.multiplyMatrices(i.bones%5Br%5D.matrixWorld%2C%20i.boneInverses%5Br%5D)%2C%20e.addScaledVector(Sa.copy(ya).applyMatrix4(wa)%2C%20n)%20%7D%20%7D%20return%20e.applyMatrix4(this.bindMatrixInverse)%20%7D%20%7D%20class%20Aa%20extends%20si%20%7B%20constructor()%20%7B%20super()%2C%20this.isBone%20%3D%20!0%2C%20this.type%20%3D%20%22Bone%22%20%7D%20%7D%20class%20Ea%20extends%20%24t%20%7B%20constructor(t%20%3D%20null%2C%20e%20%3D%201%2C%20i%20%3D%201%2C%20n%2C%20r%2C%20s%2C%20a%2C%20o%2C%20l%20%3D%201003%2C%20c%20%3D%201003%2C%20h%2C%20u)%20%7B%20super(null%2C%20s%2C%20a%2C%20o%2C%20l%2C%20c%2C%20n%2C%20r%2C%20h%2C%20u)%2C%20this.isDataTexture%20%3D%20!0%2C%20this.image%20%3D%20%7B%20data%3A%20t%2C%20width%3A%20e%2C%20height%3A%20i%20%7D%2C%20this.generateMipmaps%20%3D%20!1%2C%20this.flipY%20%3D%20!1%2C%20this.unpackAlignment%20%3D%201%20%7D%20%7D%20const%20Ca%20%3D%20new%20Ne%2C%20La%20%3D%20new%20Ne%3B%20class%20Ra%20%7B%20constructor(t%20%3D%20%5B%5D%2C%20e%20%3D%20%5B%5D)%20%7B%20this.uuid%20%3D%20_t()%2C%20this.bones%20%3D%20t.slice(0)%2C%20this.boneInverses%20%3D%20e%2C%20this.boneMatrices%20%3D%20null%2C%20this.boneTexture%20%3D%20null%2C%20this.boneTextureSize%20%3D%200%2C%20this.frame%20%3D%20-1%2C%20this.init()%20%7D%20init()%20%7B%20const%20t%20%3D%20this.bones%2C%20e%20%3D%20this.boneInverses%3B%20if%20(this.boneMatrices%20%3D%20new%20Float32Array(16%20*%20t.length)%2C%200%20%3D%3D%3D%20e.length)%20this.calculateInverses()%3B%20else%20if%20(t.length%20!%3D%3D%20e.length)%20%7B%20console.warn(%22THREE.Skeleton%3A%20Number%20of%20inverse%20bone%20matrices%20does%20not%20match%20amount%20of%20bones.%22)%2C%20this.boneInverses%20%3D%20%5B%5D%3B%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20this.bones.length%3B%20t%20%3C%20e%3B%20t%2B%2B)this.boneInverses.push(new%20Ne)%20%7D%20%7D%20calculateInverses()%20%7B%20this.boneInverses.length%20%3D%200%3B%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20this.bones.length%3B%20t%20%3C%20e%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20new%20Ne%3B%20this.bones%5Bt%5D%20%26%26%20e.copy(this.bones%5Bt%5D.matrixWorld).invert()%2C%20this.boneInverses.push(e)%20%7D%20%7D%20pose()%20%7B%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20this.bones.length%3B%20t%20%3C%20e%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20this.bones%5Bt%5D%3B%20e%20%26%26%20e.matrixWorld.copy(this.boneInverses%5Bt%5D).invert()%20%7D%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20this.bones.length%3B%20t%20%3C%20e%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20this.bones%5Bt%5D%3B%20e%20%26%26%20(e.parent%20%26%26%20e.parent.isBone%20%3F%20(e.matrix.copy(e.parent.matrixWorld).invert()%2C%20e.matrix.multiply(e.matrixWorld))%20%3A%20e.matrix.copy(e.matrixWorld)%2C%20e.matrix.decompose(e.position%2C%20e.quaternion%2C%20e.scale))%20%7D%20%7D%20update()%20%7B%20const%20t%20%3D%20this.bones%2C%20e%20%3D%20this.boneInverses%2C%20i%20%3D%20this.boneMatrices%2C%20n%20%3D%20this.boneTexture%3B%20for%20(let%20n%20%3D%200%2C%20r%20%3D%20t.length%3B%20n%20%3C%20r%3B%20n%2B%2B)%20%7B%20const%20r%20%3D%20t%5Bn%5D%20%3F%20t%5Bn%5D.matrixWorld%20%3A%20La%3B%20Ca.multiplyMatrices(r%2C%20e%5Bn%5D)%2C%20Ca.toArray(i%2C%2016%20*%20n)%20%7D%20null%20!%3D%3D%20n%20%26%26%20(n.needsUpdate%20%3D%20!0)%20%7D%20clone()%20%7B%20return%20new%20Ra(this.bones%2C%20this.boneInverses)%20%7D%20computeBoneTexture()%20%7B%20let%20t%20%3D%20Math.sqrt(4%20*%20this.bones.length)%3B%20t%20%3D%20wt(t)%2C%20t%20%3D%20Math.max(t%2C%204)%3B%20const%20e%20%3D%20new%20Float32Array(t%20*%20t%20*%204)%3B%20e.set(this.boneMatrices)%3B%20const%20i%20%3D%20new%20Ea(e%2C%20t%2C%20t%2C%20w%2C%20M)%3B%20return%20i.needsUpdate%20%3D%20!0%2C%20this.boneMatrices%20%3D%20e%2C%20this.boneTexture%20%3D%20i%2C%20this.boneTextureSize%20%3D%20t%2C%20this%20%7D%20getBoneByName(t)%20%7B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20this.bones.length%3B%20e%20%3C%20i%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20this.bones%5Be%5D%3B%20if%20(i.name%20%3D%3D%3D%20t)%20return%20i%20%7D%20%7D%20dispose()%20%7B%20null%20!%3D%3D%20this.boneTexture%20%26%26%20(this.boneTexture.dispose()%2C%20this.boneTexture%20%3D%20null)%20%7D%20fromJSON(t%2C%20e)%20%7B%20this.uuid%20%3D%20t.uuid%3B%20for%20(let%20i%20%3D%200%2C%20n%20%3D%20t.bones.length%3B%20i%20%3C%20n%3B%20i%2B%2B)%20%7B%20const%20n%20%3D%20t.bones%5Bi%5D%3B%20let%20r%20%3D%20e%5Bn%5D%3B%20void%200%20%3D%3D%3D%20r%20%26%26%20(console.warn(%22THREE.Skeleton%3A%20No%20bone%20found%20with%20UUID%3A%22%2C%20n)%2C%20r%20%3D%20new%20Aa)%2C%20this.bones.push(r)%2C%20this.boneInverses.push((new%20Ne).fromArray(t.boneInverses%5Bi%5D))%20%7D%20return%20this.init()%2C%20this%20%7D%20toJSON()%20%7B%20const%20t%20%3D%20%7B%20metadata%3A%20%7B%20version%3A%204.5%2C%20type%3A%20%22Skeleton%22%2C%20generator%3A%20%22Skeleton.toJSON%22%20%7D%2C%20bones%3A%20%5B%5D%2C%20boneInverses%3A%20%5B%5D%20%7D%3B%20t.uuid%20%3D%20this.uuid%3B%20const%20e%20%3D%20this.bones%2C%20i%20%3D%20this.boneInverses%3B%20for%20(let%20n%20%3D%200%2C%20r%20%3D%20e.length%3B%20n%20%3C%20r%3B%20n%2B%2B)%20%7B%20const%20r%20%3D%20e%5Bn%5D%3B%20t.bones.push(r.uuid)%3B%20const%20s%20%3D%20i%5Bn%5D%3B%20t.boneInverses.push(s.toArray())%20%7D%20return%20t%20%7D%20%7D%20class%20Pa%20extends%20bi%20%7B%20constructor(t%2C%20e%2C%20i%2C%20n%20%3D%201)%20%7B%20super(t%2C%20e%2C%20i)%2C%20this.isInstancedBufferAttribute%20%3D%20!0%2C%20this.meshPerAttribute%20%3D%20n%20%7D%20copy(t)%20%7B%20return%20super.copy(t)%2C%20this.meshPerAttribute%20%3D%20t.meshPerAttribute%2C%20this%20%7D%20toJSON()%20%7B%20const%20t%20%3D%20super.toJSON()%3B%20return%20t.meshPerAttribute%20%3D%20this.meshPerAttribute%2C%20t.isInstancedBufferAttribute%20%3D%20!0%2C%20t%20%7D%20%7D%20const%20Ia%20%3D%20new%20Ne%2C%20Da%20%3D%20new%20Ne%2C%20Na%20%3D%20%5B%5D%2C%20Oa%20%3D%20new%20Ne%2C%20za%20%3D%20new%20Xi%3B%20class%20Ua%20extends%20Xi%20%7B%20constructor(t%2C%20e%2C%20i)%20%7B%20super(t%2C%20e)%2C%20this.isInstancedMesh%20%3D%20!0%2C%20this.instanceMatrix%20%3D%20new%20Pa(new%20Float32Array(16%20*%20i)%2C%2016)%2C%20this.instanceColor%20%3D%20null%2C%20this.count%20%3D%20i%2C%20this.frustumCulled%20%3D%20!1%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20i%3B%20t%2B%2B)this.setMatrixAt(t%2C%20Oa)%20%7D%20copy(t%2C%20e)%20%7B%20return%20super.copy(t%2C%20e)%2C%20this.instanceMatrix.copy(t.instanceMatrix)%2C%20null%20!%3D%3D%20t.instanceColor%20%26%26%20(this.instanceColor%20%3D%20t.instanceColor.clone())%2C%20this.count%20%3D%20t.count%2C%20this%20%7D%20getColorAt(t%2C%20e)%20%7B%20e.fromArray(this.instanceColor.array%2C%203%20*%20t)%20%7D%20getMatrixAt(t%2C%20e)%20%7B%20e.fromArray(this.instanceMatrix.array%2C%2016%20*%20t)%20%7D%20raycast(t%2C%20e)%20%7B%20const%20i%20%3D%20this.matrixWorld%2C%20n%20%3D%20this.count%3B%20if%20(za.geometry%20%3D%20this.geometry%2C%20za.material%20%3D%20this.material%2C%20void%200%20!%3D%3D%20za.material)%20for%20(let%20r%20%3D%200%3B%20r%20%3C%20n%3B%20r%2B%2B)%20%7B%20this.getMatrixAt(r%2C%20Ia)%2C%20Da.multiplyMatrices(i%2C%20Ia)%2C%20za.matrixWorld%20%3D%20Da%2C%20za.raycast(t%2C%20Na)%3B%20for%20(let%20t%20%3D%200%2C%20i%20%3D%20Na.length%3B%20t%20%3C%20i%3B%20t%2B%2B)%20%7B%20const%20i%20%3D%20Na%5Bt%5D%3B%20i.instanceId%20%3D%20r%2C%20i.object%20%3D%20this%2C%20e.push(i)%20%7D%20Na.length%20%3D%200%20%7D%20%7D%20setColorAt(t%2C%20e)%20%7B%20null%20%3D%3D%3D%20this.instanceColor%20%26%26%20(this.instanceColor%20%3D%20new%20Pa(new%20Float32Array(3%20*%20this.instanceMatrix.count)%2C%203))%2C%20e.toArray(this.instanceColor.array%2C%203%20*%20t)%20%7D%20setMatrixAt(t%2C%20e)%20%7B%20e.toArray(this.instanceMatrix.array%2C%2016%20*%20t)%20%7D%20updateMorphTargets()%20%7B%20%7D%20dispose()%20%7B%20this.dispatchEvent(%7B%20type%3A%20%22dispose%22%20%7D)%20%7D%20%7D%20class%20Ba%20extends%20xi%20%7B%20constructor(t)%20%7B%20super()%2C%20this.isLineBasicMaterial%20%3D%20!0%2C%20this.type%20%3D%20%22LineBasicMaterial%22%2C%20this.color%20%3D%20new%20qt(16777215)%2C%20this.linewidth%20%3D%201%2C%20this.linecap%20%3D%20%22round%22%2C%20this.linejoin%20%3D%20%22round%22%2C%20this.fog%20%3D%20!0%2C%20this.setValues(t)%20%7D%20copy(t)%20%7B%20return%20super.copy(t)%2C%20this.color.copy(t.color)%2C%20this.linewidth%20%3D%20t.linewidth%2C%20this.linecap%20%3D%20t.linecap%2C%20this.linejoin%20%3D%20t.linejoin%2C%20this.fog%20%3D%20t.fog%2C%20this%20%7D%20%7D%20const%20Fa%20%3D%20new%20re%2C%20ka%20%3D%20new%20re%2C%20Ga%20%3D%20new%20Ne%2C%20Va%20%3D%20new%20De%2C%20Ha%20%3D%20new%20Te%3B%20class%20Wa%20extends%20si%20%7B%20constructor(t%20%3D%20new%20Di%2C%20e%20%3D%20new%20Ba)%20%7B%20super()%2C%20this.isLine%20%3D%20!0%2C%20this.type%20%3D%20%22Line%22%2C%20this.geometry%20%3D%20t%2C%20this.material%20%3D%20e%2C%20this.updateMorphTargets()%20%7D%20copy(t%2C%20e)%20%7B%20return%20super.copy(t%2C%20e)%2C%20this.material%20%3D%20t.material%2C%20this.geometry%20%3D%20t.geometry%2C%20this%20%7D%20computeLineDistances()%20%7B%20const%20t%20%3D%20this.geometry%3B%20if%20(null%20%3D%3D%3D%20t.index)%20%7B%20const%20e%20%3D%20t.attributes.position%2C%20i%20%3D%20%5B0%5D%3B%20for%20(let%20t%20%3D%201%2C%20n%20%3D%20e.count%3B%20t%20%3C%20n%3B%20t%2B%2B)Fa.fromBufferAttribute(e%2C%20t%20-%201)%2C%20ka.fromBufferAttribute(e%2C%20t)%2C%20i%5Bt%5D%20%3D%20i%5Bt%20-%201%5D%2C%20i%5Bt%5D%20%2B%3D%20Fa.distanceTo(ka)%3B%20t.setAttribute(%22lineDistance%22%2C%20new%20Ti(i%2C%201))%20%7D%20else%20console.warn(%22THREE.Line.computeLineDistances()%3A%20Computation%20only%20possible%20with%20non-indexed%20BufferGeometry.%22)%3B%20return%20this%20%7D%20raycast(t%2C%20e)%20%7B%20const%20i%20%3D%20this.geometry%2C%20n%20%3D%20this.matrixWorld%2C%20r%20%3D%20t.params.Line.threshold%2C%20s%20%3D%20i.drawRange%3B%20if%20(null%20%3D%3D%3D%20i.boundingSphere%20%26%26%20i.computeBoundingSphere()%2C%20Ha.copy(i.boundingSphere)%2C%20Ha.applyMatrix4(n)%2C%20Ha.radius%20%2B%3D%20r%2C%20!1%20%3D%3D%3D%20t.ray.intersectsSphere(Ha))%20return%3B%20Ga.copy(n).invert()%2C%20Va.copy(t.ray).applyMatrix4(Ga)%3B%20const%20a%20%3D%20r%20%2F%20((this.scale.x%20%2B%20this.scale.y%20%2B%20this.scale.z)%20%2F%203)%2C%20o%20%3D%20a%20*%20a%2C%20l%20%3D%20new%20re%2C%20c%20%3D%20new%20re%2C%20h%20%3D%20new%20re%2C%20u%20%3D%20new%20re%2C%20d%20%3D%20this.isLineSegments%20%3F%202%20%3A%201%2C%20p%20%3D%20i.index%2C%20m%20%3D%20i.attributes.position%3B%20if%20(null%20!%3D%3D%20p)%20%7B%20for%20(let%20i%20%3D%20Math.max(0%2C%20s.start)%2C%20n%20%3D%20Math.min(p.count%2C%20s.start%20%2B%20s.count)%20-%201%3B%20i%20%3C%20n%3B%20i%20%2B%3D%20d)%20%7B%20const%20n%20%3D%20p.getX(i)%2C%20r%20%3D%20p.getX(i%20%2B%201)%3B%20l.fromBufferAttribute(m%2C%20n)%2C%20c.fromBufferAttribute(m%2C%20r)%3B%20if%20(Va.distanceSqToSegment(l%2C%20c%2C%20u%2C%20h)%20%3E%20o)%20continue%3B%20u.applyMatrix4(this.matrixWorld)%3B%20const%20s%20%3D%20t.ray.origin.distanceTo(u)%3B%20s%20%3C%20t.near%20%7C%7C%20s%20%3E%20t.far%20%7C%7C%20e.push(%7B%20distance%3A%20s%2C%20point%3A%20h.clone().applyMatrix4(this.matrixWorld)%2C%20index%3A%20i%2C%20face%3A%20null%2C%20faceIndex%3A%20null%2C%20object%3A%20this%20%7D)%20%7D%20%7D%20else%20%7B%20for%20(let%20i%20%3D%20Math.max(0%2C%20s.start)%2C%20n%20%3D%20Math.min(m.count%2C%20s.start%20%2B%20s.count)%20-%201%3B%20i%20%3C%20n%3B%20i%20%2B%3D%20d)%20%7B%20l.fromBufferAttribute(m%2C%20i)%2C%20c.fromBufferAttribute(m%2C%20i%20%2B%201)%3B%20if%20(Va.distanceSqToSegment(l%2C%20c%2C%20u%2C%20h)%20%3E%20o)%20continue%3B%20u.applyMatrix4(this.matrixWorld)%3B%20const%20n%20%3D%20t.ray.origin.distanceTo(u)%3B%20n%20%3C%20t.near%20%7C%7C%20n%20%3E%20t.far%20%7C%7C%20e.push(%7B%20distance%3A%20n%2C%20point%3A%20h.clone().applyMatrix4(this.matrixWorld)%2C%20index%3A%20i%2C%20face%3A%20null%2C%20faceIndex%3A%20null%2C%20object%3A%20this%20%7D)%20%7D%20%7D%20%7D%20updateMorphTargets()%20%7B%20const%20t%20%3D%20this.geometry.morphAttributes%2C%20e%20%3D%20Object.keys(t)%3B%20if%20(e.length%20%3E%200)%20%7B%20const%20i%20%3D%20t%5Be%5B0%5D%5D%3B%20if%20(void%200%20!%3D%3D%20i)%20%7B%20this.morphTargetInfluences%20%3D%20%5B%5D%2C%20this.morphTargetDictionary%20%3D%20%7B%7D%3B%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20i.length%3B%20t%20%3C%20e%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20i%5Bt%5D.name%20%7C%7C%20String(t)%3B%20this.morphTargetInfluences.push(0)%2C%20this.morphTargetDictionary%5Be%5D%20%3D%20t%20%7D%20%7D%20%7D%20%7D%20%7D%20const%20ja%20%3D%20new%20re%2C%20qa%20%3D%20new%20re%3B%20class%20Xa%20extends%20Wa%20%7B%20constructor(t%2C%20e)%20%7B%20super(t%2C%20e)%2C%20this.isLineSegments%20%3D%20!0%2C%20this.type%20%3D%20%22LineSegments%22%20%7D%20computeLineDistances()%20%7B%20const%20t%20%3D%20this.geometry%3B%20if%20(null%20%3D%3D%3D%20t.index)%20%7B%20const%20e%20%3D%20t.attributes.position%2C%20i%20%3D%20%5B%5D%3B%20for%20(let%20t%20%3D%200%2C%20n%20%3D%20e.count%3B%20t%20%3C%20n%3B%20t%20%2B%3D%202)ja.fromBufferAttribute(e%2C%20t)%2C%20qa.fromBufferAttribute(e%2C%20t%20%2B%201)%2C%20i%5Bt%5D%20%3D%200%20%3D%3D%3D%20t%20%3F%200%20%3A%20i%5Bt%20-%201%5D%2C%20i%5Bt%20%2B%201%5D%20%3D%20i%5Bt%5D%20%2B%20ja.distanceTo(qa)%3B%20t.setAttribute(%22lineDistance%22%2C%20new%20Ti(i%2C%201))%20%7D%20else%20console.warn(%22THREE.LineSegments.computeLineDistances()%3A%20Computation%20only%20possible%20with%20non-indexed%20BufferGeometry.%22)%3B%20return%20this%20%7D%20%7D%20class%20Ya%20extends%20Wa%20%7B%20constructor(t%2C%20e)%20%7B%20super(t%2C%20e)%2C%20this.isLineLoop%20%3D%20!0%2C%20this.type%20%3D%20%22LineLoop%22%20%7D%20%7D%20class%20Za%20extends%20xi%20%7B%20constructor(t)%20%7B%20super()%2C%20this.isPointsMaterial%20%3D%20!0%2C%20this.type%20%3D%20%22PointsMaterial%22%2C%20this.color%20%3D%20new%20qt(16777215)%2C%20this.map%20%3D%20null%2C%20this.alphaMap%20%3D%20null%2C%20this.size%20%3D%201%2C%20this.sizeAttenuation%20%3D%20!0%2C%20this.fog%20%3D%20!0%2C%20this.setValues(t)%20%7D%20copy(t)%20%7B%20return%20super.copy(t)%2C%20this.color.copy(t.color)%2C%20this.map%20%3D%20t.map%2C%20this.alphaMap%20%3D%20t.alphaMap%2C%20this.size%20%3D%20t.size%2C%20this.sizeAttenuation%20%3D%20t.sizeAttenuation%2C%20this.fog%20%3D%20t.fog%2C%20this%20%7D%20%7D%20const%20Ja%20%3D%20new%20Ne%2C%20Ka%20%3D%20new%20De%2C%20%24a%20%3D%20new%20Te%2C%20Qa%20%3D%20new%20re%3B%20class%20to%20extends%20si%20%7B%20constructor(t%20%3D%20new%20Di%2C%20e%20%3D%20new%20Za)%20%7B%20super()%2C%20this.isPoints%20%3D%20!0%2C%20this.type%20%3D%20%22Points%22%2C%20this.geometry%20%3D%20t%2C%20this.material%20%3D%20e%2C%20this.updateMorphTargets()%20%7D%20copy(t%2C%20e)%20%7B%20return%20super.copy(t%2C%20e)%2C%20this.material%20%3D%20t.material%2C%20this.geometry%20%3D%20t.geometry%2C%20this%20%7D%20raycast(t%2C%20e)%20%7B%20const%20i%20%3D%20this.geometry%2C%20n%20%3D%20this.matrixWorld%2C%20r%20%3D%20t.params.Points.threshold%2C%20s%20%3D%20i.drawRange%3B%20if%20(null%20%3D%3D%3D%20i.boundingSphere%20%26%26%20i.computeBoundingSphere()%2C%20%24a.copy(i.boundingSphere)%2C%20%24a.applyMatrix4(n)%2C%20%24a.radius%20%2B%3D%20r%2C%20!1%20%3D%3D%3D%20t.ray.intersectsSphere(%24a))%20return%3B%20Ja.copy(n).invert()%2C%20Ka.copy(t.ray).applyMatrix4(Ja)%3B%20const%20a%20%3D%20r%20%2F%20((this.scale.x%20%2B%20this.scale.y%20%2B%20this.scale.z)%20%2F%203)%2C%20o%20%3D%20a%20*%20a%2C%20l%20%3D%20i.index%2C%20c%20%3D%20i.attributes.position%3B%20if%20(null%20!%3D%3D%20l)%20%7B%20for%20(let%20i%20%3D%20Math.max(0%2C%20s.start)%2C%20r%20%3D%20Math.min(l.count%2C%20s.start%20%2B%20s.count)%3B%20i%20%3C%20r%3B%20i%2B%2B)%20%7B%20const%20r%20%3D%20l.getX(i)%3B%20Qa.fromBufferAttribute(c%2C%20r)%2C%20eo(Qa%2C%20r%2C%20o%2C%20n%2C%20t%2C%20e%2C%20this)%20%7D%20%7D%20else%20%7B%20for%20(let%20i%20%3D%20Math.max(0%2C%20s.start)%2C%20r%20%3D%20Math.min(c.count%2C%20s.start%20%2B%20s.count)%3B%20i%20%3C%20r%3B%20i%2B%2B)Qa.fromBufferAttribute(c%2C%20i)%2C%20eo(Qa%2C%20i%2C%20o%2C%20n%2C%20t%2C%20e%2C%20this)%20%7D%20%7D%20updateMorphTargets()%20%7B%20const%20t%20%3D%20this.geometry.morphAttributes%2C%20e%20%3D%20Object.keys(t)%3B%20if%20(e.length%20%3E%200)%20%7B%20const%20i%20%3D%20t%5Be%5B0%5D%5D%3B%20if%20(void%200%20!%3D%3D%20i)%20%7B%20this.morphTargetInfluences%20%3D%20%5B%5D%2C%20this.morphTargetDictionary%20%3D%20%7B%7D%3B%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20i.length%3B%20t%20%3C%20e%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20i%5Bt%5D.name%20%7C%7C%20String(t)%3B%20this.morphTargetInfluences.push(0)%2C%20this.morphTargetDictionary%5Be%5D%20%3D%20t%20%7D%20%7D%20%7D%20%7D%20%7D%20function%20eo(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%20a)%20%7B%20const%20o%20%3D%20Ka.distanceSqToPoint(t)%3B%20if%20(o%20%3C%20i)%20%7B%20const%20i%20%3D%20new%20re%3B%20Ka.closestPointToPoint(t%2C%20i)%2C%20i.applyMatrix4(n)%3B%20const%20l%20%3D%20r.ray.origin.distanceTo(i)%3B%20if%20(l%20%3C%20r.near%20%7C%7C%20l%20%3E%20r.far)%20return%3B%20s.push(%7B%20distance%3A%20l%2C%20distanceToRay%3A%20Math.sqrt(o)%2C%20point%3A%20i%2C%20index%3A%20e%2C%20face%3A%20null%2C%20object%3A%20a%20%7D)%20%7D%20%7D%20class%20io%20extends%20%24t%20%7B%20constructor(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%20a%2C%20o%2C%20l%2C%20c%2C%20h%2C%20u)%20%7B%20super(null%2C%20s%2C%20a%2C%20o%2C%20l%2C%20c%2C%20n%2C%20r%2C%20h%2C%20u)%2C%20this.isCompressedTexture%20%3D%20!0%2C%20this.image%20%3D%20%7B%20width%3A%20e%2C%20height%3A%20i%20%7D%2C%20this.mipmaps%20%3D%20t%2C%20this.flipY%20%3D%20!1%2C%20this.generateMipmaps%20%3D%20!1%20%7D%20%7D%20class%20no%20%7B%20constructor()%20%7B%20this.type%20%3D%20%22Curve%22%2C%20this.arcLengthDivisions%20%3D%20200%20%7D%20getPoint()%20%7B%20return%20console.warn(%22THREE.Curve%3A%20.getPoint()%20not%20implemented.%22)%2C%20null%20%7D%20getPointAt(t%2C%20e)%20%7B%20const%20i%20%3D%20this.getUtoTmapping(t)%3B%20return%20this.getPoint(i%2C%20e)%20%7D%20getPoints(t%20%3D%205)%20%7B%20const%20e%20%3D%20%5B%5D%3B%20for%20(let%20i%20%3D%200%3B%20i%20%3C%3D%20t%3B%20i%2B%2B)e.push(this.getPoint(i%20%2F%20t))%3B%20return%20e%20%7D%20getSpacedPoints(t%20%3D%205)%20%7B%20const%20e%20%3D%20%5B%5D%3B%20for%20(let%20i%20%3D%200%3B%20i%20%3C%3D%20t%3B%20i%2B%2B)e.push(this.getPointAt(i%20%2F%20t))%3B%20return%20e%20%7D%20getLength()%20%7B%20const%20t%20%3D%20this.getLengths()%3B%20return%20t%5Bt.length%20-%201%5D%20%7D%20getLengths(t%20%3D%20this.arcLengthDivisions)%20%7B%20if%20(this.cacheArcLengths%20%26%26%20this.cacheArcLengths.length%20%3D%3D%3D%20t%20%2B%201%20%26%26%20!this.needsUpdate)%20return%20this.cacheArcLengths%3B%20this.needsUpdate%20%3D%20!1%3B%20const%20e%20%3D%20%5B%5D%3B%20let%20i%2C%20n%20%3D%20this.getPoint(0)%2C%20r%20%3D%200%3B%20e.push(0)%3B%20for%20(let%20s%20%3D%201%3B%20s%20%3C%3D%20t%3B%20s%2B%2B)i%20%3D%20this.getPoint(s%20%2F%20t)%2C%20r%20%2B%3D%20i.distanceTo(n)%2C%20e.push(r)%2C%20n%20%3D%20i%3B%20return%20this.cacheArcLengths%20%3D%20e%2C%20e%20%7D%20updateArcLengths()%20%7B%20this.needsUpdate%20%3D%20!0%2C%20this.getLengths()%20%7D%20getUtoTmapping(t%2C%20e)%20%7B%20const%20i%20%3D%20this.getLengths()%3B%20let%20n%20%3D%200%3B%20const%20r%20%3D%20i.length%3B%20let%20s%3B%20s%20%3D%20e%20%7C%7C%20t%20*%20i%5Br%20-%201%5D%3B%20let%20a%2C%20o%20%3D%200%2C%20l%20%3D%20r%20-%201%3B%20for%20(%3B%20o%20%3C%3D%20l%3B)if%20(n%20%3D%20Math.floor(o%20%2B%20(l%20-%20o)%20%2F%202)%2C%20a%20%3D%20i%5Bn%5D%20-%20s%2C%20a%20%3C%200)%20o%20%3D%20n%20%2B%201%3B%20else%20%7B%20if%20(!(a%20%3E%200))%20%7B%20l%20%3D%20n%3B%20break%20%7D%20l%20%3D%20n%20-%201%20%7D%20if%20(n%20%3D%20l%2C%20i%5Bn%5D%20%3D%3D%3D%20s)%20return%20n%20%2F%20(r%20-%201)%3B%20const%20c%20%3D%20i%5Bn%5D%3B%20return%20(n%20%2B%20(s%20-%20c)%20%2F%20(i%5Bn%20%2B%201%5D%20-%20c))%20%2F%20(r%20-%201)%20%7D%20getTangent(t%2C%20e)%20%7B%20const%20i%20%3D%201e-4%3B%20let%20n%20%3D%20t%20-%20i%2C%20r%20%3D%20t%20%2B%20i%3B%20n%20%3C%200%20%26%26%20(n%20%3D%200)%2C%20r%20%3E%201%20%26%26%20(r%20%3D%201)%3B%20const%20s%20%3D%20this.getPoint(n)%2C%20a%20%3D%20this.getPoint(r)%2C%20o%20%3D%20e%20%7C%7C%20(s.isVector2%20%3F%20new%20Lt%20%3A%20new%20re)%3B%20return%20o.copy(a).sub(s).normalize()%2C%20o%20%7D%20getTangentAt(t%2C%20e)%20%7B%20const%20i%20%3D%20this.getUtoTmapping(t)%3B%20return%20this.getTangent(i%2C%20e)%20%7D%20computeFrenetFrames(t%2C%20e)%20%7B%20const%20i%20%3D%20new%20re%2C%20n%20%3D%20%5B%5D%2C%20r%20%3D%20%5B%5D%2C%20s%20%3D%20%5B%5D%2C%20a%20%3D%20new%20re%2C%20o%20%3D%20new%20Ne%3B%20for%20(let%20e%20%3D%200%3B%20e%20%3C%3D%20t%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20e%20%2F%20t%3B%20n%5Be%5D%20%3D%20this.getTangentAt(i%2C%20new%20re)%20%7D%20r%5B0%5D%20%3D%20new%20re%2C%20s%5B0%5D%20%3D%20new%20re%3B%20let%20l%20%3D%20Number.MAX_VALUE%3B%20const%20c%20%3D%20Math.abs(n%5B0%5D.x)%2C%20h%20%3D%20Math.abs(n%5B0%5D.y)%2C%20u%20%3D%20Math.abs(n%5B0%5D.z)%3B%20c%20%3C%3D%20l%20%26%26%20(l%20%3D%20c%2C%20i.set(1%2C%200%2C%200))%2C%20h%20%3C%3D%20l%20%26%26%20(l%20%3D%20h%2C%20i.set(0%2C%201%2C%200))%2C%20u%20%3C%3D%20l%20%26%26%20i.set(0%2C%200%2C%201)%2C%20a.crossVectors(n%5B0%5D%2C%20i).normalize()%2C%20r%5B0%5D.crossVectors(n%5B0%5D%2C%20a)%2C%20s%5B0%5D.crossVectors(n%5B0%5D%2C%20r%5B0%5D)%3B%20for%20(let%20e%20%3D%201%3B%20e%20%3C%3D%20t%3B%20e%2B%2B)%20%7B%20if%20(r%5Be%5D%20%3D%20r%5Be%20-%201%5D.clone()%2C%20s%5Be%5D%20%3D%20s%5Be%20-%201%5D.clone()%2C%20a.crossVectors(n%5Be%20-%201%5D%2C%20n%5Be%5D)%2C%20a.length()%20%3E%20Number.EPSILON)%20%7B%20a.normalize()%3B%20const%20t%20%3D%20Math.acos(yt(n%5Be%20-%201%5D.dot(n%5Be%5D)%2C%20-1%2C%201))%3B%20r%5Be%5D.applyMatrix4(o.makeRotationAxis(a%2C%20t))%20%7D%20s%5Be%5D.crossVectors(n%5Be%5D%2C%20r%5Be%5D)%20%7D%20if%20(!0%20%3D%3D%3D%20e)%20%7B%20let%20e%20%3D%20Math.acos(yt(r%5B0%5D.dot(r%5Bt%5D)%2C%20-1%2C%201))%3B%20e%20%2F%3D%20t%2C%20n%5B0%5D.dot(a.crossVectors(r%5B0%5D%2C%20r%5Bt%5D))%20%3E%200%20%26%26%20(e%20%3D%20-e)%3B%20for%20(let%20i%20%3D%201%3B%20i%20%3C%3D%20t%3B%20i%2B%2B)r%5Bi%5D.applyMatrix4(o.makeRotationAxis(n%5Bi%5D%2C%20e%20*%20i))%2C%20s%5Bi%5D.crossVectors(n%5Bi%5D%2C%20r%5Bi%5D)%20%7D%20return%20%7B%20tangents%3A%20n%2C%20normals%3A%20r%2C%20binormals%3A%20s%20%7D%20%7D%20clone()%20%7B%20return%20(new%20this.constructor).copy(this)%20%7D%20copy(t)%20%7B%20return%20this.arcLengthDivisions%20%3D%20t.arcLengthDivisions%2C%20this%20%7D%20toJSON()%20%7B%20const%20t%20%3D%20%7B%20metadata%3A%20%7B%20version%3A%204.5%2C%20type%3A%20%22Curve%22%2C%20generator%3A%20%22Curve.toJSON%22%20%7D%20%7D%3B%20return%20t.arcLengthDivisions%20%3D%20this.arcLengthDivisions%2C%20t.type%20%3D%20this.type%2C%20t%20%7D%20fromJSON(t)%20%7B%20return%20this.arcLengthDivisions%20%3D%20t.arcLengthDivisions%2C%20this%20%7D%20%7D%20class%20ro%20extends%20no%20%7B%20constructor(t%20%3D%200%2C%20e%20%3D%200%2C%20i%20%3D%201%2C%20n%20%3D%201%2C%20r%20%3D%200%2C%20s%20%3D%202%20*%20Math.PI%2C%20a%20%3D%20!1%2C%20o%20%3D%200)%20%7B%20super()%2C%20this.isEllipseCurve%20%3D%20!0%2C%20this.type%20%3D%20%22EllipseCurve%22%2C%20this.aX%20%3D%20t%2C%20this.aY%20%3D%20e%2C%20this.xRadius%20%3D%20i%2C%20this.yRadius%20%3D%20n%2C%20this.aStartAngle%20%3D%20r%2C%20this.aEndAngle%20%3D%20s%2C%20this.aClockwise%20%3D%20a%2C%20this.aRotation%20%3D%20o%20%7D%20getPoint(t%2C%20e)%20%7B%20const%20i%20%3D%20e%20%7C%7C%20new%20Lt%2C%20n%20%3D%202%20*%20Math.PI%3B%20let%20r%20%3D%20this.aEndAngle%20-%20this.aStartAngle%3B%20const%20s%20%3D%20Math.abs(r)%20%3C%20Number.EPSILON%3B%20for%20(%3B%20r%20%3C%200%3B)r%20%2B%3D%20n%3B%20for%20(%3B%20r%20%3E%20n%3B)r%20-%3D%20n%3B%20r%20%3C%20Number.EPSILON%20%26%26%20(r%20%3D%20s%20%3F%200%20%3A%20n)%2C%20!0%20!%3D%3D%20this.aClockwise%20%7C%7C%20s%20%7C%7C%20(r%20%3D%3D%3D%20n%20%3F%20r%20%3D%20-n%20%3A%20r%20-%3D%20n)%3B%20const%20a%20%3D%20this.aStartAngle%20%2B%20t%20*%20r%3B%20let%20o%20%3D%20this.aX%20%2B%20this.xRadius%20*%20Math.cos(a)%2C%20l%20%3D%20this.aY%20%2B%20this.yRadius%20*%20Math.sin(a)%3B%20if%20(0%20!%3D%3D%20this.aRotation)%20%7B%20const%20t%20%3D%20Math.cos(this.aRotation)%2C%20e%20%3D%20Math.sin(this.aRotation)%2C%20i%20%3D%20o%20-%20this.aX%2C%20n%20%3D%20l%20-%20this.aY%3B%20o%20%3D%20i%20*%20t%20-%20n%20*%20e%20%2B%20this.aX%2C%20l%20%3D%20i%20*%20e%20%2B%20n%20*%20t%20%2B%20this.aY%20%7D%20return%20i.set(o%2C%20l)%20%7D%20copy(t)%20%7B%20return%20super.copy(t)%2C%20this.aX%20%3D%20t.aX%2C%20this.aY%20%3D%20t.aY%2C%20this.xRadius%20%3D%20t.xRadius%2C%20this.yRadius%20%3D%20t.yRadius%2C%20this.aStartAngle%20%3D%20t.aStartAngle%2C%20this.aEndAngle%20%3D%20t.aEndAngle%2C%20this.aClockwise%20%3D%20t.aClockwise%2C%20this.aRotation%20%3D%20t.aRotation%2C%20this%20%7D%20toJSON()%20%7B%20const%20t%20%3D%20super.toJSON()%3B%20return%20t.aX%20%3D%20this.aX%2C%20t.aY%20%3D%20this.aY%2C%20t.xRadius%20%3D%20this.xRadius%2C%20t.yRadius%20%3D%20this.yRadius%2C%20t.aStartAngle%20%3D%20this.aStartAngle%2C%20t.aEndAngle%20%3D%20this.aEndAngle%2C%20t.aClockwise%20%3D%20this.aClockwise%2C%20t.aRotation%20%3D%20this.aRotation%2C%20t%20%7D%20fromJSON(t)%20%7B%20return%20super.fromJSON(t)%2C%20this.aX%20%3D%20t.aX%2C%20this.aY%20%3D%20t.aY%2C%20this.xRadius%20%3D%20t.xRadius%2C%20this.yRadius%20%3D%20t.yRadius%2C%20this.aStartAngle%20%3D%20t.aStartAngle%2C%20this.aEndAngle%20%3D%20t.aEndAngle%2C%20this.aClockwise%20%3D%20t.aClockwise%2C%20this.aRotation%20%3D%20t.aRotation%2C%20this%20%7D%20%7D%20class%20so%20extends%20ro%20%7B%20constructor(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s)%20%7B%20super(t%2C%20e%2C%20i%2C%20i%2C%20n%2C%20r%2C%20s)%2C%20this.isArcCurve%20%3D%20!0%2C%20this.type%20%3D%20%22ArcCurve%22%20%7D%20%7D%20function%20ao()%20%7B%20let%20t%20%3D%200%2C%20e%20%3D%200%2C%20i%20%3D%200%2C%20n%20%3D%200%3B%20function%20r(r%2C%20s%2C%20a%2C%20o)%20%7B%20t%20%3D%20r%2C%20e%20%3D%20a%2C%20i%20%3D%20-3%20*%20r%20%2B%203%20*%20s%20-%202%20*%20a%20-%20o%2C%20n%20%3D%202%20*%20r%20-%202%20*%20s%20%2B%20a%20%2B%20o%20%7D%20return%20%7B%20initCatmullRom%3A%20function%20(t%2C%20e%2C%20i%2C%20n%2C%20s)%20%7B%20r(e%2C%20i%2C%20s%20*%20(i%20-%20t)%2C%20s%20*%20(n%20-%20e))%20%7D%2C%20initNonuniformCatmullRom%3A%20function%20(t%2C%20e%2C%20i%2C%20n%2C%20s%2C%20a%2C%20o)%20%7B%20let%20l%20%3D%20(e%20-%20t)%20%2F%20s%20-%20(i%20-%20t)%20%2F%20(s%20%2B%20a)%20%2B%20(i%20-%20e)%20%2F%20a%2C%20c%20%3D%20(i%20-%20e)%20%2F%20a%20-%20(n%20-%20e)%20%2F%20(a%20%2B%20o)%20%2B%20(n%20-%20i)%20%2F%20o%3B%20l%20*%3D%20a%2C%20c%20*%3D%20a%2C%20r(e%2C%20i%2C%20l%2C%20c)%20%7D%2C%20calc%3A%20function%20(r)%20%7B%20const%20s%20%3D%20r%20*%20r%3B%20return%20t%20%2B%20e%20*%20r%20%2B%20i%20*%20s%20%2B%20n%20*%20(s%20*%20r)%20%7D%20%7D%20%7D%20const%20oo%20%3D%20new%20re%2C%20lo%20%3D%20new%20ao%2C%20co%20%3D%20new%20ao%2C%20ho%20%3D%20new%20ao%3B%20class%20uo%20extends%20no%20%7B%20constructor(t%20%3D%20%5B%5D%2C%20e%20%3D%20!1%2C%20i%20%3D%20%22centripetal%22%2C%20n%20%3D%20.5)%20%7B%20super()%2C%20this.isCatmullRomCurve3%20%3D%20!0%2C%20this.type%20%3D%20%22CatmullRomCurve3%22%2C%20this.points%20%3D%20t%2C%20this.closed%20%3D%20e%2C%20this.curveType%20%3D%20i%2C%20this.tension%20%3D%20n%20%7D%20getPoint(t%2C%20e%20%3D%20new%20re)%20%7B%20const%20i%20%3D%20e%2C%20n%20%3D%20this.points%2C%20r%20%3D%20n.length%2C%20s%20%3D%20(r%20-%20(this.closed%20%3F%200%20%3A%201))%20*%20t%3B%20let%20a%2C%20o%2C%20l%20%3D%20Math.floor(s)%2C%20c%20%3D%20s%20-%20l%3B%20this.closed%20%3F%20l%20%2B%3D%20l%20%3E%200%20%3F%200%20%3A%20(Math.floor(Math.abs(l)%20%2F%20r)%20%2B%201)%20*%20r%20%3A%200%20%3D%3D%3D%20c%20%26%26%20l%20%3D%3D%3D%20r%20-%201%20%26%26%20(l%20%3D%20r%20-%202%2C%20c%20%3D%201)%2C%20this.closed%20%7C%7C%20l%20%3E%200%20%3F%20a%20%3D%20n%5B(l%20-%201)%20%25%20r%5D%20%3A%20(oo.subVectors(n%5B0%5D%2C%20n%5B1%5D).add(n%5B0%5D)%2C%20a%20%3D%20oo)%3B%20const%20h%20%3D%20n%5Bl%20%25%20r%5D%2C%20u%20%3D%20n%5B(l%20%2B%201)%20%25%20r%5D%3B%20if%20(this.closed%20%7C%7C%20l%20%2B%202%20%3C%20r%20%3F%20o%20%3D%20n%5B(l%20%2B%202)%20%25%20r%5D%20%3A%20(oo.subVectors(n%5Br%20-%201%5D%2C%20n%5Br%20-%202%5D).add(n%5Br%20-%201%5D)%2C%20o%20%3D%20oo)%2C%20%22centripetal%22%20%3D%3D%3D%20this.curveType%20%7C%7C%20%22chordal%22%20%3D%3D%3D%20this.curveType)%20%7B%20const%20t%20%3D%20%22chordal%22%20%3D%3D%3D%20this.curveType%20%3F%20.5%20%3A%20.25%3B%20let%20e%20%3D%20Math.pow(a.distanceToSquared(h)%2C%20t)%2C%20i%20%3D%20Math.pow(h.distanceToSquared(u)%2C%20t)%2C%20n%20%3D%20Math.pow(u.distanceToSquared(o)%2C%20t)%3B%20i%20%3C%201e-4%20%26%26%20(i%20%3D%201)%2C%20e%20%3C%201e-4%20%26%26%20(e%20%3D%20i)%2C%20n%20%3C%201e-4%20%26%26%20(n%20%3D%20i)%2C%20lo.initNonuniformCatmullRom(a.x%2C%20h.x%2C%20u.x%2C%20o.x%2C%20e%2C%20i%2C%20n)%2C%20co.initNonuniformCatmullRom(a.y%2C%20h.y%2C%20u.y%2C%20o.y%2C%20e%2C%20i%2C%20n)%2C%20ho.initNonuniformCatmullRom(a.z%2C%20h.z%2C%20u.z%2C%20o.z%2C%20e%2C%20i%2C%20n)%20%7D%20else%20%22catmullrom%22%20%3D%3D%3D%20this.curveType%20%26%26%20(lo.initCatmullRom(a.x%2C%20h.x%2C%20u.x%2C%20o.x%2C%20this.tension)%2C%20co.initCatmullRom(a.y%2C%20h.y%2C%20u.y%2C%20o.y%2C%20this.tension)%2C%20ho.initCatmullRom(a.z%2C%20h.z%2C%20u.z%2C%20o.z%2C%20this.tension))%3B%20return%20i.set(lo.calc(c)%2C%20co.calc(c)%2C%20ho.calc(c))%2C%20i%20%7D%20copy(t)%20%7B%20super.copy(t)%2C%20this.points%20%3D%20%5B%5D%3B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20t.points.length%3B%20e%20%3C%20i%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20t.points%5Be%5D%3B%20this.points.push(i.clone())%20%7D%20return%20this.closed%20%3D%20t.closed%2C%20this.curveType%20%3D%20t.curveType%2C%20this.tension%20%3D%20t.tension%2C%20this%20%7D%20toJSON()%20%7B%20const%20t%20%3D%20super.toJSON()%3B%20t.points%20%3D%20%5B%5D%3B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20this.points.length%3B%20e%20%3C%20i%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20this.points%5Be%5D%3B%20t.points.push(i.toArray())%20%7D%20return%20t.closed%20%3D%20this.closed%2C%20t.curveType%20%3D%20this.curveType%2C%20t.tension%20%3D%20this.tension%2C%20t%20%7D%20fromJSON(t)%20%7B%20super.fromJSON(t)%2C%20this.points%20%3D%20%5B%5D%3B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20t.points.length%3B%20e%20%3C%20i%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20t.points%5Be%5D%3B%20this.points.push((new%20re).fromArray(i))%20%7D%20return%20this.closed%20%3D%20t.closed%2C%20this.curveType%20%3D%20t.curveType%2C%20this.tension%20%3D%20t.tension%2C%20this%20%7D%20%7D%20function%20po(t%2C%20e%2C%20i%2C%20n%2C%20r)%20%7B%20const%20s%20%3D%20.5%20*%20(n%20-%20e)%2C%20a%20%3D%20.5%20*%20(r%20-%20i)%2C%20o%20%3D%20t%20*%20t%3B%20return%20(2%20*%20i%20-%202%20*%20n%20%2B%20s%20%2B%20a)%20*%20(t%20*%20o)%20%2B%20(-3%20*%20i%20%2B%203%20*%20n%20-%202%20*%20s%20-%20a)%20*%20o%20%2B%20s%20*%20t%20%2B%20i%20%7D%20function%20mo(t%2C%20e%2C%20i%2C%20n)%20%7B%20return%20function%20(t%2C%20e)%20%7B%20const%20i%20%3D%201%20-%20t%3B%20return%20i%20*%20i%20*%20e%20%7D(t%2C%20e)%20%2B%20function%20(t%2C%20e)%20%7B%20return%202%20*%20(1%20-%20t)%20*%20t%20*%20e%20%7D(t%2C%20i)%20%2B%20function%20(t%2C%20e)%20%7B%20return%20t%20*%20t%20*%20e%20%7D(t%2C%20n)%20%7D%20function%20fo(t%2C%20e%2C%20i%2C%20n%2C%20r)%20%7B%20return%20function%20(t%2C%20e)%20%7B%20const%20i%20%3D%201%20-%20t%3B%20return%20i%20*%20i%20*%20i%20*%20e%20%7D(t%2C%20e)%20%2B%20function%20(t%2C%20e)%20%7B%20const%20i%20%3D%201%20-%20t%3B%20return%203%20*%20i%20*%20i%20*%20t%20*%20e%20%7D(t%2C%20i)%20%2B%20function%20(t%2C%20e)%20%7B%20return%203%20*%20(1%20-%20t)%20*%20t%20*%20t%20*%20e%20%7D(t%2C%20n)%20%2B%20function%20(t%2C%20e)%20%7B%20return%20t%20*%20t%20*%20t%20*%20e%20%7D(t%2C%20r)%20%7D%20class%20go%20extends%20no%20%7B%20constructor(t%20%3D%20new%20Lt%2C%20e%20%3D%20new%20Lt%2C%20i%20%3D%20new%20Lt%2C%20n%20%3D%20new%20Lt)%20%7B%20super()%2C%20this.isCubicBezierCurve%20%3D%20!0%2C%20this.type%20%3D%20%22CubicBezierCurve%22%2C%20this.v0%20%3D%20t%2C%20this.v1%20%3D%20e%2C%20this.v2%20%3D%20i%2C%20this.v3%20%3D%20n%20%7D%20getPoint(t%2C%20e%20%3D%20new%20Lt)%20%7B%20const%20i%20%3D%20e%2C%20n%20%3D%20this.v0%2C%20r%20%3D%20this.v1%2C%20s%20%3D%20this.v2%2C%20a%20%3D%20this.v3%3B%20return%20i.set(fo(t%2C%20n.x%2C%20r.x%2C%20s.x%2C%20a.x)%2C%20fo(t%2C%20n.y%2C%20r.y%2C%20s.y%2C%20a.y))%2C%20i%20%7D%20copy(t)%20%7B%20return%20super.copy(t)%2C%20this.v0.copy(t.v0)%2C%20this.v1.copy(t.v1)%2C%20this.v2.copy(t.v2)%2C%20this.v3.copy(t.v3)%2C%20this%20%7D%20toJSON()%20%7B%20const%20t%20%3D%20super.toJSON()%3B%20return%20t.v0%20%3D%20this.v0.toArray()%2C%20t.v1%20%3D%20this.v1.toArray()%2C%20t.v2%20%3D%20this.v2.toArray()%2C%20t.v3%20%3D%20this.v3.toArray()%2C%20t%20%7D%20fromJSON(t)%20%7B%20return%20super.fromJSON(t)%2C%20this.v0.fromArray(t.v0)%2C%20this.v1.fromArray(t.v1)%2C%20this.v2.fromArray(t.v2)%2C%20this.v3.fromArray(t.v3)%2C%20this%20%7D%20%7D%20class%20vo%20extends%20no%20%7B%20constructor(t%20%3D%20new%20re%2C%20e%20%3D%20new%20re%2C%20i%20%3D%20new%20re%2C%20n%20%3D%20new%20re)%20%7B%20super()%2C%20this.isCubicBezierCurve3%20%3D%20!0%2C%20this.type%20%3D%20%22CubicBezierCurve3%22%2C%20this.v0%20%3D%20t%2C%20this.v1%20%3D%20e%2C%20this.v2%20%3D%20i%2C%20this.v3%20%3D%20n%20%7D%20getPoint(t%2C%20e%20%3D%20new%20re)%20%7B%20const%20i%20%3D%20e%2C%20n%20%3D%20this.v0%2C%20r%20%3D%20this.v1%2C%20s%20%3D%20this.v2%2C%20a%20%3D%20this.v3%3B%20return%20i.set(fo(t%2C%20n.x%2C%20r.x%2C%20s.x%2C%20a.x)%2C%20fo(t%2C%20n.y%2C%20r.y%2C%20s.y%2C%20a.y)%2C%20fo(t%2C%20n.z%2C%20r.z%2C%20s.z%2C%20a.z))%2C%20i%20%7D%20copy(t)%20%7B%20return%20super.copy(t)%2C%20this.v0.copy(t.v0)%2C%20this.v1.copy(t.v1)%2C%20this.v2.copy(t.v2)%2C%20this.v3.copy(t.v3)%2C%20this%20%7D%20toJSON()%20%7B%20const%20t%20%3D%20super.toJSON()%3B%20return%20t.v0%20%3D%20this.v0.toArray()%2C%20t.v1%20%3D%20this.v1.toArray()%2C%20t.v2%20%3D%20this.v2.toArray()%2C%20t.v3%20%3D%20this.v3.toArray()%2C%20t%20%7D%20fromJSON(t)%20%7B%20return%20super.fromJSON(t)%2C%20this.v0.fromArray(t.v0)%2C%20this.v1.fromArray(t.v1)%2C%20this.v2.fromArray(t.v2)%2C%20this.v3.fromArray(t.v3)%2C%20this%20%7D%20%7D%20class%20xo%20extends%20no%20%7B%20constructor(t%20%3D%20new%20Lt%2C%20e%20%3D%20new%20Lt)%20%7B%20super()%2C%20this.isLineCurve%20%3D%20!0%2C%20this.type%20%3D%20%22LineCurve%22%2C%20this.v1%20%3D%20t%2C%20this.v2%20%3D%20e%20%7D%20getPoint(t%2C%20e%20%3D%20new%20Lt)%20%7B%20const%20i%20%3D%20e%3B%20return%201%20%3D%3D%3D%20t%20%3F%20i.copy(this.v2)%20%3A%20(i.copy(this.v2).sub(this.v1)%2C%20i.multiplyScalar(t).add(this.v1))%2C%20i%20%7D%20getPointAt(t%2C%20e)%20%7B%20return%20this.getPoint(t%2C%20e)%20%7D%20getTangent(t%2C%20e)%20%7B%20const%20i%20%3D%20e%20%7C%7C%20new%20Lt%3B%20return%20i.copy(this.v2).sub(this.v1).normalize()%2C%20i%20%7D%20copy(t)%20%7B%20return%20super.copy(t)%2C%20this.v1.copy(t.v1)%2C%20this.v2.copy(t.v2)%2C%20this%20%7D%20toJSON()%20%7B%20const%20t%20%3D%20super.toJSON()%3B%20return%20t.v1%20%3D%20this.v1.toArray()%2C%20t.v2%20%3D%20this.v2.toArray()%2C%20t%20%7D%20fromJSON(t)%20%7B%20return%20super.fromJSON(t)%2C%20this.v1.fromArray(t.v1)%2C%20this.v2.fromArray(t.v2)%2C%20this%20%7D%20%7D%20class%20_o%20extends%20no%20%7B%20constructor(t%20%3D%20new%20re%2C%20e%20%3D%20new%20re)%20%7B%20super()%2C%20this.isLineCurve3%20%3D%20!0%2C%20this.type%20%3D%20%22LineCurve3%22%2C%20this.v1%20%3D%20t%2C%20this.v2%20%3D%20e%20%7D%20getPoint(t%2C%20e%20%3D%20new%20re)%20%7B%20const%20i%20%3D%20e%3B%20return%201%20%3D%3D%3D%20t%20%3F%20i.copy(this.v2)%20%3A%20(i.copy(this.v2).sub(this.v1)%2C%20i.multiplyScalar(t).add(this.v1))%2C%20i%20%7D%20getPointAt(t%2C%20e)%20%7B%20return%20this.getPoint(t%2C%20e)%20%7D%20copy(t)%20%7B%20return%20super.copy(t)%2C%20this.v1.copy(t.v1)%2C%20this.v2.copy(t.v2)%2C%20this%20%7D%20toJSON()%20%7B%20const%20t%20%3D%20super.toJSON()%3B%20return%20t.v1%20%3D%20this.v1.toArray()%2C%20t.v2%20%3D%20this.v2.toArray()%2C%20t%20%7D%20fromJSON(t)%20%7B%20return%20super.fromJSON(t)%2C%20this.v1.fromArray(t.v1)%2C%20this.v2.fromArray(t.v2)%2C%20this%20%7D%20%7D%20class%20yo%20extends%20no%20%7B%20constructor(t%20%3D%20new%20Lt%2C%20e%20%3D%20new%20Lt%2C%20i%20%3D%20new%20Lt)%20%7B%20super()%2C%20this.isQuadraticBezierCurve%20%3D%20!0%2C%20this.type%20%3D%20%22QuadraticBezierCurve%22%2C%20this.v0%20%3D%20t%2C%20this.v1%20%3D%20e%2C%20this.v2%20%3D%20i%20%7D%20getPoint(t%2C%20e%20%3D%20new%20Lt)%20%7B%20const%20i%20%3D%20e%2C%20n%20%3D%20this.v0%2C%20r%20%3D%20this.v1%2C%20s%20%3D%20this.v2%3B%20return%20i.set(mo(t%2C%20n.x%2C%20r.x%2C%20s.x)%2C%20mo(t%2C%20n.y%2C%20r.y%2C%20s.y))%2C%20i%20%7D%20copy(t)%20%7B%20return%20super.copy(t)%2C%20this.v0.copy(t.v0)%2C%20this.v1.copy(t.v1)%2C%20this.v2.copy(t.v2)%2C%20this%20%7D%20toJSON()%20%7B%20const%20t%20%3D%20super.toJSON()%3B%20return%20t.v0%20%3D%20this.v0.toArray()%2C%20t.v1%20%3D%20this.v1.toArray()%2C%20t.v2%20%3D%20this.v2.toArray()%2C%20t%20%7D%20fromJSON(t)%20%7B%20return%20super.fromJSON(t)%2C%20this.v0.fromArray(t.v0)%2C%20this.v1.fromArray(t.v1)%2C%20this.v2.fromArray(t.v2)%2C%20this%20%7D%20%7D%20class%20Mo%20extends%20no%20%7B%20constructor(t%20%3D%20new%20re%2C%20e%20%3D%20new%20re%2C%20i%20%3D%20new%20re)%20%7B%20super()%2C%20this.isQuadraticBezierCurve3%20%3D%20!0%2C%20this.type%20%3D%20%22QuadraticBezierCurve3%22%2C%20this.v0%20%3D%20t%2C%20this.v1%20%3D%20e%2C%20this.v2%20%3D%20i%20%7D%20getPoint(t%2C%20e%20%3D%20new%20re)%20%7B%20const%20i%20%3D%20e%2C%20n%20%3D%20this.v0%2C%20r%20%3D%20this.v1%2C%20s%20%3D%20this.v2%3B%20return%20i.set(mo(t%2C%20n.x%2C%20r.x%2C%20s.x)%2C%20mo(t%2C%20n.y%2C%20r.y%2C%20s.y)%2C%20mo(t%2C%20n.z%2C%20r.z%2C%20s.z))%2C%20i%20%7D%20copy(t)%20%7B%20return%20super.copy(t)%2C%20this.v0.copy(t.v0)%2C%20this.v1.copy(t.v1)%2C%20this.v2.copy(t.v2)%2C%20this%20%7D%20toJSON()%20%7B%20const%20t%20%3D%20super.toJSON()%3B%20return%20t.v0%20%3D%20this.v0.toArray()%2C%20t.v1%20%3D%20this.v1.toArray()%2C%20t.v2%20%3D%20this.v2.toArray()%2C%20t%20%7D%20fromJSON(t)%20%7B%20return%20super.fromJSON(t)%2C%20this.v0.fromArray(t.v0)%2C%20this.v1.fromArray(t.v1)%2C%20this.v2.fromArray(t.v2)%2C%20this%20%7D%20%7D%20class%20bo%20extends%20no%20%7B%20constructor(t%20%3D%20%5B%5D)%20%7B%20super()%2C%20this.isSplineCurve%20%3D%20!0%2C%20this.type%20%3D%20%22SplineCurve%22%2C%20this.points%20%3D%20t%20%7D%20getPoint(t%2C%20e%20%3D%20new%20Lt)%20%7B%20const%20i%20%3D%20e%2C%20n%20%3D%20this.points%2C%20r%20%3D%20(n.length%20-%201)%20*%20t%2C%20s%20%3D%20Math.floor(r)%2C%20a%20%3D%20r%20-%20s%2C%20o%20%3D%20n%5B0%20%3D%3D%3D%20s%20%3F%20s%20%3A%20s%20-%201%5D%2C%20l%20%3D%20n%5Bs%5D%2C%20c%20%3D%20n%5Bs%20%3E%20n.length%20-%202%20%3F%20n.length%20-%201%20%3A%20s%20%2B%201%5D%2C%20h%20%3D%20n%5Bs%20%3E%20n.length%20-%203%20%3F%20n.length%20-%201%20%3A%20s%20%2B%202%5D%3B%20return%20i.set(po(a%2C%20o.x%2C%20l.x%2C%20c.x%2C%20h.x)%2C%20po(a%2C%20o.y%2C%20l.y%2C%20c.y%2C%20h.y))%2C%20i%20%7D%20copy(t)%20%7B%20super.copy(t)%2C%20this.points%20%3D%20%5B%5D%3B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20t.points.length%3B%20e%20%3C%20i%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20t.points%5Be%5D%3B%20this.points.push(i.clone())%20%7D%20return%20this%20%7D%20toJSON()%20%7B%20const%20t%20%3D%20super.toJSON()%3B%20t.points%20%3D%20%5B%5D%3B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20this.points.length%3B%20e%20%3C%20i%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20this.points%5Be%5D%3B%20t.points.push(i.toArray())%20%7D%20return%20t%20%7D%20fromJSON(t)%20%7B%20super.fromJSON(t)%2C%20this.points%20%3D%20%5B%5D%3B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20t.points.length%3B%20e%20%3C%20i%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20t.points%5Be%5D%3B%20this.points.push((new%20Lt).fromArray(i))%20%7D%20return%20this%20%7D%20%7D%20var%20So%20%3D%20Object.freeze(%7B%20__proto__%3A%20null%2C%20ArcCurve%3A%20so%2C%20CatmullRomCurve3%3A%20uo%2C%20CubicBezierCurve%3A%20go%2C%20CubicBezierCurve3%3A%20vo%2C%20EllipseCurve%3A%20ro%2C%20LineCurve%3A%20xo%2C%20LineCurve3%3A%20_o%2C%20QuadraticBezierCurve%3A%20yo%2C%20QuadraticBezierCurve3%3A%20Mo%2C%20SplineCurve%3A%20bo%20%7D)%3B%20class%20wo%20extends%20no%20%7B%20constructor()%20%7B%20super()%2C%20this.type%20%3D%20%22CurvePath%22%2C%20this.curves%20%3D%20%5B%5D%2C%20this.autoClose%20%3D%20!1%20%7D%20add(t)%20%7B%20this.curves.push(t)%20%7D%20closePath()%20%7B%20const%20t%20%3D%20this.curves%5B0%5D.getPoint(0)%2C%20e%20%3D%20this.curves%5Bthis.curves.length%20-%201%5D.getPoint(1)%3B%20t.equals(e)%20%7C%7C%20this.curves.push(new%20xo(e%2C%20t))%20%7D%20getPoint(t%2C%20e)%20%7B%20const%20i%20%3D%20t%20*%20this.getLength()%2C%20n%20%3D%20this.getCurveLengths()%3B%20let%20r%20%3D%200%3B%20for%20(%3B%20r%20%3C%20n.length%3B)%20%7B%20if%20(n%5Br%5D%20%3E%3D%20i)%20%7B%20const%20t%20%3D%20n%5Br%5D%20-%20i%2C%20s%20%3D%20this.curves%5Br%5D%2C%20a%20%3D%20s.getLength()%2C%20o%20%3D%200%20%3D%3D%3D%20a%20%3F%200%20%3A%201%20-%20t%20%2F%20a%3B%20return%20s.getPointAt(o%2C%20e)%20%7D%20r%2B%2B%20%7D%20return%20null%20%7D%20getLength()%20%7B%20const%20t%20%3D%20this.getCurveLengths()%3B%20return%20t%5Bt.length%20-%201%5D%20%7D%20updateArcLengths()%20%7B%20this.needsUpdate%20%3D%20!0%2C%20this.cacheLengths%20%3D%20null%2C%20this.getCurveLengths()%20%7D%20getCurveLengths()%20%7B%20if%20(this.cacheLengths%20%26%26%20this.cacheLengths.length%20%3D%3D%3D%20this.curves.length)%20return%20this.cacheLengths%3B%20const%20t%20%3D%20%5B%5D%3B%20let%20e%20%3D%200%3B%20for%20(let%20i%20%3D%200%2C%20n%20%3D%20this.curves.length%3B%20i%20%3C%20n%3B%20i%2B%2B)e%20%2B%3D%20this.curves%5Bi%5D.getLength()%2C%20t.push(e)%3B%20return%20this.cacheLengths%20%3D%20t%2C%20t%20%7D%20getSpacedPoints(t%20%3D%2040)%20%7B%20const%20e%20%3D%20%5B%5D%3B%20for%20(let%20i%20%3D%200%3B%20i%20%3C%3D%20t%3B%20i%2B%2B)e.push(this.getPoint(i%20%2F%20t))%3B%20return%20this.autoClose%20%26%26%20e.push(e%5B0%5D)%2C%20e%20%7D%20getPoints(t%20%3D%2012)%20%7B%20const%20e%20%3D%20%5B%5D%3B%20let%20i%3B%20for%20(let%20n%20%3D%200%2C%20r%20%3D%20this.curves%3B%20n%20%3C%20r.length%3B%20n%2B%2B)%20%7B%20const%20s%20%3D%20r%5Bn%5D%2C%20a%20%3D%20s.isEllipseCurve%20%3F%202%20*%20t%20%3A%20s.isLineCurve%20%7C%7C%20s.isLineCurve3%20%3F%201%20%3A%20s.isSplineCurve%20%3F%20t%20*%20s.points.length%20%3A%20t%2C%20o%20%3D%20s.getPoints(a)%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20o.length%3B%20t%2B%2B)%20%7B%20const%20n%20%3D%20o%5Bt%5D%3B%20i%20%26%26%20i.equals(n)%20%7C%7C%20(e.push(n)%2C%20i%20%3D%20n)%20%7D%20%7D%20return%20this.autoClose%20%26%26%20e.length%20%3E%201%20%26%26%20!e%5Be.length%20-%201%5D.equals(e%5B0%5D)%20%26%26%20e.push(e%5B0%5D)%2C%20e%20%7D%20copy(t)%20%7B%20super.copy(t)%2C%20this.curves%20%3D%20%5B%5D%3B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20t.curves.length%3B%20e%20%3C%20i%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20t.curves%5Be%5D%3B%20this.curves.push(i.clone())%20%7D%20return%20this.autoClose%20%3D%20t.autoClose%2C%20this%20%7D%20toJSON()%20%7B%20const%20t%20%3D%20super.toJSON()%3B%20t.autoClose%20%3D%20this.autoClose%2C%20t.curves%20%3D%20%5B%5D%3B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20this.curves.length%3B%20e%20%3C%20i%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20this.curves%5Be%5D%3B%20t.curves.push(i.toJSON())%20%7D%20return%20t%20%7D%20fromJSON(t)%20%7B%20super.fromJSON(t)%2C%20this.autoClose%20%3D%20t.autoClose%2C%20this.curves%20%3D%20%5B%5D%3B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20t.curves.length%3B%20e%20%3C%20i%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20t.curves%5Be%5D%3B%20this.curves.push((new%20So%5Bi.type%5D).fromJSON(i))%20%7D%20return%20this%20%7D%20%7D%20class%20To%20extends%20wo%20%7B%20constructor(t)%20%7B%20super()%2C%20this.type%20%3D%20%22Path%22%2C%20this.currentPoint%20%3D%20new%20Lt%2C%20t%20%26%26%20this.setFromPoints(t)%20%7D%20setFromPoints(t)%20%7B%20this.moveTo(t%5B0%5D.x%2C%20t%5B0%5D.y)%3B%20for%20(let%20e%20%3D%201%2C%20i%20%3D%20t.length%3B%20e%20%3C%20i%3B%20e%2B%2B)this.lineTo(t%5Be%5D.x%2C%20t%5Be%5D.y)%3B%20return%20this%20%7D%20moveTo(t%2C%20e)%20%7B%20return%20this.currentPoint.set(t%2C%20e)%2C%20this%20%7D%20lineTo(t%2C%20e)%20%7B%20const%20i%20%3D%20new%20xo(this.currentPoint.clone()%2C%20new%20Lt(t%2C%20e))%3B%20return%20this.curves.push(i)%2C%20this.currentPoint.set(t%2C%20e)%2C%20this%20%7D%20quadraticCurveTo(t%2C%20e%2C%20i%2C%20n)%20%7B%20const%20r%20%3D%20new%20yo(this.currentPoint.clone()%2C%20new%20Lt(t%2C%20e)%2C%20new%20Lt(i%2C%20n))%3B%20return%20this.curves.push(r)%2C%20this.currentPoint.set(i%2C%20n)%2C%20this%20%7D%20bezierCurveTo(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s)%20%7B%20const%20a%20%3D%20new%20go(this.currentPoint.clone()%2C%20new%20Lt(t%2C%20e)%2C%20new%20Lt(i%2C%20n)%2C%20new%20Lt(r%2C%20s))%3B%20return%20this.curves.push(a)%2C%20this.currentPoint.set(r%2C%20s)%2C%20this%20%7D%20splineThru(t)%20%7B%20const%20e%20%3D%20%5Bthis.currentPoint.clone()%5D.concat(t)%2C%20i%20%3D%20new%20bo(e)%3B%20return%20this.curves.push(i)%2C%20this.currentPoint.copy(t%5Bt.length%20-%201%5D)%2C%20this%20%7D%20arc(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s)%20%7B%20const%20a%20%3D%20this.currentPoint.x%2C%20o%20%3D%20this.currentPoint.y%3B%20return%20this.absarc(t%20%2B%20a%2C%20e%20%2B%20o%2C%20i%2C%20n%2C%20r%2C%20s)%2C%20this%20%7D%20absarc(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s)%20%7B%20return%20this.absellipse(t%2C%20e%2C%20i%2C%20i%2C%20n%2C%20r%2C%20s)%2C%20this%20%7D%20ellipse(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%20a%2C%20o)%20%7B%20const%20l%20%3D%20this.currentPoint.x%2C%20c%20%3D%20this.currentPoint.y%3B%20return%20this.absellipse(t%20%2B%20l%2C%20e%20%2B%20c%2C%20i%2C%20n%2C%20r%2C%20s%2C%20a%2C%20o)%2C%20this%20%7D%20absellipse(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%20a%2C%20o)%20%7B%20const%20l%20%3D%20new%20ro(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%20a%2C%20o)%3B%20if%20(this.curves.length%20%3E%200)%20%7B%20const%20t%20%3D%20l.getPoint(0)%3B%20t.equals(this.currentPoint)%20%7C%7C%20this.lineTo(t.x%2C%20t.y)%20%7D%20this.curves.push(l)%3B%20const%20c%20%3D%20l.getPoint(1)%3B%20return%20this.currentPoint.copy(c)%2C%20this%20%7D%20copy(t)%20%7B%20return%20super.copy(t)%2C%20this.currentPoint.copy(t.currentPoint)%2C%20this%20%7D%20toJSON()%20%7B%20const%20t%20%3D%20super.toJSON()%3B%20return%20t.currentPoint%20%3D%20this.currentPoint.toArray()%2C%20t%20%7D%20fromJSON(t)%20%7B%20return%20super.fromJSON(t)%2C%20this.currentPoint.fromArray(t.currentPoint)%2C%20this%20%7D%20%7D%20class%20Ao%20extends%20Di%20%7B%20constructor(t%20%3D%20%5Bnew%20Lt(0%2C%20-.5)%2C%20new%20Lt(.5%2C%200)%2C%20new%20Lt(0%2C%20.5)%5D%2C%20e%20%3D%2012%2C%20i%20%3D%200%2C%20n%20%3D%202%20*%20Math.PI)%20%7B%20super()%2C%20this.type%20%3D%20%22LatheGeometry%22%2C%20this.parameters%20%3D%20%7B%20points%3A%20t%2C%20segments%3A%20e%2C%20phiStart%3A%20i%2C%20phiLength%3A%20n%20%7D%2C%20e%20%3D%20Math.floor(e)%2C%20n%20%3D%20yt(n%2C%200%2C%202%20*%20Math.PI)%3B%20const%20r%20%3D%20%5B%5D%2C%20s%20%3D%20%5B%5D%2C%20a%20%3D%20%5B%5D%2C%20o%20%3D%20%5B%5D%2C%20l%20%3D%20%5B%5D%2C%20c%20%3D%201%20%2F%20e%2C%20h%20%3D%20new%20re%2C%20u%20%3D%20new%20Lt%2C%20d%20%3D%20new%20re%2C%20p%20%3D%20new%20re%2C%20m%20%3D%20new%20re%3B%20let%20f%20%3D%200%2C%20g%20%3D%200%3B%20for%20(let%20e%20%3D%200%3B%20e%20%3C%3D%20t.length%20-%201%3B%20e%2B%2B)switch%20(e)%20%7B%20case%200%3A%20f%20%3D%20t%5Be%20%2B%201%5D.x%20-%20t%5Be%5D.x%2C%20g%20%3D%20t%5Be%20%2B%201%5D.y%20-%20t%5Be%5D.y%2C%20d.x%20%3D%201%20*%20g%2C%20d.y%20%3D%20-f%2C%20d.z%20%3D%200%20*%20g%2C%20m.copy(d)%2C%20d.normalize()%2C%20o.push(d.x%2C%20d.y%2C%20d.z)%3B%20break%3B%20case%20t.length%20-%201%3A%20o.push(m.x%2C%20m.y%2C%20m.z)%3B%20break%3B%20default%3A%20f%20%3D%20t%5Be%20%2B%201%5D.x%20-%20t%5Be%5D.x%2C%20g%20%3D%20t%5Be%20%2B%201%5D.y%20-%20t%5Be%5D.y%2C%20d.x%20%3D%201%20*%20g%2C%20d.y%20%3D%20-f%2C%20d.z%20%3D%200%20*%20g%2C%20p.copy(d)%2C%20d.x%20%2B%3D%20m.x%2C%20d.y%20%2B%3D%20m.y%2C%20d.z%20%2B%3D%20m.z%2C%20d.normalize()%2C%20o.push(d.x%2C%20d.y%2C%20d.z)%2C%20m.copy(p)%20%7Dfor%20(let%20r%20%3D%200%3B%20r%20%3C%3D%20e%3B%20r%2B%2B)%20%7B%20const%20d%20%3D%20i%20%2B%20r%20*%20c%20*%20n%2C%20p%20%3D%20Math.sin(d)%2C%20m%20%3D%20Math.cos(d)%3B%20for%20(let%20i%20%3D%200%3B%20i%20%3C%3D%20t.length%20-%201%3B%20i%2B%2B)%20%7B%20h.x%20%3D%20t%5Bi%5D.x%20*%20p%2C%20h.y%20%3D%20t%5Bi%5D.y%2C%20h.z%20%3D%20t%5Bi%5D.x%20*%20m%2C%20s.push(h.x%2C%20h.y%2C%20h.z)%2C%20u.x%20%3D%20r%20%2F%20e%2C%20u.y%20%3D%20i%20%2F%20(t.length%20-%201)%2C%20a.push(u.x%2C%20u.y)%3B%20const%20n%20%3D%20o%5B3%20*%20i%20%2B%200%5D%20*%20p%2C%20c%20%3D%20o%5B3%20*%20i%20%2B%201%5D%2C%20d%20%3D%20o%5B3%20*%20i%20%2B%200%5D%20*%20m%3B%20l.push(n%2C%20c%2C%20d)%20%7D%20%7D%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20e%3B%20i%2B%2B)for%20(let%20e%20%3D%200%3B%20e%20%3C%20t.length%20-%201%3B%20e%2B%2B)%20%7B%20const%20n%20%3D%20e%20%2B%20i%20*%20t.length%2C%20s%20%3D%20n%2C%20a%20%3D%20n%20%2B%20t.length%2C%20o%20%3D%20n%20%2B%20t.length%20%2B%201%2C%20l%20%3D%20n%20%2B%201%3B%20r.push(s%2C%20a%2C%20l)%2C%20r.push(o%2C%20l%2C%20a)%20%7D%20this.setIndex(r)%2C%20this.setAttribute(%22position%22%2C%20new%20Ti(s%2C%203))%2C%20this.setAttribute(%22uv%22%2C%20new%20Ti(a%2C%202))%2C%20this.setAttribute(%22normal%22%2C%20new%20Ti(l%2C%203))%20%7D%20static%20fromJSON(t)%20%7B%20return%20new%20Ao(t.points%2C%20t.segments%2C%20t.phiStart%2C%20t.phiLength)%20%7D%20%7D%20class%20Eo%20extends%20Ao%20%7B%20constructor(t%20%3D%201%2C%20e%20%3D%201%2C%20i%20%3D%204%2C%20n%20%3D%208)%20%7B%20const%20r%20%3D%20new%20To%3B%20r.absarc(0%2C%20-e%20%2F%202%2C%20t%2C%201.5%20*%20Math.PI%2C%200)%2C%20r.absarc(0%2C%20e%20%2F%202%2C%20t%2C%200%2C%20.5%20*%20Math.PI)%2C%20super(r.getPoints(i)%2C%20n)%2C%20this.type%20%3D%20%22CapsuleGeometry%22%2C%20this.parameters%20%3D%20%7B%20radius%3A%20t%2C%20height%3A%20e%2C%20capSegments%3A%20i%2C%20radialSegments%3A%20n%20%7D%20%7D%20static%20fromJSON(t)%20%7B%20return%20new%20Eo(t.radius%2C%20t.length%2C%20t.capSegments%2C%20t.radialSegments)%20%7D%20%7D%20class%20Co%20extends%20Di%20%7B%20constructor(t%20%3D%201%2C%20e%20%3D%2032%2C%20i%20%3D%200%2C%20n%20%3D%202%20*%20Math.PI)%20%7B%20super()%2C%20this.type%20%3D%20%22CircleGeometry%22%2C%20this.parameters%20%3D%20%7B%20radius%3A%20t%2C%20segments%3A%20e%2C%20thetaStart%3A%20i%2C%20thetaLength%3A%20n%20%7D%2C%20e%20%3D%20Math.max(3%2C%20e)%3B%20const%20r%20%3D%20%5B%5D%2C%20s%20%3D%20%5B%5D%2C%20a%20%3D%20%5B%5D%2C%20o%20%3D%20%5B%5D%2C%20l%20%3D%20new%20re%2C%20c%20%3D%20new%20Lt%3B%20s.push(0%2C%200%2C%200)%2C%20a.push(0%2C%200%2C%201)%2C%20o.push(.5%2C%20.5)%3B%20for%20(let%20r%20%3D%200%2C%20h%20%3D%203%3B%20r%20%3C%3D%20e%3B%20r%2B%2B%2C%20h%20%2B%3D%203)%20%7B%20const%20u%20%3D%20i%20%2B%20r%20%2F%20e%20*%20n%3B%20l.x%20%3D%20t%20*%20Math.cos(u)%2C%20l.y%20%3D%20t%20*%20Math.sin(u)%2C%20s.push(l.x%2C%20l.y%2C%20l.z)%2C%20a.push(0%2C%200%2C%201)%2C%20c.x%20%3D%20(s%5Bh%5D%20%2F%20t%20%2B%201)%20%2F%202%2C%20c.y%20%3D%20(s%5Bh%20%2B%201%5D%20%2F%20t%20%2B%201)%20%2F%202%2C%20o.push(c.x%2C%20c.y)%20%7D%20for%20(let%20t%20%3D%201%3B%20t%20%3C%3D%20e%3B%20t%2B%2B)r.push(t%2C%20t%20%2B%201%2C%200)%3B%20this.setIndex(r)%2C%20this.setAttribute(%22position%22%2C%20new%20Ti(s%2C%203))%2C%20this.setAttribute(%22normal%22%2C%20new%20Ti(a%2C%203))%2C%20this.setAttribute(%22uv%22%2C%20new%20Ti(o%2C%202))%20%7D%20static%20fromJSON(t)%20%7B%20return%20new%20Co(t.radius%2C%20t.segments%2C%20t.thetaStart%2C%20t.thetaLength)%20%7D%20%7D%20class%20Lo%20extends%20Di%20%7B%20constructor(t%20%3D%201%2C%20e%20%3D%201%2C%20i%20%3D%201%2C%20n%20%3D%2032%2C%20r%20%3D%201%2C%20s%20%3D%20!1%2C%20a%20%3D%200%2C%20o%20%3D%202%20*%20Math.PI)%20%7B%20super()%2C%20this.type%20%3D%20%22CylinderGeometry%22%2C%20this.parameters%20%3D%20%7B%20radiusTop%3A%20t%2C%20radiusBottom%3A%20e%2C%20height%3A%20i%2C%20radialSegments%3A%20n%2C%20heightSegments%3A%20r%2C%20openEnded%3A%20s%2C%20thetaStart%3A%20a%2C%20thetaLength%3A%20o%20%7D%3B%20const%20l%20%3D%20this%3B%20n%20%3D%20Math.floor(n)%2C%20r%20%3D%20Math.floor(r)%3B%20const%20c%20%3D%20%5B%5D%2C%20h%20%3D%20%5B%5D%2C%20u%20%3D%20%5B%5D%2C%20d%20%3D%20%5B%5D%3B%20let%20p%20%3D%200%3B%20const%20m%20%3D%20%5B%5D%2C%20f%20%3D%20i%20%2F%202%3B%20let%20g%20%3D%200%3B%20function%20v(i)%20%7B%20const%20r%20%3D%20p%2C%20s%20%3D%20new%20Lt%2C%20m%20%3D%20new%20re%3B%20let%20v%20%3D%200%3B%20const%20x%20%3D%20!0%20%3D%3D%3D%20i%20%3F%20t%20%3A%20e%2C%20_%20%3D%20!0%20%3D%3D%3D%20i%20%3F%201%20%3A%20-1%3B%20for%20(let%20t%20%3D%201%3B%20t%20%3C%3D%20n%3B%20t%2B%2B)h.push(0%2C%20f%20*%20_%2C%200)%2C%20u.push(0%2C%20_%2C%200)%2C%20d.push(.5%2C%20.5)%2C%20p%2B%2B%3B%20const%20y%20%3D%20p%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%3D%20n%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20t%20%2F%20n%20*%20o%20%2B%20a%2C%20i%20%3D%20Math.cos(e)%2C%20r%20%3D%20Math.sin(e)%3B%20m.x%20%3D%20x%20*%20r%2C%20m.y%20%3D%20f%20*%20_%2C%20m.z%20%3D%20x%20*%20i%2C%20h.push(m.x%2C%20m.y%2C%20m.z)%2C%20u.push(0%2C%20_%2C%200)%2C%20s.x%20%3D%20.5%20*%20i%20%2B%20.5%2C%20s.y%20%3D%20.5%20*%20r%20*%20_%20%2B%20.5%2C%20d.push(s.x%2C%20s.y)%2C%20p%2B%2B%20%7D%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20n%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20r%20%2B%20t%2C%20n%20%3D%20y%20%2B%20t%3B%20!0%20%3D%3D%3D%20i%20%3F%20c.push(n%2C%20n%20%2B%201%2C%20e)%20%3A%20c.push(n%20%2B%201%2C%20n%2C%20e)%2C%20v%20%2B%3D%203%20%7D%20l.addGroup(g%2C%20v%2C%20!0%20%3D%3D%3D%20i%20%3F%201%20%3A%202)%2C%20g%20%2B%3D%20v%20%7D%20!function%20()%20%7B%20const%20s%20%3D%20new%20re%2C%20v%20%3D%20new%20re%3B%20let%20x%20%3D%200%3B%20const%20_%20%3D%20(e%20-%20t)%20%2F%20i%3B%20for%20(let%20l%20%3D%200%3B%20l%20%3C%3D%20r%3B%20l%2B%2B)%20%7B%20const%20c%20%3D%20%5B%5D%2C%20g%20%3D%20l%20%2F%20r%2C%20x%20%3D%20g%20*%20(e%20-%20t)%20%2B%20t%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%3D%20n%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20t%20%2F%20n%2C%20r%20%3D%20e%20*%20o%20%2B%20a%2C%20l%20%3D%20Math.sin(r)%2C%20m%20%3D%20Math.cos(r)%3B%20v.x%20%3D%20x%20*%20l%2C%20v.y%20%3D%20-g%20*%20i%20%2B%20f%2C%20v.z%20%3D%20x%20*%20m%2C%20h.push(v.x%2C%20v.y%2C%20v.z)%2C%20s.set(l%2C%20_%2C%20m).normalize()%2C%20u.push(s.x%2C%20s.y%2C%20s.z)%2C%20d.push(e%2C%201%20-%20g)%2C%20c.push(p%2B%2B)%20%7D%20m.push(c)%20%7D%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20n%3B%20t%2B%2B)for%20(let%20e%20%3D%200%3B%20e%20%3C%20r%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20m%5Be%5D%5Bt%5D%2C%20n%20%3D%20m%5Be%20%2B%201%5D%5Bt%5D%2C%20r%20%3D%20m%5Be%20%2B%201%5D%5Bt%20%2B%201%5D%2C%20s%20%3D%20m%5Be%5D%5Bt%20%2B%201%5D%3B%20c.push(i%2C%20n%2C%20s)%2C%20c.push(n%2C%20r%2C%20s)%2C%20x%20%2B%3D%206%20%7D%20l.addGroup(g%2C%20x%2C%200)%2C%20g%20%2B%3D%20x%20%7D()%2C%20!1%20%3D%3D%3D%20s%20%26%26%20(t%20%3E%200%20%26%26%20v(!0)%2C%20e%20%3E%200%20%26%26%20v(!1))%2C%20this.setIndex(c)%2C%20this.setAttribute(%22position%22%2C%20new%20Ti(h%2C%203))%2C%20this.setAttribute(%22normal%22%2C%20new%20Ti(u%2C%203))%2C%20this.setAttribute(%22uv%22%2C%20new%20Ti(d%2C%202))%20%7D%20static%20fromJSON(t)%20%7B%20return%20new%20Lo(t.radiusTop%2C%20t.radiusBottom%2C%20t.height%2C%20t.radialSegments%2C%20t.heightSegments%2C%20t.openEnded%2C%20t.thetaStart%2C%20t.thetaLength)%20%7D%20%7D%20class%20Ro%20extends%20Lo%20%7B%20constructor(t%20%3D%201%2C%20e%20%3D%201%2C%20i%20%3D%2032%2C%20n%20%3D%201%2C%20r%20%3D%20!1%2C%20s%20%3D%200%2C%20a%20%3D%202%20*%20Math.PI)%20%7B%20super(0%2C%20t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%20a)%2C%20this.type%20%3D%20%22ConeGeometry%22%2C%20this.parameters%20%3D%20%7B%20radius%3A%20t%2C%20height%3A%20e%2C%20radialSegments%3A%20i%2C%20heightSegments%3A%20n%2C%20openEnded%3A%20r%2C%20thetaStart%3A%20s%2C%20thetaLength%3A%20a%20%7D%20%7D%20static%20fromJSON(t)%20%7B%20return%20new%20Ro(t.radius%2C%20t.height%2C%20t.radialSegments%2C%20t.heightSegments%2C%20t.openEnded%2C%20t.thetaStart%2C%20t.thetaLength)%20%7D%20%7D%20class%20Po%20extends%20Di%20%7B%20constructor(t%20%3D%20%5B%5D%2C%20e%20%3D%20%5B%5D%2C%20i%20%3D%201%2C%20n%20%3D%200)%20%7B%20super()%2C%20this.type%20%3D%20%22PolyhedronGeometry%22%2C%20this.parameters%20%3D%20%7B%20vertices%3A%20t%2C%20indices%3A%20e%2C%20radius%3A%20i%2C%20detail%3A%20n%20%7D%3B%20const%20r%20%3D%20%5B%5D%2C%20s%20%3D%20%5B%5D%3B%20function%20a(t%2C%20e%2C%20i%2C%20n)%20%7B%20const%20r%20%3D%20n%20%2B%201%2C%20s%20%3D%20%5B%5D%3B%20for%20(let%20n%20%3D%200%3B%20n%20%3C%3D%20r%3B%20n%2B%2B)%20%7B%20s%5Bn%5D%20%3D%20%5B%5D%3B%20const%20a%20%3D%20t.clone().lerp(i%2C%20n%20%2F%20r)%2C%20o%20%3D%20e.clone().lerp(i%2C%20n%20%2F%20r)%2C%20l%20%3D%20r%20-%20n%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%3D%20l%3B%20t%2B%2B)s%5Bn%5D%5Bt%5D%20%3D%200%20%3D%3D%3D%20t%20%26%26%20n%20%3D%3D%3D%20r%20%3F%20a%20%3A%20a.clone().lerp(o%2C%20t%20%2F%20l)%20%7D%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20r%3B%20t%2B%2B)for%20(let%20e%20%3D%200%3B%20e%20%3C%202%20*%20(r%20-%20t)%20-%201%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20Math.floor(e%20%2F%202)%3B%20e%20%25%202%20%3D%3D%200%20%3F%20(o(s%5Bt%5D%5Bi%20%2B%201%5D)%2C%20o(s%5Bt%20%2B%201%5D%5Bi%5D)%2C%20o(s%5Bt%5D%5Bi%5D))%20%3A%20(o(s%5Bt%5D%5Bi%20%2B%201%5D)%2C%20o(s%5Bt%20%2B%201%5D%5Bi%20%2B%201%5D)%2C%20o(s%5Bt%20%2B%201%5D%5Bi%5D))%20%7D%20%7D%20function%20o(t)%20%7B%20r.push(t.x%2C%20t.y%2C%20t.z)%20%7D%20function%20l(e%2C%20i)%20%7B%20const%20n%20%3D%203%20*%20e%3B%20i.x%20%3D%20t%5Bn%20%2B%200%5D%2C%20i.y%20%3D%20t%5Bn%20%2B%201%5D%2C%20i.z%20%3D%20t%5Bn%20%2B%202%5D%20%7D%20function%20c(t%2C%20e%2C%20i%2C%20n)%20%7B%20n%20%3C%200%20%26%26%201%20%3D%3D%3D%20t.x%20%26%26%20(s%5Be%5D%20%3D%20t.x%20-%201)%2C%200%20%3D%3D%3D%20i.x%20%26%26%200%20%3D%3D%3D%20i.z%20%26%26%20(s%5Be%5D%20%3D%20n%20%2F%202%20%2F%20Math.PI%20%2B%20.5)%20%7D%20function%20h(t)%20%7B%20return%20Math.atan2(t.z%2C%20-t.x)%20%7D%20!function%20(t)%20%7B%20const%20i%20%3D%20new%20re%2C%20n%20%3D%20new%20re%2C%20r%20%3D%20new%20re%3B%20for%20(let%20s%20%3D%200%3B%20s%20%3C%20e.length%3B%20s%20%2B%3D%203)l(e%5Bs%20%2B%200%5D%2C%20i)%2C%20l(e%5Bs%20%2B%201%5D%2C%20n)%2C%20l(e%5Bs%20%2B%202%5D%2C%20r)%2C%20a(i%2C%20n%2C%20r%2C%20t)%20%7D(n)%2C%20function%20(t)%20%7B%20const%20e%20%3D%20new%20re%3B%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20r.length%3B%20i%20%2B%3D%203)e.x%20%3D%20r%5Bi%20%2B%200%5D%2C%20e.y%20%3D%20r%5Bi%20%2B%201%5D%2C%20e.z%20%3D%20r%5Bi%20%2B%202%5D%2C%20e.normalize().multiplyScalar(t)%2C%20r%5Bi%20%2B%200%5D%20%3D%20e.x%2C%20r%5Bi%20%2B%201%5D%20%3D%20e.y%2C%20r%5Bi%20%2B%202%5D%20%3D%20e.z%20%7D(i)%2C%20function%20()%20%7B%20const%20t%20%3D%20new%20re%3B%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20r.length%3B%20i%20%2B%3D%203)%20%7B%20t.x%20%3D%20r%5Bi%20%2B%200%5D%2C%20t.y%20%3D%20r%5Bi%20%2B%201%5D%2C%20t.z%20%3D%20r%5Bi%20%2B%202%5D%3B%20const%20n%20%3D%20h(t)%20%2F%202%20%2F%20Math.PI%20%2B%20.5%2C%20a%20%3D%20(e%20%3D%20t%2C%20Math.atan2(-e.y%2C%20Math.sqrt(e.x%20*%20e.x%20%2B%20e.z%20*%20e.z))%20%2F%20Math.PI%20%2B%20.5)%3B%20s.push(n%2C%201%20-%20a)%20%7D%20var%20e%3B%20(function%20()%20%7B%20const%20t%20%3D%20new%20re%2C%20e%20%3D%20new%20re%2C%20i%20%3D%20new%20re%2C%20n%20%3D%20new%20re%2C%20a%20%3D%20new%20Lt%2C%20o%20%3D%20new%20Lt%2C%20l%20%3D%20new%20Lt%3B%20for%20(let%20u%20%3D%200%2C%20d%20%3D%200%3B%20u%20%3C%20r.length%3B%20u%20%2B%3D%209%2C%20d%20%2B%3D%206)%20%7B%20t.set(r%5Bu%20%2B%200%5D%2C%20r%5Bu%20%2B%201%5D%2C%20r%5Bu%20%2B%202%5D)%2C%20e.set(r%5Bu%20%2B%203%5D%2C%20r%5Bu%20%2B%204%5D%2C%20r%5Bu%20%2B%205%5D)%2C%20i.set(r%5Bu%20%2B%206%5D%2C%20r%5Bu%20%2B%207%5D%2C%20r%5Bu%20%2B%208%5D)%2C%20a.set(s%5Bd%20%2B%200%5D%2C%20s%5Bd%20%2B%201%5D)%2C%20o.set(s%5Bd%20%2B%202%5D%2C%20s%5Bd%20%2B%203%5D)%2C%20l.set(s%5Bd%20%2B%204%5D%2C%20s%5Bd%20%2B%205%5D)%2C%20n.copy(t).add(e).add(i).divideScalar(3)%3B%20const%20p%20%3D%20h(n)%3B%20c(a%2C%20d%20%2B%200%2C%20t%2C%20p)%2C%20c(o%2C%20d%20%2B%202%2C%20e%2C%20p)%2C%20c(l%2C%20d%20%2B%204%2C%20i%2C%20p)%20%7D%20%7D)()%2C%20function%20()%20%7B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20s.length%3B%20t%20%2B%3D%206)%20%7B%20const%20e%20%3D%20s%5Bt%20%2B%200%5D%2C%20i%20%3D%20s%5Bt%20%2B%202%5D%2C%20n%20%3D%20s%5Bt%20%2B%204%5D%2C%20r%20%3D%20Math.max(e%2C%20i%2C%20n)%2C%20a%20%3D%20Math.min(e%2C%20i%2C%20n)%3B%20r%20%3E%20.9%20%26%26%20a%20%3C%20.1%20%26%26%20(e%20%3C%20.2%20%26%26%20(s%5Bt%20%2B%200%5D%20%2B%3D%201)%2C%20i%20%3C%20.2%20%26%26%20(s%5Bt%20%2B%202%5D%20%2B%3D%201)%2C%20n%20%3C%20.2%20%26%26%20(s%5Bt%20%2B%204%5D%20%2B%3D%201))%20%7D%20%7D()%20%7D()%2C%20this.setAttribute(%22position%22%2C%20new%20Ti(r%2C%203))%2C%20this.setAttribute(%22normal%22%2C%20new%20Ti(r.slice()%2C%203))%2C%20this.setAttribute(%22uv%22%2C%20new%20Ti(s%2C%202))%2C%200%20%3D%3D%3D%20n%20%3F%20this.computeVertexNormals()%20%3A%20this.normalizeNormals()%20%7D%20static%20fromJSON(t)%20%7B%20return%20new%20Po(t.vertices%2C%20t.indices%2C%20t.radius%2C%20t.details)%20%7D%20%7D%20class%20Io%20extends%20Po%20%7B%20constructor(t%20%3D%201%2C%20e%20%3D%200)%20%7B%20const%20i%20%3D%20(1%20%2B%20Math.sqrt(5))%20%2F%202%2C%20n%20%3D%201%20%2F%20i%3B%20super(%5B-1%2C%20-1%2C%20-1%2C%20-1%2C%20-1%2C%201%2C%20-1%2C%201%2C%20-1%2C%20-1%2C%201%2C%201%2C%201%2C%20-1%2C%20-1%2C%201%2C%20-1%2C%201%2C%201%2C%201%2C%20-1%2C%201%2C%201%2C%201%2C%200%2C%20-n%2C%20-i%2C%200%2C%20-n%2C%20i%2C%200%2C%20n%2C%20-i%2C%200%2C%20n%2C%20i%2C%20-n%2C%20-i%2C%200%2C%20-n%2C%20i%2C%200%2C%20n%2C%20-i%2C%200%2C%20n%2C%20i%2C%200%2C%20-i%2C%200%2C%20-n%2C%20i%2C%200%2C%20-n%2C%20-i%2C%200%2C%20n%2C%20i%2C%200%2C%20n%5D%2C%20%5B3%2C%2011%2C%207%2C%203%2C%207%2C%2015%2C%203%2C%2015%2C%2013%2C%207%2C%2019%2C%2017%2C%207%2C%2017%2C%206%2C%207%2C%206%2C%2015%2C%2017%2C%204%2C%208%2C%2017%2C%208%2C%2010%2C%2017%2C%2010%2C%206%2C%208%2C%200%2C%2016%2C%208%2C%2016%2C%202%2C%208%2C%202%2C%2010%2C%200%2C%2012%2C%201%2C%200%2C%201%2C%2018%2C%200%2C%2018%2C%2016%2C%206%2C%2010%2C%202%2C%206%2C%202%2C%2013%2C%206%2C%2013%2C%2015%2C%202%2C%2016%2C%2018%2C%202%2C%2018%2C%203%2C%202%2C%203%2C%2013%2C%2018%2C%201%2C%209%2C%2018%2C%209%2C%2011%2C%2018%2C%2011%2C%203%2C%204%2C%2014%2C%2012%2C%204%2C%2012%2C%200%2C%204%2C%200%2C%208%2C%2011%2C%209%2C%205%2C%2011%2C%205%2C%2019%2C%2011%2C%2019%2C%207%2C%2019%2C%205%2C%2014%2C%2019%2C%2014%2C%204%2C%2019%2C%204%2C%2017%2C%201%2C%2012%2C%2014%2C%201%2C%2014%2C%205%2C%201%2C%205%2C%209%5D%2C%20t%2C%20e)%2C%20this.type%20%3D%20%22DodecahedronGeometry%22%2C%20this.parameters%20%3D%20%7B%20radius%3A%20t%2C%20detail%3A%20e%20%7D%20%7D%20static%20fromJSON(t)%20%7B%20return%20new%20Io(t.radius%2C%20t.detail)%20%7D%20%7D%20const%20Do%20%3D%20new%20re%2C%20No%20%3D%20new%20re%2C%20Oo%20%3D%20new%20re%2C%20zo%20%3D%20new%20gi%3B%20class%20Uo%20extends%20Di%20%7B%20constructor(t%20%3D%20null%2C%20e%20%3D%201)%20%7B%20if%20(super()%2C%20this.type%20%3D%20%22EdgesGeometry%22%2C%20this.parameters%20%3D%20%7B%20geometry%3A%20t%2C%20thresholdAngle%3A%20e%20%7D%2C%20null%20!%3D%3D%20t)%20%7B%20const%20i%20%3D%204%2C%20n%20%3D%20Math.pow(10%2C%20i)%2C%20r%20%3D%20Math.cos(vt%20*%20e)%2C%20s%20%3D%20t.getIndex()%2C%20a%20%3D%20t.getAttribute(%22position%22)%2C%20o%20%3D%20s%20%3F%20s.count%20%3A%20a.count%2C%20l%20%3D%20%5B0%2C%200%2C%200%5D%2C%20c%20%3D%20%5B%22a%22%2C%20%22b%22%2C%20%22c%22%5D%2C%20h%20%3D%20new%20Array(3)%2C%20u%20%3D%20%7B%7D%2C%20d%20%3D%20%5B%5D%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20o%3B%20t%20%2B%3D%203)%20%7B%20s%20%3F%20(l%5B0%5D%20%3D%20s.getX(t)%2C%20l%5B1%5D%20%3D%20s.getX(t%20%2B%201)%2C%20l%5B2%5D%20%3D%20s.getX(t%20%2B%202))%20%3A%20(l%5B0%5D%20%3D%20t%2C%20l%5B1%5D%20%3D%20t%20%2B%201%2C%20l%5B2%5D%20%3D%20t%20%2B%202)%3B%20const%20%7B%20a%3A%20e%2C%20b%3A%20i%2C%20c%3A%20o%20%7D%20%3D%20zo%3B%20if%20(e.fromBufferAttribute(a%2C%20l%5B0%5D)%2C%20i.fromBufferAttribute(a%2C%20l%5B1%5D)%2C%20o.fromBufferAttribute(a%2C%20l%5B2%5D)%2C%20zo.getNormal(Oo)%2C%20h%5B0%5D%20%3D%20%60%24%7BMath.round(e.x%20*%20n)%7D%2C%24%7BMath.round(e.y%20*%20n)%7D%2C%24%7BMath.round(e.z%20*%20n)%7D%60%2C%20h%5B1%5D%20%3D%20%60%24%7BMath.round(i.x%20*%20n)%7D%2C%24%7BMath.round(i.y%20*%20n)%7D%2C%24%7BMath.round(i.z%20*%20n)%7D%60%2C%20h%5B2%5D%20%3D%20%60%24%7BMath.round(o.x%20*%20n)%7D%2C%24%7BMath.round(o.y%20*%20n)%7D%2C%24%7BMath.round(o.z%20*%20n)%7D%60%2C%20h%5B0%5D%20!%3D%3D%20h%5B1%5D%20%26%26%20h%5B1%5D%20!%3D%3D%20h%5B2%5D%20%26%26%20h%5B2%5D%20!%3D%3D%20h%5B0%5D)%20for%20(let%20t%20%3D%200%3B%20t%20%3C%203%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20(t%20%2B%201)%20%25%203%2C%20i%20%3D%20h%5Bt%5D%2C%20n%20%3D%20h%5Be%5D%2C%20s%20%3D%20zo%5Bc%5Bt%5D%5D%2C%20a%20%3D%20zo%5Bc%5Be%5D%5D%2C%20o%20%3D%20%60%24%7Bi%7D_%24%7Bn%7D%60%2C%20p%20%3D%20%60%24%7Bn%7D_%24%7Bi%7D%60%3B%20p%20in%20u%20%26%26%20u%5Bp%5D%20%3F%20(Oo.dot(u%5Bp%5D.normal)%20%3C%3D%20r%20%26%26%20(d.push(s.x%2C%20s.y%2C%20s.z)%2C%20d.push(a.x%2C%20a.y%2C%20a.z))%2C%20u%5Bp%5D%20%3D%20null)%20%3A%20o%20in%20u%20%7C%7C%20(u%5Bo%5D%20%3D%20%7B%20index0%3A%20l%5Bt%5D%2C%20index1%3A%20l%5Be%5D%2C%20normal%3A%20Oo.clone()%20%7D)%20%7D%20%7D%20for%20(const%20t%20in%20u)%20if%20(u%5Bt%5D)%20%7B%20const%20%7B%20index0%3A%20e%2C%20index1%3A%20i%20%7D%20%3D%20u%5Bt%5D%3B%20Do.fromBufferAttribute(a%2C%20e)%2C%20No.fromBufferAttribute(a%2C%20i)%2C%20d.push(Do.x%2C%20Do.y%2C%20Do.z)%2C%20d.push(No.x%2C%20No.y%2C%20No.z)%20%7D%20this.setAttribute(%22position%22%2C%20new%20Ti(d%2C%203))%20%7D%20%7D%20%7D%20class%20Bo%20extends%20To%20%7B%20constructor(t)%20%7B%20super(t)%2C%20this.uuid%20%3D%20_t()%2C%20this.type%20%3D%20%22Shape%22%2C%20this.holes%20%3D%20%5B%5D%20%7D%20getPointsHoles(t)%20%7B%20const%20e%20%3D%20%5B%5D%3B%20for%20(let%20i%20%3D%200%2C%20n%20%3D%20this.holes.length%3B%20i%20%3C%20n%3B%20i%2B%2B)e%5Bi%5D%20%3D%20this.holes%5Bi%5D.getPoints(t)%3B%20return%20e%20%7D%20extractPoints(t)%20%7B%20return%20%7B%20shape%3A%20this.getPoints(t)%2C%20holes%3A%20this.getPointsHoles(t)%20%7D%20%7D%20copy(t)%20%7B%20super.copy(t)%2C%20this.holes%20%3D%20%5B%5D%3B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20t.holes.length%3B%20e%20%3C%20i%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20t.holes%5Be%5D%3B%20this.holes.push(i.clone())%20%7D%20return%20this%20%7D%20toJSON()%20%7B%20const%20t%20%3D%20super.toJSON()%3B%20t.uuid%20%3D%20this.uuid%2C%20t.holes%20%3D%20%5B%5D%3B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20this.holes.length%3B%20e%20%3C%20i%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20this.holes%5Be%5D%3B%20t.holes.push(i.toJSON())%20%7D%20return%20t%20%7D%20fromJSON(t)%20%7B%20super.fromJSON(t)%2C%20this.uuid%20%3D%20t.uuid%2C%20this.holes%20%3D%20%5B%5D%3B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20t.holes.length%3B%20e%20%3C%20i%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20t.holes%5Be%5D%3B%20this.holes.push((new%20To).fromJSON(i))%20%7D%20return%20this%20%7D%20%7D%20const%20Fo%20%3D%20function%20(t%2C%20e%2C%20i%20%3D%202)%20%7B%20const%20n%20%3D%20e%20%26%26%20e.length%2C%20r%20%3D%20n%20%3F%20e%5B0%5D%20*%20i%20%3A%20t.length%3B%20let%20s%20%3D%20ko(t%2C%200%2C%20r%2C%20i%2C%20!0)%3B%20const%20a%20%3D%20%5B%5D%3B%20if%20(!s%20%7C%7C%20s.next%20%3D%3D%3D%20s.prev)%20return%20a%3B%20let%20o%2C%20l%2C%20c%2C%20h%2C%20u%2C%20d%2C%20p%3B%20if%20(n%20%26%26%20(s%20%3D%20function%20(t%2C%20e%2C%20i%2C%20n)%20%7B%20const%20r%20%3D%20%5B%5D%3B%20let%20s%2C%20a%2C%20o%2C%20l%2C%20c%3B%20for%20(s%20%3D%200%2C%20a%20%3D%20e.length%3B%20s%20%3C%20a%3B%20s%2B%2B)o%20%3D%20e%5Bs%5D%20*%20n%2C%20l%20%3D%20s%20%3C%20a%20-%201%20%3F%20e%5Bs%20%2B%201%5D%20*%20n%20%3A%20t.length%2C%20c%20%3D%20ko(t%2C%20o%2C%20l%2C%20n%2C%20!1)%2C%20c%20%3D%3D%3D%20c.next%20%26%26%20(c.steiner%20%3D%20!0)%2C%20r.push(Ko(c))%3B%20for%20(r.sort(Xo)%2C%20s%20%3D%200%3B%20s%20%3C%20r.length%3B%20s%2B%2B)i%20%3D%20Yo(r%5Bs%5D%2C%20i)%3B%20return%20i%20%7D(t%2C%20e%2C%20s%2C%20i))%2C%20t.length%20%3E%2080%20*%20i)%20%7B%20o%20%3D%20c%20%3D%20t%5B0%5D%2C%20l%20%3D%20h%20%3D%20t%5B1%5D%3B%20for%20(let%20e%20%3D%20i%3B%20e%20%3C%20r%3B%20e%20%2B%3D%20i)u%20%3D%20t%5Be%5D%2C%20d%20%3D%20t%5Be%20%2B%201%5D%2C%20u%20%3C%20o%20%26%26%20(o%20%3D%20u)%2C%20d%20%3C%20l%20%26%26%20(l%20%3D%20d)%2C%20u%20%3E%20c%20%26%26%20(c%20%3D%20u)%2C%20d%20%3E%20h%20%26%26%20(h%20%3D%20d)%3B%20p%20%3D%20Math.max(c%20-%20o%2C%20h%20-%20l)%2C%20p%20%3D%200%20!%3D%3D%20p%20%3F%2032767%20%2F%20p%20%3A%200%20%7D%20return%20Vo(s%2C%20a%2C%20i%2C%20o%2C%20l%2C%20p%2C%200)%2C%20a%20%7D%3B%20function%20ko(t%2C%20e%2C%20i%2C%20n%2C%20r)%20%7B%20let%20s%2C%20a%3B%20if%20(r%20%3D%3D%3D%20function%20(t%2C%20e%2C%20i%2C%20n)%20%7B%20let%20r%20%3D%200%3B%20for%20(let%20s%20%3D%20e%2C%20a%20%3D%20i%20-%20n%3B%20s%20%3C%20i%3B%20s%20%2B%3D%20n)r%20%2B%3D%20(t%5Ba%5D%20-%20t%5Bs%5D)%20*%20(t%5Bs%20%2B%201%5D%20%2B%20t%5Ba%20%2B%201%5D)%2C%20a%20%3D%20s%3B%20return%20r%20%7D(t%2C%20e%2C%20i%2C%20n)%20%3E%200)%20for%20(s%20%3D%20e%3B%20s%20%3C%20i%3B%20s%20%2B%3D%20n)a%20%3D%20ol(s%2C%20t%5Bs%5D%2C%20t%5Bs%20%2B%201%5D%2C%20a)%3B%20else%20for%20(s%20%3D%20i%20-%20n%3B%20s%20%3E%3D%20e%3B%20s%20-%3D%20n)a%20%3D%20ol(s%2C%20t%5Bs%5D%2C%20t%5Bs%20%2B%201%5D%2C%20a)%3B%20return%20a%20%26%26%20el(a%2C%20a.next)%20%26%26%20(ll(a)%2C%20a%20%3D%20a.next)%2C%20a%20%7D%20function%20Go(t%2C%20e)%20%7B%20if%20(!t)%20return%20t%3B%20e%20%7C%7C%20(e%20%3D%20t)%3B%20let%20i%2C%20n%20%3D%20t%3B%20do%20%7B%20if%20(i%20%3D%20!1%2C%20n.steiner%20%7C%7C%20!el(n%2C%20n.next)%20%26%26%200%20!%3D%3D%20tl(n.prev%2C%20n%2C%20n.next))%20n%20%3D%20n.next%3B%20else%20%7B%20if%20(ll(n)%2C%20n%20%3D%20e%20%3D%20n.prev%2C%20n%20%3D%3D%3D%20n.next)%20break%3B%20i%20%3D%20!0%20%7D%20%7D%20while%20(i%20%7C%7C%20n%20!%3D%3D%20e)%3B%20return%20e%20%7D%20function%20Vo(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%20a)%20%7B%20if%20(!t)%20return%3B%20!a%20%26%26%20s%20%26%26%20function%20(t%2C%20e%2C%20i%2C%20n)%20%7B%20let%20r%20%3D%20t%3B%20do%20%7B%200%20%3D%3D%3D%20r.z%20%26%26%20(r.z%20%3D%20Jo(r.x%2C%20r.y%2C%20e%2C%20i%2C%20n))%2C%20r.prevZ%20%3D%20r.prev%2C%20r.nextZ%20%3D%20r.next%2C%20r%20%3D%20r.next%20%7D%20while%20(r%20!%3D%3D%20t)%3B%20r.prevZ.nextZ%20%3D%20null%2C%20r.prevZ%20%3D%20null%2C%20function%20(t)%20%7B%20let%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%20a%2C%20o%2C%20l%2C%20c%20%3D%201%3B%20do%20%7B%20for%20(i%20%3D%20t%2C%20t%20%3D%20null%2C%20s%20%3D%20null%2C%20a%20%3D%200%3B%20i%3B)%20%7B%20for%20(a%2B%2B%2C%20n%20%3D%20i%2C%20o%20%3D%200%2C%20e%20%3D%200%3B%20e%20%3C%20c%20%26%26%20(o%2B%2B%2C%20n%20%3D%20n.nextZ%2C%20n)%3B%20e%2B%2B)%3B%20for%20(l%20%3D%20c%3B%20o%20%3E%200%20%7C%7C%20l%20%3E%200%20%26%26%20n%3B)0%20!%3D%3D%20o%20%26%26%20(0%20%3D%3D%3D%20l%20%7C%7C%20!n%20%7C%7C%20i.z%20%3C%3D%20n.z)%20%3F%20(r%20%3D%20i%2C%20i%20%3D%20i.nextZ%2C%20o--)%20%3A%20(r%20%3D%20n%2C%20n%20%3D%20n.nextZ%2C%20l--)%2C%20s%20%3F%20s.nextZ%20%3D%20r%20%3A%20t%20%3D%20r%2C%20r.prevZ%20%3D%20s%2C%20s%20%3D%20r%3B%20i%20%3D%20n%20%7D%20s.nextZ%20%3D%20null%2C%20c%20*%3D%202%20%7D%20while%20(a%20%3E%201)%20%7D(r)%20%7D(t%2C%20n%2C%20r%2C%20s)%3B%20let%20o%2C%20l%2C%20c%20%3D%20t%3B%20for%20(%3B%20t.prev%20!%3D%3D%20t.next%3B)if%20(o%20%3D%20t.prev%2C%20l%20%3D%20t.next%2C%20s%20%3F%20Wo(t%2C%20n%2C%20r%2C%20s)%20%3A%20Ho(t))%20e.push(o.i%20%2F%20i%20%7C%200)%2C%20e.push(t.i%20%2F%20i%20%7C%200)%2C%20e.push(l.i%20%2F%20i%20%7C%200)%2C%20ll(t)%2C%20t%20%3D%20l.next%2C%20c%20%3D%20l.next%3B%20else%20if%20((t%20%3D%20l)%20%3D%3D%3D%20c)%20%7B%20a%20%3F%201%20%3D%3D%3D%20a%20%3F%20Vo(t%20%3D%20jo(Go(t)%2C%20e%2C%20i)%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%202)%20%3A%202%20%3D%3D%3D%20a%20%26%26%20qo(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s)%20%3A%20Vo(Go(t)%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%201)%3B%20break%20%7D%20%7D%20function%20Ho(t)%20%7B%20const%20e%20%3D%20t.prev%2C%20i%20%3D%20t%2C%20n%20%3D%20t.next%3B%20if%20(tl(e%2C%20i%2C%20n)%20%3E%3D%200)%20return%20!1%3B%20const%20r%20%3D%20e.x%2C%20s%20%3D%20i.x%2C%20a%20%3D%20n.x%2C%20o%20%3D%20e.y%2C%20l%20%3D%20i.y%2C%20c%20%3D%20n.y%2C%20h%20%3D%20r%20%3C%20s%20%3F%20r%20%3C%20a%20%3F%20r%20%3A%20a%20%3A%20s%20%3C%20a%20%3F%20s%20%3A%20a%2C%20u%20%3D%20o%20%3C%20l%20%3F%20o%20%3C%20c%20%3F%20o%20%3A%20c%20%3A%20l%20%3C%20c%20%3F%20l%20%3A%20c%2C%20d%20%3D%20r%20%3E%20s%20%3F%20r%20%3E%20a%20%3F%20r%20%3A%20a%20%3A%20s%20%3E%20a%20%3F%20s%20%3A%20a%2C%20p%20%3D%20o%20%3E%20l%20%3F%20o%20%3E%20c%20%3F%20o%20%3A%20c%20%3A%20l%20%3E%20c%20%3F%20l%20%3A%20c%3B%20let%20m%20%3D%20n.next%3B%20for%20(%3B%20m%20!%3D%3D%20e%3B)%20%7B%20if%20(m.x%20%3E%3D%20h%20%26%26%20m.x%20%3C%3D%20d%20%26%26%20m.y%20%3E%3D%20u%20%26%26%20m.y%20%3C%3D%20p%20%26%26%20%24o(r%2C%20o%2C%20s%2C%20l%2C%20a%2C%20c%2C%20m.x%2C%20m.y)%20%26%26%20tl(m.prev%2C%20m%2C%20m.next)%20%3E%3D%200)%20return%20!1%3B%20m%20%3D%20m.next%20%7D%20return%20!0%20%7D%20function%20Wo(t%2C%20e%2C%20i%2C%20n)%20%7B%20const%20r%20%3D%20t.prev%2C%20s%20%3D%20t%2C%20a%20%3D%20t.next%3B%20if%20(tl(r%2C%20s%2C%20a)%20%3E%3D%200)%20return%20!1%3B%20const%20o%20%3D%20r.x%2C%20l%20%3D%20s.x%2C%20c%20%3D%20a.x%2C%20h%20%3D%20r.y%2C%20u%20%3D%20s.y%2C%20d%20%3D%20a.y%2C%20p%20%3D%20o%20%3C%20l%20%3F%20o%20%3C%20c%20%3F%20o%20%3A%20c%20%3A%20l%20%3C%20c%20%3F%20l%20%3A%20c%2C%20m%20%3D%20h%20%3C%20u%20%3F%20h%20%3C%20d%20%3F%20h%20%3A%20d%20%3A%20u%20%3C%20d%20%3F%20u%20%3A%20d%2C%20f%20%3D%20o%20%3E%20l%20%3F%20o%20%3E%20c%20%3F%20o%20%3A%20c%20%3A%20l%20%3E%20c%20%3F%20l%20%3A%20c%2C%20g%20%3D%20h%20%3E%20u%20%3F%20h%20%3E%20d%20%3F%20h%20%3A%20d%20%3A%20u%20%3E%20d%20%3F%20u%20%3A%20d%2C%20v%20%3D%20Jo(p%2C%20m%2C%20e%2C%20i%2C%20n)%2C%20x%20%3D%20Jo(f%2C%20g%2C%20e%2C%20i%2C%20n)%3B%20let%20_%20%3D%20t.prevZ%2C%20y%20%3D%20t.nextZ%3B%20for%20(%3B%20_%20%26%26%20_.z%20%3E%3D%20v%20%26%26%20y%20%26%26%20y.z%20%3C%3D%20x%3B)%20%7B%20if%20(_.x%20%3E%3D%20p%20%26%26%20_.x%20%3C%3D%20f%20%26%26%20_.y%20%3E%3D%20m%20%26%26%20_.y%20%3C%3D%20g%20%26%26%20_%20!%3D%3D%20r%20%26%26%20_%20!%3D%3D%20a%20%26%26%20%24o(o%2C%20h%2C%20l%2C%20u%2C%20c%2C%20d%2C%20_.x%2C%20_.y)%20%26%26%20tl(_.prev%2C%20_%2C%20_.next)%20%3E%3D%200)%20return%20!1%3B%20if%20(_%20%3D%20_.prevZ%2C%20y.x%20%3E%3D%20p%20%26%26%20y.x%20%3C%3D%20f%20%26%26%20y.y%20%3E%3D%20m%20%26%26%20y.y%20%3C%3D%20g%20%26%26%20y%20!%3D%3D%20r%20%26%26%20y%20!%3D%3D%20a%20%26%26%20%24o(o%2C%20h%2C%20l%2C%20u%2C%20c%2C%20d%2C%20y.x%2C%20y.y)%20%26%26%20tl(y.prev%2C%20y%2C%20y.next)%20%3E%3D%200)%20return%20!1%3B%20y%20%3D%20y.nextZ%20%7D%20for%20(%3B%20_%20%26%26%20_.z%20%3E%3D%20v%3B)%20%7B%20if%20(_.x%20%3E%3D%20p%20%26%26%20_.x%20%3C%3D%20f%20%26%26%20_.y%20%3E%3D%20m%20%26%26%20_.y%20%3C%3D%20g%20%26%26%20_%20!%3D%3D%20r%20%26%26%20_%20!%3D%3D%20a%20%26%26%20%24o(o%2C%20h%2C%20l%2C%20u%2C%20c%2C%20d%2C%20_.x%2C%20_.y)%20%26%26%20tl(_.prev%2C%20_%2C%20_.next)%20%3E%3D%200)%20return%20!1%3B%20_%20%3D%20_.prevZ%20%7D%20for%20(%3B%20y%20%26%26%20y.z%20%3C%3D%20x%3B)%20%7B%20if%20(y.x%20%3E%3D%20p%20%26%26%20y.x%20%3C%3D%20f%20%26%26%20y.y%20%3E%3D%20m%20%26%26%20y.y%20%3C%3D%20g%20%26%26%20y%20!%3D%3D%20r%20%26%26%20y%20!%3D%3D%20a%20%26%26%20%24o(o%2C%20h%2C%20l%2C%20u%2C%20c%2C%20d%2C%20y.x%2C%20y.y)%20%26%26%20tl(y.prev%2C%20y%2C%20y.next)%20%3E%3D%200)%20return%20!1%3B%20y%20%3D%20y.nextZ%20%7D%20return%20!0%20%7D%20function%20jo(t%2C%20e%2C%20i)%20%7B%20let%20n%20%3D%20t%3B%20do%20%7B%20const%20r%20%3D%20n.prev%2C%20s%20%3D%20n.next.next%3B%20!el(r%2C%20s)%20%26%26%20il(r%2C%20n%2C%20n.next%2C%20s)%20%26%26%20sl(r%2C%20s)%20%26%26%20sl(s%2C%20r)%20%26%26%20(e.push(r.i%20%2F%20i%20%7C%200)%2C%20e.push(n.i%20%2F%20i%20%7C%200)%2C%20e.push(s.i%20%2F%20i%20%7C%200)%2C%20ll(n)%2C%20ll(n.next)%2C%20n%20%3D%20t%20%3D%20s)%2C%20n%20%3D%20n.next%20%7D%20while%20(n%20!%3D%3D%20t)%3B%20return%20Go(n)%20%7D%20function%20qo(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s)%20%7B%20let%20a%20%3D%20t%3B%20do%20%7B%20let%20t%20%3D%20a.next.next%3B%20for%20(%3B%20t%20!%3D%3D%20a.prev%3B)%20%7B%20if%20(a.i%20!%3D%3D%20t.i%20%26%26%20Qo(a%2C%20t))%20%7B%20let%20o%20%3D%20al(a%2C%20t)%3B%20return%20a%20%3D%20Go(a%2C%20a.next)%2C%20o%20%3D%20Go(o%2C%20o.next)%2C%20Vo(a%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%200)%2C%20void%20Vo(o%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%200)%20%7D%20t%20%3D%20t.next%20%7D%20a%20%3D%20a.next%20%7D%20while%20(a%20!%3D%3D%20t)%20%7D%20function%20Xo(t%2C%20e)%20%7B%20return%20t.x%20-%20e.x%20%7D%20function%20Yo(t%2C%20e)%20%7B%20const%20i%20%3D%20function%20(t%2C%20e)%20%7B%20let%20i%2C%20n%20%3D%20e%2C%20r%20%3D%20-1%20%2F%200%3B%20const%20s%20%3D%20t.x%2C%20a%20%3D%20t.y%3B%20do%20%7B%20if%20(a%20%3C%3D%20n.y%20%26%26%20a%20%3E%3D%20n.next.y%20%26%26%20n.next.y%20!%3D%3D%20n.y)%20%7B%20const%20t%20%3D%20n.x%20%2B%20(a%20-%20n.y)%20*%20(n.next.x%20-%20n.x)%20%2F%20(n.next.y%20-%20n.y)%3B%20if%20(t%20%3C%3D%20s%20%26%26%20t%20%3E%20r%20%26%26%20(r%20%3D%20t%2C%20i%20%3D%20n.x%20%3C%20n.next.x%20%3F%20n%20%3A%20n.next%2C%20t%20%3D%3D%3D%20s))%20return%20i%20%7D%20n%20%3D%20n.next%20%7D%20while%20(n%20!%3D%3D%20e)%3B%20if%20(!i)%20return%20null%3B%20const%20o%20%3D%20i%2C%20l%20%3D%20i.x%2C%20c%20%3D%20i.y%3B%20let%20h%2C%20u%20%3D%201%20%2F%200%3B%20n%20%3D%20i%3B%20do%20%7B%20s%20%3E%3D%20n.x%20%26%26%20n.x%20%3E%3D%20l%20%26%26%20s%20!%3D%3D%20n.x%20%26%26%20%24o(a%20%3C%20c%20%3F%20s%20%3A%20r%2C%20a%2C%20l%2C%20c%2C%20a%20%3C%20c%20%3F%20r%20%3A%20s%2C%20a%2C%20n.x%2C%20n.y)%20%26%26%20(h%20%3D%20Math.abs(a%20-%20n.y)%20%2F%20(s%20-%20n.x)%2C%20sl(n%2C%20t)%20%26%26%20(h%20%3C%20u%20%7C%7C%20h%20%3D%3D%3D%20u%20%26%26%20(n.x%20%3E%20i.x%20%7C%7C%20n.x%20%3D%3D%3D%20i.x%20%26%26%20Zo(i%2C%20n)))%20%26%26%20(i%20%3D%20n%2C%20u%20%3D%20h))%2C%20n%20%3D%20n.next%20%7D%20while%20(n%20!%3D%3D%20o)%3B%20return%20i%20%7D(t%2C%20e)%3B%20if%20(!i)%20return%20e%3B%20const%20n%20%3D%20al(i%2C%20t)%3B%20return%20Go(n%2C%20n.next)%2C%20Go(i%2C%20i.next)%20%7D%20function%20Zo(t%2C%20e)%20%7B%20return%20tl(t.prev%2C%20t%2C%20e.prev)%20%3C%200%20%26%26%20tl(e.next%2C%20t%2C%20t.next)%20%3C%200%20%7D%20function%20Jo(t%2C%20e%2C%20i%2C%20n%2C%20r)%20%7B%20return%20(t%20%3D%201431655765%20%26%20((t%20%3D%20858993459%20%26%20((t%20%3D%20252645135%20%26%20((t%20%3D%2016711935%20%26%20((t%20%3D%20(t%20-%20i)%20*%20r%20%7C%200)%20%7C%20t%20%3C%3C%208))%20%7C%20t%20%3C%3C%204))%20%7C%20t%20%3C%3C%202))%20%7C%20t%20%3C%3C%201))%20%7C%20(e%20%3D%201431655765%20%26%20((e%20%3D%20858993459%20%26%20((e%20%3D%20252645135%20%26%20((e%20%3D%2016711935%20%26%20((e%20%3D%20(e%20-%20n)%20*%20r%20%7C%200)%20%7C%20e%20%3C%3C%208))%20%7C%20e%20%3C%3C%204))%20%7C%20e%20%3C%3C%202))%20%7C%20e%20%3C%3C%201))%20%3C%3C%201%20%7D%20function%20Ko(t)%20%7B%20let%20e%20%3D%20t%2C%20i%20%3D%20t%3B%20do%20%7B%20(e.x%20%3C%20i.x%20%7C%7C%20e.x%20%3D%3D%3D%20i.x%20%26%26%20e.y%20%3C%20i.y)%20%26%26%20(i%20%3D%20e)%2C%20e%20%3D%20e.next%20%7D%20while%20(e%20!%3D%3D%20t)%3B%20return%20i%20%7D%20function%20%24o(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%20a%2C%20o)%20%7B%20return%20(r%20-%20a)%20*%20(e%20-%20o)%20%3E%3D%20(t%20-%20a)%20*%20(s%20-%20o)%20%26%26%20(t%20-%20a)%20*%20(n%20-%20o)%20%3E%3D%20(i%20-%20a)%20*%20(e%20-%20o)%20%26%26%20(i%20-%20a)%20*%20(s%20-%20o)%20%3E%3D%20(r%20-%20a)%20*%20(n%20-%20o)%20%7D%20function%20Qo(t%2C%20e)%20%7B%20return%20t.next.i%20!%3D%3D%20e.i%20%26%26%20t.prev.i%20!%3D%3D%20e.i%20%26%26%20!function%20(t%2C%20e)%20%7B%20let%20i%20%3D%20t%3B%20do%20%7B%20if%20(i.i%20!%3D%3D%20t.i%20%26%26%20i.next.i%20!%3D%3D%20t.i%20%26%26%20i.i%20!%3D%3D%20e.i%20%26%26%20i.next.i%20!%3D%3D%20e.i%20%26%26%20il(i%2C%20i.next%2C%20t%2C%20e))%20return%20!0%3B%20i%20%3D%20i.next%20%7D%20while%20(i%20!%3D%3D%20t)%3B%20return%20!1%20%7D(t%2C%20e)%20%26%26%20(sl(t%2C%20e)%20%26%26%20sl(e%2C%20t)%20%26%26%20function%20(t%2C%20e)%20%7B%20let%20i%20%3D%20t%2C%20n%20%3D%20!1%3B%20const%20r%20%3D%20(t.x%20%2B%20e.x)%20%2F%202%2C%20s%20%3D%20(t.y%20%2B%20e.y)%20%2F%202%3B%20do%20%7B%20i.y%20%3E%20s%20!%3D%20i.next.y%20%3E%20s%20%26%26%20i.next.y%20!%3D%3D%20i.y%20%26%26%20r%20%3C%20(i.next.x%20-%20i.x)%20*%20(s%20-%20i.y)%20%2F%20(i.next.y%20-%20i.y)%20%2B%20i.x%20%26%26%20(n%20%3D%20!n)%2C%20i%20%3D%20i.next%20%7D%20while%20(i%20!%3D%3D%20t)%3B%20return%20n%20%7D(t%2C%20e)%20%26%26%20(tl(t.prev%2C%20t%2C%20e.prev)%20%7C%7C%20tl(t%2C%20e.prev%2C%20e))%20%7C%7C%20el(t%2C%20e)%20%26%26%20tl(t.prev%2C%20t%2C%20t.next)%20%3E%200%20%26%26%20tl(e.prev%2C%20e%2C%20e.next)%20%3E%200)%20%7D%20function%20tl(t%2C%20e%2C%20i)%20%7B%20return%20(e.y%20-%20t.y)%20*%20(i.x%20-%20e.x)%20-%20(e.x%20-%20t.x)%20*%20(i.y%20-%20e.y)%20%7D%20function%20el(t%2C%20e)%20%7B%20return%20t.x%20%3D%3D%3D%20e.x%20%26%26%20t.y%20%3D%3D%3D%20e.y%20%7D%20function%20il(t%2C%20e%2C%20i%2C%20n)%20%7B%20const%20r%20%3D%20rl(tl(t%2C%20e%2C%20i))%2C%20s%20%3D%20rl(tl(t%2C%20e%2C%20n))%2C%20a%20%3D%20rl(tl(i%2C%20n%2C%20t))%2C%20o%20%3D%20rl(tl(i%2C%20n%2C%20e))%3B%20return%20r%20!%3D%3D%20s%20%26%26%20a%20!%3D%3D%20o%20%7C%7C%20(!(0%20!%3D%3D%20r%20%7C%7C%20!nl(t%2C%20i%2C%20e))%20%7C%7C%20(!(0%20!%3D%3D%20s%20%7C%7C%20!nl(t%2C%20n%2C%20e))%20%7C%7C%20(!(0%20!%3D%3D%20a%20%7C%7C%20!nl(i%2C%20t%2C%20n))%20%7C%7C%20!(0%20!%3D%3D%20o%20%7C%7C%20!nl(i%2C%20e%2C%20n)))))%20%7D%20function%20nl(t%2C%20e%2C%20i)%20%7B%20return%20e.x%20%3C%3D%20Math.max(t.x%2C%20i.x)%20%26%26%20e.x%20%3E%3D%20Math.min(t.x%2C%20i.x)%20%26%26%20e.y%20%3C%3D%20Math.max(t.y%2C%20i.y)%20%26%26%20e.y%20%3E%3D%20Math.min(t.y%2C%20i.y)%20%7D%20function%20rl(t)%20%7B%20return%20t%20%3E%200%20%3F%201%20%3A%20t%20%3C%200%20%3F%20-1%20%3A%200%20%7D%20function%20sl(t%2C%20e)%20%7B%20return%20tl(t.prev%2C%20t%2C%20t.next)%20%3C%200%20%3F%20tl(t%2C%20e%2C%20t.next)%20%3E%3D%200%20%26%26%20tl(t%2C%20t.prev%2C%20e)%20%3E%3D%200%20%3A%20tl(t%2C%20e%2C%20t.prev)%20%3C%200%20%7C%7C%20tl(t%2C%20t.next%2C%20e)%20%3C%200%20%7D%20function%20al(t%2C%20e)%20%7B%20const%20i%20%3D%20new%20cl(t.i%2C%20t.x%2C%20t.y)%2C%20n%20%3D%20new%20cl(e.i%2C%20e.x%2C%20e.y)%2C%20r%20%3D%20t.next%2C%20s%20%3D%20e.prev%3B%20return%20t.next%20%3D%20e%2C%20e.prev%20%3D%20t%2C%20i.next%20%3D%20r%2C%20r.prev%20%3D%20i%2C%20n.next%20%3D%20i%2C%20i.prev%20%3D%20n%2C%20s.next%20%3D%20n%2C%20n.prev%20%3D%20s%2C%20n%20%7D%20function%20ol(t%2C%20e%2C%20i%2C%20n)%20%7B%20const%20r%20%3D%20new%20cl(t%2C%20e%2C%20i)%3B%20return%20n%20%3F%20(r.next%20%3D%20n.next%2C%20r.prev%20%3D%20n%2C%20n.next.prev%20%3D%20r%2C%20n.next%20%3D%20r)%20%3A%20(r.prev%20%3D%20r%2C%20r.next%20%3D%20r)%2C%20r%20%7D%20function%20ll(t)%20%7B%20t.next.prev%20%3D%20t.prev%2C%20t.prev.next%20%3D%20t.next%2C%20t.prevZ%20%26%26%20(t.prevZ.nextZ%20%3D%20t.nextZ)%2C%20t.nextZ%20%26%26%20(t.nextZ.prevZ%20%3D%20t.prevZ)%20%7D%20function%20cl(t%2C%20e%2C%20i)%20%7B%20this.i%20%3D%20t%2C%20this.x%20%3D%20e%2C%20this.y%20%3D%20i%2C%20this.prev%20%3D%20null%2C%20this.next%20%3D%20null%2C%20this.z%20%3D%200%2C%20this.prevZ%20%3D%20null%2C%20this.nextZ%20%3D%20null%2C%20this.steiner%20%3D%20!1%20%7D%20class%20hl%20%7B%20static%20area(t)%20%7B%20const%20e%20%3D%20t.length%3B%20let%20i%20%3D%200%3B%20for%20(let%20n%20%3D%20e%20-%201%2C%20r%20%3D%200%3B%20r%20%3C%20e%3B%20n%20%3D%20r%2B%2B)i%20%2B%3D%20t%5Bn%5D.x%20*%20t%5Br%5D.y%20-%20t%5Br%5D.x%20*%20t%5Bn%5D.y%3B%20return%20.5%20*%20i%20%7D%20static%20isClockWise(t)%20%7B%20return%20hl.area(t)%20%3C%200%20%7D%20static%20triangulateShape(t%2C%20e)%20%7B%20const%20i%20%3D%20%5B%5D%2C%20n%20%3D%20%5B%5D%2C%20r%20%3D%20%5B%5D%3B%20ul(t)%2C%20dl(i%2C%20t)%3B%20let%20s%20%3D%20t.length%3B%20e.forEach(ul)%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20e.length%3B%20t%2B%2B)n.push(s)%2C%20s%20%2B%3D%20e%5Bt%5D.length%2C%20dl(i%2C%20e%5Bt%5D)%3B%20const%20a%20%3D%20Fo(i%2C%20n)%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20a.length%3B%20t%20%2B%3D%203)r.push(a.slice(t%2C%20t%20%2B%203))%3B%20return%20r%20%7D%20%7D%20function%20ul(t)%20%7B%20const%20e%20%3D%20t.length%3B%20e%20%3E%202%20%26%26%20t%5Be%20-%201%5D.equals(t%5B0%5D)%20%26%26%20t.pop()%20%7D%20function%20dl(t%2C%20e)%20%7B%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20e.length%3B%20i%2B%2B)t.push(e%5Bi%5D.x)%2C%20t.push(e%5Bi%5D.y)%20%7D%20class%20pl%20extends%20Di%20%7B%20constructor(t%20%3D%20new%20Bo(%5Bnew%20Lt(.5%2C%20.5)%2C%20new%20Lt(-.5%2C%20.5)%2C%20new%20Lt(-.5%2C%20-.5)%2C%20new%20Lt(.5%2C%20-.5)%5D)%2C%20e%20%3D%20%7B%7D)%20%7B%20super()%2C%20this.type%20%3D%20%22ExtrudeGeometry%22%2C%20this.parameters%20%3D%20%7B%20shapes%3A%20t%2C%20options%3A%20e%20%7D%2C%20t%20%3D%20Array.isArray(t)%20%3F%20t%20%3A%20%5Bt%5D%3B%20const%20i%20%3D%20this%2C%20n%20%3D%20%5B%5D%2C%20r%20%3D%20%5B%5D%3B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20t.length%3B%20e%20%3C%20i%3B%20e%2B%2B)%20%7B%20s(t%5Be%5D)%20%7D%20function%20s(t)%20%7B%20const%20s%20%3D%20%5B%5D%2C%20a%20%3D%20void%200%20!%3D%3D%20e.curveSegments%20%3F%20e.curveSegments%20%3A%2012%2C%20o%20%3D%20void%200%20!%3D%3D%20e.steps%20%3F%20e.steps%20%3A%201%2C%20l%20%3D%20void%200%20!%3D%3D%20e.depth%20%3F%20e.depth%20%3A%201%3B%20let%20c%20%3D%20void%200%20%3D%3D%3D%20e.bevelEnabled%20%7C%7C%20e.bevelEnabled%2C%20h%20%3D%20void%200%20!%3D%3D%20e.bevelThickness%20%3F%20e.bevelThickness%20%3A%20.2%2C%20u%20%3D%20void%200%20!%3D%3D%20e.bevelSize%20%3F%20e.bevelSize%20%3A%20h%20-%20.1%2C%20d%20%3D%20void%200%20!%3D%3D%20e.bevelOffset%20%3F%20e.bevelOffset%20%3A%200%2C%20p%20%3D%20void%200%20!%3D%3D%20e.bevelSegments%20%3F%20e.bevelSegments%20%3A%203%3B%20const%20m%20%3D%20e.extrudePath%2C%20f%20%3D%20void%200%20!%3D%3D%20e.UVGenerator%20%3F%20e.UVGenerator%20%3A%20ml%3B%20let%20g%2C%20v%2C%20x%2C%20_%2C%20y%2C%20M%20%3D%20!1%3B%20m%20%26%26%20(g%20%3D%20m.getSpacedPoints(o)%2C%20M%20%3D%20!0%2C%20c%20%3D%20!1%2C%20v%20%3D%20m.computeFrenetFrames(o%2C%20!1)%2C%20x%20%3D%20new%20re%2C%20_%20%3D%20new%20re%2C%20y%20%3D%20new%20re)%2C%20c%20%7C%7C%20(p%20%3D%200%2C%20h%20%3D%200%2C%20u%20%3D%200%2C%20d%20%3D%200)%3B%20const%20b%20%3D%20t.extractPoints(a)%3B%20let%20S%20%3D%20b.shape%3B%20const%20w%20%3D%20b.holes%3B%20if%20(!hl.isClockWise(S))%20%7B%20S%20%3D%20S.reverse()%3B%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20w.length%3B%20t%20%3C%20e%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20w%5Bt%5D%3B%20hl.isClockWise(e)%20%26%26%20(w%5Bt%5D%20%3D%20e.reverse())%20%7D%20%7D%20const%20T%20%3D%20hl.triangulateShape(S%2C%20w)%2C%20A%20%3D%20S%3B%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20w.length%3B%20t%20%3C%20e%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20w%5Bt%5D%3B%20S%20%3D%20S.concat(e)%20%7D%20function%20E(t%2C%20e%2C%20i)%20%7B%20return%20e%20%7C%7C%20console.error(%22THREE.ExtrudeGeometry%3A%20vec%20does%20not%20exist%22)%2C%20e.clone().multiplyScalar(i).add(t)%20%7D%20const%20C%20%3D%20S.length%2C%20L%20%3D%20T.length%3B%20function%20R(t%2C%20e%2C%20i)%20%7B%20let%20n%2C%20r%2C%20s%3B%20const%20a%20%3D%20t.x%20-%20e.x%2C%20o%20%3D%20t.y%20-%20e.y%2C%20l%20%3D%20i.x%20-%20t.x%2C%20c%20%3D%20i.y%20-%20t.y%2C%20h%20%3D%20a%20*%20a%20%2B%20o%20*%20o%2C%20u%20%3D%20a%20*%20c%20-%20o%20*%20l%3B%20if%20(Math.abs(u)%20%3E%20Number.EPSILON)%20%7B%20const%20u%20%3D%20Math.sqrt(h)%2C%20d%20%3D%20Math.sqrt(l%20*%20l%20%2B%20c%20*%20c)%2C%20p%20%3D%20e.x%20-%20o%20%2F%20u%2C%20m%20%3D%20e.y%20%2B%20a%20%2F%20u%2C%20f%20%3D%20((i.x%20-%20c%20%2F%20d%20-%20p)%20*%20c%20-%20(i.y%20%2B%20l%20%2F%20d%20-%20m)%20*%20l)%20%2F%20(a%20*%20c%20-%20o%20*%20l)%3B%20n%20%3D%20p%20%2B%20a%20*%20f%20-%20t.x%2C%20r%20%3D%20m%20%2B%20o%20*%20f%20-%20t.y%3B%20const%20g%20%3D%20n%20*%20n%20%2B%20r%20*%20r%3B%20if%20(g%20%3C%3D%202)%20return%20new%20Lt(n%2C%20r)%3B%20s%20%3D%20Math.sqrt(g%20%2F%202)%20%7D%20else%20%7B%20let%20t%20%3D%20!1%3B%20a%20%3E%20Number.EPSILON%20%3F%20l%20%3E%20Number.EPSILON%20%26%26%20(t%20%3D%20!0)%20%3A%20a%20%3C%20-Number.EPSILON%20%3F%20l%20%3C%20-Number.EPSILON%20%26%26%20(t%20%3D%20!0)%20%3A%20Math.sign(o)%20%3D%3D%3D%20Math.sign(c)%20%26%26%20(t%20%3D%20!0)%2C%20t%20%3F%20(n%20%3D%20-o%2C%20r%20%3D%20a%2C%20s%20%3D%20Math.sqrt(h))%20%3A%20(n%20%3D%20a%2C%20r%20%3D%20o%2C%20s%20%3D%20Math.sqrt(h%20%2F%202))%20%7D%20return%20new%20Lt(n%20%2F%20s%2C%20r%20%2F%20s)%20%7D%20const%20P%20%3D%20%5B%5D%3B%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20A.length%2C%20i%20%3D%20e%20-%201%2C%20n%20%3D%20t%20%2B%201%3B%20t%20%3C%20e%3B%20t%2B%2B%2C%20i%2B%2B%2C%20n%2B%2B)i%20%3D%3D%3D%20e%20%26%26%20(i%20%3D%200)%2C%20n%20%3D%3D%3D%20e%20%26%26%20(n%20%3D%200)%2C%20P%5Bt%5D%20%3D%20R(A%5Bt%5D%2C%20A%5Bi%5D%2C%20A%5Bn%5D)%3B%20const%20I%20%3D%20%5B%5D%3B%20let%20D%2C%20N%20%3D%20P.concat()%3B%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20w.length%3B%20t%20%3C%20e%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20w%5Bt%5D%3B%20D%20%3D%20%5B%5D%3B%20for%20(let%20t%20%3D%200%2C%20i%20%3D%20e.length%2C%20n%20%3D%20i%20-%201%2C%20r%20%3D%20t%20%2B%201%3B%20t%20%3C%20i%3B%20t%2B%2B%2C%20n%2B%2B%2C%20r%2B%2B)n%20%3D%3D%3D%20i%20%26%26%20(n%20%3D%200)%2C%20r%20%3D%3D%3D%20i%20%26%26%20(r%20%3D%200)%2C%20D%5Bt%5D%20%3D%20R(e%5Bt%5D%2C%20e%5Bn%5D%2C%20e%5Br%5D)%3B%20I.push(D)%2C%20N%20%3D%20N.concat(D)%20%7D%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20p%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20t%20%2F%20p%2C%20i%20%3D%20h%20*%20Math.cos(e%20*%20Math.PI%20%2F%202)%2C%20n%20%3D%20u%20*%20Math.sin(e%20*%20Math.PI%20%2F%202)%20%2B%20d%3B%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20A.length%3B%20t%20%3C%20e%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20E(A%5Bt%5D%2C%20P%5Bt%5D%2C%20n)%3B%20U(e.x%2C%20e.y%2C%20-i)%20%7D%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20w.length%3B%20t%20%3C%20e%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20w%5Bt%5D%3B%20D%20%3D%20I%5Bt%5D%3B%20for%20(let%20t%20%3D%200%2C%20r%20%3D%20e.length%3B%20t%20%3C%20r%3B%20t%2B%2B)%20%7B%20const%20r%20%3D%20E(e%5Bt%5D%2C%20D%5Bt%5D%2C%20n)%3B%20U(r.x%2C%20r.y%2C%20-i)%20%7D%20%7D%20%7D%20const%20O%20%3D%20u%20%2B%20d%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20C%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20c%20%3F%20E(S%5Bt%5D%2C%20N%5Bt%5D%2C%20O)%20%3A%20S%5Bt%5D%3B%20M%20%3F%20(_.copy(v.normals%5B0%5D).multiplyScalar(e.x)%2C%20x.copy(v.binormals%5B0%5D).multiplyScalar(e.y)%2C%20y.copy(g%5B0%5D).add(_).add(x)%2C%20U(y.x%2C%20y.y%2C%20y.z))%20%3A%20U(e.x%2C%20e.y%2C%200)%20%7D%20for%20(let%20t%20%3D%201%3B%20t%20%3C%3D%20o%3B%20t%2B%2B)for%20(let%20e%20%3D%200%3B%20e%20%3C%20C%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20c%20%3F%20E(S%5Be%5D%2C%20N%5Be%5D%2C%20O)%20%3A%20S%5Be%5D%3B%20M%20%3F%20(_.copy(v.normals%5Bt%5D).multiplyScalar(i.x)%2C%20x.copy(v.binormals%5Bt%5D).multiplyScalar(i.y)%2C%20y.copy(g%5Bt%5D).add(_).add(x)%2C%20U(y.x%2C%20y.y%2C%20y.z))%20%3A%20U(i.x%2C%20i.y%2C%20l%20%2F%20o%20*%20t)%20%7D%20for%20(let%20t%20%3D%20p%20-%201%3B%20t%20%3E%3D%200%3B%20t--)%20%7B%20const%20e%20%3D%20t%20%2F%20p%2C%20i%20%3D%20h%20*%20Math.cos(e%20*%20Math.PI%20%2F%202)%2C%20n%20%3D%20u%20*%20Math.sin(e%20*%20Math.PI%20%2F%202)%20%2B%20d%3B%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20A.length%3B%20t%20%3C%20e%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20E(A%5Bt%5D%2C%20P%5Bt%5D%2C%20n)%3B%20U(e.x%2C%20e.y%2C%20l%20%2B%20i)%20%7D%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20w.length%3B%20t%20%3C%20e%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20w%5Bt%5D%3B%20D%20%3D%20I%5Bt%5D%3B%20for%20(let%20t%20%3D%200%2C%20r%20%3D%20e.length%3B%20t%20%3C%20r%3B%20t%2B%2B)%20%7B%20const%20r%20%3D%20E(e%5Bt%5D%2C%20D%5Bt%5D%2C%20n)%3B%20M%20%3F%20U(r.x%2C%20r.y%20%2B%20g%5Bo%20-%201%5D.y%2C%20g%5Bo%20-%201%5D.x%20%2B%20i)%20%3A%20U(r.x%2C%20r.y%2C%20l%20%2B%20i)%20%7D%20%7D%20%7D%20function%20z(t%2C%20e)%20%7B%20let%20i%20%3D%20t.length%3B%20for%20(%3B%20--i%20%3E%3D%200%3B)%20%7B%20const%20n%20%3D%20i%3B%20let%20r%20%3D%20i%20-%201%3B%20r%20%3C%200%20%26%26%20(r%20%3D%20t.length%20-%201)%3B%20for%20(let%20t%20%3D%200%2C%20i%20%3D%20o%20%2B%202%20*%20p%3B%20t%20%3C%20i%3B%20t%2B%2B)%20%7B%20const%20i%20%3D%20C%20*%20t%2C%20s%20%3D%20C%20*%20(t%20%2B%201)%3B%20F(e%20%2B%20n%20%2B%20i%2C%20e%20%2B%20r%20%2B%20i%2C%20e%20%2B%20r%20%2B%20s%2C%20e%20%2B%20n%20%2B%20s)%20%7D%20%7D%20%7D%20function%20U(t%2C%20e%2C%20i)%20%7B%20s.push(t)%2C%20s.push(e)%2C%20s.push(i)%20%7D%20function%20B(t%2C%20e%2C%20r)%20%7B%20k(t)%2C%20k(e)%2C%20k(r)%3B%20const%20s%20%3D%20n.length%20%2F%203%2C%20a%20%3D%20f.generateTopUV(i%2C%20n%2C%20s%20-%203%2C%20s%20-%202%2C%20s%20-%201)%3B%20G(a%5B0%5D)%2C%20G(a%5B1%5D)%2C%20G(a%5B2%5D)%20%7D%20function%20F(t%2C%20e%2C%20r%2C%20s)%20%7B%20k(t)%2C%20k(e)%2C%20k(s)%2C%20k(e)%2C%20k(r)%2C%20k(s)%3B%20const%20a%20%3D%20n.length%20%2F%203%2C%20o%20%3D%20f.generateSideWallUV(i%2C%20n%2C%20a%20-%206%2C%20a%20-%203%2C%20a%20-%202%2C%20a%20-%201)%3B%20G(o%5B0%5D)%2C%20G(o%5B1%5D)%2C%20G(o%5B3%5D)%2C%20G(o%5B1%5D)%2C%20G(o%5B2%5D)%2C%20G(o%5B3%5D)%20%7D%20function%20k(t)%20%7B%20n.push(s%5B3%20*%20t%20%2B%200%5D)%2C%20n.push(s%5B3%20*%20t%20%2B%201%5D)%2C%20n.push(s%5B3%20*%20t%20%2B%202%5D)%20%7D%20function%20G(t)%20%7B%20r.push(t.x)%2C%20r.push(t.y)%20%7D%20!function%20()%20%7B%20const%20t%20%3D%20n.length%20%2F%203%3B%20if%20(c)%20%7B%20let%20t%20%3D%200%2C%20e%20%3D%20C%20*%20t%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20L%3B%20t%2B%2B)%20%7B%20const%20i%20%3D%20T%5Bt%5D%3B%20B(i%5B2%5D%20%2B%20e%2C%20i%5B1%5D%20%2B%20e%2C%20i%5B0%5D%20%2B%20e)%20%7D%20t%20%3D%20o%20%2B%202%20*%20p%2C%20e%20%3D%20C%20*%20t%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20L%3B%20t%2B%2B)%20%7B%20const%20i%20%3D%20T%5Bt%5D%3B%20B(i%5B0%5D%20%2B%20e%2C%20i%5B1%5D%20%2B%20e%2C%20i%5B2%5D%20%2B%20e)%20%7D%20%7D%20else%20%7B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20L%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20T%5Bt%5D%3B%20B(e%5B2%5D%2C%20e%5B1%5D%2C%20e%5B0%5D)%20%7D%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20L%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20T%5Bt%5D%3B%20B(e%5B0%5D%20%2B%20C%20*%20o%2C%20e%5B1%5D%20%2B%20C%20*%20o%2C%20e%5B2%5D%20%2B%20C%20*%20o)%20%7D%20%7D%20i.addGroup(t%2C%20n.length%20%2F%203%20-%20t%2C%200)%20%7D()%2C%20function%20()%20%7B%20const%20t%20%3D%20n.length%20%2F%203%3B%20let%20e%20%3D%200%3B%20z(A%2C%20e)%2C%20e%20%2B%3D%20A.length%3B%20for%20(let%20t%20%3D%200%2C%20i%20%3D%20w.length%3B%20t%20%3C%20i%3B%20t%2B%2B)%20%7B%20const%20i%20%3D%20w%5Bt%5D%3B%20z(i%2C%20e)%2C%20e%20%2B%3D%20i.length%20%7D%20i.addGroup(t%2C%20n.length%20%2F%203%20-%20t%2C%201)%20%7D()%20%7D%20this.setAttribute(%22position%22%2C%20new%20Ti(n%2C%203))%2C%20this.setAttribute(%22uv%22%2C%20new%20Ti(r%2C%202))%2C%20this.computeVertexNormals()%20%7D%20toJSON()%20%7B%20const%20t%20%3D%20super.toJSON()%3B%20return%20function%20(t%2C%20e%2C%20i)%20%7B%20if%20(i.shapes%20%3D%20%5B%5D%2C%20Array.isArray(t))%20for%20(let%20e%20%3D%200%2C%20n%20%3D%20t.length%3B%20e%20%3C%20n%3B%20e%2B%2B)%20%7B%20const%20n%20%3D%20t%5Be%5D%3B%20i.shapes.push(n.uuid)%20%7D%20else%20i.shapes.push(t.uuid)%3B%20i.options%20%3D%20Object.assign(%7B%7D%2C%20e)%2C%20void%200%20!%3D%3D%20e.extrudePath%20%26%26%20(i.options.extrudePath%20%3D%20e.extrudePath.toJSON())%3B%20return%20i%20%7D(this.parameters.shapes%2C%20this.parameters.options%2C%20t)%20%7D%20static%20fromJSON(t%2C%20e)%20%7B%20const%20i%20%3D%20%5B%5D%3B%20for%20(let%20n%20%3D%200%2C%20r%20%3D%20t.shapes.length%3B%20n%20%3C%20r%3B%20n%2B%2B)%20%7B%20const%20r%20%3D%20e%5Bt.shapes%5Bn%5D%5D%3B%20i.push(r)%20%7D%20const%20n%20%3D%20t.options.extrudePath%3B%20return%20void%200%20!%3D%3D%20n%20%26%26%20(t.options.extrudePath%20%3D%20(new%20So%5Bn.type%5D).fromJSON(n))%2C%20new%20pl(i%2C%20t.options)%20%7D%20%7D%20const%20ml%20%3D%20%7B%20generateTopUV%3A%20function%20(t%2C%20e%2C%20i%2C%20n%2C%20r)%20%7B%20const%20s%20%3D%20e%5B3%20*%20i%5D%2C%20a%20%3D%20e%5B3%20*%20i%20%2B%201%5D%2C%20o%20%3D%20e%5B3%20*%20n%5D%2C%20l%20%3D%20e%5B3%20*%20n%20%2B%201%5D%2C%20c%20%3D%20e%5B3%20*%20r%5D%2C%20h%20%3D%20e%5B3%20*%20r%20%2B%201%5D%3B%20return%20%5Bnew%20Lt(s%2C%20a)%2C%20new%20Lt(o%2C%20l)%2C%20new%20Lt(c%2C%20h)%5D%20%7D%2C%20generateSideWallUV%3A%20function%20(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s)%20%7B%20const%20a%20%3D%20e%5B3%20*%20i%5D%2C%20o%20%3D%20e%5B3%20*%20i%20%2B%201%5D%2C%20l%20%3D%20e%5B3%20*%20i%20%2B%202%5D%2C%20c%20%3D%20e%5B3%20*%20n%5D%2C%20h%20%3D%20e%5B3%20*%20n%20%2B%201%5D%2C%20u%20%3D%20e%5B3%20*%20n%20%2B%202%5D%2C%20d%20%3D%20e%5B3%20*%20r%5D%2C%20p%20%3D%20e%5B3%20*%20r%20%2B%201%5D%2C%20m%20%3D%20e%5B3%20*%20r%20%2B%202%5D%2C%20f%20%3D%20e%5B3%20*%20s%5D%2C%20g%20%3D%20e%5B3%20*%20s%20%2B%201%5D%2C%20v%20%3D%20e%5B3%20*%20s%20%2B%202%5D%3B%20return%20Math.abs(o%20-%20h)%20%3C%20Math.abs(a%20-%20c)%20%3F%20%5Bnew%20Lt(a%2C%201%20-%20l)%2C%20new%20Lt(c%2C%201%20-%20u)%2C%20new%20Lt(d%2C%201%20-%20m)%2C%20new%20Lt(f%2C%201%20-%20v)%5D%20%3A%20%5Bnew%20Lt(o%2C%201%20-%20l)%2C%20new%20Lt(h%2C%201%20-%20u)%2C%20new%20Lt(p%2C%201%20-%20m)%2C%20new%20Lt(g%2C%201%20-%20v)%5D%20%7D%20%7D%3B%20class%20fl%20extends%20Po%20%7B%20constructor(t%20%3D%201%2C%20e%20%3D%200)%20%7B%20const%20i%20%3D%20(1%20%2B%20Math.sqrt(5))%20%2F%202%3B%20super(%5B-1%2C%20i%2C%200%2C%201%2C%20i%2C%200%2C%20-1%2C%20-i%2C%200%2C%201%2C%20-i%2C%200%2C%200%2C%20-1%2C%20i%2C%200%2C%201%2C%20i%2C%200%2C%20-1%2C%20-i%2C%200%2C%201%2C%20-i%2C%20i%2C%200%2C%20-1%2C%20i%2C%200%2C%201%2C%20-i%2C%200%2C%20-1%2C%20-i%2C%200%2C%201%5D%2C%20%5B0%2C%2011%2C%205%2C%200%2C%205%2C%201%2C%200%2C%201%2C%207%2C%200%2C%207%2C%2010%2C%200%2C%2010%2C%2011%2C%201%2C%205%2C%209%2C%205%2C%2011%2C%204%2C%2011%2C%2010%2C%202%2C%2010%2C%207%2C%206%2C%207%2C%201%2C%208%2C%203%2C%209%2C%204%2C%203%2C%204%2C%202%2C%203%2C%202%2C%206%2C%203%2C%206%2C%208%2C%203%2C%208%2C%209%2C%204%2C%209%2C%205%2C%202%2C%204%2C%2011%2C%206%2C%202%2C%2010%2C%208%2C%206%2C%207%2C%209%2C%208%2C%201%5D%2C%20t%2C%20e)%2C%20this.type%20%3D%20%22IcosahedronGeometry%22%2C%20this.parameters%20%3D%20%7B%20radius%3A%20t%2C%20detail%3A%20e%20%7D%20%7D%20static%20fromJSON(t)%20%7B%20return%20new%20fl(t.radius%2C%20t.detail)%20%7D%20%7D%20class%20gl%20extends%20Po%20%7B%20constructor(t%20%3D%201%2C%20e%20%3D%200)%20%7B%20super(%5B1%2C%200%2C%200%2C%20-1%2C%200%2C%200%2C%200%2C%201%2C%200%2C%200%2C%20-1%2C%200%2C%200%2C%200%2C%201%2C%200%2C%200%2C%20-1%5D%2C%20%5B0%2C%202%2C%204%2C%200%2C%204%2C%203%2C%200%2C%203%2C%205%2C%200%2C%205%2C%202%2C%201%2C%202%2C%205%2C%201%2C%205%2C%203%2C%201%2C%203%2C%204%2C%201%2C%204%2C%202%5D%2C%20t%2C%20e)%2C%20this.type%20%3D%20%22OctahedronGeometry%22%2C%20this.parameters%20%3D%20%7B%20radius%3A%20t%2C%20detail%3A%20e%20%7D%20%7D%20static%20fromJSON(t)%20%7B%20return%20new%20gl(t.radius%2C%20t.detail)%20%7D%20%7D%20class%20vl%20extends%20Di%20%7B%20constructor(t%20%3D%20.5%2C%20e%20%3D%201%2C%20i%20%3D%2032%2C%20n%20%3D%201%2C%20r%20%3D%200%2C%20s%20%3D%202%20*%20Math.PI)%20%7B%20super()%2C%20this.type%20%3D%20%22RingGeometry%22%2C%20this.parameters%20%3D%20%7B%20innerRadius%3A%20t%2C%20outerRadius%3A%20e%2C%20thetaSegments%3A%20i%2C%20phiSegments%3A%20n%2C%20thetaStart%3A%20r%2C%20thetaLength%3A%20s%20%7D%2C%20i%20%3D%20Math.max(3%2C%20i)%3B%20const%20a%20%3D%20%5B%5D%2C%20o%20%3D%20%5B%5D%2C%20l%20%3D%20%5B%5D%2C%20c%20%3D%20%5B%5D%3B%20let%20h%20%3D%20t%3B%20const%20u%20%3D%20(e%20-%20t)%20%2F%20(n%20%3D%20Math.max(1%2C%20n))%2C%20d%20%3D%20new%20re%2C%20p%20%3D%20new%20Lt%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%3D%20n%3B%20t%2B%2B)%20%7B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%3D%20i%3B%20t%2B%2B)%20%7B%20const%20n%20%3D%20r%20%2B%20t%20%2F%20i%20*%20s%3B%20d.x%20%3D%20h%20*%20Math.cos(n)%2C%20d.y%20%3D%20h%20*%20Math.sin(n)%2C%20o.push(d.x%2C%20d.y%2C%20d.z)%2C%20l.push(0%2C%200%2C%201)%2C%20p.x%20%3D%20(d.x%20%2F%20e%20%2B%201)%20%2F%202%2C%20p.y%20%3D%20(d.y%20%2F%20e%20%2B%201)%20%2F%202%2C%20c.push(p.x%2C%20p.y)%20%7D%20h%20%2B%3D%20u%20%7D%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20n%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20t%20*%20(i%20%2B%201)%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20i%3B%20t%2B%2B)%20%7B%20const%20n%20%3D%20t%20%2B%20e%2C%20r%20%3D%20n%2C%20s%20%3D%20n%20%2B%20i%20%2B%201%2C%20o%20%3D%20n%20%2B%20i%20%2B%202%2C%20l%20%3D%20n%20%2B%201%3B%20a.push(r%2C%20s%2C%20l)%2C%20a.push(s%2C%20o%2C%20l)%20%7D%20%7D%20this.setIndex(a)%2C%20this.setAttribute(%22position%22%2C%20new%20Ti(o%2C%203))%2C%20this.setAttribute(%22normal%22%2C%20new%20Ti(l%2C%203))%2C%20this.setAttribute(%22uv%22%2C%20new%20Ti(c%2C%202))%20%7D%20static%20fromJSON(t)%20%7B%20return%20new%20vl(t.innerRadius%2C%20t.outerRadius%2C%20t.thetaSegments%2C%20t.phiSegments%2C%20t.thetaStart%2C%20t.thetaLength)%20%7D%20%7D%20class%20xl%20extends%20Di%20%7B%20constructor(t%20%3D%20new%20Bo(%5Bnew%20Lt(0%2C%20.5)%2C%20new%20Lt(-.5%2C%20-.5)%2C%20new%20Lt(.5%2C%20-.5)%5D)%2C%20e%20%3D%2012)%20%7B%20super()%2C%20this.type%20%3D%20%22ShapeGeometry%22%2C%20this.parameters%20%3D%20%7B%20shapes%3A%20t%2C%20curveSegments%3A%20e%20%7D%3B%20const%20i%20%3D%20%5B%5D%2C%20n%20%3D%20%5B%5D%2C%20r%20%3D%20%5B%5D%2C%20s%20%3D%20%5B%5D%3B%20let%20a%20%3D%200%2C%20o%20%3D%200%3B%20if%20(!1%20%3D%3D%3D%20Array.isArray(t))%20l(t)%3B%20else%20for%20(let%20e%20%3D%200%3B%20e%20%3C%20t.length%3B%20e%2B%2B)l(t%5Be%5D)%2C%20this.addGroup(a%2C%20o%2C%20e)%2C%20a%20%2B%3D%20o%2C%20o%20%3D%200%3B%20function%20l(t)%20%7B%20const%20a%20%3D%20n.length%20%2F%203%2C%20l%20%3D%20t.extractPoints(e)%3B%20let%20c%20%3D%20l.shape%3B%20const%20h%20%3D%20l.holes%3B%20!1%20%3D%3D%3D%20hl.isClockWise(c)%20%26%26%20(c%20%3D%20c.reverse())%3B%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20h.length%3B%20t%20%3C%20e%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20h%5Bt%5D%3B%20!0%20%3D%3D%3D%20hl.isClockWise(e)%20%26%26%20(h%5Bt%5D%20%3D%20e.reverse())%20%7D%20const%20u%20%3D%20hl.triangulateShape(c%2C%20h)%3B%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20h.length%3B%20t%20%3C%20e%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20h%5Bt%5D%3B%20c%20%3D%20c.concat(e)%20%7D%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20c.length%3B%20t%20%3C%20e%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20c%5Bt%5D%3B%20n.push(e.x%2C%20e.y%2C%200)%2C%20r.push(0%2C%200%2C%201)%2C%20s.push(e.x%2C%20e.y)%20%7D%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20u.length%3B%20t%20%3C%20e%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20u%5Bt%5D%2C%20n%20%3D%20e%5B0%5D%20%2B%20a%2C%20r%20%3D%20e%5B1%5D%20%2B%20a%2C%20s%20%3D%20e%5B2%5D%20%2B%20a%3B%20i.push(n%2C%20r%2C%20s)%2C%20o%20%2B%3D%203%20%7D%20%7D%20this.setIndex(i)%2C%20this.setAttribute(%22position%22%2C%20new%20Ti(n%2C%203))%2C%20this.setAttribute(%22normal%22%2C%20new%20Ti(r%2C%203))%2C%20this.setAttribute(%22uv%22%2C%20new%20Ti(s%2C%202))%20%7D%20toJSON()%20%7B%20const%20t%20%3D%20super.toJSON()%3B%20return%20function%20(t%2C%20e)%20%7B%20if%20(e.shapes%20%3D%20%5B%5D%2C%20Array.isArray(t))%20for%20(let%20i%20%3D%200%2C%20n%20%3D%20t.length%3B%20i%20%3C%20n%3B%20i%2B%2B)%20%7B%20const%20n%20%3D%20t%5Bi%5D%3B%20e.shapes.push(n.uuid)%20%7D%20else%20e.shapes.push(t.uuid)%3B%20return%20e%20%7D(this.parameters.shapes%2C%20t)%20%7D%20static%20fromJSON(t%2C%20e)%20%7B%20const%20i%20%3D%20%5B%5D%3B%20for%20(let%20n%20%3D%200%2C%20r%20%3D%20t.shapes.length%3B%20n%20%3C%20r%3B%20n%2B%2B)%20%7B%20const%20r%20%3D%20e%5Bt.shapes%5Bn%5D%5D%3B%20i.push(r)%20%7D%20return%20new%20xl(i%2C%20t.curveSegments)%20%7D%20%7D%20class%20_l%20extends%20Di%20%7B%20constructor(t%20%3D%201%2C%20e%20%3D%2032%2C%20i%20%3D%2016%2C%20n%20%3D%200%2C%20r%20%3D%202%20*%20Math.PI%2C%20s%20%3D%200%2C%20a%20%3D%20Math.PI)%20%7B%20super()%2C%20this.type%20%3D%20%22SphereGeometry%22%2C%20this.parameters%20%3D%20%7B%20radius%3A%20t%2C%20widthSegments%3A%20e%2C%20heightSegments%3A%20i%2C%20phiStart%3A%20n%2C%20phiLength%3A%20r%2C%20thetaStart%3A%20s%2C%20thetaLength%3A%20a%20%7D%2C%20e%20%3D%20Math.max(3%2C%20Math.floor(e))%2C%20i%20%3D%20Math.max(2%2C%20Math.floor(i))%3B%20const%20o%20%3D%20Math.min(s%20%2B%20a%2C%20Math.PI)%3B%20let%20l%20%3D%200%3B%20const%20c%20%3D%20%5B%5D%2C%20h%20%3D%20new%20re%2C%20u%20%3D%20new%20re%2C%20d%20%3D%20%5B%5D%2C%20p%20%3D%20%5B%5D%2C%20m%20%3D%20%5B%5D%2C%20f%20%3D%20%5B%5D%3B%20for%20(let%20d%20%3D%200%3B%20d%20%3C%3D%20i%3B%20d%2B%2B)%20%7B%20const%20g%20%3D%20%5B%5D%2C%20v%20%3D%20d%20%2F%20i%3B%20let%20x%20%3D%200%3B%200%20%3D%3D%20d%20%26%26%200%20%3D%3D%20s%20%3F%20x%20%3D%20.5%20%2F%20e%20%3A%20d%20%3D%3D%20i%20%26%26%20o%20%3D%3D%20Math.PI%20%26%26%20(x%20%3D%20-.5%20%2F%20e)%3B%20for%20(let%20i%20%3D%200%3B%20i%20%3C%3D%20e%3B%20i%2B%2B)%20%7B%20const%20o%20%3D%20i%20%2F%20e%3B%20h.x%20%3D%20-t%20*%20Math.cos(n%20%2B%20o%20*%20r)%20*%20Math.sin(s%20%2B%20v%20*%20a)%2C%20h.y%20%3D%20t%20*%20Math.cos(s%20%2B%20v%20*%20a)%2C%20h.z%20%3D%20t%20*%20Math.sin(n%20%2B%20o%20*%20r)%20*%20Math.sin(s%20%2B%20v%20*%20a)%2C%20p.push(h.x%2C%20h.y%2C%20h.z)%2C%20u.copy(h).normalize()%2C%20m.push(u.x%2C%20u.y%2C%20u.z)%2C%20f.push(o%20%2B%20x%2C%201%20-%20v)%2C%20g.push(l%2B%2B)%20%7D%20c.push(g)%20%7D%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20i%3B%20t%2B%2B)for%20(let%20n%20%3D%200%3B%20n%20%3C%20e%3B%20n%2B%2B)%20%7B%20const%20e%20%3D%20c%5Bt%5D%5Bn%20%2B%201%5D%2C%20r%20%3D%20c%5Bt%5D%5Bn%5D%2C%20a%20%3D%20c%5Bt%20%2B%201%5D%5Bn%5D%2C%20l%20%3D%20c%5Bt%20%2B%201%5D%5Bn%20%2B%201%5D%3B%20(0%20!%3D%3D%20t%20%7C%7C%20s%20%3E%200)%20%26%26%20d.push(e%2C%20r%2C%20l)%2C%20(t%20!%3D%3D%20i%20-%201%20%7C%7C%20o%20%3C%20Math.PI)%20%26%26%20d.push(r%2C%20a%2C%20l)%20%7D%20this.setIndex(d)%2C%20this.setAttribute(%22position%22%2C%20new%20Ti(p%2C%203))%2C%20this.setAttribute(%22normal%22%2C%20new%20Ti(m%2C%203))%2C%20this.setAttribute(%22uv%22%2C%20new%20Ti(f%2C%202))%20%7D%20static%20fromJSON(t)%20%7B%20return%20new%20_l(t.radius%2C%20t.widthSegments%2C%20t.heightSegments%2C%20t.phiStart%2C%20t.phiLength%2C%20t.thetaStart%2C%20t.thetaLength)%20%7D%20%7D%20class%20yl%20extends%20Po%20%7B%20constructor(t%20%3D%201%2C%20e%20%3D%200)%20%7B%20super(%5B1%2C%201%2C%201%2C%20-1%2C%20-1%2C%201%2C%20-1%2C%201%2C%20-1%2C%201%2C%20-1%2C%20-1%5D%2C%20%5B2%2C%201%2C%200%2C%200%2C%203%2C%202%2C%201%2C%203%2C%200%2C%202%2C%203%2C%201%5D%2C%20t%2C%20e)%2C%20this.type%20%3D%20%22TetrahedronGeometry%22%2C%20this.parameters%20%3D%20%7B%20radius%3A%20t%2C%20detail%3A%20e%20%7D%20%7D%20static%20fromJSON(t)%20%7B%20return%20new%20yl(t.radius%2C%20t.detail)%20%7D%20%7D%20class%20Ml%20extends%20Di%20%7B%20constructor(t%20%3D%201%2C%20e%20%3D%20.4%2C%20i%20%3D%2012%2C%20n%20%3D%2048%2C%20r%20%3D%202%20*%20Math.PI)%20%7B%20super()%2C%20this.type%20%3D%20%22TorusGeometry%22%2C%20this.parameters%20%3D%20%7B%20radius%3A%20t%2C%20tube%3A%20e%2C%20radialSegments%3A%20i%2C%20tubularSegments%3A%20n%2C%20arc%3A%20r%20%7D%2C%20i%20%3D%20Math.floor(i)%2C%20n%20%3D%20Math.floor(n)%3B%20const%20s%20%3D%20%5B%5D%2C%20a%20%3D%20%5B%5D%2C%20o%20%3D%20%5B%5D%2C%20l%20%3D%20%5B%5D%2C%20c%20%3D%20new%20re%2C%20h%20%3D%20new%20re%2C%20u%20%3D%20new%20re%3B%20for%20(let%20s%20%3D%200%3B%20s%20%3C%3D%20i%3B%20s%2B%2B)for%20(let%20d%20%3D%200%3B%20d%20%3C%3D%20n%3B%20d%2B%2B)%20%7B%20const%20p%20%3D%20d%20%2F%20n%20*%20r%2C%20m%20%3D%20s%20%2F%20i%20*%20Math.PI%20*%202%3B%20h.x%20%3D%20(t%20%2B%20e%20*%20Math.cos(m))%20*%20Math.cos(p)%2C%20h.y%20%3D%20(t%20%2B%20e%20*%20Math.cos(m))%20*%20Math.sin(p)%2C%20h.z%20%3D%20e%20*%20Math.sin(m)%2C%20a.push(h.x%2C%20h.y%2C%20h.z)%2C%20c.x%20%3D%20t%20*%20Math.cos(p)%2C%20c.y%20%3D%20t%20*%20Math.sin(p)%2C%20u.subVectors(h%2C%20c).normalize()%2C%20o.push(u.x%2C%20u.y%2C%20u.z)%2C%20l.push(d%20%2F%20n)%2C%20l.push(s%20%2F%20i)%20%7D%20for%20(let%20t%20%3D%201%3B%20t%20%3C%3D%20i%3B%20t%2B%2B)for%20(let%20e%20%3D%201%3B%20e%20%3C%3D%20n%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20(n%20%2B%201)%20*%20t%20%2B%20e%20-%201%2C%20r%20%3D%20(n%20%2B%201)%20*%20(t%20-%201)%20%2B%20e%20-%201%2C%20a%20%3D%20(n%20%2B%201)%20*%20(t%20-%201)%20%2B%20e%2C%20o%20%3D%20(n%20%2B%201)%20*%20t%20%2B%20e%3B%20s.push(i%2C%20r%2C%20o)%2C%20s.push(r%2C%20a%2C%20o)%20%7D%20this.setIndex(s)%2C%20this.setAttribute(%22position%22%2C%20new%20Ti(a%2C%203))%2C%20this.setAttribute(%22normal%22%2C%20new%20Ti(o%2C%203))%2C%20this.setAttribute(%22uv%22%2C%20new%20Ti(l%2C%202))%20%7D%20static%20fromJSON(t)%20%7B%20return%20new%20Ml(t.radius%2C%20t.tube%2C%20t.radialSegments%2C%20t.tubularSegments%2C%20t.arc)%20%7D%20%7D%20class%20bl%20extends%20Di%20%7B%20constructor(t%20%3D%201%2C%20e%20%3D%20.4%2C%20i%20%3D%2064%2C%20n%20%3D%208%2C%20r%20%3D%202%2C%20s%20%3D%203)%20%7B%20super()%2C%20this.type%20%3D%20%22TorusKnotGeometry%22%2C%20this.parameters%20%3D%20%7B%20radius%3A%20t%2C%20tube%3A%20e%2C%20tubularSegments%3A%20i%2C%20radialSegments%3A%20n%2C%20p%3A%20r%2C%20q%3A%20s%20%7D%2C%20i%20%3D%20Math.floor(i)%2C%20n%20%3D%20Math.floor(n)%3B%20const%20a%20%3D%20%5B%5D%2C%20o%20%3D%20%5B%5D%2C%20l%20%3D%20%5B%5D%2C%20c%20%3D%20%5B%5D%2C%20h%20%3D%20new%20re%2C%20u%20%3D%20new%20re%2C%20d%20%3D%20new%20re%2C%20p%20%3D%20new%20re%2C%20m%20%3D%20new%20re%2C%20f%20%3D%20new%20re%2C%20g%20%3D%20new%20re%3B%20for%20(let%20a%20%3D%200%3B%20a%20%3C%3D%20i%3B%20%2B%2Ba)%20%7B%20const%20x%20%3D%20a%20%2F%20i%20*%20r%20*%20Math.PI%20*%202%3B%20v(x%2C%20r%2C%20s%2C%20t%2C%20d)%2C%20v(x%20%2B%20.01%2C%20r%2C%20s%2C%20t%2C%20p)%2C%20f.subVectors(p%2C%20d)%2C%20g.addVectors(p%2C%20d)%2C%20m.crossVectors(f%2C%20g)%2C%20g.crossVectors(m%2C%20f)%2C%20m.normalize()%2C%20g.normalize()%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%3D%20n%3B%20%2B%2Bt)%20%7B%20const%20r%20%3D%20t%20%2F%20n%20*%20Math.PI%20*%202%2C%20s%20%3D%20-e%20*%20Math.cos(r)%2C%20p%20%3D%20e%20*%20Math.sin(r)%3B%20h.x%20%3D%20d.x%20%2B%20(s%20*%20g.x%20%2B%20p%20*%20m.x)%2C%20h.y%20%3D%20d.y%20%2B%20(s%20*%20g.y%20%2B%20p%20*%20m.y)%2C%20h.z%20%3D%20d.z%20%2B%20(s%20*%20g.z%20%2B%20p%20*%20m.z)%2C%20o.push(h.x%2C%20h.y%2C%20h.z)%2C%20u.subVectors(h%2C%20d).normalize()%2C%20l.push(u.x%2C%20u.y%2C%20u.z)%2C%20c.push(a%20%2F%20i)%2C%20c.push(t%20%2F%20n)%20%7D%20%7D%20for%20(let%20t%20%3D%201%3B%20t%20%3C%3D%20i%3B%20t%2B%2B)for%20(let%20e%20%3D%201%3B%20e%20%3C%3D%20n%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20(n%20%2B%201)%20*%20(t%20-%201)%20%2B%20(e%20-%201)%2C%20r%20%3D%20(n%20%2B%201)%20*%20t%20%2B%20(e%20-%201)%2C%20s%20%3D%20(n%20%2B%201)%20*%20t%20%2B%20e%2C%20o%20%3D%20(n%20%2B%201)%20*%20(t%20-%201)%20%2B%20e%3B%20a.push(i%2C%20r%2C%20o)%2C%20a.push(r%2C%20s%2C%20o)%20%7D%20function%20v(t%2C%20e%2C%20i%2C%20n%2C%20r)%20%7B%20const%20s%20%3D%20Math.cos(t)%2C%20a%20%3D%20Math.sin(t)%2C%20o%20%3D%20i%20%2F%20e%20*%20t%2C%20l%20%3D%20Math.cos(o)%3B%20r.x%20%3D%20n%20*%20(2%20%2B%20l)%20*%20.5%20*%20s%2C%20r.y%20%3D%20n%20*%20(2%20%2B%20l)%20*%20a%20*%20.5%2C%20r.z%20%3D%20n%20*%20Math.sin(o)%20*%20.5%20%7D%20this.setIndex(a)%2C%20this.setAttribute(%22position%22%2C%20new%20Ti(o%2C%203))%2C%20this.setAttribute(%22normal%22%2C%20new%20Ti(l%2C%203))%2C%20this.setAttribute(%22uv%22%2C%20new%20Ti(c%2C%202))%20%7D%20static%20fromJSON(t)%20%7B%20return%20new%20bl(t.radius%2C%20t.tube%2C%20t.tubularSegments%2C%20t.radialSegments%2C%20t.p%2C%20t.q)%20%7D%20%7D%20class%20Sl%20extends%20Di%20%7B%20constructor(t%20%3D%20new%20Mo(new%20re(-1%2C%20-1%2C%200)%2C%20new%20re(-1%2C%201%2C%200)%2C%20new%20re(1%2C%201%2C%200))%2C%20e%20%3D%2064%2C%20i%20%3D%201%2C%20n%20%3D%208%2C%20r%20%3D%20!1)%20%7B%20super()%2C%20this.type%20%3D%20%22TubeGeometry%22%2C%20this.parameters%20%3D%20%7B%20path%3A%20t%2C%20tubularSegments%3A%20e%2C%20radius%3A%20i%2C%20radialSegments%3A%20n%2C%20closed%3A%20r%20%7D%3B%20const%20s%20%3D%20t.computeFrenetFrames(e%2C%20r)%3B%20this.tangents%20%3D%20s.tangents%2C%20this.normals%20%3D%20s.normals%2C%20this.binormals%20%3D%20s.binormals%3B%20const%20a%20%3D%20new%20re%2C%20o%20%3D%20new%20re%2C%20l%20%3D%20new%20Lt%3B%20let%20c%20%3D%20new%20re%3B%20const%20h%20%3D%20%5B%5D%2C%20u%20%3D%20%5B%5D%2C%20d%20%3D%20%5B%5D%2C%20p%20%3D%20%5B%5D%3B%20function%20m(r)%20%7B%20c%20%3D%20t.getPointAt(r%20%2F%20e%2C%20c)%3B%20const%20l%20%3D%20s.normals%5Br%5D%2C%20d%20%3D%20s.binormals%5Br%5D%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%3D%20n%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20t%20%2F%20n%20*%20Math.PI%20*%202%2C%20r%20%3D%20Math.sin(e)%2C%20s%20%3D%20-Math.cos(e)%3B%20o.x%20%3D%20s%20*%20l.x%20%2B%20r%20*%20d.x%2C%20o.y%20%3D%20s%20*%20l.y%20%2B%20r%20*%20d.y%2C%20o.z%20%3D%20s%20*%20l.z%20%2B%20r%20*%20d.z%2C%20o.normalize()%2C%20u.push(o.x%2C%20o.y%2C%20o.z)%2C%20a.x%20%3D%20c.x%20%2B%20i%20*%20o.x%2C%20a.y%20%3D%20c.y%20%2B%20i%20*%20o.y%2C%20a.z%20%3D%20c.z%20%2B%20i%20*%20o.z%2C%20h.push(a.x%2C%20a.y%2C%20a.z)%20%7D%20%7D%20!function%20()%20%7B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20e%3B%20t%2B%2B)m(t)%3B%20m(!1%20%3D%3D%3D%20r%20%3F%20e%20%3A%200)%2C%20function%20()%20%7B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%3D%20e%3B%20t%2B%2B)for%20(let%20i%20%3D%200%3B%20i%20%3C%3D%20n%3B%20i%2B%2B)l.x%20%3D%20t%20%2F%20e%2C%20l.y%20%3D%20i%20%2F%20n%2C%20d.push(l.x%2C%20l.y)%20%7D()%2C%20function%20()%20%7B%20for%20(let%20t%20%3D%201%3B%20t%20%3C%3D%20e%3B%20t%2B%2B)for%20(let%20e%20%3D%201%3B%20e%20%3C%3D%20n%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20(n%20%2B%201)%20*%20(t%20-%201)%20%2B%20(e%20-%201)%2C%20r%20%3D%20(n%20%2B%201)%20*%20t%20%2B%20(e%20-%201)%2C%20s%20%3D%20(n%20%2B%201)%20*%20t%20%2B%20e%2C%20a%20%3D%20(n%20%2B%201)%20*%20(t%20-%201)%20%2B%20e%3B%20p.push(i%2C%20r%2C%20a)%2C%20p.push(r%2C%20s%2C%20a)%20%7D%20%7D()%20%7D()%2C%20this.setIndex(p)%2C%20this.setAttribute(%22position%22%2C%20new%20Ti(h%2C%203))%2C%20this.setAttribute(%22normal%22%2C%20new%20Ti(u%2C%203))%2C%20this.setAttribute(%22uv%22%2C%20new%20Ti(d%2C%202))%20%7D%20toJSON()%20%7B%20const%20t%20%3D%20super.toJSON()%3B%20return%20t.path%20%3D%20this.parameters.path.toJSON()%2C%20t%20%7D%20static%20fromJSON(t)%20%7B%20return%20new%20Sl((new%20So%5Bt.path.type%5D).fromJSON(t.path)%2C%20t.tubularSegments%2C%20t.radius%2C%20t.radialSegments%2C%20t.closed)%20%7D%20%7D%20class%20wl%20extends%20Di%20%7B%20constructor(t%20%3D%20null)%20%7B%20if%20(super()%2C%20this.type%20%3D%20%22WireframeGeometry%22%2C%20this.parameters%20%3D%20%7B%20geometry%3A%20t%20%7D%2C%20null%20!%3D%3D%20t)%20%7B%20const%20e%20%3D%20%5B%5D%2C%20i%20%3D%20new%20Set%2C%20n%20%3D%20new%20re%2C%20r%20%3D%20new%20re%3B%20if%20(null%20!%3D%3D%20t.index)%20%7B%20const%20s%20%3D%20t.attributes.position%2C%20a%20%3D%20t.index%3B%20let%20o%20%3D%20t.groups%3B%200%20%3D%3D%3D%20o.length%20%26%26%20(o%20%3D%20%5B%7B%20start%3A%200%2C%20count%3A%20a.count%2C%20materialIndex%3A%200%20%7D%5D)%3B%20for%20(let%20t%20%3D%200%2C%20l%20%3D%20o.length%3B%20t%20%3C%20l%3B%20%2B%2Bt)%20%7B%20const%20l%20%3D%20o%5Bt%5D%2C%20c%20%3D%20l.start%3B%20for%20(let%20t%20%3D%20c%2C%20o%20%3D%20c%20%2B%20l.count%3B%20t%20%3C%20o%3B%20t%20%2B%3D%203)for%20(let%20o%20%3D%200%3B%20o%20%3C%203%3B%20o%2B%2B)%20%7B%20const%20l%20%3D%20a.getX(t%20%2B%20o)%2C%20c%20%3D%20a.getX(t%20%2B%20(o%20%2B%201)%20%25%203)%3B%20n.fromBufferAttribute(s%2C%20l)%2C%20r.fromBufferAttribute(s%2C%20c)%2C%20!0%20%3D%3D%3D%20Tl(n%2C%20r%2C%20i)%20%26%26%20(e.push(n.x%2C%20n.y%2C%20n.z)%2C%20e.push(r.x%2C%20r.y%2C%20r.z))%20%7D%20%7D%20%7D%20else%20%7B%20const%20s%20%3D%20t.attributes.position%3B%20for%20(let%20t%20%3D%200%2C%20a%20%3D%20s.count%20%2F%203%3B%20t%20%3C%20a%3B%20t%2B%2B)for%20(let%20a%20%3D%200%3B%20a%20%3C%203%3B%20a%2B%2B)%20%7B%20const%20o%20%3D%203%20*%20t%20%2B%20a%2C%20l%20%3D%203%20*%20t%20%2B%20(a%20%2B%201)%20%25%203%3B%20n.fromBufferAttribute(s%2C%20o)%2C%20r.fromBufferAttribute(s%2C%20l)%2C%20!0%20%3D%3D%3D%20Tl(n%2C%20r%2C%20i)%20%26%26%20(e.push(n.x%2C%20n.y%2C%20n.z)%2C%20e.push(r.x%2C%20r.y%2C%20r.z))%20%7D%20%7D%20this.setAttribute(%22position%22%2C%20new%20Ti(e%2C%203))%20%7D%20%7D%20%7D%20function%20Tl(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20%60%24%7Bt.x%7D%2C%24%7Bt.y%7D%2C%24%7Bt.z%7D-%24%7Be.x%7D%2C%24%7Be.y%7D%2C%24%7Be.z%7D%60%2C%20r%20%3D%20%60%24%7Be.x%7D%2C%24%7Be.y%7D%2C%24%7Be.z%7D-%24%7Bt.x%7D%2C%24%7Bt.y%7D%2C%24%7Bt.z%7D%60%3B%20return%20!0%20!%3D%3D%20i.has(n)%20%26%26%20!0%20!%3D%3D%20i.has(r)%20%26%26%20(i.add(n)%2C%20i.add(r)%2C%20!0)%20%7D%20var%20Al%20%3D%20Object.freeze(%7B%20__proto__%3A%20null%2C%20BoxGeometry%3A%20Zi%2C%20CapsuleGeometry%3A%20Eo%2C%20CircleGeometry%3A%20Co%2C%20ConeGeometry%3A%20Ro%2C%20CylinderGeometry%3A%20Lo%2C%20DodecahedronGeometry%3A%20Io%2C%20EdgesGeometry%3A%20Uo%2C%20ExtrudeGeometry%3A%20pl%2C%20IcosahedronGeometry%3A%20fl%2C%20LatheGeometry%3A%20Ao%2C%20OctahedronGeometry%3A%20gl%2C%20PlaneGeometry%3A%20vn%2C%20PolyhedronGeometry%3A%20Po%2C%20RingGeometry%3A%20vl%2C%20ShapeGeometry%3A%20xl%2C%20SphereGeometry%3A%20_l%2C%20TetrahedronGeometry%3A%20yl%2C%20TorusGeometry%3A%20Ml%2C%20TorusKnotGeometry%3A%20bl%2C%20TubeGeometry%3A%20Sl%2C%20WireframeGeometry%3A%20wl%20%7D)%3B%20class%20El%20extends%20xi%20%7B%20constructor(t)%20%7B%20super()%2C%20this.isShadowMaterial%20%3D%20!0%2C%20this.type%20%3D%20%22ShadowMaterial%22%2C%20this.color%20%3D%20new%20qt(0)%2C%20this.transparent%20%3D%20!0%2C%20this.fog%20%3D%20!0%2C%20this.setValues(t)%20%7D%20copy(t)%20%7B%20return%20super.copy(t)%2C%20this.color.copy(t.color)%2C%20this.fog%20%3D%20t.fog%2C%20this%20%7D%20%7D%20class%20Cl%20extends%20tn%20%7B%20constructor(t)%20%7B%20super(t)%2C%20this.isRawShaderMaterial%20%3D%20!0%2C%20this.type%20%3D%20%22RawShaderMaterial%22%20%7D%20%7D%20class%20Ll%20extends%20xi%20%7B%20constructor(t)%20%7B%20super()%2C%20this.isMeshStandardMaterial%20%3D%20!0%2C%20this.defines%20%3D%20%7B%20STANDARD%3A%20%22%22%20%7D%2C%20this.type%20%3D%20%22MeshStandardMaterial%22%2C%20this.color%20%3D%20new%20qt(16777215)%2C%20this.roughness%20%3D%201%2C%20this.metalness%20%3D%200%2C%20this.map%20%3D%20null%2C%20this.lightMap%20%3D%20null%2C%20this.lightMapIntensity%20%3D%201%2C%20this.aoMap%20%3D%20null%2C%20this.aoMapIntensity%20%3D%201%2C%20this.emissive%20%3D%20new%20qt(0)%2C%20this.emissiveIntensity%20%3D%201%2C%20this.emissiveMap%20%3D%20null%2C%20this.bumpMap%20%3D%20null%2C%20this.bumpScale%20%3D%201%2C%20this.normalMap%20%3D%20null%2C%20this.normalMapType%20%3D%200%2C%20this.normalScale%20%3D%20new%20Lt(1%2C%201)%2C%20this.displacementMap%20%3D%20null%2C%20this.displacementScale%20%3D%201%2C%20this.displacementBias%20%3D%200%2C%20this.roughnessMap%20%3D%20null%2C%20this.metalnessMap%20%3D%20null%2C%20this.alphaMap%20%3D%20null%2C%20this.envMap%20%3D%20null%2C%20this.envMapIntensity%20%3D%201%2C%20this.wireframe%20%3D%20!1%2C%20this.wireframeLinewidth%20%3D%201%2C%20this.wireframeLinecap%20%3D%20%22round%22%2C%20this.wireframeLinejoin%20%3D%20%22round%22%2C%20this.flatShading%20%3D%20!1%2C%20this.fog%20%3D%20!0%2C%20this.setValues(t)%20%7D%20copy(t)%20%7B%20return%20super.copy(t)%2C%20this.defines%20%3D%20%7B%20STANDARD%3A%20%22%22%20%7D%2C%20this.color.copy(t.color)%2C%20this.roughness%20%3D%20t.roughness%2C%20this.metalness%20%3D%20t.metalness%2C%20this.map%20%3D%20t.map%2C%20this.lightMap%20%3D%20t.lightMap%2C%20this.lightMapIntensity%20%3D%20t.lightMapIntensity%2C%20this.aoMap%20%3D%20t.aoMap%2C%20this.aoMapIntensity%20%3D%20t.aoMapIntensity%2C%20this.emissive.copy(t.emissive)%2C%20this.emissiveMap%20%3D%20t.emissiveMap%2C%20this.emissiveIntensity%20%3D%20t.emissiveIntensity%2C%20this.bumpMap%20%3D%20t.bumpMap%2C%20this.bumpScale%20%3D%20t.bumpScale%2C%20this.normalMap%20%3D%20t.normalMap%2C%20this.normalMapType%20%3D%20t.normalMapType%2C%20this.normalScale.copy(t.normalScale)%2C%20this.displacementMap%20%3D%20t.displacementMap%2C%20this.displacementScale%20%3D%20t.displacementScale%2C%20this.displacementBias%20%3D%20t.displacementBias%2C%20this.roughnessMap%20%3D%20t.roughnessMap%2C%20this.metalnessMap%20%3D%20t.metalnessMap%2C%20this.alphaMap%20%3D%20t.alphaMap%2C%20this.envMap%20%3D%20t.envMap%2C%20this.envMapIntensity%20%3D%20t.envMapIntensity%2C%20this.wireframe%20%3D%20t.wireframe%2C%20this.wireframeLinewidth%20%3D%20t.wireframeLinewidth%2C%20this.wireframeLinecap%20%3D%20t.wireframeLinecap%2C%20this.wireframeLinejoin%20%3D%20t.wireframeLinejoin%2C%20this.flatShading%20%3D%20t.flatShading%2C%20this.fog%20%3D%20t.fog%2C%20this%20%7D%20%7D%20class%20Rl%20extends%20Ll%20%7B%20constructor(t)%20%7B%20super()%2C%20this.isMeshPhysicalMaterial%20%3D%20!0%2C%20this.defines%20%3D%20%7B%20STANDARD%3A%20%22%22%2C%20PHYSICAL%3A%20%22%22%20%7D%2C%20this.type%20%3D%20%22MeshPhysicalMaterial%22%2C%20this.clearcoatMap%20%3D%20null%2C%20this.clearcoatRoughness%20%3D%200%2C%20this.clearcoatRoughnessMap%20%3D%20null%2C%20this.clearcoatNormalScale%20%3D%20new%20Lt(1%2C%201)%2C%20this.clearcoatNormalMap%20%3D%20null%2C%20this.ior%20%3D%201.5%2C%20Object.defineProperty(this%2C%20%22reflectivity%22%2C%20%7B%20get%3A%20function%20()%20%7B%20return%20yt(2.5%20*%20(this.ior%20-%201)%20%2F%20(this.ior%20%2B%201)%2C%200%2C%201)%20%7D%2C%20set%3A%20function%20(t)%20%7B%20this.ior%20%3D%20(1%20%2B%20.4%20*%20t)%20%2F%20(1%20-%20.4%20*%20t)%20%7D%20%7D)%2C%20this.iridescenceMap%20%3D%20null%2C%20this.iridescenceIOR%20%3D%201.3%2C%20this.iridescenceThicknessRange%20%3D%20%5B100%2C%20400%5D%2C%20this.iridescenceThicknessMap%20%3D%20null%2C%20this.sheenColor%20%3D%20new%20qt(0)%2C%20this.sheenColorMap%20%3D%20null%2C%20this.sheenRoughness%20%3D%201%2C%20this.sheenRoughnessMap%20%3D%20null%2C%20this.transmissionMap%20%3D%20null%2C%20this.thickness%20%3D%200%2C%20this.thicknessMap%20%3D%20null%2C%20this.attenuationDistance%20%3D%201%20%2F%200%2C%20this.attenuationColor%20%3D%20new%20qt(1%2C%201%2C%201)%2C%20this.specularIntensity%20%3D%201%2C%20this.specularIntensityMap%20%3D%20null%2C%20this.specularColor%20%3D%20new%20qt(1%2C%201%2C%201)%2C%20this.specularColorMap%20%3D%20null%2C%20this._sheen%20%3D%200%2C%20this._clearcoat%20%3D%200%2C%20this._iridescence%20%3D%200%2C%20this._transmission%20%3D%200%2C%20this.setValues(t)%20%7D%20get%20sheen()%20%7B%20return%20this._sheen%20%7D%20set%20sheen(t)%20%7B%20this._sheen%20%3E%200%20!%3D%20t%20%3E%200%20%26%26%20this.version%2B%2B%2C%20this._sheen%20%3D%20t%20%7D%20get%20clearcoat()%20%7B%20return%20this._clearcoat%20%7D%20set%20clearcoat(t)%20%7B%20this._clearcoat%20%3E%200%20!%3D%20t%20%3E%200%20%26%26%20this.version%2B%2B%2C%20this._clearcoat%20%3D%20t%20%7D%20get%20iridescence()%20%7B%20return%20this._iridescence%20%7D%20set%20iridescence(t)%20%7B%20this._iridescence%20%3E%200%20!%3D%20t%20%3E%200%20%26%26%20this.version%2B%2B%2C%20this._iridescence%20%3D%20t%20%7D%20get%20transmission()%20%7B%20return%20this._transmission%20%7D%20set%20transmission(t)%20%7B%20this._transmission%20%3E%200%20!%3D%20t%20%3E%200%20%26%26%20this.version%2B%2B%2C%20this._transmission%20%3D%20t%20%7D%20copy(t)%20%7B%20return%20super.copy(t)%2C%20this.defines%20%3D%20%7B%20STANDARD%3A%20%22%22%2C%20PHYSICAL%3A%20%22%22%20%7D%2C%20this.clearcoat%20%3D%20t.clearcoat%2C%20this.clearcoatMap%20%3D%20t.clearcoatMap%2C%20this.clearcoatRoughness%20%3D%20t.clearcoatRoughness%2C%20this.clearcoatRoughnessMap%20%3D%20t.clearcoatRoughnessMap%2C%20this.clearcoatNormalMap%20%3D%20t.clearcoatNormalMap%2C%20this.clearcoatNormalScale.copy(t.clearcoatNormalScale)%2C%20this.ior%20%3D%20t.ior%2C%20this.iridescence%20%3D%20t.iridescence%2C%20this.iridescenceMap%20%3D%20t.iridescenceMap%2C%20this.iridescenceIOR%20%3D%20t.iridescenceIOR%2C%20this.iridescenceThicknessRange%20%3D%20%5B...t.iridescenceThicknessRange%5D%2C%20this.iridescenceThicknessMap%20%3D%20t.iridescenceThicknessMap%2C%20this.sheen%20%3D%20t.sheen%2C%20this.sheenColor.copy(t.sheenColor)%2C%20this.sheenColorMap%20%3D%20t.sheenColorMap%2C%20this.sheenRoughness%20%3D%20t.sheenRoughness%2C%20this.sheenRoughnessMap%20%3D%20t.sheenRoughnessMap%2C%20this.transmission%20%3D%20t.transmission%2C%20this.transmissionMap%20%3D%20t.transmissionMap%2C%20this.thickness%20%3D%20t.thickness%2C%20this.thicknessMap%20%3D%20t.thicknessMap%2C%20this.attenuationDistance%20%3D%20t.attenuationDistance%2C%20this.attenuationColor.copy(t.attenuationColor)%2C%20this.specularIntensity%20%3D%20t.specularIntensity%2C%20this.specularIntensityMap%20%3D%20t.specularIntensityMap%2C%20this.specularColor.copy(t.specularColor)%2C%20this.specularColorMap%20%3D%20t.specularColorMap%2C%20this%20%7D%20%7D%20class%20Pl%20extends%20xi%20%7B%20constructor(t)%20%7B%20super()%2C%20this.isMeshPhongMaterial%20%3D%20!0%2C%20this.type%20%3D%20%22MeshPhongMaterial%22%2C%20this.color%20%3D%20new%20qt(16777215)%2C%20this.specular%20%3D%20new%20qt(1118481)%2C%20this.shininess%20%3D%2030%2C%20this.map%20%3D%20null%2C%20this.lightMap%20%3D%20null%2C%20this.lightMapIntensity%20%3D%201%2C%20this.aoMap%20%3D%20null%2C%20this.aoMapIntensity%20%3D%201%2C%20this.emissive%20%3D%20new%20qt(0)%2C%20this.emissiveIntensity%20%3D%201%2C%20this.emissiveMap%20%3D%20null%2C%20this.bumpMap%20%3D%20null%2C%20this.bumpScale%20%3D%201%2C%20this.normalMap%20%3D%20null%2C%20this.normalMapType%20%3D%200%2C%20this.normalScale%20%3D%20new%20Lt(1%2C%201)%2C%20this.displacementMap%20%3D%20null%2C%20this.displacementScale%20%3D%201%2C%20this.displacementBias%20%3D%200%2C%20this.specularMap%20%3D%20null%2C%20this.alphaMap%20%3D%20null%2C%20this.envMap%20%3D%20null%2C%20this.combine%20%3D%200%2C%20this.reflectivity%20%3D%201%2C%20this.refractionRatio%20%3D%20.98%2C%20this.wireframe%20%3D%20!1%2C%20this.wireframeLinewidth%20%3D%201%2C%20this.wireframeLinecap%20%3D%20%22round%22%2C%20this.wireframeLinejoin%20%3D%20%22round%22%2C%20this.flatShading%20%3D%20!1%2C%20this.fog%20%3D%20!0%2C%20this.setValues(t)%20%7D%20copy(t)%20%7B%20return%20super.copy(t)%2C%20this.color.copy(t.color)%2C%20this.specular.copy(t.specular)%2C%20this.shininess%20%3D%20t.shininess%2C%20this.map%20%3D%20t.map%2C%20this.lightMap%20%3D%20t.lightMap%2C%20this.lightMapIntensity%20%3D%20t.lightMapIntensity%2C%20this.aoMap%20%3D%20t.aoMap%2C%20this.aoMapIntensity%20%3D%20t.aoMapIntensity%2C%20this.emissive.copy(t.emissive)%2C%20this.emissiveMap%20%3D%20t.emissiveMap%2C%20this.emissiveIntensity%20%3D%20t.emissiveIntensity%2C%20this.bumpMap%20%3D%20t.bumpMap%2C%20this.bumpScale%20%3D%20t.bumpScale%2C%20this.normalMap%20%3D%20t.normalMap%2C%20this.normalMapType%20%3D%20t.normalMapType%2C%20this.normalScale.copy(t.normalScale)%2C%20this.displacementMap%20%3D%20t.displacementMap%2C%20this.displacementScale%20%3D%20t.displacementScale%2C%20this.displacementBias%20%3D%20t.displacementBias%2C%20this.specularMap%20%3D%20t.specularMap%2C%20this.alphaMap%20%3D%20t.alphaMap%2C%20this.envMap%20%3D%20t.envMap%2C%20this.combine%20%3D%20t.combine%2C%20this.reflectivity%20%3D%20t.reflectivity%2C%20this.refractionRatio%20%3D%20t.refractionRatio%2C%20this.wireframe%20%3D%20t.wireframe%2C%20this.wireframeLinewidth%20%3D%20t.wireframeLinewidth%2C%20this.wireframeLinecap%20%3D%20t.wireframeLinecap%2C%20this.wireframeLinejoin%20%3D%20t.wireframeLinejoin%2C%20this.flatShading%20%3D%20t.flatShading%2C%20this.fog%20%3D%20t.fog%2C%20this%20%7D%20%7D%20class%20Il%20extends%20xi%20%7B%20constructor(t)%20%7B%20super()%2C%20this.isMeshToonMaterial%20%3D%20!0%2C%20this.defines%20%3D%20%7B%20TOON%3A%20%22%22%20%7D%2C%20this.type%20%3D%20%22MeshToonMaterial%22%2C%20this.color%20%3D%20new%20qt(16777215)%2C%20this.map%20%3D%20null%2C%20this.gradientMap%20%3D%20null%2C%20this.lightMap%20%3D%20null%2C%20this.lightMapIntensity%20%3D%201%2C%20this.aoMap%20%3D%20null%2C%20this.aoMapIntensity%20%3D%201%2C%20this.emissive%20%3D%20new%20qt(0)%2C%20this.emissiveIntensity%20%3D%201%2C%20this.emissiveMap%20%3D%20null%2C%20this.bumpMap%20%3D%20null%2C%20this.bumpScale%20%3D%201%2C%20this.normalMap%20%3D%20null%2C%20this.normalMapType%20%3D%200%2C%20this.normalScale%20%3D%20new%20Lt(1%2C%201)%2C%20this.displacementMap%20%3D%20null%2C%20this.displacementScale%20%3D%201%2C%20this.displacementBias%20%3D%200%2C%20this.alphaMap%20%3D%20null%2C%20this.wireframe%20%3D%20!1%2C%20this.wireframeLinewidth%20%3D%201%2C%20this.wireframeLinecap%20%3D%20%22round%22%2C%20this.wireframeLinejoin%20%3D%20%22round%22%2C%20this.fog%20%3D%20!0%2C%20this.setValues(t)%20%7D%20copy(t)%20%7B%20return%20super.copy(t)%2C%20this.color.copy(t.color)%2C%20this.map%20%3D%20t.map%2C%20this.gradientMap%20%3D%20t.gradientMap%2C%20this.lightMap%20%3D%20t.lightMap%2C%20this.lightMapIntensity%20%3D%20t.lightMapIntensity%2C%20this.aoMap%20%3D%20t.aoMap%2C%20this.aoMapIntensity%20%3D%20t.aoMapIntensity%2C%20this.emissive.copy(t.emissive)%2C%20this.emissiveMap%20%3D%20t.emissiveMap%2C%20this.emissiveIntensity%20%3D%20t.emissiveIntensity%2C%20this.bumpMap%20%3D%20t.bumpMap%2C%20this.bumpScale%20%3D%20t.bumpScale%2C%20this.normalMap%20%3D%20t.normalMap%2C%20this.normalMapType%20%3D%20t.normalMapType%2C%20this.normalScale.copy(t.normalScale)%2C%20this.displacementMap%20%3D%20t.displacementMap%2C%20this.displacementScale%20%3D%20t.displacementScale%2C%20this.displacementBias%20%3D%20t.displacementBias%2C%20this.alphaMap%20%3D%20t.alphaMap%2C%20this.wireframe%20%3D%20t.wireframe%2C%20this.wireframeLinewidth%20%3D%20t.wireframeLinewidth%2C%20this.wireframeLinecap%20%3D%20t.wireframeLinecap%2C%20this.wireframeLinejoin%20%3D%20t.wireframeLinejoin%2C%20this.fog%20%3D%20t.fog%2C%20this%20%7D%20%7D%20class%20Dl%20extends%20xi%20%7B%20constructor(t)%20%7B%20super()%2C%20this.isMeshNormalMaterial%20%3D%20!0%2C%20this.type%20%3D%20%22MeshNormalMaterial%22%2C%20this.bumpMap%20%3D%20null%2C%20this.bumpScale%20%3D%201%2C%20this.normalMap%20%3D%20null%2C%20this.normalMapType%20%3D%200%2C%20this.normalScale%20%3D%20new%20Lt(1%2C%201)%2C%20this.displacementMap%20%3D%20null%2C%20this.displacementScale%20%3D%201%2C%20this.displacementBias%20%3D%200%2C%20this.wireframe%20%3D%20!1%2C%20this.wireframeLinewidth%20%3D%201%2C%20this.flatShading%20%3D%20!1%2C%20this.setValues(t)%20%7D%20copy(t)%20%7B%20return%20super.copy(t)%2C%20this.bumpMap%20%3D%20t.bumpMap%2C%20this.bumpScale%20%3D%20t.bumpScale%2C%20this.normalMap%20%3D%20t.normalMap%2C%20this.normalMapType%20%3D%20t.normalMapType%2C%20this.normalScale.copy(t.normalScale)%2C%20this.displacementMap%20%3D%20t.displacementMap%2C%20this.displacementScale%20%3D%20t.displacementScale%2C%20this.displacementBias%20%3D%20t.displacementBias%2C%20this.wireframe%20%3D%20t.wireframe%2C%20this.wireframeLinewidth%20%3D%20t.wireframeLinewidth%2C%20this.flatShading%20%3D%20t.flatShading%2C%20this%20%7D%20%7D%20class%20Nl%20extends%20xi%20%7B%20constructor(t)%20%7B%20super()%2C%20this.isMeshLambertMaterial%20%3D%20!0%2C%20this.type%20%3D%20%22MeshLambertMaterial%22%2C%20this.color%20%3D%20new%20qt(16777215)%2C%20this.map%20%3D%20null%2C%20this.lightMap%20%3D%20null%2C%20this.lightMapIntensity%20%3D%201%2C%20this.aoMap%20%3D%20null%2C%20this.aoMapIntensity%20%3D%201%2C%20this.emissive%20%3D%20new%20qt(0)%2C%20this.emissiveIntensity%20%3D%201%2C%20this.emissiveMap%20%3D%20null%2C%20this.bumpMap%20%3D%20null%2C%20this.bumpScale%20%3D%201%2C%20this.normalMap%20%3D%20null%2C%20this.normalMapType%20%3D%200%2C%20this.normalScale%20%3D%20new%20Lt(1%2C%201)%2C%20this.displacementMap%20%3D%20null%2C%20this.displacementScale%20%3D%201%2C%20this.displacementBias%20%3D%200%2C%20this.specularMap%20%3D%20null%2C%20this.alphaMap%20%3D%20null%2C%20this.envMap%20%3D%20null%2C%20this.combine%20%3D%200%2C%20this.reflectivity%20%3D%201%2C%20this.refractionRatio%20%3D%20.98%2C%20this.wireframe%20%3D%20!1%2C%20this.wireframeLinewidth%20%3D%201%2C%20this.wireframeLinecap%20%3D%20%22round%22%2C%20this.wireframeLinejoin%20%3D%20%22round%22%2C%20this.flatShading%20%3D%20!1%2C%20this.fog%20%3D%20!0%2C%20this.setValues(t)%20%7D%20copy(t)%20%7B%20return%20super.copy(t)%2C%20this.color.copy(t.color)%2C%20this.map%20%3D%20t.map%2C%20this.lightMap%20%3D%20t.lightMap%2C%20this.lightMapIntensity%20%3D%20t.lightMapIntensity%2C%20this.aoMap%20%3D%20t.aoMap%2C%20this.aoMapIntensity%20%3D%20t.aoMapIntensity%2C%20this.emissive.copy(t.emissive)%2C%20this.emissiveMap%20%3D%20t.emissiveMap%2C%20this.emissiveIntensity%20%3D%20t.emissiveIntensity%2C%20this.bumpMap%20%3D%20t.bumpMap%2C%20this.bumpScale%20%3D%20t.bumpScale%2C%20this.normalMap%20%3D%20t.normalMap%2C%20this.normalMapType%20%3D%20t.normalMapType%2C%20this.normalScale.copy(t.normalScale)%2C%20this.displacementMap%20%3D%20t.displacementMap%2C%20this.displacementScale%20%3D%20t.displacementScale%2C%20this.displacementBias%20%3D%20t.displacementBias%2C%20this.specularMap%20%3D%20t.specularMap%2C%20this.alphaMap%20%3D%20t.alphaMap%2C%20this.envMap%20%3D%20t.envMap%2C%20this.combine%20%3D%20t.combine%2C%20this.reflectivity%20%3D%20t.reflectivity%2C%20this.refractionRatio%20%3D%20t.refractionRatio%2C%20this.wireframe%20%3D%20t.wireframe%2C%20this.wireframeLinewidth%20%3D%20t.wireframeLinewidth%2C%20this.wireframeLinecap%20%3D%20t.wireframeLinecap%2C%20this.wireframeLinejoin%20%3D%20t.wireframeLinejoin%2C%20this.flatShading%20%3D%20t.flatShading%2C%20this.fog%20%3D%20t.fog%2C%20this%20%7D%20%7D%20class%20Ol%20extends%20xi%20%7B%20constructor(t)%20%7B%20super()%2C%20this.isMeshMatcapMaterial%20%3D%20!0%2C%20this.defines%20%3D%20%7B%20MATCAP%3A%20%22%22%20%7D%2C%20this.type%20%3D%20%22MeshMatcapMaterial%22%2C%20this.color%20%3D%20new%20qt(16777215)%2C%20this.matcap%20%3D%20null%2C%20this.map%20%3D%20null%2C%20this.bumpMap%20%3D%20null%2C%20this.bumpScale%20%3D%201%2C%20this.normalMap%20%3D%20null%2C%20this.normalMapType%20%3D%200%2C%20this.normalScale%20%3D%20new%20Lt(1%2C%201)%2C%20this.displacementMap%20%3D%20null%2C%20this.displacementScale%20%3D%201%2C%20this.displacementBias%20%3D%200%2C%20this.alphaMap%20%3D%20null%2C%20this.flatShading%20%3D%20!1%2C%20this.fog%20%3D%20!0%2C%20this.setValues(t)%20%7D%20copy(t)%20%7B%20return%20super.copy(t)%2C%20this.defines%20%3D%20%7B%20MATCAP%3A%20%22%22%20%7D%2C%20this.color.copy(t.color)%2C%20this.matcap%20%3D%20t.matcap%2C%20this.map%20%3D%20t.map%2C%20this.bumpMap%20%3D%20t.bumpMap%2C%20this.bumpScale%20%3D%20t.bumpScale%2C%20this.normalMap%20%3D%20t.normalMap%2C%20this.normalMapType%20%3D%20t.normalMapType%2C%20this.normalScale.copy(t.normalScale)%2C%20this.displacementMap%20%3D%20t.displacementMap%2C%20this.displacementScale%20%3D%20t.displacementScale%2C%20this.displacementBias%20%3D%20t.displacementBias%2C%20this.alphaMap%20%3D%20t.alphaMap%2C%20this.flatShading%20%3D%20t.flatShading%2C%20this.fog%20%3D%20t.fog%2C%20this%20%7D%20%7D%20class%20zl%20extends%20Ba%20%7B%20constructor(t)%20%7B%20super()%2C%20this.isLineDashedMaterial%20%3D%20!0%2C%20this.type%20%3D%20%22LineDashedMaterial%22%2C%20this.scale%20%3D%201%2C%20this.dashSize%20%3D%203%2C%20this.gapSize%20%3D%201%2C%20this.setValues(t)%20%7D%20copy(t)%20%7B%20return%20super.copy(t)%2C%20this.scale%20%3D%20t.scale%2C%20this.dashSize%20%3D%20t.dashSize%2C%20this.gapSize%20%3D%20t.gapSize%2C%20this%20%7D%20%7D%20function%20Ul(t%2C%20e%2C%20i)%20%7B%20return%20Fl(t)%20%3F%20new%20t.constructor(t.subarray(e%2C%20void%200%20!%3D%3D%20i%20%3F%20i%20%3A%20t.length))%20%3A%20t.slice(e%2C%20i)%20%7D%20function%20Bl(t%2C%20e%2C%20i)%20%7B%20return%20!t%20%7C%7C%20!i%20%26%26%20t.constructor%20%3D%3D%3D%20e%20%3F%20t%20%3A%20%22number%22%20%3D%3D%20typeof%20e.BYTES_PER_ELEMENT%20%3F%20new%20e(t)%20%3A%20Array.prototype.slice.call(t)%20%7D%20function%20Fl(t)%20%7B%20return%20ArrayBuffer.isView(t)%20%26%26%20!(t%20instanceof%20DataView)%20%7D%20function%20kl(t)%20%7B%20const%20e%20%3D%20t.length%2C%20i%20%3D%20new%20Array(e)%3B%20for%20(let%20t%20%3D%200%3B%20t%20!%3D%3D%20e%3B%20%2B%2Bt)i%5Bt%5D%20%3D%20t%3B%20return%20i.sort((function%20(e%2C%20i)%20%7B%20return%20t%5Be%5D%20-%20t%5Bi%5D%20%7D))%2C%20i%20%7D%20function%20Gl(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20t.length%2C%20r%20%3D%20new%20t.constructor(n)%3B%20for%20(let%20s%20%3D%200%2C%20a%20%3D%200%3B%20a%20!%3D%3D%20n%3B%20%2B%2Bs)%20%7B%20const%20n%20%3D%20i%5Bs%5D%20*%20e%3B%20for%20(let%20i%20%3D%200%3B%20i%20!%3D%3D%20e%3B%20%2B%2Bi)r%5Ba%2B%2B%5D%20%3D%20t%5Bn%20%2B%20i%5D%20%7D%20return%20r%20%7D%20function%20Vl(t%2C%20e%2C%20i%2C%20n)%20%7B%20let%20r%20%3D%201%2C%20s%20%3D%20t%5B0%5D%3B%20for%20(%3B%20void%200%20!%3D%3D%20s%20%26%26%20void%200%20%3D%3D%3D%20s%5Bn%5D%3B)s%20%3D%20t%5Br%2B%2B%5D%3B%20if%20(void%200%20%3D%3D%3D%20s)%20return%3B%20let%20a%20%3D%20s%5Bn%5D%3B%20if%20(void%200%20!%3D%3D%20a)%20if%20(Array.isArray(a))%20do%20%7B%20a%20%3D%20s%5Bn%5D%2C%20void%200%20!%3D%3D%20a%20%26%26%20(e.push(s.time)%2C%20i.push.apply(i%2C%20a))%2C%20s%20%3D%20t%5Br%2B%2B%5D%20%7D%20while%20(void%200%20!%3D%3D%20s)%3B%20else%20if%20(void%200%20!%3D%3D%20a.toArray)%20do%20%7B%20a%20%3D%20s%5Bn%5D%2C%20void%200%20!%3D%3D%20a%20%26%26%20(e.push(s.time)%2C%20a.toArray(i%2C%20i.length))%2C%20s%20%3D%20t%5Br%2B%2B%5D%20%7D%20while%20(void%200%20!%3D%3D%20s)%3B%20else%20do%20%7B%20a%20%3D%20s%5Bn%5D%2C%20void%200%20!%3D%3D%20a%20%26%26%20(e.push(s.time)%2C%20i.push(a))%2C%20s%20%3D%20t%5Br%2B%2B%5D%20%7D%20while%20(void%200%20!%3D%3D%20s)%20%7D%20var%20Hl%20%3D%20Object.freeze(%7B%20__proto__%3A%20null%2C%20arraySlice%3A%20Ul%2C%20convertArray%3A%20Bl%2C%20isTypedArray%3A%20Fl%2C%20getKeyframeOrder%3A%20kl%2C%20sortedArray%3A%20Gl%2C%20flattenJSON%3A%20Vl%2C%20subclip%3A%20function%20(t%2C%20e%2C%20i%2C%20n%2C%20r%20%3D%2030)%20%7B%20const%20s%20%3D%20t.clone()%3B%20s.name%20%3D%20e%3B%20const%20a%20%3D%20%5B%5D%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20s.tracks.length%3B%20%2B%2Bt)%20%7B%20const%20e%20%3D%20s.tracks%5Bt%5D%2C%20o%20%3D%20e.getValueSize()%2C%20l%20%3D%20%5B%5D%2C%20c%20%3D%20%5B%5D%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20e.times.length%3B%20%2B%2Bt)%20%7B%20const%20s%20%3D%20e.times%5Bt%5D%20*%20r%3B%20if%20(!(s%20%3C%20i%20%7C%7C%20s%20%3E%3D%20n))%20%7B%20l.push(e.times%5Bt%5D)%3B%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20o%3B%20%2B%2Bi)c.push(e.values%5Bt%20*%20o%20%2B%20i%5D)%20%7D%20%7D%200%20!%3D%3D%20l.length%20%26%26%20(e.times%20%3D%20Bl(l%2C%20e.times.constructor)%2C%20e.values%20%3D%20Bl(c%2C%20e.values.constructor)%2C%20a.push(e))%20%7D%20s.tracks%20%3D%20a%3B%20let%20o%20%3D%201%20%2F%200%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20s.tracks.length%3B%20%2B%2Bt)o%20%3E%20s.tracks%5Bt%5D.times%5B0%5D%20%26%26%20(o%20%3D%20s.tracks%5Bt%5D.times%5B0%5D)%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20s.tracks.length%3B%20%2B%2Bt)s.tracks%5Bt%5D.shift(-1%20*%20o)%3B%20return%20s.resetDuration()%2C%20s%20%7D%2C%20makeClipAdditive%3A%20function%20(t%2C%20e%20%3D%200%2C%20i%20%3D%20t%2C%20n%20%3D%2030)%20%7B%20n%20%3C%3D%200%20%26%26%20(n%20%3D%2030)%3B%20const%20r%20%3D%20i.tracks.length%2C%20s%20%3D%20e%20%2F%20n%3B%20for%20(let%20e%20%3D%200%3B%20e%20%3C%20r%3B%20%2B%2Be)%20%7B%20const%20n%20%3D%20i.tracks%5Be%5D%2C%20r%20%3D%20n.ValueTypeName%3B%20if%20(%22bool%22%20%3D%3D%3D%20r%20%7C%7C%20%22string%22%20%3D%3D%3D%20r)%20continue%3B%20const%20a%20%3D%20t.tracks.find((function%20(t)%20%7B%20return%20t.name%20%3D%3D%3D%20n.name%20%26%26%20t.ValueTypeName%20%3D%3D%3D%20r%20%7D))%3B%20if%20(void%200%20%3D%3D%3D%20a)%20continue%3B%20let%20o%20%3D%200%3B%20const%20l%20%3D%20n.getValueSize()%3B%20n.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline%20%26%26%20(o%20%3D%20l%20%2F%203)%3B%20let%20c%20%3D%200%3B%20const%20h%20%3D%20a.getValueSize()%3B%20a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline%20%26%26%20(c%20%3D%20h%20%2F%203)%3B%20const%20u%20%3D%20n.times.length%20-%201%3B%20let%20d%3B%20if%20(s%20%3C%3D%20n.times%5B0%5D)%20%7B%20const%20t%20%3D%20o%2C%20e%20%3D%20l%20-%20o%3B%20d%20%3D%20Ul(n.values%2C%20t%2C%20e)%20%7D%20else%20if%20(s%20%3E%3D%20n.times%5Bu%5D)%20%7B%20const%20t%20%3D%20u%20*%20l%20%2B%20o%2C%20e%20%3D%20t%20%2B%20l%20-%20o%3B%20d%20%3D%20Ul(n.values%2C%20t%2C%20e)%20%7D%20else%20%7B%20const%20t%20%3D%20n.createInterpolant()%2C%20e%20%3D%20o%2C%20i%20%3D%20l%20-%20o%3B%20t.evaluate(s)%2C%20d%20%3D%20Ul(t.resultBuffer%2C%20e%2C%20i)%20%7D%20if%20(%22quaternion%22%20%3D%3D%3D%20r)%20%7B%20(new%20ne).fromArray(d).normalize().conjugate().toArray(d)%20%7D%20const%20p%20%3D%20a.times.length%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20p%3B%20%2B%2Bt)%20%7B%20const%20e%20%3D%20t%20*%20h%20%2B%20c%3B%20if%20(%22quaternion%22%20%3D%3D%3D%20r)%20ne.multiplyQuaternionsFlat(a.values%2C%20e%2C%20d%2C%200%2C%20a.values%2C%20e)%3B%20else%20%7B%20const%20t%20%3D%20h%20-%202%20*%20c%3B%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20t%3B%20%2B%2Bi)a.values%5Be%20%2B%20i%5D%20-%3D%20d%5Bi%5D%20%7D%20%7D%20%7D%20return%20t.blendMode%20%3D%20st%2C%20t%20%7D%20%7D)%3B%20class%20Wl%20%7B%20constructor(t%2C%20e%2C%20i%2C%20n)%20%7B%20this.parameterPositions%20%3D%20t%2C%20this._cachedIndex%20%3D%200%2C%20this.resultBuffer%20%3D%20void%200%20!%3D%3D%20n%20%3F%20n%20%3A%20new%20e.constructor(i)%2C%20this.sampleValues%20%3D%20e%2C%20this.valueSize%20%3D%20i%2C%20this.settings%20%3D%20null%2C%20this.DefaultSettings_%20%3D%20%7B%7D%20%7D%20evaluate(t)%20%7B%20const%20e%20%3D%20this.parameterPositions%3B%20let%20i%20%3D%20this._cachedIndex%2C%20n%20%3D%20e%5Bi%5D%2C%20r%20%3D%20e%5Bi%20-%201%5D%3B%20t%3A%20%7B%20e%3A%20%7B%20let%20s%3B%20i%3A%20%7B%20n%3A%20if%20(!(t%20%3C%20n))%20%7B%20for%20(let%20s%20%3D%20i%20%2B%202%3B%20%3B)%20%7B%20if%20(void%200%20%3D%3D%3D%20n)%20%7B%20if%20(t%20%3C%20r)%20break%20n%3B%20return%20i%20%3D%20e.length%2C%20this._cachedIndex%20%3D%20i%2C%20this.copySampleValue_(i%20-%201)%20%7D%20if%20(i%20%3D%3D%3D%20s)%20break%3B%20if%20(r%20%3D%20n%2C%20n%20%3D%20e%5B%2B%2Bi%5D%2C%20t%20%3C%20n)%20break%20e%20%7D%20s%20%3D%20e.length%3B%20break%20i%20%7D%20if%20(t%20%3E%3D%20r)%20break%20t%3B%20%7B%20const%20a%20%3D%20e%5B1%5D%3B%20t%20%3C%20a%20%26%26%20(i%20%3D%202%2C%20r%20%3D%20a)%3B%20for%20(let%20s%20%3D%20i%20-%202%3B%20%3B)%20%7B%20if%20(void%200%20%3D%3D%3D%20r)%20return%20this._cachedIndex%20%3D%200%2C%20this.copySampleValue_(0)%3B%20if%20(i%20%3D%3D%3D%20s)%20break%3B%20if%20(n%20%3D%20r%2C%20r%20%3D%20e%5B--i%20-%201%5D%2C%20t%20%3E%3D%20r)%20break%20e%20%7D%20s%20%3D%20i%2C%20i%20%3D%200%20%7D%20%7D%20for%20(%3B%20i%20%3C%20s%3B)%20%7B%20const%20n%20%3D%20i%20%2B%20s%20%3E%3E%3E%201%3B%20t%20%3C%20e%5Bn%5D%20%3F%20s%20%3D%20n%20%3A%20i%20%3D%20n%20%2B%201%20%7D%20if%20(n%20%3D%20e%5Bi%5D%2C%20r%20%3D%20e%5Bi%20-%201%5D%2C%20void%200%20%3D%3D%3D%20r)%20return%20this._cachedIndex%20%3D%200%2C%20this.copySampleValue_(0)%3B%20if%20(void%200%20%3D%3D%3D%20n)%20return%20i%20%3D%20e.length%2C%20this._cachedIndex%20%3D%20i%2C%20this.copySampleValue_(i%20-%201)%20%7D%20this._cachedIndex%20%3D%20i%2C%20this.intervalChanged_(i%2C%20r%2C%20n)%20%7D%20return%20this.interpolate_(i%2C%20r%2C%20t%2C%20n)%20%7D%20getSettings_()%20%7B%20return%20this.settings%20%7C%7C%20this.DefaultSettings_%20%7D%20copySampleValue_(t)%20%7B%20const%20e%20%3D%20this.resultBuffer%2C%20i%20%3D%20this.sampleValues%2C%20n%20%3D%20this.valueSize%2C%20r%20%3D%20t%20*%20n%3B%20for%20(let%20t%20%3D%200%3B%20t%20!%3D%3D%20n%3B%20%2B%2Bt)e%5Bt%5D%20%3D%20i%5Br%20%2B%20t%5D%3B%20return%20e%20%7D%20interpolate_()%20%7B%20throw%20new%20Error(%22call%20to%20abstract%20method%22)%20%7D%20intervalChanged_()%20%7B%20%7D%20%7D%20class%20jl%20extends%20Wl%20%7B%20constructor(t%2C%20e%2C%20i%2C%20n)%20%7B%20super(t%2C%20e%2C%20i%2C%20n)%2C%20this._weightPrev%20%3D%20-0%2C%20this._offsetPrev%20%3D%20-0%2C%20this._weightNext%20%3D%20-0%2C%20this._offsetNext%20%3D%20-0%2C%20this.DefaultSettings_%20%3D%20%7B%20endingStart%3A%20et%2C%20endingEnd%3A%20et%20%7D%20%7D%20intervalChanged_(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20this.parameterPositions%3B%20let%20r%20%3D%20t%20-%202%2C%20s%20%3D%20t%20%2B%201%2C%20a%20%3D%20n%5Br%5D%2C%20o%20%3D%20n%5Bs%5D%3B%20if%20(void%200%20%3D%3D%3D%20a)%20switch%20(this.getSettings_().endingStart)%20%7B%20case%20it%3A%20r%20%3D%20t%2C%20a%20%3D%202%20*%20e%20-%20i%3B%20break%3B%20case%20nt%3A%20r%20%3D%20n.length%20-%202%2C%20a%20%3D%20e%20%2B%20n%5Br%5D%20-%20n%5Br%20%2B%201%5D%3B%20break%3B%20default%3A%20r%20%3D%20t%2C%20a%20%3D%20i%20%7Dif%20(void%200%20%3D%3D%3D%20o)%20switch%20(this.getSettings_().endingEnd)%20%7B%20case%20it%3A%20s%20%3D%20t%2C%20o%20%3D%202%20*%20i%20-%20e%3B%20break%3B%20case%20nt%3A%20s%20%3D%201%2C%20o%20%3D%20i%20%2B%20n%5B1%5D%20-%20n%5B0%5D%3B%20break%3B%20default%3A%20s%20%3D%20t%20-%201%2C%20o%20%3D%20e%20%7Dconst%20l%20%3D%20.5%20*%20(i%20-%20e)%2C%20c%20%3D%20this.valueSize%3B%20this._weightPrev%20%3D%20l%20%2F%20(e%20-%20a)%2C%20this._weightNext%20%3D%20l%20%2F%20(o%20-%20i)%2C%20this._offsetPrev%20%3D%20r%20*%20c%2C%20this._offsetNext%20%3D%20s%20*%20c%20%7D%20interpolate_(t%2C%20e%2C%20i%2C%20n)%20%7B%20const%20r%20%3D%20this.resultBuffer%2C%20s%20%3D%20this.sampleValues%2C%20a%20%3D%20this.valueSize%2C%20o%20%3D%20t%20*%20a%2C%20l%20%3D%20o%20-%20a%2C%20c%20%3D%20this._offsetPrev%2C%20h%20%3D%20this._offsetNext%2C%20u%20%3D%20this._weightPrev%2C%20d%20%3D%20this._weightNext%2C%20p%20%3D%20(i%20-%20e)%20%2F%20(n%20-%20e)%2C%20m%20%3D%20p%20*%20p%2C%20f%20%3D%20m%20*%20p%2C%20g%20%3D%20-u%20*%20f%20%2B%202%20*%20u%20*%20m%20-%20u%20*%20p%2C%20v%20%3D%20(1%20%2B%20u)%20*%20f%20%2B%20(-1.5%20-%202%20*%20u)%20*%20m%20%2B%20(-.5%20%2B%20u)%20*%20p%20%2B%201%2C%20x%20%3D%20(-1%20-%20d)%20*%20f%20%2B%20(1.5%20%2B%20d)%20*%20m%20%2B%20.5%20*%20p%2C%20_%20%3D%20d%20*%20f%20-%20d%20*%20m%3B%20for%20(let%20t%20%3D%200%3B%20t%20!%3D%3D%20a%3B%20%2B%2Bt)r%5Bt%5D%20%3D%20g%20*%20s%5Bc%20%2B%20t%5D%20%2B%20v%20*%20s%5Bl%20%2B%20t%5D%20%2B%20x%20*%20s%5Bo%20%2B%20t%5D%20%2B%20_%20*%20s%5Bh%20%2B%20t%5D%3B%20return%20r%20%7D%20%7D%20class%20ql%20extends%20Wl%20%7B%20constructor(t%2C%20e%2C%20i%2C%20n)%20%7B%20super(t%2C%20e%2C%20i%2C%20n)%20%7D%20interpolate_(t%2C%20e%2C%20i%2C%20n)%20%7B%20const%20r%20%3D%20this.resultBuffer%2C%20s%20%3D%20this.sampleValues%2C%20a%20%3D%20this.valueSize%2C%20o%20%3D%20t%20*%20a%2C%20l%20%3D%20o%20-%20a%2C%20c%20%3D%20(i%20-%20e)%20%2F%20(n%20-%20e)%2C%20h%20%3D%201%20-%20c%3B%20for%20(let%20t%20%3D%200%3B%20t%20!%3D%3D%20a%3B%20%2B%2Bt)r%5Bt%5D%20%3D%20s%5Bl%20%2B%20t%5D%20*%20h%20%2B%20s%5Bo%20%2B%20t%5D%20*%20c%3B%20return%20r%20%7D%20%7D%20class%20Xl%20extends%20Wl%20%7B%20constructor(t%2C%20e%2C%20i%2C%20n)%20%7B%20super(t%2C%20e%2C%20i%2C%20n)%20%7D%20interpolate_(t)%20%7B%20return%20this.copySampleValue_(t%20-%201)%20%7D%20%7D%20class%20Yl%20%7B%20constructor(t%2C%20e%2C%20i%2C%20n)%20%7B%20if%20(void%200%20%3D%3D%3D%20t)%20throw%20new%20Error(%22THREE.KeyframeTrack%3A%20track%20name%20is%20undefined%22)%3B%20if%20(void%200%20%3D%3D%3D%20e%20%7C%7C%200%20%3D%3D%3D%20e.length)%20throw%20new%20Error(%22THREE.KeyframeTrack%3A%20no%20keyframes%20in%20track%20named%20%22%20%2B%20t)%3B%20this.name%20%3D%20t%2C%20this.times%20%3D%20Bl(e%2C%20this.TimeBufferType)%2C%20this.values%20%3D%20Bl(i%2C%20this.ValueBufferType)%2C%20this.setInterpolation(n%20%7C%7C%20this.DefaultInterpolation)%20%7D%20static%20toJSON(t)%20%7B%20const%20e%20%3D%20t.constructor%3B%20let%20i%3B%20if%20(e.toJSON%20!%3D%3D%20this.toJSON)%20i%20%3D%20e.toJSON(t)%3B%20else%20%7B%20i%20%3D%20%7B%20name%3A%20t.name%2C%20times%3A%20Bl(t.times%2C%20Array)%2C%20values%3A%20Bl(t.values%2C%20Array)%20%7D%3B%20const%20e%20%3D%20t.getInterpolation()%3B%20e%20!%3D%3D%20t.DefaultInterpolation%20%26%26%20(i.interpolation%20%3D%20e)%20%7D%20return%20i.type%20%3D%20t.ValueTypeName%2C%20i%20%7D%20InterpolantFactoryMethodDiscrete(t)%20%7B%20return%20new%20Xl(this.times%2C%20this.values%2C%20this.getValueSize()%2C%20t)%20%7D%20InterpolantFactoryMethodLinear(t)%20%7B%20return%20new%20ql(this.times%2C%20this.values%2C%20this.getValueSize()%2C%20t)%20%7D%20InterpolantFactoryMethodSmooth(t)%20%7B%20return%20new%20jl(this.times%2C%20this.values%2C%20this.getValueSize()%2C%20t)%20%7D%20setInterpolation(t)%20%7B%20let%20e%3B%20switch%20(t)%20%7B%20case%20%24%3A%20e%20%3D%20this.InterpolantFactoryMethodDiscrete%3B%20break%3B%20case%20Q%3A%20e%20%3D%20this.InterpolantFactoryMethodLinear%3B%20break%3B%20case%20tt%3A%20e%20%3D%20this.InterpolantFactoryMethodSmooth%20%7Dif%20(void%200%20%3D%3D%3D%20e)%20%7B%20const%20e%20%3D%20%22unsupported%20interpolation%20for%20%22%20%2B%20this.ValueTypeName%20%2B%20%22%20keyframe%20track%20named%20%22%20%2B%20this.name%3B%20if%20(void%200%20%3D%3D%3D%20this.createInterpolant)%20%7B%20if%20(t%20%3D%3D%3D%20this.DefaultInterpolation)%20throw%20new%20Error(e)%3B%20this.setInterpolation(this.DefaultInterpolation)%20%7D%20return%20console.warn(%22THREE.KeyframeTrack%3A%22%2C%20e)%2C%20this%20%7D%20return%20this.createInterpolant%20%3D%20e%2C%20this%20%7D%20getInterpolation()%20%7B%20switch%20(this.createInterpolant)%20%7B%20case%20this.InterpolantFactoryMethodDiscrete%3A%20return%20%24%3B%20case%20this.InterpolantFactoryMethodLinear%3A%20return%20Q%3B%20case%20this.InterpolantFactoryMethodSmooth%3A%20return%20tt%20%7D%20%7D%20getValueSize()%20%7B%20return%20this.values.length%20%2F%20this.times.length%20%7D%20shift(t)%20%7B%20if%20(0%20!%3D%3D%20t)%20%7B%20const%20e%20%3D%20this.times%3B%20for%20(let%20i%20%3D%200%2C%20n%20%3D%20e.length%3B%20i%20!%3D%3D%20n%3B%20%2B%2Bi)e%5Bi%5D%20%2B%3D%20t%20%7D%20return%20this%20%7D%20scale(t)%20%7B%20if%20(1%20!%3D%3D%20t)%20%7B%20const%20e%20%3D%20this.times%3B%20for%20(let%20i%20%3D%200%2C%20n%20%3D%20e.length%3B%20i%20!%3D%3D%20n%3B%20%2B%2Bi)e%5Bi%5D%20*%3D%20t%20%7D%20return%20this%20%7D%20trim(t%2C%20e)%20%7B%20const%20i%20%3D%20this.times%2C%20n%20%3D%20i.length%3B%20let%20r%20%3D%200%2C%20s%20%3D%20n%20-%201%3B%20for%20(%3B%20r%20!%3D%3D%20n%20%26%26%20i%5Br%5D%20%3C%20t%3B)%2B%2Br%3B%20for%20(%3B%20-1%20!%3D%3D%20s%20%26%26%20i%5Bs%5D%20%3E%20e%3B)--s%3B%20if%20(%2B%2Bs%2C%200%20!%3D%3D%20r%20%7C%7C%20s%20!%3D%3D%20n)%20%7B%20r%20%3E%3D%20s%20%26%26%20(s%20%3D%20Math.max(s%2C%201)%2C%20r%20%3D%20s%20-%201)%3B%20const%20t%20%3D%20this.getValueSize()%3B%20this.times%20%3D%20Ul(i%2C%20r%2C%20s)%2C%20this.values%20%3D%20Ul(this.values%2C%20r%20*%20t%2C%20s%20*%20t)%20%7D%20return%20this%20%7D%20validate()%20%7B%20let%20t%20%3D%20!0%3B%20const%20e%20%3D%20this.getValueSize()%3B%20e%20-%20Math.floor(e)%20!%3D%200%20%26%26%20(console.error(%22THREE.KeyframeTrack%3A%20Invalid%20value%20size%20in%20track.%22%2C%20this)%2C%20t%20%3D%20!1)%3B%20const%20i%20%3D%20this.times%2C%20n%20%3D%20this.values%2C%20r%20%3D%20i.length%3B%200%20%3D%3D%3D%20r%20%26%26%20(console.error(%22THREE.KeyframeTrack%3A%20Track%20is%20empty.%22%2C%20this)%2C%20t%20%3D%20!1)%3B%20let%20s%20%3D%20null%3B%20for%20(let%20e%20%3D%200%3B%20e%20!%3D%3D%20r%3B%20e%2B%2B)%20%7B%20const%20n%20%3D%20i%5Be%5D%3B%20if%20(%22number%22%20%3D%3D%20typeof%20n%20%26%26%20isNaN(n))%20%7B%20console.error(%22THREE.KeyframeTrack%3A%20Time%20is%20not%20a%20valid%20number.%22%2C%20this%2C%20e%2C%20n)%2C%20t%20%3D%20!1%3B%20break%20%7D%20if%20(null%20!%3D%3D%20s%20%26%26%20s%20%3E%20n)%20%7B%20console.error(%22THREE.KeyframeTrack%3A%20Out%20of%20order%20keys.%22%2C%20this%2C%20e%2C%20n%2C%20s)%2C%20t%20%3D%20!1%3B%20break%20%7D%20s%20%3D%20n%20%7D%20if%20(void%200%20!%3D%3D%20n%20%26%26%20Fl(n))%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20n.length%3B%20e%20!%3D%3D%20i%3B%20%2B%2Be)%20%7B%20const%20i%20%3D%20n%5Be%5D%3B%20if%20(isNaN(i))%20%7B%20console.error(%22THREE.KeyframeTrack%3A%20Value%20is%20not%20a%20valid%20number.%22%2C%20this%2C%20e%2C%20i)%2C%20t%20%3D%20!1%3B%20break%20%7D%20%7D%20return%20t%20%7D%20optimize()%20%7B%20const%20t%20%3D%20Ul(this.times)%2C%20e%20%3D%20Ul(this.values)%2C%20i%20%3D%20this.getValueSize()%2C%20n%20%3D%20this.getInterpolation()%20%3D%3D%3D%20tt%2C%20r%20%3D%20t.length%20-%201%3B%20let%20s%20%3D%201%3B%20for%20(let%20a%20%3D%201%3B%20a%20%3C%20r%3B%20%2B%2Ba)%20%7B%20let%20r%20%3D%20!1%3B%20const%20o%20%3D%20t%5Ba%5D%3B%20if%20(o%20!%3D%3D%20t%5Ba%20%2B%201%5D%20%26%26%20(1%20!%3D%3D%20a%20%7C%7C%20o%20!%3D%3D%20t%5B0%5D))%20if%20(n)%20r%20%3D%20!0%3B%20else%20%7B%20const%20t%20%3D%20a%20*%20i%2C%20n%20%3D%20t%20-%20i%2C%20s%20%3D%20t%20%2B%20i%3B%20for%20(let%20a%20%3D%200%3B%20a%20!%3D%3D%20i%3B%20%2B%2Ba)%20%7B%20const%20i%20%3D%20e%5Bt%20%2B%20a%5D%3B%20if%20(i%20!%3D%3D%20e%5Bn%20%2B%20a%5D%20%7C%7C%20i%20!%3D%3D%20e%5Bs%20%2B%20a%5D)%20%7B%20r%20%3D%20!0%3B%20break%20%7D%20%7D%20%7D%20if%20(r)%20%7B%20if%20(a%20!%3D%3D%20s)%20%7B%20t%5Bs%5D%20%3D%20t%5Ba%5D%3B%20const%20n%20%3D%20a%20*%20i%2C%20r%20%3D%20s%20*%20i%3B%20for%20(let%20t%20%3D%200%3B%20t%20!%3D%3D%20i%3B%20%2B%2Bt)e%5Br%20%2B%20t%5D%20%3D%20e%5Bn%20%2B%20t%5D%20%7D%20%2B%2Bs%20%7D%20%7D%20if%20(r%20%3E%200)%20%7B%20t%5Bs%5D%20%3D%20t%5Br%5D%3B%20for%20(let%20t%20%3D%20r%20*%20i%2C%20n%20%3D%20s%20*%20i%2C%20a%20%3D%200%3B%20a%20!%3D%3D%20i%3B%20%2B%2Ba)e%5Bn%20%2B%20a%5D%20%3D%20e%5Bt%20%2B%20a%5D%3B%20%2B%2Bs%20%7D%20return%20s%20!%3D%3D%20t.length%20%3F%20(this.times%20%3D%20Ul(t%2C%200%2C%20s)%2C%20this.values%20%3D%20Ul(e%2C%200%2C%20s%20*%20i))%20%3A%20(this.times%20%3D%20t%2C%20this.values%20%3D%20e)%2C%20this%20%7D%20clone()%20%7B%20const%20t%20%3D%20Ul(this.times%2C%200)%2C%20e%20%3D%20Ul(this.values%2C%200)%2C%20i%20%3D%20new%20(0%2C%20this.constructor)(this.name%2C%20t%2C%20e)%3B%20return%20i.createInterpolant%20%3D%20this.createInterpolant%2C%20i%20%7D%20%7D%20Yl.prototype.TimeBufferType%20%3D%20Float32Array%2C%20Yl.prototype.ValueBufferType%20%3D%20Float32Array%2C%20Yl.prototype.DefaultInterpolation%20%3D%20Q%3B%20class%20Zl%20extends%20Yl%20%7B%20%7D%20Zl.prototype.ValueTypeName%20%3D%20%22bool%22%2C%20Zl.prototype.ValueBufferType%20%3D%20Array%2C%20Zl.prototype.DefaultInterpolation%20%3D%20%24%2C%20Zl.prototype.InterpolantFactoryMethodLinear%20%3D%20void%200%2C%20Zl.prototype.InterpolantFactoryMethodSmooth%20%3D%20void%200%3B%20class%20Jl%20extends%20Yl%20%7B%20%7D%20Jl.prototype.ValueTypeName%20%3D%20%22color%22%3B%20class%20Kl%20extends%20Yl%20%7B%20%7D%20Kl.prototype.ValueTypeName%20%3D%20%22number%22%3B%20class%20%24l%20extends%20Wl%20%7B%20constructor(t%2C%20e%2C%20i%2C%20n)%20%7B%20super(t%2C%20e%2C%20i%2C%20n)%20%7D%20interpolate_(t%2C%20e%2C%20i%2C%20n)%20%7B%20const%20r%20%3D%20this.resultBuffer%2C%20s%20%3D%20this.sampleValues%2C%20a%20%3D%20this.valueSize%2C%20o%20%3D%20(i%20-%20e)%20%2F%20(n%20-%20e)%3B%20let%20l%20%3D%20t%20*%20a%3B%20for%20(let%20t%20%3D%20l%20%2B%20a%3B%20l%20!%3D%3D%20t%3B%20l%20%2B%3D%204)ne.slerpFlat(r%2C%200%2C%20s%2C%20l%20-%20a%2C%20s%2C%20l%2C%20o)%3B%20return%20r%20%7D%20%7D%20class%20Ql%20extends%20Yl%20%7B%20InterpolantFactoryMethodLinear(t)%20%7B%20return%20new%20%24l(this.times%2C%20this.values%2C%20this.getValueSize()%2C%20t)%20%7D%20%7D%20Ql.prototype.ValueTypeName%20%3D%20%22quaternion%22%2C%20Ql.prototype.DefaultInterpolation%20%3D%20Q%2C%20Ql.prototype.InterpolantFactoryMethodSmooth%20%3D%20void%200%3B%20class%20tc%20extends%20Yl%20%7B%20%7D%20tc.prototype.ValueTypeName%20%3D%20%22string%22%2C%20tc.prototype.ValueBufferType%20%3D%20Array%2C%20tc.prototype.DefaultInterpolation%20%3D%20%24%2C%20tc.prototype.InterpolantFactoryMethodLinear%20%3D%20void%200%2C%20tc.prototype.InterpolantFactoryMethodSmooth%20%3D%20void%200%3B%20class%20ec%20extends%20Yl%20%7B%20%7D%20ec.prototype.ValueTypeName%20%3D%20%22vector%22%3B%20class%20ic%20%7B%20constructor(t%2C%20e%20%3D%20-1%2C%20i%2C%20n%20%3D%202500)%20%7B%20this.name%20%3D%20t%2C%20this.tracks%20%3D%20i%2C%20this.duration%20%3D%20e%2C%20this.blendMode%20%3D%20n%2C%20this.uuid%20%3D%20_t()%2C%20this.duration%20%3C%200%20%26%26%20this.resetDuration()%20%7D%20static%20parse(t)%20%7B%20const%20e%20%3D%20%5B%5D%2C%20i%20%3D%20t.tracks%2C%20n%20%3D%201%20%2F%20(t.fps%20%7C%7C%201)%3B%20for%20(let%20t%20%3D%200%2C%20r%20%3D%20i.length%3B%20t%20!%3D%3D%20r%3B%20%2B%2Bt)e.push(nc(i%5Bt%5D).scale(n))%3B%20const%20r%20%3D%20new%20this(t.name%2C%20t.duration%2C%20e%2C%20t.blendMode)%3B%20return%20r.uuid%20%3D%20t.uuid%2C%20r%20%7D%20static%20toJSON(t)%20%7B%20const%20e%20%3D%20%5B%5D%2C%20i%20%3D%20t.tracks%2C%20n%20%3D%20%7B%20name%3A%20t.name%2C%20duration%3A%20t.duration%2C%20tracks%3A%20e%2C%20uuid%3A%20t.uuid%2C%20blendMode%3A%20t.blendMode%20%7D%3B%20for%20(let%20t%20%3D%200%2C%20n%20%3D%20i.length%3B%20t%20!%3D%3D%20n%3B%20%2B%2Bt)e.push(Yl.toJSON(i%5Bt%5D))%3B%20return%20n%20%7D%20static%20CreateFromMorphTargetSequence(t%2C%20e%2C%20i%2C%20n)%20%7B%20const%20r%20%3D%20e.length%2C%20s%20%3D%20%5B%5D%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20r%3B%20t%2B%2B)%20%7B%20let%20a%20%3D%20%5B%5D%2C%20o%20%3D%20%5B%5D%3B%20a.push((t%20%2B%20r%20-%201)%20%25%20r%2C%20t%2C%20(t%20%2B%201)%20%25%20r)%2C%20o.push(0%2C%201%2C%200)%3B%20const%20l%20%3D%20kl(a)%3B%20a%20%3D%20Gl(a%2C%201%2C%20l)%2C%20o%20%3D%20Gl(o%2C%201%2C%20l)%2C%20n%20%7C%7C%200%20!%3D%3D%20a%5B0%5D%20%7C%7C%20(a.push(r)%2C%20o.push(o%5B0%5D))%2C%20s.push(new%20Kl(%22.morphTargetInfluences%5B%22%20%2B%20e%5Bt%5D.name%20%2B%20%22%5D%22%2C%20a%2C%20o).scale(1%20%2F%20i))%20%7D%20return%20new%20this(t%2C%20-1%2C%20s)%20%7D%20static%20findByName(t%2C%20e)%20%7B%20let%20i%20%3D%20t%3B%20if%20(!Array.isArray(t))%20%7B%20const%20e%20%3D%20t%3B%20i%20%3D%20e.geometry%20%26%26%20e.geometry.animations%20%7C%7C%20e.animations%20%7D%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20i.length%3B%20t%2B%2B)if%20(i%5Bt%5D.name%20%3D%3D%3D%20e)%20return%20i%5Bt%5D%3B%20return%20null%20%7D%20static%20CreateClipsFromMorphTargetSequences(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20%7B%7D%2C%20r%20%3D%20%2F%5E(%5B%5Cw-%5D*%3F)(%5B%5Cd%5D%2B)%24%2F%3B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20t.length%3B%20e%20%3C%20i%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20t%5Be%5D%2C%20s%20%3D%20i.name.match(r)%3B%20if%20(s%20%26%26%20s.length%20%3E%201)%20%7B%20const%20t%20%3D%20s%5B1%5D%3B%20let%20e%20%3D%20n%5Bt%5D%3B%20e%20%7C%7C%20(n%5Bt%5D%20%3D%20e%20%3D%20%5B%5D)%2C%20e.push(i)%20%7D%20%7D%20const%20s%20%3D%20%5B%5D%3B%20for%20(const%20t%20in%20n)%20s.push(this.CreateFromMorphTargetSequence(t%2C%20n%5Bt%5D%2C%20e%2C%20i))%3B%20return%20s%20%7D%20static%20parseAnimation(t%2C%20e)%20%7B%20if%20(!t)%20return%20console.error(%22THREE.AnimationClip%3A%20No%20animation%20in%20JSONLoader%20data.%22)%2C%20null%3B%20const%20i%20%3D%20function%20(t%2C%20e%2C%20i%2C%20n%2C%20r)%20%7B%20if%20(0%20!%3D%3D%20i.length)%20%7B%20const%20s%20%3D%20%5B%5D%2C%20a%20%3D%20%5B%5D%3B%20Vl(i%2C%20s%2C%20a%2C%20n)%2C%200%20!%3D%3D%20s.length%20%26%26%20r.push(new%20t(e%2C%20s%2C%20a))%20%7D%20%7D%2C%20n%20%3D%20%5B%5D%2C%20r%20%3D%20t.name%20%7C%7C%20%22default%22%2C%20s%20%3D%20t.fps%20%7C%7C%2030%2C%20a%20%3D%20t.blendMode%3B%20let%20o%20%3D%20t.length%20%7C%7C%20-1%3B%20const%20l%20%3D%20t.hierarchy%20%7C%7C%20%5B%5D%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20l.length%3B%20t%2B%2B)%20%7B%20const%20r%20%3D%20l%5Bt%5D.keys%3B%20if%20(r%20%26%26%200%20!%3D%3D%20r.length)%20if%20(r%5B0%5D.morphTargets)%20%7B%20const%20t%20%3D%20%7B%7D%3B%20let%20e%3B%20for%20(e%20%3D%200%3B%20e%20%3C%20r.length%3B%20e%2B%2B)if%20(r%5Be%5D.morphTargets)%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20r%5Be%5D.morphTargets.length%3B%20i%2B%2B)t%5Br%5Be%5D.morphTargets%5Bi%5D%5D%20%3D%20-1%3B%20for%20(const%20i%20in%20t)%20%7B%20const%20t%20%3D%20%5B%5D%2C%20s%20%3D%20%5B%5D%3B%20for%20(let%20n%20%3D%200%3B%20n%20!%3D%3D%20r%5Be%5D.morphTargets.length%3B%20%2B%2Bn)%20%7B%20const%20n%20%3D%20r%5Be%5D%3B%20t.push(n.time)%2C%20s.push(n.morphTarget%20%3D%3D%3D%20i%20%3F%201%20%3A%200)%20%7D%20n.push(new%20Kl(%22.morphTargetInfluence%5B%22%20%2B%20i%20%2B%20%22%5D%22%2C%20t%2C%20s))%20%7D%20o%20%3D%20t.length%20*%20s%20%7D%20else%20%7B%20const%20s%20%3D%20%22.bones%5B%22%20%2B%20e%5Bt%5D.name%20%2B%20%22%5D%22%3B%20i(ec%2C%20s%20%2B%20%22.position%22%2C%20r%2C%20%22pos%22%2C%20n)%2C%20i(Ql%2C%20s%20%2B%20%22.quaternion%22%2C%20r%2C%20%22rot%22%2C%20n)%2C%20i(ec%2C%20s%20%2B%20%22.scale%22%2C%20r%2C%20%22scl%22%2C%20n)%20%7D%20%7D%20if%20(0%20%3D%3D%3D%20n.length)%20return%20null%3B%20return%20new%20this(r%2C%20o%2C%20n%2C%20a)%20%7D%20resetDuration()%20%7B%20let%20t%20%3D%200%3B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20this.tracks.length%3B%20e%20!%3D%3D%20i%3B%20%2B%2Be)%20%7B%20const%20i%20%3D%20this.tracks%5Be%5D%3B%20t%20%3D%20Math.max(t%2C%20i.times%5Bi.times.length%20-%201%5D)%20%7D%20return%20this.duration%20%3D%20t%2C%20this%20%7D%20trim()%20%7B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20this.tracks.length%3B%20t%2B%2B)this.tracks%5Bt%5D.trim(0%2C%20this.duration)%3B%20return%20this%20%7D%20validate()%20%7B%20let%20t%20%3D%20!0%3B%20for%20(let%20e%20%3D%200%3B%20e%20%3C%20this.tracks.length%3B%20e%2B%2B)t%20%3D%20t%20%26%26%20this.tracks%5Be%5D.validate()%3B%20return%20t%20%7D%20optimize()%20%7B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20this.tracks.length%3B%20t%2B%2B)this.tracks%5Bt%5D.optimize()%3B%20return%20this%20%7D%20clone()%20%7B%20const%20t%20%3D%20%5B%5D%3B%20for%20(let%20e%20%3D%200%3B%20e%20%3C%20this.tracks.length%3B%20e%2B%2B)t.push(this.tracks%5Be%5D.clone())%3B%20return%20new%20this.constructor(this.name%2C%20this.duration%2C%20t%2C%20this.blendMode)%20%7D%20toJSON()%20%7B%20return%20this.constructor.toJSON(this)%20%7D%20%7D%20function%20nc(t)%20%7B%20if%20(void%200%20%3D%3D%3D%20t.type)%20throw%20new%20Error(%22THREE.KeyframeTrack%3A%20track%20type%20undefined%2C%20can%20not%20parse%22)%3B%20const%20e%20%3D%20function%20(t)%20%7B%20switch%20(t.toLowerCase())%20%7B%20case%20%22scalar%22%3A%20case%20%22double%22%3A%20case%20%22float%22%3A%20case%20%22number%22%3A%20case%20%22integer%22%3A%20return%20Kl%3B%20case%20%22vector%22%3A%20case%20%22vector2%22%3A%20case%20%22vector3%22%3A%20case%20%22vector4%22%3A%20return%20ec%3B%20case%20%22color%22%3A%20return%20Jl%3B%20case%20%22quaternion%22%3A%20return%20Ql%3B%20case%20%22bool%22%3A%20case%20%22boolean%22%3A%20return%20Zl%3B%20case%20%22string%22%3A%20return%20tc%20%7Dthrow%20new%20Error(%22THREE.KeyframeTrack%3A%20Unsupported%20typeName%3A%20%22%20%2B%20t)%20%7D(t.type)%3B%20if%20(void%200%20%3D%3D%3D%20t.times)%20%7B%20const%20e%20%3D%20%5B%5D%2C%20i%20%3D%20%5B%5D%3B%20Vl(t.keys%2C%20e%2C%20i%2C%20%22value%22)%2C%20t.times%20%3D%20e%2C%20t.values%20%3D%20i%20%7D%20return%20void%200%20!%3D%3D%20e.parse%20%3F%20e.parse(t)%20%3A%20new%20e(t.name%2C%20t.times%2C%20t.values%2C%20t.interpolation)%20%7D%20const%20rc%20%3D%20%7B%20enabled%3A%20!1%2C%20files%3A%20%7B%7D%2C%20add%3A%20function%20(t%2C%20e)%20%7B%20!1%20!%3D%3D%20this.enabled%20%26%26%20(this.files%5Bt%5D%20%3D%20e)%20%7D%2C%20get%3A%20function%20(t)%20%7B%20if%20(!1%20!%3D%3D%20this.enabled)%20return%20this.files%5Bt%5D%20%7D%2C%20remove%3A%20function%20(t)%20%7B%20delete%20this.files%5Bt%5D%20%7D%2C%20clear%3A%20function%20()%20%7B%20this.files%20%3D%20%7B%7D%20%7D%20%7D%3B%20class%20sc%20%7B%20constructor(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20this%3B%20let%20r%2C%20s%20%3D%20!1%2C%20a%20%3D%200%2C%20o%20%3D%200%3B%20const%20l%20%3D%20%5B%5D%3B%20this.onStart%20%3D%20void%200%2C%20this.onLoad%20%3D%20t%2C%20this.onProgress%20%3D%20e%2C%20this.onError%20%3D%20i%2C%20this.itemStart%20%3D%20function%20(t)%20%7B%20o%2B%2B%2C%20!1%20%3D%3D%3D%20s%20%26%26%20void%200%20!%3D%3D%20n.onStart%20%26%26%20n.onStart(t%2C%20a%2C%20o)%2C%20s%20%3D%20!0%20%7D%2C%20this.itemEnd%20%3D%20function%20(t)%20%7B%20a%2B%2B%2C%20void%200%20!%3D%3D%20n.onProgress%20%26%26%20n.onProgress(t%2C%20a%2C%20o)%2C%20a%20%3D%3D%3D%20o%20%26%26%20(s%20%3D%20!1%2C%20void%200%20!%3D%3D%20n.onLoad%20%26%26%20n.onLoad())%20%7D%2C%20this.itemError%20%3D%20function%20(t)%20%7B%20void%200%20!%3D%3D%20n.onError%20%26%26%20n.onError(t)%20%7D%2C%20this.resolveURL%20%3D%20function%20(t)%20%7B%20return%20r%20%3F%20r(t)%20%3A%20t%20%7D%2C%20this.setURLModifier%20%3D%20function%20(t)%20%7B%20return%20r%20%3D%20t%2C%20this%20%7D%2C%20this.addHandler%20%3D%20function%20(t%2C%20e)%20%7B%20return%20l.push(t%2C%20e)%2C%20this%20%7D%2C%20this.removeHandler%20%3D%20function%20(t)%20%7B%20const%20e%20%3D%20l.indexOf(t)%3B%20return%20-1%20!%3D%3D%20e%20%26%26%20l.splice(e%2C%202)%2C%20this%20%7D%2C%20this.getHandler%20%3D%20function%20(t)%20%7B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20l.length%3B%20e%20%3C%20i%3B%20e%20%2B%3D%202)%20%7B%20const%20i%20%3D%20l%5Be%5D%2C%20n%20%3D%20l%5Be%20%2B%201%5D%3B%20if%20(i.global%20%26%26%20(i.lastIndex%20%3D%200)%2C%20i.test(t))%20return%20n%20%7D%20return%20null%20%7D%20%7D%20%7D%20const%20ac%20%3D%20new%20sc%3B%20class%20oc%20%7B%20constructor(t)%20%7B%20this.manager%20%3D%20void%200%20!%3D%3D%20t%20%3F%20t%20%3A%20ac%2C%20this.crossOrigin%20%3D%20%22anonymous%22%2C%20this.withCredentials%20%3D%20!1%2C%20this.path%20%3D%20%22%22%2C%20this.resourcePath%20%3D%20%22%22%2C%20this.requestHeader%20%3D%20%7B%7D%20%7D%20load()%20%7B%20%7D%20loadAsync(t%2C%20e)%20%7B%20const%20i%20%3D%20this%3B%20return%20new%20Promise((function%20(n%2C%20r)%20%7B%20i.load(t%2C%20n%2C%20e%2C%20r)%20%7D))%20%7D%20parse()%20%7B%20%7D%20setCrossOrigin(t)%20%7B%20return%20this.crossOrigin%20%3D%20t%2C%20this%20%7D%20setWithCredentials(t)%20%7B%20return%20this.withCredentials%20%3D%20t%2C%20this%20%7D%20setPath(t)%20%7B%20return%20this.path%20%3D%20t%2C%20this%20%7D%20setResourcePath(t)%20%7B%20return%20this.resourcePath%20%3D%20t%2C%20this%20%7D%20setRequestHeader(t)%20%7B%20return%20this.requestHeader%20%3D%20t%2C%20this%20%7D%20%7D%20const%20lc%20%3D%20%7B%7D%3B%20class%20cc%20extends%20Error%20%7B%20constructor(t%2C%20e)%20%7B%20super(t)%2C%20this.response%20%3D%20e%20%7D%20%7D%20class%20hc%20extends%20oc%20%7B%20constructor(t)%20%7B%20super(t)%20%7D%20load(t%2C%20e%2C%20i%2C%20n)%20%7B%20void%200%20%3D%3D%3D%20t%20%26%26%20(t%20%3D%20%22%22)%2C%20void%200%20!%3D%3D%20this.path%20%26%26%20(t%20%3D%20this.path%20%2B%20t)%2C%20t%20%3D%20this.manager.resolveURL(t)%3B%20const%20r%20%3D%20rc.get(t)%3B%20if%20(void%200%20!%3D%3D%20r)%20return%20this.manager.itemStart(t)%2C%20setTimeout((()%20%3D%3E%20%7B%20e%20%26%26%20e(r)%2C%20this.manager.itemEnd(t)%20%7D)%2C%200)%2C%20r%3B%20if%20(void%200%20!%3D%3D%20lc%5Bt%5D)%20return%20void%20lc%5Bt%5D.push(%7B%20onLoad%3A%20e%2C%20onProgress%3A%20i%2C%20onError%3A%20n%20%7D)%3B%20lc%5Bt%5D%20%3D%20%5B%5D%2C%20lc%5Bt%5D.push(%7B%20onLoad%3A%20e%2C%20onProgress%3A%20i%2C%20onError%3A%20n%20%7D)%3B%20const%20s%20%3D%20new%20Request(t%2C%20%7B%20headers%3A%20new%20Headers(this.requestHeader)%2C%20credentials%3A%20this.withCredentials%20%3F%20%22include%22%20%3A%20%22same-origin%22%20%7D)%2C%20a%20%3D%20this.mimeType%2C%20o%20%3D%20this.responseType%3B%20fetch(s).then((e%20%3D%3E%20%7B%20if%20(200%20%3D%3D%3D%20e.status%20%7C%7C%200%20%3D%3D%3D%20e.status)%20%7B%20if%20(0%20%3D%3D%3D%20e.status%20%26%26%20console.warn(%22THREE.FileLoader%3A%20HTTP%20Status%200%20received.%22)%2C%20%22undefined%22%20%3D%3D%20typeof%20ReadableStream%20%7C%7C%20void%200%20%3D%3D%3D%20e.body%20%7C%7C%20void%200%20%3D%3D%3D%20e.body.getReader)%20return%20e%3B%20const%20i%20%3D%20lc%5Bt%5D%2C%20n%20%3D%20e.body.getReader()%2C%20r%20%3D%20e.headers.get(%22Content-Length%22)%20%7C%7C%20e.headers.get(%22X-File-Size%22)%2C%20s%20%3D%20r%20%3F%20parseInt(r)%20%3A%200%2C%20a%20%3D%200%20!%3D%3D%20s%3B%20let%20o%20%3D%200%3B%20const%20l%20%3D%20new%20ReadableStream(%7B%20start(t)%20%7B%20!function%20e()%20%7B%20n.read().then(((%7B%20done%3A%20n%2C%20value%3A%20r%20%7D)%20%3D%3E%20%7B%20if%20(n)%20t.close()%3B%20else%20%7B%20o%20%2B%3D%20r.byteLength%3B%20const%20n%20%3D%20new%20ProgressEvent(%22progress%22%2C%20%7B%20lengthComputable%3A%20a%2C%20loaded%3A%20o%2C%20total%3A%20s%20%7D)%3B%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20i.length%3B%20t%20%3C%20e%3B%20t%2B%2B)%20%7B%20const%20e%20%3D%20i%5Bt%5D%3B%20e.onProgress%20%26%26%20e.onProgress(n)%20%7D%20t.enqueue(r)%2C%20e()%20%7D%20%7D))%20%7D()%20%7D%20%7D)%3B%20return%20new%20Response(l)%20%7D%20throw%20new%20cc(%60fetch%20for%20%22%24%7Be.url%7D%22%20responded%20with%20%24%7Be.status%7D%3A%20%24%7Be.statusText%7D%60%2C%20e)%20%7D)).then((t%20%3D%3E%20%7B%20switch%20(o)%20%7B%20case%20%22arraybuffer%22%3A%20return%20t.arrayBuffer()%3B%20case%20%22blob%22%3A%20return%20t.blob()%3B%20case%20%22document%22%3A%20return%20t.text().then((t%20%3D%3E%20(new%20DOMParser).parseFromString(t%2C%20a)))%3B%20case%20%22json%22%3A%20return%20t.json()%3B%20default%3A%20if%20(void%200%20%3D%3D%3D%20a)%20return%20t.text()%3B%20%7B%20const%20e%20%3D%20%2Fcharset%3D%22%3F(%5B%5E%3B%22%5Cs%5D*)%22%3F%2Fi.exec(a)%2C%20i%20%3D%20e%20%26%26%20e%5B1%5D%20%3F%20e%5B1%5D.toLowerCase()%20%3A%20void%200%2C%20n%20%3D%20new%20TextDecoder(i)%3B%20return%20t.arrayBuffer().then((t%20%3D%3E%20n.decode(t)))%20%7D%20%7D%20%7D)).then((e%20%3D%3E%20%7B%20rc.add(t%2C%20e)%3B%20const%20i%20%3D%20lc%5Bt%5D%3B%20delete%20lc%5Bt%5D%3B%20for%20(let%20t%20%3D%200%2C%20n%20%3D%20i.length%3B%20t%20%3C%20n%3B%20t%2B%2B)%20%7B%20const%20n%20%3D%20i%5Bt%5D%3B%20n.onLoad%20%26%26%20n.onLoad(e)%20%7D%20%7D)).catch((e%20%3D%3E%20%7B%20const%20i%20%3D%20lc%5Bt%5D%3B%20if%20(void%200%20%3D%3D%3D%20i)%20throw%20this.manager.itemError(t)%2C%20e%3B%20delete%20lc%5Bt%5D%3B%20for%20(let%20t%20%3D%200%2C%20n%20%3D%20i.length%3B%20t%20%3C%20n%3B%20t%2B%2B)%20%7B%20const%20n%20%3D%20i%5Bt%5D%3B%20n.onError%20%26%26%20n.onError(e)%20%7D%20this.manager.itemError(t)%20%7D)).finally((()%20%3D%3E%20%7B%20this.manager.itemEnd(t)%20%7D))%2C%20this.manager.itemStart(t)%20%7D%20setResponseType(t)%20%7B%20return%20this.responseType%20%3D%20t%2C%20this%20%7D%20setMimeType(t)%20%7B%20return%20this.mimeType%20%3D%20t%2C%20this%20%7D%20%7D%20class%20uc%20extends%20oc%20%7B%20constructor(t)%20%7B%20super(t)%20%7D%20load(t%2C%20e%2C%20i%2C%20n)%20%7B%20void%200%20!%3D%3D%20this.path%20%26%26%20(t%20%3D%20this.path%20%2B%20t)%2C%20t%20%3D%20this.manager.resolveURL(t)%3B%20const%20r%20%3D%20this%2C%20s%20%3D%20rc.get(t)%3B%20if%20(void%200%20!%3D%3D%20s)%20return%20r.manager.itemStart(t)%2C%20setTimeout((function%20()%20%7B%20e%20%26%26%20e(s)%2C%20r.manager.itemEnd(t)%20%7D)%2C%200)%2C%20s%3B%20const%20a%20%3D%20Ot(%22img%22)%3B%20function%20o()%20%7B%20c()%2C%20rc.add(t%2C%20this)%2C%20e%20%26%26%20e(this)%2C%20r.manager.itemEnd(t)%20%7D%20function%20l(e)%20%7B%20c()%2C%20n%20%26%26%20n(e)%2C%20r.manager.itemError(t)%2C%20r.manager.itemEnd(t)%20%7D%20function%20c()%20%7B%20a.removeEventListener(%22load%22%2C%20o%2C%20!1)%2C%20a.removeEventListener(%22error%22%2C%20l%2C%20!1)%20%7D%20return%20a.addEventListener(%22load%22%2C%20o%2C%20!1)%2C%20a.addEventListener(%22error%22%2C%20l%2C%20!1)%2C%20%22data%3A%22%20!%3D%3D%20t.slice(0%2C%205)%20%26%26%20void%200%20!%3D%3D%20this.crossOrigin%20%26%26%20(a.crossOrigin%20%3D%20this.crossOrigin)%2C%20r.manager.itemStart(t)%2C%20a.src%20%3D%20t%2C%20a%20%7D%20%7D%20class%20dc%20extends%20si%20%7B%20constructor(t%2C%20e%20%3D%201)%20%7B%20super()%2C%20this.isLight%20%3D%20!0%2C%20this.type%20%3D%20%22Light%22%2C%20this.color%20%3D%20new%20qt(t)%2C%20this.intensity%20%3D%20e%20%7D%20dispose()%20%7B%20%7D%20copy(t%2C%20e)%20%7B%20return%20super.copy(t%2C%20e)%2C%20this.color.copy(t.color)%2C%20this.intensity%20%3D%20t.intensity%2C%20this%20%7D%20toJSON(t)%20%7B%20const%20e%20%3D%20super.toJSON(t)%3B%20return%20e.object.color%20%3D%20this.color.getHex()%2C%20e.object.intensity%20%3D%20this.intensity%2C%20void%200%20!%3D%3D%20this.groundColor%20%26%26%20(e.object.groundColor%20%3D%20this.groundColor.getHex())%2C%20void%200%20!%3D%3D%20this.distance%20%26%26%20(e.object.distance%20%3D%20this.distance)%2C%20void%200%20!%3D%3D%20this.angle%20%26%26%20(e.object.angle%20%3D%20this.angle)%2C%20void%200%20!%3D%3D%20this.decay%20%26%26%20(e.object.decay%20%3D%20this.decay)%2C%20void%200%20!%3D%3D%20this.penumbra%20%26%26%20(e.object.penumbra%20%3D%20this.penumbra)%2C%20void%200%20!%3D%3D%20this.shadow%20%26%26%20(e.object.shadow%20%3D%20this.shadow.toJSON())%2C%20e%20%7D%20%7D%20class%20pc%20extends%20dc%20%7B%20constructor(t%2C%20e%2C%20i)%20%7B%20super(t%2C%20i)%2C%20this.isHemisphereLight%20%3D%20!0%2C%20this.type%20%3D%20%22HemisphereLight%22%2C%20this.position.copy(si.DefaultUp)%2C%20this.updateMatrix()%2C%20this.groundColor%20%3D%20new%20qt(e)%20%7D%20copy(t%2C%20e)%20%7B%20return%20super.copy(t%2C%20e)%2C%20this.groundColor.copy(t.groundColor)%2C%20this%20%7D%20%7D%20const%20mc%20%3D%20new%20Ne%2C%20fc%20%3D%20new%20re%2C%20gc%20%3D%20new%20re%3B%20class%20vc%20%7B%20constructor(t)%20%7B%20this.camera%20%3D%20t%2C%20this.bias%20%3D%200%2C%20this.normalBias%20%3D%200%2C%20this.radius%20%3D%201%2C%20this.blurSamples%20%3D%208%2C%20this.mapSize%20%3D%20new%20Lt(512%2C%20512)%2C%20this.map%20%3D%20null%2C%20this.mapPass%20%3D%20null%2C%20this.matrix%20%3D%20new%20Ne%2C%20this.autoUpdate%20%3D%20!0%2C%20this.needsUpdate%20%3D%20!1%2C%20this._frustum%20%3D%20new%20mn%2C%20this._frameExtents%20%3D%20new%20Lt(1%2C%201)%2C%20this._viewportCount%20%3D%201%2C%20this._viewports%20%3D%20%5Bnew%20Qt(0%2C%200%2C%201%2C%201)%5D%20%7D%20getViewportCount()%20%7B%20return%20this._viewportCount%20%7D%20getFrustum()%20%7B%20return%20this._frustum%20%7D%20updateMatrices(t)%20%7B%20const%20e%20%3D%20this.camera%2C%20i%20%3D%20this.matrix%3B%20fc.setFromMatrixPosition(t.matrixWorld)%2C%20e.position.copy(fc)%2C%20gc.setFromMatrixPosition(t.target.matrixWorld)%2C%20e.lookAt(gc)%2C%20e.updateMatrixWorld()%2C%20mc.multiplyMatrices(e.projectionMatrix%2C%20e.matrixWorldInverse)%2C%20this._frustum.setFromProjectionMatrix(mc)%2C%20i.set(.5%2C%200%2C%200%2C%20.5%2C%200%2C%20.5%2C%200%2C%20.5%2C%200%2C%200%2C%20.5%2C%20.5%2C%200%2C%200%2C%200%2C%201)%2C%20i.multiply(mc)%20%7D%20getViewport(t)%20%7B%20return%20this._viewports%5Bt%5D%20%7D%20getFrameExtents()%20%7B%20return%20this._frameExtents%20%7D%20dispose()%20%7B%20this.map%20%26%26%20this.map.dispose()%2C%20this.mapPass%20%26%26%20this.mapPass.dispose()%20%7D%20copy(t)%20%7B%20return%20this.camera%20%3D%20t.camera.clone()%2C%20this.bias%20%3D%20t.bias%2C%20this.radius%20%3D%20t.radius%2C%20this.mapSize.copy(t.mapSize)%2C%20this%20%7D%20clone()%20%7B%20return%20(new%20this.constructor).copy(this)%20%7D%20toJSON()%20%7B%20const%20t%20%3D%20%7B%7D%3B%20return%200%20!%3D%3D%20this.bias%20%26%26%20(t.bias%20%3D%20this.bias)%2C%200%20!%3D%3D%20this.normalBias%20%26%26%20(t.normalBias%20%3D%20this.normalBias)%2C%201%20!%3D%3D%20this.radius%20%26%26%20(t.radius%20%3D%20this.radius)%2C%20512%20%3D%3D%3D%20this.mapSize.x%20%26%26%20512%20%3D%3D%3D%20this.mapSize.y%20%7C%7C%20(t.mapSize%20%3D%20this.mapSize.toArray())%2C%20t.camera%20%3D%20this.camera.toJSON(!1).object%2C%20delete%20t.camera.matrix%2C%20t%20%7D%20%7D%20class%20xc%20extends%20vc%20%7B%20constructor()%20%7B%20super(new%20nn(50%2C%201%2C%20.5%2C%20500))%2C%20this.isSpotLightShadow%20%3D%20!0%2C%20this.focus%20%3D%201%20%7D%20updateMatrices(t)%20%7B%20const%20e%20%3D%20this.camera%2C%20i%20%3D%202%20*%20xt%20*%20t.angle%20*%20this.focus%2C%20n%20%3D%20this.mapSize.width%20%2F%20this.mapSize.height%2C%20r%20%3D%20t.distance%20%7C%7C%20e.far%3B%20i%20%3D%3D%3D%20e.fov%20%26%26%20n%20%3D%3D%3D%20e.aspect%20%26%26%20r%20%3D%3D%3D%20e.far%20%7C%7C%20(e.fov%20%3D%20i%2C%20e.aspect%20%3D%20n%2C%20e.far%20%3D%20r%2C%20e.updateProjectionMatrix())%2C%20super.updateMatrices(t)%20%7D%20copy(t)%20%7B%20return%20super.copy(t)%2C%20this.focus%20%3D%20t.focus%2C%20this%20%7D%20%7D%20class%20_c%20extends%20dc%20%7B%20constructor(t%2C%20e%2C%20i%20%3D%200%2C%20n%20%3D%20Math.PI%20%2F%203%2C%20r%20%3D%200%2C%20s%20%3D%202)%20%7B%20super(t%2C%20e)%2C%20this.isSpotLight%20%3D%20!0%2C%20this.type%20%3D%20%22SpotLight%22%2C%20this.position.copy(si.DefaultUp)%2C%20this.updateMatrix()%2C%20this.target%20%3D%20new%20si%2C%20this.distance%20%3D%20i%2C%20this.angle%20%3D%20n%2C%20this.penumbra%20%3D%20r%2C%20this.decay%20%3D%20s%2C%20this.map%20%3D%20null%2C%20this.shadow%20%3D%20new%20xc%20%7D%20get%20power()%20%7B%20return%20this.intensity%20*%20Math.PI%20%7D%20set%20power(t)%20%7B%20this.intensity%20%3D%20t%20%2F%20Math.PI%20%7D%20dispose()%20%7B%20this.shadow.dispose()%20%7D%20copy(t%2C%20e)%20%7B%20return%20super.copy(t%2C%20e)%2C%20this.distance%20%3D%20t.distance%2C%20this.angle%20%3D%20t.angle%2C%20this.penumbra%20%3D%20t.penumbra%2C%20this.decay%20%3D%20t.decay%2C%20this.target%20%3D%20t.target.clone()%2C%20this.shadow%20%3D%20t.shadow.clone()%2C%20this%20%7D%20%7D%20const%20yc%20%3D%20new%20Ne%2C%20Mc%20%3D%20new%20re%2C%20bc%20%3D%20new%20re%3B%20class%20Sc%20extends%20vc%20%7B%20constructor()%20%7B%20super(new%20nn(90%2C%201%2C%20.5%2C%20500))%2C%20this.isPointLightShadow%20%3D%20!0%2C%20this._frameExtents%20%3D%20new%20Lt(4%2C%202)%2C%20this._viewportCount%20%3D%206%2C%20this._viewports%20%3D%20%5Bnew%20Qt(2%2C%201%2C%201%2C%201)%2C%20new%20Qt(0%2C%201%2C%201%2C%201)%2C%20new%20Qt(3%2C%201%2C%201%2C%201)%2C%20new%20Qt(1%2C%201%2C%201%2C%201)%2C%20new%20Qt(3%2C%200%2C%201%2C%201)%2C%20new%20Qt(1%2C%200%2C%201%2C%201)%5D%2C%20this._cubeDirections%20%3D%20%5Bnew%20re(1%2C%200%2C%200)%2C%20new%20re(-1%2C%200%2C%200)%2C%20new%20re(0%2C%200%2C%201)%2C%20new%20re(0%2C%200%2C%20-1)%2C%20new%20re(0%2C%201%2C%200)%2C%20new%20re(0%2C%20-1%2C%200)%5D%2C%20this._cubeUps%20%3D%20%5Bnew%20re(0%2C%201%2C%200)%2C%20new%20re(0%2C%201%2C%200)%2C%20new%20re(0%2C%201%2C%200)%2C%20new%20re(0%2C%201%2C%200)%2C%20new%20re(0%2C%200%2C%201)%2C%20new%20re(0%2C%200%2C%20-1)%5D%20%7D%20updateMatrices(t%2C%20e%20%3D%200)%20%7B%20const%20i%20%3D%20this.camera%2C%20n%20%3D%20this.matrix%2C%20r%20%3D%20t.distance%20%7C%7C%20i.far%3B%20r%20!%3D%3D%20i.far%20%26%26%20(i.far%20%3D%20r%2C%20i.updateProjectionMatrix())%2C%20Mc.setFromMatrixPosition(t.matrixWorld)%2C%20i.position.copy(Mc)%2C%20bc.copy(i.position)%2C%20bc.add(this._cubeDirections%5Be%5D)%2C%20i.up.copy(this._cubeUps%5Be%5D)%2C%20i.lookAt(bc)%2C%20i.updateMatrixWorld()%2C%20n.makeTranslation(-Mc.x%2C%20-Mc.y%2C%20-Mc.z)%2C%20yc.multiplyMatrices(i.projectionMatrix%2C%20i.matrixWorldInverse)%2C%20this._frustum.setFromProjectionMatrix(yc)%20%7D%20%7D%20class%20wc%20extends%20dc%20%7B%20constructor(t%2C%20e%2C%20i%20%3D%200%2C%20n%20%3D%202)%20%7B%20super(t%2C%20e)%2C%20this.isPointLight%20%3D%20!0%2C%20this.type%20%3D%20%22PointLight%22%2C%20this.distance%20%3D%20i%2C%20this.decay%20%3D%20n%2C%20this.shadow%20%3D%20new%20Sc%20%7D%20get%20power()%20%7B%20return%204%20*%20this.intensity%20*%20Math.PI%20%7D%20set%20power(t)%20%7B%20this.intensity%20%3D%20t%20%2F%20(4%20*%20Math.PI)%20%7D%20dispose()%20%7B%20this.shadow.dispose()%20%7D%20copy(t%2C%20e)%20%7B%20return%20super.copy(t%2C%20e)%2C%20this.distance%20%3D%20t.distance%2C%20this.decay%20%3D%20t.decay%2C%20this.shadow%20%3D%20t.shadow.clone()%2C%20this%20%7D%20%7D%20class%20Tc%20extends%20vc%20%7B%20constructor()%20%7B%20super(new%20Cn(-5%2C%205%2C%205%2C%20-5%2C%20.5%2C%20500))%2C%20this.isDirectionalLightShadow%20%3D%20!0%20%7D%20%7D%20class%20Ac%20extends%20dc%20%7B%20constructor(t%2C%20e)%20%7B%20super(t%2C%20e)%2C%20this.isDirectionalLight%20%3D%20!0%2C%20this.type%20%3D%20%22DirectionalLight%22%2C%20this.position.copy(si.DefaultUp)%2C%20this.updateMatrix()%2C%20this.target%20%3D%20new%20si%2C%20this.shadow%20%3D%20new%20Tc%20%7D%20dispose()%20%7B%20this.shadow.dispose()%20%7D%20copy(t)%20%7B%20return%20super.copy(t)%2C%20this.target%20%3D%20t.target.clone()%2C%20this.shadow%20%3D%20t.shadow.clone()%2C%20this%20%7D%20%7D%20class%20Ec%20extends%20dc%20%7B%20constructor(t%2C%20e)%20%7B%20super(t%2C%20e)%2C%20this.isAmbientLight%20%3D%20!0%2C%20this.type%20%3D%20%22AmbientLight%22%20%7D%20%7D%20class%20Cc%20extends%20dc%20%7B%20constructor(t%2C%20e%2C%20i%20%3D%2010%2C%20n%20%3D%2010)%20%7B%20super(t%2C%20e)%2C%20this.isRectAreaLight%20%3D%20!0%2C%20this.type%20%3D%20%22RectAreaLight%22%2C%20this.width%20%3D%20i%2C%20this.height%20%3D%20n%20%7D%20get%20power()%20%7B%20return%20this.intensity%20*%20this.width%20*%20this.height%20*%20Math.PI%20%7D%20set%20power(t)%20%7B%20this.intensity%20%3D%20t%20%2F%20(this.width%20*%20this.height%20*%20Math.PI)%20%7D%20copy(t)%20%7B%20return%20super.copy(t)%2C%20this.width%20%3D%20t.width%2C%20this.height%20%3D%20t.height%2C%20this%20%7D%20toJSON(t)%20%7B%20const%20e%20%3D%20super.toJSON(t)%3B%20return%20e.object.width%20%3D%20this.width%2C%20e.object.height%20%3D%20this.height%2C%20e%20%7D%20%7D%20class%20Lc%20%7B%20constructor()%20%7B%20this.isSphericalHarmonics3%20%3D%20!0%2C%20this.coefficients%20%3D%20%5B%5D%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%209%3B%20t%2B%2B)this.coefficients.push(new%20re)%20%7D%20set(t)%20%7B%20for%20(let%20e%20%3D%200%3B%20e%20%3C%209%3B%20e%2B%2B)this.coefficients%5Be%5D.copy(t%5Be%5D)%3B%20return%20this%20%7D%20zero()%20%7B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%209%3B%20t%2B%2B)this.coefficients%5Bt%5D.set(0%2C%200%2C%200)%3B%20return%20this%20%7D%20getAt(t%2C%20e)%20%7B%20const%20i%20%3D%20t.x%2C%20n%20%3D%20t.y%2C%20r%20%3D%20t.z%2C%20s%20%3D%20this.coefficients%3B%20return%20e.copy(s%5B0%5D).multiplyScalar(.282095)%2C%20e.addScaledVector(s%5B1%5D%2C%20.488603%20*%20n)%2C%20e.addScaledVector(s%5B2%5D%2C%20.488603%20*%20r)%2C%20e.addScaledVector(s%5B3%5D%2C%20.488603%20*%20i)%2C%20e.addScaledVector(s%5B4%5D%2C%20i%20*%20n%20*%201.092548)%2C%20e.addScaledVector(s%5B5%5D%2C%20n%20*%20r%20*%201.092548)%2C%20e.addScaledVector(s%5B6%5D%2C%20.315392%20*%20(3%20*%20r%20*%20r%20-%201))%2C%20e.addScaledVector(s%5B7%5D%2C%20i%20*%20r%20*%201.092548)%2C%20e.addScaledVector(s%5B8%5D%2C%20.546274%20*%20(i%20*%20i%20-%20n%20*%20n))%2C%20e%20%7D%20getIrradianceAt(t%2C%20e)%20%7B%20const%20i%20%3D%20t.x%2C%20n%20%3D%20t.y%2C%20r%20%3D%20t.z%2C%20s%20%3D%20this.coefficients%3B%20return%20e.copy(s%5B0%5D).multiplyScalar(.886227)%2C%20e.addScaledVector(s%5B1%5D%2C%201.023328%20*%20n)%2C%20e.addScaledVector(s%5B2%5D%2C%201.023328%20*%20r)%2C%20e.addScaledVector(s%5B3%5D%2C%201.023328%20*%20i)%2C%20e.addScaledVector(s%5B4%5D%2C%20.858086%20*%20i%20*%20n)%2C%20e.addScaledVector(s%5B5%5D%2C%20.858086%20*%20n%20*%20r)%2C%20e.addScaledVector(s%5B6%5D%2C%20.743125%20*%20r%20*%20r%20-%20.247708)%2C%20e.addScaledVector(s%5B7%5D%2C%20.858086%20*%20i%20*%20r)%2C%20e.addScaledVector(s%5B8%5D%2C%20.429043%20*%20(i%20*%20i%20-%20n%20*%20n))%2C%20e%20%7D%20add(t)%20%7B%20for%20(let%20e%20%3D%200%3B%20e%20%3C%209%3B%20e%2B%2B)this.coefficients%5Be%5D.add(t.coefficients%5Be%5D)%3B%20return%20this%20%7D%20addScaledSH(t%2C%20e)%20%7B%20for%20(let%20i%20%3D%200%3B%20i%20%3C%209%3B%20i%2B%2B)this.coefficients%5Bi%5D.addScaledVector(t.coefficients%5Bi%5D%2C%20e)%3B%20return%20this%20%7D%20scale(t)%20%7B%20for%20(let%20e%20%3D%200%3B%20e%20%3C%209%3B%20e%2B%2B)this.coefficients%5Be%5D.multiplyScalar(t)%3B%20return%20this%20%7D%20lerp(t%2C%20e)%20%7B%20for%20(let%20i%20%3D%200%3B%20i%20%3C%209%3B%20i%2B%2B)this.coefficients%5Bi%5D.lerp(t.coefficients%5Bi%5D%2C%20e)%3B%20return%20this%20%7D%20equals(t)%20%7B%20for%20(let%20e%20%3D%200%3B%20e%20%3C%209%3B%20e%2B%2B)if%20(!this.coefficients%5Be%5D.equals(t.coefficients%5Be%5D))%20return%20!1%3B%20return%20!0%20%7D%20copy(t)%20%7B%20return%20this.set(t.coefficients)%20%7D%20clone()%20%7B%20return%20(new%20this.constructor).copy(this)%20%7D%20fromArray(t%2C%20e%20%3D%200)%20%7B%20const%20i%20%3D%20this.coefficients%3B%20for%20(let%20n%20%3D%200%3B%20n%20%3C%209%3B%20n%2B%2B)i%5Bn%5D.fromArray(t%2C%20e%20%2B%203%20*%20n)%3B%20return%20this%20%7D%20toArray(t%20%3D%20%5B%5D%2C%20e%20%3D%200)%20%7B%20const%20i%20%3D%20this.coefficients%3B%20for%20(let%20n%20%3D%200%3B%20n%20%3C%209%3B%20n%2B%2B)i%5Bn%5D.toArray(t%2C%20e%20%2B%203%20*%20n)%3B%20return%20t%20%7D%20static%20getBasisAt(t%2C%20e)%20%7B%20const%20i%20%3D%20t.x%2C%20n%20%3D%20t.y%2C%20r%20%3D%20t.z%3B%20e%5B0%5D%20%3D%20.282095%2C%20e%5B1%5D%20%3D%20.488603%20*%20n%2C%20e%5B2%5D%20%3D%20.488603%20*%20r%2C%20e%5B3%5D%20%3D%20.488603%20*%20i%2C%20e%5B4%5D%20%3D%201.092548%20*%20i%20*%20n%2C%20e%5B5%5D%20%3D%201.092548%20*%20n%20*%20r%2C%20e%5B6%5D%20%3D%20.315392%20*%20(3%20*%20r%20*%20r%20-%201)%2C%20e%5B7%5D%20%3D%201.092548%20*%20i%20*%20r%2C%20e%5B8%5D%20%3D%20.546274%20*%20(i%20*%20i%20-%20n%20*%20n)%20%7D%20%7D%20class%20Rc%20extends%20dc%20%7B%20constructor(t%20%3D%20new%20Lc%2C%20e%20%3D%201)%20%7B%20super(void%200%2C%20e)%2C%20this.isLightProbe%20%3D%20!0%2C%20this.sh%20%3D%20t%20%7D%20copy(t)%20%7B%20return%20super.copy(t)%2C%20this.sh.copy(t.sh)%2C%20this%20%7D%20fromJSON(t)%20%7B%20return%20this.intensity%20%3D%20t.intensity%2C%20this.sh.fromArray(t.sh)%2C%20this%20%7D%20toJSON(t)%20%7B%20const%20e%20%3D%20super.toJSON(t)%3B%20return%20e.object.sh%20%3D%20this.sh.toArray()%2C%20e%20%7D%20%7D%20class%20Pc%20extends%20oc%20%7B%20constructor(t)%20%7B%20super(t)%2C%20this.textures%20%3D%20%7B%7D%20%7D%20load(t%2C%20e%2C%20i%2C%20n)%20%7B%20const%20r%20%3D%20this%2C%20s%20%3D%20new%20hc(r.manager)%3B%20s.setPath(r.path)%2C%20s.setRequestHeader(r.requestHeader)%2C%20s.setWithCredentials(r.withCredentials)%2C%20s.load(t%2C%20(function%20(i)%20%7B%20try%20%7B%20e(r.parse(JSON.parse(i)))%20%7D%20catch%20(e)%20%7B%20n%20%3F%20n(e)%20%3A%20console.error(e)%2C%20r.manager.itemError(t)%20%7D%20%7D)%2C%20i%2C%20n)%20%7D%20parse(t)%20%7B%20const%20e%20%3D%20this.textures%3B%20function%20i(t)%20%7B%20return%20void%200%20%3D%3D%3D%20e%5Bt%5D%20%26%26%20console.warn(%22THREE.MaterialLoader%3A%20Undefined%20texture%22%2C%20t)%2C%20e%5Bt%5D%20%7D%20const%20n%20%3D%20Pc.createMaterialFromType(t.type)%3B%20if%20(void%200%20!%3D%3D%20t.uuid%20%26%26%20(n.uuid%20%3D%20t.uuid)%2C%20void%200%20!%3D%3D%20t.name%20%26%26%20(n.name%20%3D%20t.name)%2C%20void%200%20!%3D%3D%20t.color%20%26%26%20void%200%20!%3D%3D%20n.color%20%26%26%20n.color.setHex(t.color)%2C%20void%200%20!%3D%3D%20t.roughness%20%26%26%20(n.roughness%20%3D%20t.roughness)%2C%20void%200%20!%3D%3D%20t.metalness%20%26%26%20(n.metalness%20%3D%20t.metalness)%2C%20void%200%20!%3D%3D%20t.sheen%20%26%26%20(n.sheen%20%3D%20t.sheen)%2C%20void%200%20!%3D%3D%20t.sheenColor%20%26%26%20(n.sheenColor%20%3D%20(new%20qt).setHex(t.sheenColor))%2C%20void%200%20!%3D%3D%20t.sheenRoughness%20%26%26%20(n.sheenRoughness%20%3D%20t.sheenRoughness)%2C%20void%200%20!%3D%3D%20t.emissive%20%26%26%20void%200%20!%3D%3D%20n.emissive%20%26%26%20n.emissive.setHex(t.emissive)%2C%20void%200%20!%3D%3D%20t.specular%20%26%26%20void%200%20!%3D%3D%20n.specular%20%26%26%20n.specular.setHex(t.specular)%2C%20void%200%20!%3D%3D%20t.specularIntensity%20%26%26%20(n.specularIntensity%20%3D%20t.specularIntensity)%2C%20void%200%20!%3D%3D%20t.specularColor%20%26%26%20void%200%20!%3D%3D%20n.specularColor%20%26%26%20n.specularColor.setHex(t.specularColor)%2C%20void%200%20!%3D%3D%20t.shininess%20%26%26%20(n.shininess%20%3D%20t.shininess)%2C%20void%200%20!%3D%3D%20t.clearcoat%20%26%26%20(n.clearcoat%20%3D%20t.clearcoat)%2C%20void%200%20!%3D%3D%20t.clearcoatRoughness%20%26%26%20(n.clearcoatRoughness%20%3D%20t.clearcoatRoughness)%2C%20void%200%20!%3D%3D%20t.iridescence%20%26%26%20(n.iridescence%20%3D%20t.iridescence)%2C%20void%200%20!%3D%3D%20t.iridescenceIOR%20%26%26%20(n.iridescenceIOR%20%3D%20t.iridescenceIOR)%2C%20void%200%20!%3D%3D%20t.iridescenceThicknessRange%20%26%26%20(n.iridescenceThicknessRange%20%3D%20t.iridescenceThicknessRange)%2C%20void%200%20!%3D%3D%20t.transmission%20%26%26%20(n.transmission%20%3D%20t.transmission)%2C%20void%200%20!%3D%3D%20t.thickness%20%26%26%20(n.thickness%20%3D%20t.thickness)%2C%20void%200%20!%3D%3D%20t.attenuationDistance%20%26%26%20(n.attenuationDistance%20%3D%20t.attenuationDistance)%2C%20void%200%20!%3D%3D%20t.attenuationColor%20%26%26%20void%200%20!%3D%3D%20n.attenuationColor%20%26%26%20n.attenuationColor.setHex(t.attenuationColor)%2C%20void%200%20!%3D%3D%20t.fog%20%26%26%20(n.fog%20%3D%20t.fog)%2C%20void%200%20!%3D%3D%20t.flatShading%20%26%26%20(n.flatShading%20%3D%20t.flatShading)%2C%20void%200%20!%3D%3D%20t.blending%20%26%26%20(n.blending%20%3D%20t.blending)%2C%20void%200%20!%3D%3D%20t.combine%20%26%26%20(n.combine%20%3D%20t.combine)%2C%20void%200%20!%3D%3D%20t.side%20%26%26%20(n.side%20%3D%20t.side)%2C%20void%200%20!%3D%3D%20t.shadowSide%20%26%26%20(n.shadowSide%20%3D%20t.shadowSide)%2C%20void%200%20!%3D%3D%20t.opacity%20%26%26%20(n.opacity%20%3D%20t.opacity)%2C%20void%200%20!%3D%3D%20t.transparent%20%26%26%20(n.transparent%20%3D%20t.transparent)%2C%20void%200%20!%3D%3D%20t.alphaTest%20%26%26%20(n.alphaTest%20%3D%20t.alphaTest)%2C%20void%200%20!%3D%3D%20t.depthTest%20%26%26%20(n.depthTest%20%3D%20t.depthTest)%2C%20void%200%20!%3D%3D%20t.depthWrite%20%26%26%20(n.depthWrite%20%3D%20t.depthWrite)%2C%20void%200%20!%3D%3D%20t.colorWrite%20%26%26%20(n.colorWrite%20%3D%20t.colorWrite)%2C%20void%200%20!%3D%3D%20t.stencilWrite%20%26%26%20(n.stencilWrite%20%3D%20t.stencilWrite)%2C%20void%200%20!%3D%3D%20t.stencilWriteMask%20%26%26%20(n.stencilWriteMask%20%3D%20t.stencilWriteMask)%2C%20void%200%20!%3D%3D%20t.stencilFunc%20%26%26%20(n.stencilFunc%20%3D%20t.stencilFunc)%2C%20void%200%20!%3D%3D%20t.stencilRef%20%26%26%20(n.stencilRef%20%3D%20t.stencilRef)%2C%20void%200%20!%3D%3D%20t.stencilFuncMask%20%26%26%20(n.stencilFuncMask%20%3D%20t.stencilFuncMask)%2C%20void%200%20!%3D%3D%20t.stencilFail%20%26%26%20(n.stencilFail%20%3D%20t.stencilFail)%2C%20void%200%20!%3D%3D%20t.stencilZFail%20%26%26%20(n.stencilZFail%20%3D%20t.stencilZFail)%2C%20void%200%20!%3D%3D%20t.stencilZPass%20%26%26%20(n.stencilZPass%20%3D%20t.stencilZPass)%2C%20void%200%20!%3D%3D%20t.wireframe%20%26%26%20(n.wireframe%20%3D%20t.wireframe)%2C%20void%200%20!%3D%3D%20t.wireframeLinewidth%20%26%26%20(n.wireframeLinewidth%20%3D%20t.wireframeLinewidth)%2C%20void%200%20!%3D%3D%20t.wireframeLinecap%20%26%26%20(n.wireframeLinecap%20%3D%20t.wireframeLinecap)%2C%20void%200%20!%3D%3D%20t.wireframeLinejoin%20%26%26%20(n.wireframeLinejoin%20%3D%20t.wireframeLinejoin)%2C%20void%200%20!%3D%3D%20t.rotation%20%26%26%20(n.rotation%20%3D%20t.rotation)%2C%201%20!%3D%3D%20t.linewidth%20%26%26%20(n.linewidth%20%3D%20t.linewidth)%2C%20void%200%20!%3D%3D%20t.dashSize%20%26%26%20(n.dashSize%20%3D%20t.dashSize)%2C%20void%200%20!%3D%3D%20t.gapSize%20%26%26%20(n.gapSize%20%3D%20t.gapSize)%2C%20void%200%20!%3D%3D%20t.scale%20%26%26%20(n.scale%20%3D%20t.scale)%2C%20void%200%20!%3D%3D%20t.polygonOffset%20%26%26%20(n.polygonOffset%20%3D%20t.polygonOffset)%2C%20void%200%20!%3D%3D%20t.polygonOffsetFactor%20%26%26%20(n.polygonOffsetFactor%20%3D%20t.polygonOffsetFactor)%2C%20void%200%20!%3D%3D%20t.polygonOffsetUnits%20%26%26%20(n.polygonOffsetUnits%20%3D%20t.polygonOffsetUnits)%2C%20void%200%20!%3D%3D%20t.dithering%20%26%26%20(n.dithering%20%3D%20t.dithering)%2C%20void%200%20!%3D%3D%20t.alphaToCoverage%20%26%26%20(n.alphaToCoverage%20%3D%20t.alphaToCoverage)%2C%20void%200%20!%3D%3D%20t.premultipliedAlpha%20%26%26%20(n.premultipliedAlpha%20%3D%20t.premultipliedAlpha)%2C%20void%200%20!%3D%3D%20t.visible%20%26%26%20(n.visible%20%3D%20t.visible)%2C%20void%200%20!%3D%3D%20t.toneMapped%20%26%26%20(n.toneMapped%20%3D%20t.toneMapped)%2C%20void%200%20!%3D%3D%20t.userData%20%26%26%20(n.userData%20%3D%20t.userData)%2C%20void%200%20!%3D%3D%20t.vertexColors%20%26%26%20(%22number%22%20%3D%3D%20typeof%20t.vertexColors%20%3F%20n.vertexColors%20%3D%20t.vertexColors%20%3E%200%20%3A%20n.vertexColors%20%3D%20t.vertexColors)%2C%20void%200%20!%3D%3D%20t.uniforms)%20for%20(const%20e%20in%20t.uniforms)%20%7B%20const%20r%20%3D%20t.uniforms%5Be%5D%3B%20switch%20(n.uniforms%5Be%5D%20%3D%20%7B%7D%2C%20r.type)%20%7B%20case%20%22t%22%3A%20n.uniforms%5Be%5D.value%20%3D%20i(r.value)%3B%20break%3B%20case%20%22c%22%3A%20n.uniforms%5Be%5D.value%20%3D%20(new%20qt).setHex(r.value)%3B%20break%3B%20case%20%22v2%22%3A%20n.uniforms%5Be%5D.value%20%3D%20(new%20Lt).fromArray(r.value)%3B%20break%3B%20case%20%22v3%22%3A%20n.uniforms%5Be%5D.value%20%3D%20(new%20re).fromArray(r.value)%3B%20break%3B%20case%20%22v4%22%3A%20n.uniforms%5Be%5D.value%20%3D%20(new%20Qt).fromArray(r.value)%3B%20break%3B%20case%20%22m3%22%3A%20n.uniforms%5Be%5D.value%20%3D%20(new%20Rt).fromArray(r.value)%3B%20break%3B%20case%20%22m4%22%3A%20n.uniforms%5Be%5D.value%20%3D%20(new%20Ne).fromArray(r.value)%3B%20break%3B%20default%3A%20n.uniforms%5Be%5D.value%20%3D%20r.value%20%7D%20%7D%20if%20(void%200%20!%3D%3D%20t.defines%20%26%26%20(n.defines%20%3D%20t.defines)%2C%20void%200%20!%3D%3D%20t.vertexShader%20%26%26%20(n.vertexShader%20%3D%20t.vertexShader)%2C%20void%200%20!%3D%3D%20t.fragmentShader%20%26%26%20(n.fragmentShader%20%3D%20t.fragmentShader)%2C%20void%200%20!%3D%3D%20t.glslVersion%20%26%26%20(n.glslVersion%20%3D%20t.glslVersion)%2C%20void%200%20!%3D%3D%20t.extensions)%20for%20(const%20e%20in%20t.extensions)%20n.extensions%5Be%5D%20%3D%20t.extensions%5Be%5D%3B%20if%20(void%200%20!%3D%3D%20t.size%20%26%26%20(n.size%20%3D%20t.size)%2C%20void%200%20!%3D%3D%20t.sizeAttenuation%20%26%26%20(n.sizeAttenuation%20%3D%20t.sizeAttenuation)%2C%20void%200%20!%3D%3D%20t.map%20%26%26%20(n.map%20%3D%20i(t.map))%2C%20void%200%20!%3D%3D%20t.matcap%20%26%26%20(n.matcap%20%3D%20i(t.matcap))%2C%20void%200%20!%3D%3D%20t.alphaMap%20%26%26%20(n.alphaMap%20%3D%20i(t.alphaMap))%2C%20void%200%20!%3D%3D%20t.bumpMap%20%26%26%20(n.bumpMap%20%3D%20i(t.bumpMap))%2C%20void%200%20!%3D%3D%20t.bumpScale%20%26%26%20(n.bumpScale%20%3D%20t.bumpScale)%2C%20void%200%20!%3D%3D%20t.normalMap%20%26%26%20(n.normalMap%20%3D%20i(t.normalMap))%2C%20void%200%20!%3D%3D%20t.normalMapType%20%26%26%20(n.normalMapType%20%3D%20t.normalMapType)%2C%20void%200%20!%3D%3D%20t.normalScale)%20%7B%20let%20e%20%3D%20t.normalScale%3B%20!1%20%3D%3D%3D%20Array.isArray(e)%20%26%26%20(e%20%3D%20%5Be%2C%20e%5D)%2C%20n.normalScale%20%3D%20(new%20Lt).fromArray(e)%20%7D%20return%20void%200%20!%3D%3D%20t.displacementMap%20%26%26%20(n.displacementMap%20%3D%20i(t.displacementMap))%2C%20void%200%20!%3D%3D%20t.displacementScale%20%26%26%20(n.displacementScale%20%3D%20t.displacementScale)%2C%20void%200%20!%3D%3D%20t.displacementBias%20%26%26%20(n.displacementBias%20%3D%20t.displacementBias)%2C%20void%200%20!%3D%3D%20t.roughnessMap%20%26%26%20(n.roughnessMap%20%3D%20i(t.roughnessMap))%2C%20void%200%20!%3D%3D%20t.metalnessMap%20%26%26%20(n.metalnessMap%20%3D%20i(t.metalnessMap))%2C%20void%200%20!%3D%3D%20t.emissiveMap%20%26%26%20(n.emissiveMap%20%3D%20i(t.emissiveMap))%2C%20void%200%20!%3D%3D%20t.emissiveIntensity%20%26%26%20(n.emissiveIntensity%20%3D%20t.emissiveIntensity)%2C%20void%200%20!%3D%3D%20t.specularMap%20%26%26%20(n.specularMap%20%3D%20i(t.specularMap))%2C%20void%200%20!%3D%3D%20t.specularIntensityMap%20%26%26%20(n.specularIntensityMap%20%3D%20i(t.specularIntensityMap))%2C%20void%200%20!%3D%3D%20t.specularColorMap%20%26%26%20(n.specularColorMap%20%3D%20i(t.specularColorMap))%2C%20void%200%20!%3D%3D%20t.envMap%20%26%26%20(n.envMap%20%3D%20i(t.envMap))%2C%20void%200%20!%3D%3D%20t.envMapIntensity%20%26%26%20(n.envMapIntensity%20%3D%20t.envMapIntensity)%2C%20void%200%20!%3D%3D%20t.reflectivity%20%26%26%20(n.reflectivity%20%3D%20t.reflectivity)%2C%20void%200%20!%3D%3D%20t.refractionRatio%20%26%26%20(n.refractionRatio%20%3D%20t.refractionRatio)%2C%20void%200%20!%3D%3D%20t.lightMap%20%26%26%20(n.lightMap%20%3D%20i(t.lightMap))%2C%20void%200%20!%3D%3D%20t.lightMapIntensity%20%26%26%20(n.lightMapIntensity%20%3D%20t.lightMapIntensity)%2C%20void%200%20!%3D%3D%20t.aoMap%20%26%26%20(n.aoMap%20%3D%20i(t.aoMap))%2C%20void%200%20!%3D%3D%20t.aoMapIntensity%20%26%26%20(n.aoMapIntensity%20%3D%20t.aoMapIntensity)%2C%20void%200%20!%3D%3D%20t.gradientMap%20%26%26%20(n.gradientMap%20%3D%20i(t.gradientMap))%2C%20void%200%20!%3D%3D%20t.clearcoatMap%20%26%26%20(n.clearcoatMap%20%3D%20i(t.clearcoatMap))%2C%20void%200%20!%3D%3D%20t.clearcoatRoughnessMap%20%26%26%20(n.clearcoatRoughnessMap%20%3D%20i(t.clearcoatRoughnessMap))%2C%20void%200%20!%3D%3D%20t.clearcoatNormalMap%20%26%26%20(n.clearcoatNormalMap%20%3D%20i(t.clearcoatNormalMap))%2C%20void%200%20!%3D%3D%20t.clearcoatNormalScale%20%26%26%20(n.clearcoatNormalScale%20%3D%20(new%20Lt).fromArray(t.clearcoatNormalScale))%2C%20void%200%20!%3D%3D%20t.iridescenceMap%20%26%26%20(n.iridescenceMap%20%3D%20i(t.iridescenceMap))%2C%20void%200%20!%3D%3D%20t.iridescenceThicknessMap%20%26%26%20(n.iridescenceThicknessMap%20%3D%20i(t.iridescenceThicknessMap))%2C%20void%200%20!%3D%3D%20t.transmissionMap%20%26%26%20(n.transmissionMap%20%3D%20i(t.transmissionMap))%2C%20void%200%20!%3D%3D%20t.thicknessMap%20%26%26%20(n.thicknessMap%20%3D%20i(t.thicknessMap))%2C%20void%200%20!%3D%3D%20t.sheenColorMap%20%26%26%20(n.sheenColorMap%20%3D%20i(t.sheenColorMap))%2C%20void%200%20!%3D%3D%20t.sheenRoughnessMap%20%26%26%20(n.sheenRoughnessMap%20%3D%20i(t.sheenRoughnessMap))%2C%20n%20%7D%20setTextures(t)%20%7B%20return%20this.textures%20%3D%20t%2C%20this%20%7D%20static%20createMaterialFromType(t)%20%7B%20return%20new%20%7B%20ShadowMaterial%3A%20El%2C%20SpriteMaterial%3A%20ea%2C%20RawShaderMaterial%3A%20Cl%2C%20ShaderMaterial%3A%20tn%2C%20PointsMaterial%3A%20Za%2C%20MeshPhysicalMaterial%3A%20Rl%2C%20MeshStandardMaterial%3A%20Ll%2C%20MeshPhongMaterial%3A%20Pl%2C%20MeshToonMaterial%3A%20Il%2C%20MeshNormalMaterial%3A%20Dl%2C%20MeshLambertMaterial%3A%20Nl%2C%20MeshDepthMaterial%3A%20Ds%2C%20MeshDistanceMaterial%3A%20Ns%2C%20MeshBasicMaterial%3A%20_i%2C%20MeshMatcapMaterial%3A%20Ol%2C%20LineDashedMaterial%3A%20zl%2C%20LineBasicMaterial%3A%20Ba%2C%20Material%3A%20xi%20%7D%5Bt%5D%20%7D%20%7D%20class%20Ic%20%7B%20static%20decodeText(t)%20%7B%20if%20(%22undefined%22%20!%3D%20typeof%20TextDecoder)%20return%20(new%20TextDecoder).decode(t)%3B%20let%20e%20%3D%20%22%22%3B%20for%20(let%20i%20%3D%200%2C%20n%20%3D%20t.length%3B%20i%20%3C%20n%3B%20i%2B%2B)e%20%2B%3D%20String.fromCharCode(t%5Bi%5D)%3B%20try%20%7B%20return%20decodeURIComponent(escape(e))%20%7D%20catch%20(t)%20%7B%20return%20e%20%7D%20%7D%20static%20extractUrlBase(t)%20%7B%20const%20e%20%3D%20t.lastIndexOf(%22%2F%22)%3B%20return%20-1%20%3D%3D%3D%20e%20%3F%20%22.%2F%22%20%3A%20t.slice(0%2C%20e%20%2B%201)%20%7D%20static%20resolveURL(t%2C%20e)%20%7B%20return%20%22string%22%20!%3D%20typeof%20t%20%7C%7C%20%22%22%20%3D%3D%3D%20t%20%3F%20%22%22%20%3A%20(%2F%5Ehttps%3F%3A%5C%2F%5C%2F%2Fi.test(e)%20%26%26%20%2F%5E%5C%2F%2F.test(t)%20%26%26%20(e%20%3D%20e.replace(%2F(%5Ehttps%3F%3A%5C%2F%5C%2F%5B%5E%5C%2F%5D%2B).*%2Fi%2C%20%22%241%22))%2C%20%2F%5E(https%3F%3A)%3F%5C%2F%5C%2F%2Fi.test(t)%20%7C%7C%20%2F%5Edata%3A.*%2C.*%24%2Fi.test(t)%20%7C%7C%20%2F%5Eblob%3A.*%24%2Fi.test(t)%20%3F%20t%20%3A%20e%20%2B%20t)%20%7D%20%7D%20class%20Dc%20extends%20Di%20%7B%20constructor()%20%7B%20super()%2C%20this.isInstancedBufferGeometry%20%3D%20!0%2C%20this.type%20%3D%20%22InstancedBufferGeometry%22%2C%20this.instanceCount%20%3D%201%20%2F%200%20%7D%20copy(t)%20%7B%20return%20super.copy(t)%2C%20this.instanceCount%20%3D%20t.instanceCount%2C%20this%20%7D%20toJSON()%20%7B%20const%20t%20%3D%20super.toJSON()%3B%20return%20t.instanceCount%20%3D%20this.instanceCount%2C%20t.isInstancedBufferGeometry%20%3D%20!0%2C%20t%20%7D%20%7D%20class%20Nc%20extends%20oc%20%7B%20constructor(t)%20%7B%20super(t)%20%7D%20load(t%2C%20e%2C%20i%2C%20n)%20%7B%20const%20r%20%3D%20this%2C%20s%20%3D%20new%20hc(r.manager)%3B%20s.setPath(r.path)%2C%20s.setRequestHeader(r.requestHeader)%2C%20s.setWithCredentials(r.withCredentials)%2C%20s.load(t%2C%20(function%20(i)%20%7B%20try%20%7B%20e(r.parse(JSON.parse(i)))%20%7D%20catch%20(e)%20%7B%20n%20%3F%20n(e)%20%3A%20console.error(e)%2C%20r.manager.itemError(t)%20%7D%20%7D)%2C%20i%2C%20n)%20%7D%20parse(t)%20%7B%20const%20e%20%3D%20%7B%7D%2C%20i%20%3D%20%7B%7D%3B%20function%20n(t%2C%20n)%20%7B%20if%20(void%200%20!%3D%3D%20e%5Bn%5D)%20return%20e%5Bn%5D%3B%20const%20r%20%3D%20t.interleavedBuffers%5Bn%5D%2C%20s%20%3D%20function%20(t%2C%20e)%20%7B%20if%20(void%200%20!%3D%3D%20i%5Be%5D)%20return%20i%5Be%5D%3B%20const%20n%20%3D%20t.arrayBuffers%2C%20r%20%3D%20n%5Be%5D%2C%20s%20%3D%20new%20Uint32Array(r).buffer%3B%20return%20i%5Be%5D%20%3D%20s%2C%20s%20%7D(t%2C%20r.buffer)%2C%20a%20%3D%20Nt(r.type%2C%20s)%2C%20o%20%3D%20new%20%24s(a%2C%20r.stride)%3B%20return%20o.uuid%20%3D%20r.uuid%2C%20e%5Bn%5D%20%3D%20o%2C%20o%20%7D%20const%20r%20%3D%20t.isInstancedBufferGeometry%20%3F%20new%20Dc%20%3A%20new%20Di%2C%20s%20%3D%20t.data.index%3B%20if%20(void%200%20!%3D%3D%20s)%20%7B%20const%20t%20%3D%20Nt(s.type%2C%20s.array)%3B%20r.setIndex(new%20bi(t%2C%201))%20%7D%20const%20a%20%3D%20t.data.attributes%3B%20for%20(const%20e%20in%20a)%20%7B%20const%20i%20%3D%20a%5Be%5D%3B%20let%20s%3B%20if%20(i.isInterleavedBufferAttribute)%20%7B%20const%20e%20%3D%20n(t.data%2C%20i.data)%3B%20s%20%3D%20new%20ta(e%2C%20i.itemSize%2C%20i.offset%2C%20i.normalized)%20%7D%20else%20%7B%20const%20t%20%3D%20Nt(i.type%2C%20i.array)%3B%20s%20%3D%20new%20(i.isInstancedBufferAttribute%20%3F%20Pa%20%3A%20bi)(t%2C%20i.itemSize%2C%20i.normalized)%20%7D%20void%200%20!%3D%3D%20i.name%20%26%26%20(s.name%20%3D%20i.name)%2C%20void%200%20!%3D%3D%20i.usage%20%26%26%20s.setUsage(i.usage)%2C%20void%200%20!%3D%3D%20i.updateRange%20%26%26%20(s.updateRange.offset%20%3D%20i.updateRange.offset%2C%20s.updateRange.count%20%3D%20i.updateRange.count)%2C%20r.setAttribute(e%2C%20s)%20%7D%20const%20o%20%3D%20t.data.morphAttributes%3B%20if%20(o)%20for%20(const%20e%20in%20o)%20%7B%20const%20i%20%3D%20o%5Be%5D%2C%20s%20%3D%20%5B%5D%3B%20for%20(let%20e%20%3D%200%2C%20r%20%3D%20i.length%3B%20e%20%3C%20r%3B%20e%2B%2B)%20%7B%20const%20r%20%3D%20i%5Be%5D%3B%20let%20a%3B%20if%20(r.isInterleavedBufferAttribute)%20%7B%20const%20e%20%3D%20n(t.data%2C%20r.data)%3B%20a%20%3D%20new%20ta(e%2C%20r.itemSize%2C%20r.offset%2C%20r.normalized)%20%7D%20else%20%7B%20const%20t%20%3D%20Nt(r.type%2C%20r.array)%3B%20a%20%3D%20new%20bi(t%2C%20r.itemSize%2C%20r.normalized)%20%7D%20void%200%20!%3D%3D%20r.name%20%26%26%20(a.name%20%3D%20r.name)%2C%20s.push(a)%20%7D%20r.morphAttributes%5Be%5D%20%3D%20s%20%7D%20t.data.morphTargetsRelative%20%26%26%20(r.morphTargetsRelative%20%3D%20!0)%3B%20const%20l%20%3D%20t.data.groups%20%7C%7C%20t.data.drawcalls%20%7C%7C%20t.data.offsets%3B%20if%20(void%200%20!%3D%3D%20l)%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20l.length%3B%20t%20!%3D%3D%20e%3B%20%2B%2Bt)%20%7B%20const%20e%20%3D%20l%5Bt%5D%3B%20r.addGroup(e.start%2C%20e.count%2C%20e.materialIndex)%20%7D%20const%20c%20%3D%20t.data.boundingSphere%3B%20if%20(void%200%20!%3D%3D%20c)%20%7B%20const%20t%20%3D%20new%20re%3B%20void%200%20!%3D%3D%20c.center%20%26%26%20t.fromArray(c.center)%2C%20r.boundingSphere%20%3D%20new%20Te(t%2C%20c.radius)%20%7D%20return%20t.name%20%26%26%20(r.name%20%3D%20t.name)%2C%20t.userData%20%26%26%20(r.userData%20%3D%20t.userData)%2C%20r%20%7D%20%7D%20const%20Oc%20%3D%20%7B%20UVMapping%3A%20n%2C%20CubeReflectionMapping%3A%20r%2C%20CubeRefractionMapping%3A%20s%2C%20EquirectangularReflectionMapping%3A%20a%2C%20EquirectangularRefractionMapping%3A%20o%2C%20CubeUVReflectionMapping%3A%20l%20%7D%2C%20zc%20%3D%20%7B%20RepeatWrapping%3A%20c%2C%20ClampToEdgeWrapping%3A%20h%2C%20MirroredRepeatWrapping%3A%20u%20%7D%2C%20Uc%20%3D%20%7B%20NearestFilter%3A%20d%2C%20NearestMipmapNearestFilter%3A%20p%2C%20NearestMipmapLinearFilter%3A%20m%2C%20LinearFilter%3A%20f%2C%20LinearMipmapNearestFilter%3A%20g%2C%20LinearMipmapLinearFilter%3A%20v%20%7D%3B%20let%20Bc%3B%20class%20Fc%20%7B%20static%20getContext()%20%7B%20return%20void%200%20%3D%3D%3D%20Bc%20%26%26%20(Bc%20%3D%20new%20(window.AudioContext%20%7C%7C%20window.webkitAudioContext))%2C%20Bc%20%7D%20static%20setContext(t)%20%7B%20Bc%20%3D%20t%20%7D%20%7D%20const%20kc%20%3D%20new%20Ne%2C%20Gc%20%3D%20new%20Ne%2C%20Vc%20%3D%20new%20Ne%3B%20class%20Hc%20%7B%20constructor(t%20%3D%20!0)%20%7B%20this.autoStart%20%3D%20t%2C%20this.startTime%20%3D%200%2C%20this.oldTime%20%3D%200%2C%20this.elapsedTime%20%3D%200%2C%20this.running%20%3D%20!1%20%7D%20start()%20%7B%20this.startTime%20%3D%20Wc()%2C%20this.oldTime%20%3D%20this.startTime%2C%20this.elapsedTime%20%3D%200%2C%20this.running%20%3D%20!0%20%7D%20stop()%20%7B%20this.getElapsedTime()%2C%20this.running%20%3D%20!1%2C%20this.autoStart%20%3D%20!1%20%7D%20getElapsedTime()%20%7B%20return%20this.getDelta()%2C%20this.elapsedTime%20%7D%20getDelta()%20%7B%20let%20t%20%3D%200%3B%20if%20(this.autoStart%20%26%26%20!this.running)%20return%20this.start()%2C%200%3B%20if%20(this.running)%20%7B%20const%20e%20%3D%20Wc()%3B%20t%20%3D%20(e%20-%20this.oldTime)%20%2F%201e3%2C%20this.oldTime%20%3D%20e%2C%20this.elapsedTime%20%2B%3D%20t%20%7D%20return%20t%20%7D%20%7D%20function%20Wc()%20%7B%20return%20(%22undefined%22%20%3D%3D%20typeof%20performance%20%3F%20Date%20%3A%20performance).now()%20%7D%20const%20jc%20%3D%20new%20re%2C%20qc%20%3D%20new%20ne%2C%20Xc%20%3D%20new%20re%2C%20Yc%20%3D%20new%20re%3B%20class%20Zc%20extends%20si%20%7B%20constructor(t)%20%7B%20super()%2C%20this.type%20%3D%20%22Audio%22%2C%20this.listener%20%3D%20t%2C%20this.context%20%3D%20t.context%2C%20this.gain%20%3D%20this.context.createGain()%2C%20this.gain.connect(t.getInput())%2C%20this.autoplay%20%3D%20!1%2C%20this.buffer%20%3D%20null%2C%20this.detune%20%3D%200%2C%20this.loop%20%3D%20!1%2C%20this.loopStart%20%3D%200%2C%20this.loopEnd%20%3D%200%2C%20this.offset%20%3D%200%2C%20this.duration%20%3D%20void%200%2C%20this.playbackRate%20%3D%201%2C%20this.isPlaying%20%3D%20!1%2C%20this.hasPlaybackControl%20%3D%20!0%2C%20this.source%20%3D%20null%2C%20this.sourceType%20%3D%20%22empty%22%2C%20this._startedAt%20%3D%200%2C%20this._progress%20%3D%200%2C%20this._connected%20%3D%20!1%2C%20this.filters%20%3D%20%5B%5D%20%7D%20getOutput()%20%7B%20return%20this.gain%20%7D%20setNodeSource(t)%20%7B%20return%20this.hasPlaybackControl%20%3D%20!1%2C%20this.sourceType%20%3D%20%22audioNode%22%2C%20this.source%20%3D%20t%2C%20this.connect()%2C%20this%20%7D%20setMediaElementSource(t)%20%7B%20return%20this.hasPlaybackControl%20%3D%20!1%2C%20this.sourceType%20%3D%20%22mediaNode%22%2C%20this.source%20%3D%20this.context.createMediaElementSource(t)%2C%20this.connect()%2C%20this%20%7D%20setMediaStreamSource(t)%20%7B%20return%20this.hasPlaybackControl%20%3D%20!1%2C%20this.sourceType%20%3D%20%22mediaStreamNode%22%2C%20this.source%20%3D%20this.context.createMediaStreamSource(t)%2C%20this.connect()%2C%20this%20%7D%20setBuffer(t)%20%7B%20return%20this.buffer%20%3D%20t%2C%20this.sourceType%20%3D%20%22buffer%22%2C%20this.autoplay%20%26%26%20this.play()%2C%20this%20%7D%20play(t%20%3D%200)%20%7B%20if%20(!0%20%3D%3D%3D%20this.isPlaying)%20return%20void%20console.warn(%22THREE.Audio%3A%20Audio%20is%20already%20playing.%22)%3B%20if%20(!1%20%3D%3D%3D%20this.hasPlaybackControl)%20return%20void%20console.warn(%22THREE.Audio%3A%20this%20Audio%20has%20no%20playback%20control.%22)%3B%20this._startedAt%20%3D%20this.context.currentTime%20%2B%20t%3B%20const%20e%20%3D%20this.context.createBufferSource()%3B%20return%20e.buffer%20%3D%20this.buffer%2C%20e.loop%20%3D%20this.loop%2C%20e.loopStart%20%3D%20this.loopStart%2C%20e.loopEnd%20%3D%20this.loopEnd%2C%20e.onended%20%3D%20this.onEnded.bind(this)%2C%20e.start(this._startedAt%2C%20this._progress%20%2B%20this.offset%2C%20this.duration)%2C%20this.isPlaying%20%3D%20!0%2C%20this.source%20%3D%20e%2C%20this.setDetune(this.detune)%2C%20this.setPlaybackRate(this.playbackRate)%2C%20this.connect()%20%7D%20pause()%20%7B%20if%20(!1%20!%3D%3D%20this.hasPlaybackControl)%20return%20!0%20%3D%3D%3D%20this.isPlaying%20%26%26%20(this._progress%20%2B%3D%20Math.max(this.context.currentTime%20-%20this._startedAt%2C%200)%20*%20this.playbackRate%2C%20!0%20%3D%3D%3D%20this.loop%20%26%26%20(this._progress%20%3D%20this._progress%20%25%20(this.duration%20%7C%7C%20this.buffer.duration))%2C%20this.source.stop()%2C%20this.source.onended%20%3D%20null%2C%20this.isPlaying%20%3D%20!1)%2C%20this%3B%20console.warn(%22THREE.Audio%3A%20this%20Audio%20has%20no%20playback%20control.%22)%20%7D%20stop()%20%7B%20if%20(!1%20!%3D%3D%20this.hasPlaybackControl)%20return%20this._progress%20%3D%200%2C%20this.source.stop()%2C%20this.source.onended%20%3D%20null%2C%20this.isPlaying%20%3D%20!1%2C%20this%3B%20console.warn(%22THREE.Audio%3A%20this%20Audio%20has%20no%20playback%20control.%22)%20%7D%20connect()%20%7B%20if%20(this.filters.length%20%3E%200)%20%7B%20this.source.connect(this.filters%5B0%5D)%3B%20for%20(let%20t%20%3D%201%2C%20e%20%3D%20this.filters.length%3B%20t%20%3C%20e%3B%20t%2B%2B)this.filters%5Bt%20-%201%5D.connect(this.filters%5Bt%5D)%3B%20this.filters%5Bthis.filters.length%20-%201%5D.connect(this.getOutput())%20%7D%20else%20this.source.connect(this.getOutput())%3B%20return%20this._connected%20%3D%20!0%2C%20this%20%7D%20disconnect()%20%7B%20if%20(this.filters.length%20%3E%200)%20%7B%20this.source.disconnect(this.filters%5B0%5D)%3B%20for%20(let%20t%20%3D%201%2C%20e%20%3D%20this.filters.length%3B%20t%20%3C%20e%3B%20t%2B%2B)this.filters%5Bt%20-%201%5D.disconnect(this.filters%5Bt%5D)%3B%20this.filters%5Bthis.filters.length%20-%201%5D.disconnect(this.getOutput())%20%7D%20else%20this.source.disconnect(this.getOutput())%3B%20return%20this._connected%20%3D%20!1%2C%20this%20%7D%20getFilters()%20%7B%20return%20this.filters%20%7D%20setFilters(t)%20%7B%20return%20t%20%7C%7C%20(t%20%3D%20%5B%5D)%2C%20!0%20%3D%3D%3D%20this._connected%20%3F%20(this.disconnect()%2C%20this.filters%20%3D%20t.slice()%2C%20this.connect())%20%3A%20this.filters%20%3D%20t.slice()%2C%20this%20%7D%20setDetune(t)%20%7B%20if%20(this.detune%20%3D%20t%2C%20void%200%20!%3D%3D%20this.source.detune)%20return%20!0%20%3D%3D%3D%20this.isPlaying%20%26%26%20this.source.detune.setTargetAtTime(this.detune%2C%20this.context.currentTime%2C%20.01)%2C%20this%20%7D%20getDetune()%20%7B%20return%20this.detune%20%7D%20getFilter()%20%7B%20return%20this.getFilters()%5B0%5D%20%7D%20setFilter(t)%20%7B%20return%20this.setFilters(t%20%3F%20%5Bt%5D%20%3A%20%5B%5D)%20%7D%20setPlaybackRate(t)%20%7B%20if%20(!1%20!%3D%3D%20this.hasPlaybackControl)%20return%20this.playbackRate%20%3D%20t%2C%20!0%20%3D%3D%3D%20this.isPlaying%20%26%26%20this.source.playbackRate.setTargetAtTime(this.playbackRate%2C%20this.context.currentTime%2C%20.01)%2C%20this%3B%20console.warn(%22THREE.Audio%3A%20this%20Audio%20has%20no%20playback%20control.%22)%20%7D%20getPlaybackRate()%20%7B%20return%20this.playbackRate%20%7D%20onEnded()%20%7B%20this.isPlaying%20%3D%20!1%20%7D%20getLoop()%20%7B%20return%20!1%20%3D%3D%3D%20this.hasPlaybackControl%20%3F%20(console.warn(%22THREE.Audio%3A%20this%20Audio%20has%20no%20playback%20control.%22)%2C%20!1)%20%3A%20this.loop%20%7D%20setLoop(t)%20%7B%20if%20(!1%20!%3D%3D%20this.hasPlaybackControl)%20return%20this.loop%20%3D%20t%2C%20!0%20%3D%3D%3D%20this.isPlaying%20%26%26%20(this.source.loop%20%3D%20this.loop)%2C%20this%3B%20console.warn(%22THREE.Audio%3A%20this%20Audio%20has%20no%20playback%20control.%22)%20%7D%20setLoopStart(t)%20%7B%20return%20this.loopStart%20%3D%20t%2C%20this%20%7D%20setLoopEnd(t)%20%7B%20return%20this.loopEnd%20%3D%20t%2C%20this%20%7D%20getVolume()%20%7B%20return%20this.gain.gain.value%20%7D%20setVolume(t)%20%7B%20return%20this.gain.gain.setTargetAtTime(t%2C%20this.context.currentTime%2C%20.01)%2C%20this%20%7D%20%7D%20const%20Jc%20%3D%20new%20re%2C%20Kc%20%3D%20new%20ne%2C%20%24c%20%3D%20new%20re%2C%20Qc%20%3D%20new%20re%3B%20class%20th%20%7B%20constructor(t%2C%20e%2C%20i)%20%7B%20let%20n%2C%20r%2C%20s%3B%20switch%20(this.binding%20%3D%20t%2C%20this.valueSize%20%3D%20i%2C%20e)%20%7B%20case%20%22quaternion%22%3A%20n%20%3D%20this._slerp%2C%20r%20%3D%20this._slerpAdditive%2C%20s%20%3D%20this._setAdditiveIdentityQuaternion%2C%20this.buffer%20%3D%20new%20Float64Array(6%20*%20i)%2C%20this._workIndex%20%3D%205%3B%20break%3B%20case%20%22string%22%3A%20case%20%22bool%22%3A%20n%20%3D%20this._select%2C%20r%20%3D%20this._select%2C%20s%20%3D%20this._setAdditiveIdentityOther%2C%20this.buffer%20%3D%20new%20Array(5%20*%20i)%3B%20break%3B%20default%3A%20n%20%3D%20this._lerp%2C%20r%20%3D%20this._lerpAdditive%2C%20s%20%3D%20this._setAdditiveIdentityNumeric%2C%20this.buffer%20%3D%20new%20Float64Array(5%20*%20i)%20%7Dthis._mixBufferRegion%20%3D%20n%2C%20this._mixBufferRegionAdditive%20%3D%20r%2C%20this._setIdentity%20%3D%20s%2C%20this._origIndex%20%3D%203%2C%20this._addIndex%20%3D%204%2C%20this.cumulativeWeight%20%3D%200%2C%20this.cumulativeWeightAdditive%20%3D%200%2C%20this.useCount%20%3D%200%2C%20this.referenceCount%20%3D%200%20%7D%20accumulate(t%2C%20e)%20%7B%20const%20i%20%3D%20this.buffer%2C%20n%20%3D%20this.valueSize%2C%20r%20%3D%20t%20*%20n%20%2B%20n%3B%20let%20s%20%3D%20this.cumulativeWeight%3B%20if%20(0%20%3D%3D%3D%20s)%20%7B%20for%20(let%20t%20%3D%200%3B%20t%20!%3D%3D%20n%3B%20%2B%2Bt)i%5Br%20%2B%20t%5D%20%3D%20i%5Bt%5D%3B%20s%20%3D%20e%20%7D%20else%20%7B%20s%20%2B%3D%20e%3B%20const%20t%20%3D%20e%20%2F%20s%3B%20this._mixBufferRegion(i%2C%20r%2C%200%2C%20t%2C%20n)%20%7D%20this.cumulativeWeight%20%3D%20s%20%7D%20accumulateAdditive(t)%20%7B%20const%20e%20%3D%20this.buffer%2C%20i%20%3D%20this.valueSize%2C%20n%20%3D%20i%20*%20this._addIndex%3B%200%20%3D%3D%3D%20this.cumulativeWeightAdditive%20%26%26%20this._setIdentity()%2C%20this._mixBufferRegionAdditive(e%2C%20n%2C%200%2C%20t%2C%20i)%2C%20this.cumulativeWeightAdditive%20%2B%3D%20t%20%7D%20apply(t)%20%7B%20const%20e%20%3D%20this.valueSize%2C%20i%20%3D%20this.buffer%2C%20n%20%3D%20t%20*%20e%20%2B%20e%2C%20r%20%3D%20this.cumulativeWeight%2C%20s%20%3D%20this.cumulativeWeightAdditive%2C%20a%20%3D%20this.binding%3B%20if%20(this.cumulativeWeight%20%3D%200%2C%20this.cumulativeWeightAdditive%20%3D%200%2C%20r%20%3C%201)%20%7B%20const%20t%20%3D%20e%20*%20this._origIndex%3B%20this._mixBufferRegion(i%2C%20n%2C%20t%2C%201%20-%20r%2C%20e)%20%7D%20s%20%3E%200%20%26%26%20this._mixBufferRegionAdditive(i%2C%20n%2C%20this._addIndex%20*%20e%2C%201%2C%20e)%3B%20for%20(let%20t%20%3D%20e%2C%20r%20%3D%20e%20%2B%20e%3B%20t%20!%3D%3D%20r%3B%20%2B%2Bt)if%20(i%5Bt%5D%20!%3D%3D%20i%5Bt%20%2B%20e%5D)%20%7B%20a.setValue(i%2C%20n)%3B%20break%20%7D%20%7D%20saveOriginalState()%20%7B%20const%20t%20%3D%20this.binding%2C%20e%20%3D%20this.buffer%2C%20i%20%3D%20this.valueSize%2C%20n%20%3D%20i%20*%20this._origIndex%3B%20t.getValue(e%2C%20n)%3B%20for%20(let%20t%20%3D%20i%2C%20r%20%3D%20n%3B%20t%20!%3D%3D%20r%3B%20%2B%2Bt)e%5Bt%5D%20%3D%20e%5Bn%20%2B%20t%20%25%20i%5D%3B%20this._setIdentity()%2C%20this.cumulativeWeight%20%3D%200%2C%20this.cumulativeWeightAdditive%20%3D%200%20%7D%20restoreOriginalState()%20%7B%20const%20t%20%3D%203%20*%20this.valueSize%3B%20this.binding.setValue(this.buffer%2C%20t)%20%7D%20_setAdditiveIdentityNumeric()%20%7B%20const%20t%20%3D%20this._addIndex%20*%20this.valueSize%2C%20e%20%3D%20t%20%2B%20this.valueSize%3B%20for%20(let%20i%20%3D%20t%3B%20i%20%3C%20e%3B%20i%2B%2B)this.buffer%5Bi%5D%20%3D%200%20%7D%20_setAdditiveIdentityQuaternion()%20%7B%20this._setAdditiveIdentityNumeric()%2C%20this.buffer%5Bthis._addIndex%20*%20this.valueSize%20%2B%203%5D%20%3D%201%20%7D%20_setAdditiveIdentityOther()%20%7B%20const%20t%20%3D%20this._origIndex%20*%20this.valueSize%2C%20e%20%3D%20this._addIndex%20*%20this.valueSize%3B%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20this.valueSize%3B%20i%2B%2B)this.buffer%5Be%20%2B%20i%5D%20%3D%20this.buffer%5Bt%20%2B%20i%5D%20%7D%20_select(t%2C%20e%2C%20i%2C%20n%2C%20r)%20%7B%20if%20(n%20%3E%3D%20.5)%20for%20(let%20n%20%3D%200%3B%20n%20!%3D%3D%20r%3B%20%2B%2Bn)t%5Be%20%2B%20n%5D%20%3D%20t%5Bi%20%2B%20n%5D%20%7D%20_slerp(t%2C%20e%2C%20i%2C%20n)%20%7B%20ne.slerpFlat(t%2C%20e%2C%20t%2C%20e%2C%20t%2C%20i%2C%20n)%20%7D%20_slerpAdditive(t%2C%20e%2C%20i%2C%20n%2C%20r)%20%7B%20const%20s%20%3D%20this._workIndex%20*%20r%3B%20ne.multiplyQuaternionsFlat(t%2C%20s%2C%20t%2C%20e%2C%20t%2C%20i)%2C%20ne.slerpFlat(t%2C%20e%2C%20t%2C%20e%2C%20t%2C%20s%2C%20n)%20%7D%20_lerp(t%2C%20e%2C%20i%2C%20n%2C%20r)%20%7B%20const%20s%20%3D%201%20-%20n%3B%20for%20(let%20a%20%3D%200%3B%20a%20!%3D%3D%20r%3B%20%2B%2Ba)%20%7B%20const%20r%20%3D%20e%20%2B%20a%3B%20t%5Br%5D%20%3D%20t%5Br%5D%20*%20s%20%2B%20t%5Bi%20%2B%20a%5D%20*%20n%20%7D%20%7D%20_lerpAdditive(t%2C%20e%2C%20i%2C%20n%2C%20r)%20%7B%20for%20(let%20s%20%3D%200%3B%20s%20!%3D%3D%20r%3B%20%2B%2Bs)%20%7B%20const%20r%20%3D%20e%20%2B%20s%3B%20t%5Br%5D%20%3D%20t%5Br%5D%20%2B%20t%5Bi%20%2B%20s%5D%20*%20n%20%7D%20%7D%20%7D%20const%20eh%20%3D%20%22%5C%5C%5B%5C%5C%5D%5C%5C.%3A%5C%5C%2F%22%2C%20ih%20%3D%20new%20RegExp(%22%5B%22%20%2B%20eh%20%2B%20%22%5D%22%2C%20%22g%22)%2C%20nh%20%3D%20%22%5B%5E%22%20%2B%20eh%20%2B%20%22%5D%22%2C%20rh%20%3D%20%22%5B%5E%22%20%2B%20eh.replace(%22%5C%5C.%22%2C%20%22%22)%20%2B%20%22%5D%22%2C%20sh%20%3D%20new%20RegExp(%22%5E%22%20%2B%20%2F((%3F%3AWC%2B%5B%5C%2F%3A%5D)*)%2F.source.replace(%22WC%22%2C%20nh)%20%2B%20%2F(WCOD%2B)%3F%2F.source.replace(%22WCOD%22%2C%20rh)%20%2B%20%2F(%3F%3A%5C.(WC%2B)(%3F%3A%5C%5B(.%2B)%5C%5D)%3F)%3F%2F.source.replace(%22WC%22%2C%20nh)%20%2B%20%2F%5C.(WC%2B)(%3F%3A%5C%5B(.%2B)%5C%5D)%3F%2F.source.replace(%22WC%22%2C%20nh)%20%2B%20%22%24%22)%2C%20ah%20%3D%20%5B%22material%22%2C%20%22materials%22%2C%20%22bones%22%2C%20%22map%22%5D%3B%20class%20oh%20%7B%20constructor(t%2C%20e%2C%20i)%20%7B%20this.path%20%3D%20e%2C%20this.parsedPath%20%3D%20i%20%7C%7C%20oh.parseTrackName(e)%2C%20this.node%20%3D%20oh.findNode(t%2C%20this.parsedPath.nodeName)%20%7C%7C%20t%2C%20this.rootNode%20%3D%20t%2C%20this.getValue%20%3D%20this._getValue_unbound%2C%20this.setValue%20%3D%20this._setValue_unbound%20%7D%20static%20create(t%2C%20e%2C%20i)%20%7B%20return%20t%20%26%26%20t.isAnimationObjectGroup%20%3F%20new%20oh.Composite(t%2C%20e%2C%20i)%20%3A%20new%20oh(t%2C%20e%2C%20i)%20%7D%20static%20sanitizeNodeName(t)%20%7B%20return%20t.replace(%2F%5Cs%2Fg%2C%20%22_%22).replace(ih%2C%20%22%22)%20%7D%20static%20parseTrackName(t)%20%7B%20const%20e%20%3D%20sh.exec(t)%3B%20if%20(null%20%3D%3D%3D%20e)%20throw%20new%20Error(%22PropertyBinding%3A%20Cannot%20parse%20trackName%3A%20%22%20%2B%20t)%3B%20const%20i%20%3D%20%7B%20nodeName%3A%20e%5B2%5D%2C%20objectName%3A%20e%5B3%5D%2C%20objectIndex%3A%20e%5B4%5D%2C%20propertyName%3A%20e%5B5%5D%2C%20propertyIndex%3A%20e%5B6%5D%20%7D%2C%20n%20%3D%20i.nodeName%20%26%26%20i.nodeName.lastIndexOf(%22.%22)%3B%20if%20(void%200%20!%3D%3D%20n%20%26%26%20-1%20!%3D%3D%20n)%20%7B%20const%20t%20%3D%20i.nodeName.substring(n%20%2B%201)%3B%20-1%20!%3D%3D%20ah.indexOf(t)%20%26%26%20(i.nodeName%20%3D%20i.nodeName.substring(0%2C%20n)%2C%20i.objectName%20%3D%20t)%20%7D%20if%20(null%20%3D%3D%3D%20i.propertyName%20%7C%7C%200%20%3D%3D%3D%20i.propertyName.length)%20throw%20new%20Error(%22PropertyBinding%3A%20can%20not%20parse%20propertyName%20from%20trackName%3A%20%22%20%2B%20t)%3B%20return%20i%20%7D%20static%20findNode(t%2C%20e)%20%7B%20if%20(void%200%20%3D%3D%3D%20e%20%7C%7C%20%22%22%20%3D%3D%3D%20e%20%7C%7C%20%22.%22%20%3D%3D%3D%20e%20%7C%7C%20-1%20%3D%3D%3D%20e%20%7C%7C%20e%20%3D%3D%3D%20t.name%20%7C%7C%20e%20%3D%3D%3D%20t.uuid)%20return%20t%3B%20if%20(t.skeleton)%20%7B%20const%20i%20%3D%20t.skeleton.getBoneByName(e)%3B%20if%20(void%200%20!%3D%3D%20i)%20return%20i%20%7D%20if%20(t.children)%20%7B%20const%20i%20%3D%20function%20(t)%20%7B%20for%20(let%20n%20%3D%200%3B%20n%20%3C%20t.length%3B%20n%2B%2B)%20%7B%20const%20r%20%3D%20t%5Bn%5D%3B%20if%20(r.name%20%3D%3D%3D%20e%20%7C%7C%20r.uuid%20%3D%3D%3D%20e)%20return%20r%3B%20const%20s%20%3D%20i(r.children)%3B%20if%20(s)%20return%20s%20%7D%20return%20null%20%7D%2C%20n%20%3D%20i(t.children)%3B%20if%20(n)%20return%20n%20%7D%20return%20null%20%7D%20_getValue_unavailable()%20%7B%20%7D%20_setValue_unavailable()%20%7B%20%7D%20_getValue_direct(t%2C%20e)%20%7B%20t%5Be%5D%20%3D%20this.targetObject%5Bthis.propertyName%5D%20%7D%20_getValue_array(t%2C%20e)%20%7B%20const%20i%20%3D%20this.resolvedProperty%3B%20for%20(let%20n%20%3D%200%2C%20r%20%3D%20i.length%3B%20n%20!%3D%3D%20r%3B%20%2B%2Bn)t%5Be%2B%2B%5D%20%3D%20i%5Bn%5D%20%7D%20_getValue_arrayElement(t%2C%20e)%20%7B%20t%5Be%5D%20%3D%20this.resolvedProperty%5Bthis.propertyIndex%5D%20%7D%20_getValue_toArray(t%2C%20e)%20%7B%20this.resolvedProperty.toArray(t%2C%20e)%20%7D%20_setValue_direct(t%2C%20e)%20%7B%20this.targetObject%5Bthis.propertyName%5D%20%3D%20t%5Be%5D%20%7D%20_setValue_direct_setNeedsUpdate(t%2C%20e)%20%7B%20this.targetObject%5Bthis.propertyName%5D%20%3D%20t%5Be%5D%2C%20this.targetObject.needsUpdate%20%3D%20!0%20%7D%20_setValue_direct_setMatrixWorldNeedsUpdate(t%2C%20e)%20%7B%20this.targetObject%5Bthis.propertyName%5D%20%3D%20t%5Be%5D%2C%20this.targetObject.matrixWorldNeedsUpdate%20%3D%20!0%20%7D%20_setValue_array(t%2C%20e)%20%7B%20const%20i%20%3D%20this.resolvedProperty%3B%20for%20(let%20n%20%3D%200%2C%20r%20%3D%20i.length%3B%20n%20!%3D%3D%20r%3B%20%2B%2Bn)i%5Bn%5D%20%3D%20t%5Be%2B%2B%5D%20%7D%20_setValue_array_setNeedsUpdate(t%2C%20e)%20%7B%20const%20i%20%3D%20this.resolvedProperty%3B%20for%20(let%20n%20%3D%200%2C%20r%20%3D%20i.length%3B%20n%20!%3D%3D%20r%3B%20%2B%2Bn)i%5Bn%5D%20%3D%20t%5Be%2B%2B%5D%3B%20this.targetObject.needsUpdate%20%3D%20!0%20%7D%20_setValue_array_setMatrixWorldNeedsUpdate(t%2C%20e)%20%7B%20const%20i%20%3D%20this.resolvedProperty%3B%20for%20(let%20n%20%3D%200%2C%20r%20%3D%20i.length%3B%20n%20!%3D%3D%20r%3B%20%2B%2Bn)i%5Bn%5D%20%3D%20t%5Be%2B%2B%5D%3B%20this.targetObject.matrixWorldNeedsUpdate%20%3D%20!0%20%7D%20_setValue_arrayElement(t%2C%20e)%20%7B%20this.resolvedProperty%5Bthis.propertyIndex%5D%20%3D%20t%5Be%5D%20%7D%20_setValue_arrayElement_setNeedsUpdate(t%2C%20e)%20%7B%20this.resolvedProperty%5Bthis.propertyIndex%5D%20%3D%20t%5Be%5D%2C%20this.targetObject.needsUpdate%20%3D%20!0%20%7D%20_setValue_arrayElement_setMatrixWorldNeedsUpdate(t%2C%20e)%20%7B%20this.resolvedProperty%5Bthis.propertyIndex%5D%20%3D%20t%5Be%5D%2C%20this.targetObject.matrixWorldNeedsUpdate%20%3D%20!0%20%7D%20_setValue_fromArray(t%2C%20e)%20%7B%20this.resolvedProperty.fromArray(t%2C%20e)%20%7D%20_setValue_fromArray_setNeedsUpdate(t%2C%20e)%20%7B%20this.resolvedProperty.fromArray(t%2C%20e)%2C%20this.targetObject.needsUpdate%20%3D%20!0%20%7D%20_setValue_fromArray_setMatrixWorldNeedsUpdate(t%2C%20e)%20%7B%20this.resolvedProperty.fromArray(t%2C%20e)%2C%20this.targetObject.matrixWorldNeedsUpdate%20%3D%20!0%20%7D%20_getValue_unbound(t%2C%20e)%20%7B%20this.bind()%2C%20this.getValue(t%2C%20e)%20%7D%20_setValue_unbound(t%2C%20e)%20%7B%20this.bind()%2C%20this.setValue(t%2C%20e)%20%7D%20bind()%20%7B%20let%20t%20%3D%20this.node%3B%20const%20e%20%3D%20this.parsedPath%2C%20i%20%3D%20e.objectName%2C%20n%20%3D%20e.propertyName%3B%20let%20r%20%3D%20e.propertyIndex%3B%20if%20(t%20%7C%7C%20(t%20%3D%20oh.findNode(this.rootNode%2C%20e.nodeName)%20%7C%7C%20this.rootNode%2C%20this.node%20%3D%20t)%2C%20this.getValue%20%3D%20this._getValue_unavailable%2C%20this.setValue%20%3D%20this._setValue_unavailable%2C%20!t)%20return%20void%20console.error(%22THREE.PropertyBinding%3A%20Trying%20to%20update%20node%20for%20track%3A%20%22%20%2B%20this.path%20%2B%20%22%20but%20it%20wasn't%20found.%22)%3B%20if%20(i)%20%7B%20let%20n%20%3D%20e.objectIndex%3B%20switch%20(i)%20%7B%20case%20%22materials%22%3A%20if%20(!t.material)%20return%20void%20console.error(%22THREE.PropertyBinding%3A%20Can%20not%20bind%20to%20material%20as%20node%20does%20not%20have%20a%20material.%22%2C%20this)%3B%20if%20(!t.material.materials)%20return%20void%20console.error(%22THREE.PropertyBinding%3A%20Can%20not%20bind%20to%20material.materials%20as%20node.material%20does%20not%20have%20a%20materials%20array.%22%2C%20this)%3B%20t%20%3D%20t.material.materials%3B%20break%3B%20case%20%22bones%22%3A%20if%20(!t.skeleton)%20return%20void%20console.error(%22THREE.PropertyBinding%3A%20Can%20not%20bind%20to%20bones%20as%20node%20does%20not%20have%20a%20skeleton.%22%2C%20this)%3B%20t%20%3D%20t.skeleton.bones%3B%20for%20(let%20e%20%3D%200%3B%20e%20%3C%20t.length%3B%20e%2B%2B)if%20(t%5Be%5D.name%20%3D%3D%3D%20n)%20%7B%20n%20%3D%20e%3B%20break%20%7D%20break%3B%20case%20%22map%22%3A%20if%20(%22map%22%20in%20t)%20%7B%20t%20%3D%20t.map%3B%20break%20%7D%20if%20(!t.material)%20return%20void%20console.error(%22THREE.PropertyBinding%3A%20Can%20not%20bind%20to%20material%20as%20node%20does%20not%20have%20a%20material.%22%2C%20this)%3B%20if%20(!t.material.map)%20return%20void%20console.error(%22THREE.PropertyBinding%3A%20Can%20not%20bind%20to%20material.map%20as%20node.material%20does%20not%20have%20a%20map.%22%2C%20this)%3B%20t%20%3D%20t.material.map%3B%20break%3B%20default%3A%20if%20(void%200%20%3D%3D%3D%20t%5Bi%5D)%20return%20void%20console.error(%22THREE.PropertyBinding%3A%20Can%20not%20bind%20to%20objectName%20of%20node%20undefined.%22%2C%20this)%3B%20t%20%3D%20t%5Bi%5D%20%7Dif%20(void%200%20!%3D%3D%20n)%20%7B%20if%20(void%200%20%3D%3D%3D%20t%5Bn%5D)%20return%20void%20console.error(%22THREE.PropertyBinding%3A%20Trying%20to%20bind%20to%20objectIndex%20of%20objectName%2C%20but%20is%20undefined.%22%2C%20this%2C%20t)%3B%20t%20%3D%20t%5Bn%5D%20%7D%20%7D%20const%20s%20%3D%20t%5Bn%5D%3B%20if%20(void%200%20%3D%3D%3D%20s)%20%7B%20const%20i%20%3D%20e.nodeName%3B%20return%20void%20console.error(%22THREE.PropertyBinding%3A%20Trying%20to%20update%20property%20for%20track%3A%20%22%20%2B%20i%20%2B%20%22.%22%20%2B%20n%20%2B%20%22%20but%20it%20wasn't%20found.%22%2C%20t)%20%7D%20let%20a%20%3D%20this.Versioning.None%3B%20this.targetObject%20%3D%20t%2C%20void%200%20!%3D%3D%20t.needsUpdate%20%3F%20a%20%3D%20this.Versioning.NeedsUpdate%20%3A%20void%200%20!%3D%3D%20t.matrixWorldNeedsUpdate%20%26%26%20(a%20%3D%20this.Versioning.MatrixWorldNeedsUpdate)%3B%20let%20o%20%3D%20this.BindingType.Direct%3B%20if%20(void%200%20!%3D%3D%20r)%20%7B%20if%20(%22morphTargetInfluences%22%20%3D%3D%3D%20n)%20%7B%20if%20(!t.geometry)%20return%20void%20console.error(%22THREE.PropertyBinding%3A%20Can%20not%20bind%20to%20morphTargetInfluences%20because%20node%20does%20not%20have%20a%20geometry.%22%2C%20this)%3B%20if%20(!t.geometry.morphAttributes)%20return%20void%20console.error(%22THREE.PropertyBinding%3A%20Can%20not%20bind%20to%20morphTargetInfluences%20because%20node%20does%20not%20have%20a%20geometry.morphAttributes.%22%2C%20this)%3B%20void%200%20!%3D%3D%20t.morphTargetDictionary%5Br%5D%20%26%26%20(r%20%3D%20t.morphTargetDictionary%5Br%5D)%20%7D%20o%20%3D%20this.BindingType.ArrayElement%2C%20this.resolvedProperty%20%3D%20s%2C%20this.propertyIndex%20%3D%20r%20%7D%20else%20void%200%20!%3D%3D%20s.fromArray%20%26%26%20void%200%20!%3D%3D%20s.toArray%20%3F%20(o%20%3D%20this.BindingType.HasFromToArray%2C%20this.resolvedProperty%20%3D%20s)%20%3A%20Array.isArray(s)%20%3F%20(o%20%3D%20this.BindingType.EntireArray%2C%20this.resolvedProperty%20%3D%20s)%20%3A%20this.propertyName%20%3D%20n%3B%20this.getValue%20%3D%20this.GetterByBindingType%5Bo%5D%2C%20this.setValue%20%3D%20this.SetterByBindingTypeAndVersioning%5Bo%5D%5Ba%5D%20%7D%20unbind()%20%7B%20this.node%20%3D%20null%2C%20this.getValue%20%3D%20this._getValue_unbound%2C%20this.setValue%20%3D%20this._setValue_unbound%20%7D%20%7D%20oh.Composite%20%3D%20class%20%7B%20constructor(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20i%20%7C%7C%20oh.parseTrackName(e)%3B%20this._targetGroup%20%3D%20t%2C%20this._bindings%20%3D%20t.subscribe_(e%2C%20n)%20%7D%20getValue(t%2C%20e)%20%7B%20this.bind()%3B%20const%20i%20%3D%20this._targetGroup.nCachedObjects_%2C%20n%20%3D%20this._bindings%5Bi%5D%3B%20void%200%20!%3D%3D%20n%20%26%26%20n.getValue(t%2C%20e)%20%7D%20setValue(t%2C%20e)%20%7B%20const%20i%20%3D%20this._bindings%3B%20for%20(let%20n%20%3D%20this._targetGroup.nCachedObjects_%2C%20r%20%3D%20i.length%3B%20n%20!%3D%3D%20r%3B%20%2B%2Bn)i%5Bn%5D.setValue(t%2C%20e)%20%7D%20bind()%20%7B%20const%20t%20%3D%20this._bindings%3B%20for%20(let%20e%20%3D%20this._targetGroup.nCachedObjects_%2C%20i%20%3D%20t.length%3B%20e%20!%3D%3D%20i%3B%20%2B%2Be)t%5Be%5D.bind()%20%7D%20unbind()%20%7B%20const%20t%20%3D%20this._bindings%3B%20for%20(let%20e%20%3D%20this._targetGroup.nCachedObjects_%2C%20i%20%3D%20t.length%3B%20e%20!%3D%3D%20i%3B%20%2B%2Be)t%5Be%5D.unbind()%20%7D%20%7D%2C%20oh.prototype.BindingType%20%3D%20%7B%20Direct%3A%200%2C%20EntireArray%3A%201%2C%20ArrayElement%3A%202%2C%20HasFromToArray%3A%203%20%7D%2C%20oh.prototype.Versioning%20%3D%20%7B%20None%3A%200%2C%20NeedsUpdate%3A%201%2C%20MatrixWorldNeedsUpdate%3A%202%20%7D%2C%20oh.prototype.GetterByBindingType%20%3D%20%5Boh.prototype._getValue_direct%2C%20oh.prototype._getValue_array%2C%20oh.prototype._getValue_arrayElement%2C%20oh.prototype._getValue_toArray%5D%2C%20oh.prototype.SetterByBindingTypeAndVersioning%20%3D%20%5B%5Boh.prototype._setValue_direct%2C%20oh.prototype._setValue_direct_setNeedsUpdate%2C%20oh.prototype._setValue_direct_setMatrixWorldNeedsUpdate%5D%2C%20%5Boh.prototype._setValue_array%2C%20oh.prototype._setValue_array_setNeedsUpdate%2C%20oh.prototype._setValue_array_setMatrixWorldNeedsUpdate%5D%2C%20%5Boh.prototype._setValue_arrayElement%2C%20oh.prototype._setValue_arrayElement_setNeedsUpdate%2C%20oh.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate%5D%2C%20%5Boh.prototype._setValue_fromArray%2C%20oh.prototype._setValue_fromArray_setNeedsUpdate%2C%20oh.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate%5D%5D%3B%20class%20lh%20%7B%20constructor(t%2C%20e%2C%20i%20%3D%20null%2C%20n%20%3D%20e.blendMode)%20%7B%20this._mixer%20%3D%20t%2C%20this._clip%20%3D%20e%2C%20this._localRoot%20%3D%20i%2C%20this.blendMode%20%3D%20n%3B%20const%20r%20%3D%20e.tracks%2C%20s%20%3D%20r.length%2C%20a%20%3D%20new%20Array(s)%2C%20o%20%3D%20%7B%20endingStart%3A%20et%2C%20endingEnd%3A%20et%20%7D%3B%20for%20(let%20t%20%3D%200%3B%20t%20!%3D%3D%20s%3B%20%2B%2Bt)%20%7B%20const%20e%20%3D%20r%5Bt%5D.createInterpolant(null)%3B%20a%5Bt%5D%20%3D%20e%2C%20e.settings%20%3D%20o%20%7D%20this._interpolantSettings%20%3D%20o%2C%20this._interpolants%20%3D%20a%2C%20this._propertyBindings%20%3D%20new%20Array(s)%2C%20this._cacheIndex%20%3D%20null%2C%20this._byClipCacheIndex%20%3D%20null%2C%20this._timeScaleInterpolant%20%3D%20null%2C%20this._weightInterpolant%20%3D%20null%2C%20this.loop%20%3D%202201%2C%20this._loopCount%20%3D%20-1%2C%20this._startTime%20%3D%20null%2C%20this.time%20%3D%200%2C%20this.timeScale%20%3D%201%2C%20this._effectiveTimeScale%20%3D%201%2C%20this.weight%20%3D%201%2C%20this._effectiveWeight%20%3D%201%2C%20this.repetitions%20%3D%201%20%2F%200%2C%20this.paused%20%3D%20!1%2C%20this.enabled%20%3D%20!0%2C%20this.clampWhenFinished%20%3D%20!1%2C%20this.zeroSlopeAtStart%20%3D%20!0%2C%20this.zeroSlopeAtEnd%20%3D%20!0%20%7D%20play()%20%7B%20return%20this._mixer._activateAction(this)%2C%20this%20%7D%20stop()%20%7B%20return%20this._mixer._deactivateAction(this)%2C%20this.reset()%20%7D%20reset()%20%7B%20return%20this.paused%20%3D%20!1%2C%20this.enabled%20%3D%20!0%2C%20this.time%20%3D%200%2C%20this._loopCount%20%3D%20-1%2C%20this._startTime%20%3D%20null%2C%20this.stopFading().stopWarping()%20%7D%20isRunning()%20%7B%20return%20this.enabled%20%26%26%20!this.paused%20%26%26%200%20!%3D%3D%20this.timeScale%20%26%26%20null%20%3D%3D%3D%20this._startTime%20%26%26%20this._mixer._isActiveAction(this)%20%7D%20isScheduled()%20%7B%20return%20this._mixer._isActiveAction(this)%20%7D%20startAt(t)%20%7B%20return%20this._startTime%20%3D%20t%2C%20this%20%7D%20setLoop(t%2C%20e)%20%7B%20return%20this.loop%20%3D%20t%2C%20this.repetitions%20%3D%20e%2C%20this%20%7D%20setEffectiveWeight(t)%20%7B%20return%20this.weight%20%3D%20t%2C%20this._effectiveWeight%20%3D%20this.enabled%20%3F%20t%20%3A%200%2C%20this.stopFading()%20%7D%20getEffectiveWeight()%20%7B%20return%20this._effectiveWeight%20%7D%20fadeIn(t)%20%7B%20return%20this._scheduleFading(t%2C%200%2C%201)%20%7D%20fadeOut(t)%20%7B%20return%20this._scheduleFading(t%2C%201%2C%200)%20%7D%20crossFadeFrom(t%2C%20e%2C%20i)%20%7B%20if%20(t.fadeOut(e)%2C%20this.fadeIn(e)%2C%20i)%20%7B%20const%20i%20%3D%20this._clip.duration%2C%20n%20%3D%20t._clip.duration%2C%20r%20%3D%20n%20%2F%20i%2C%20s%20%3D%20i%20%2F%20n%3B%20t.warp(1%2C%20r%2C%20e)%2C%20this.warp(s%2C%201%2C%20e)%20%7D%20return%20this%20%7D%20crossFadeTo(t%2C%20e%2C%20i)%20%7B%20return%20t.crossFadeFrom(this%2C%20e%2C%20i)%20%7D%20stopFading()%20%7B%20const%20t%20%3D%20this._weightInterpolant%3B%20return%20null%20!%3D%3D%20t%20%26%26%20(this._weightInterpolant%20%3D%20null%2C%20this._mixer._takeBackControlInterpolant(t))%2C%20this%20%7D%20setEffectiveTimeScale(t)%20%7B%20return%20this.timeScale%20%3D%20t%2C%20this._effectiveTimeScale%20%3D%20this.paused%20%3F%200%20%3A%20t%2C%20this.stopWarping()%20%7D%20getEffectiveTimeScale()%20%7B%20return%20this._effectiveTimeScale%20%7D%20setDuration(t)%20%7B%20return%20this.timeScale%20%3D%20this._clip.duration%20%2F%20t%2C%20this.stopWarping()%20%7D%20syncWith(t)%20%7B%20return%20this.time%20%3D%20t.time%2C%20this.timeScale%20%3D%20t.timeScale%2C%20this.stopWarping()%20%7D%20halt(t)%20%7B%20return%20this.warp(this._effectiveTimeScale%2C%200%2C%20t)%20%7D%20warp(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20this._mixer%2C%20r%20%3D%20n.time%2C%20s%20%3D%20this.timeScale%3B%20let%20a%20%3D%20this._timeScaleInterpolant%3B%20null%20%3D%3D%3D%20a%20%26%26%20(a%20%3D%20n._lendControlInterpolant()%2C%20this._timeScaleInterpolant%20%3D%20a)%3B%20const%20o%20%3D%20a.parameterPositions%2C%20l%20%3D%20a.sampleValues%3B%20return%20o%5B0%5D%20%3D%20r%2C%20o%5B1%5D%20%3D%20r%20%2B%20i%2C%20l%5B0%5D%20%3D%20t%20%2F%20s%2C%20l%5B1%5D%20%3D%20e%20%2F%20s%2C%20this%20%7D%20stopWarping()%20%7B%20const%20t%20%3D%20this._timeScaleInterpolant%3B%20return%20null%20!%3D%3D%20t%20%26%26%20(this._timeScaleInterpolant%20%3D%20null%2C%20this._mixer._takeBackControlInterpolant(t))%2C%20this%20%7D%20getMixer()%20%7B%20return%20this._mixer%20%7D%20getClip()%20%7B%20return%20this._clip%20%7D%20getRoot()%20%7B%20return%20this._localRoot%20%7C%7C%20this._mixer._root%20%7D%20_update(t%2C%20e%2C%20i%2C%20n)%20%7B%20if%20(!this.enabled)%20return%20void%20this._updateWeight(t)%3B%20const%20r%20%3D%20this._startTime%3B%20if%20(null%20!%3D%3D%20r)%20%7B%20const%20n%20%3D%20(t%20-%20r)%20*%20i%3B%20n%20%3C%200%20%7C%7C%200%20%3D%3D%3D%20i%20%3F%20e%20%3D%200%20%3A%20(this._startTime%20%3D%20null%2C%20e%20%3D%20i%20*%20n)%20%7D%20e%20*%3D%20this._updateTimeScale(t)%3B%20const%20s%20%3D%20this._updateTime(e)%2C%20a%20%3D%20this._updateWeight(t)%3B%20if%20(a%20%3E%200)%20%7B%20const%20t%20%3D%20this._interpolants%2C%20e%20%3D%20this._propertyBindings%3B%20if%20(this.blendMode%20%3D%3D%3D%20st)%20for%20(let%20i%20%3D%200%2C%20n%20%3D%20t.length%3B%20i%20!%3D%3D%20n%3B%20%2B%2Bi)t%5Bi%5D.evaluate(s)%2C%20e%5Bi%5D.accumulateAdditive(a)%3B%20else%20for%20(let%20i%20%3D%200%2C%20r%20%3D%20t.length%3B%20i%20!%3D%3D%20r%3B%20%2B%2Bi)t%5Bi%5D.evaluate(s)%2C%20e%5Bi%5D.accumulate(n%2C%20a)%20%7D%20%7D%20_updateWeight(t)%20%7B%20let%20e%20%3D%200%3B%20if%20(this.enabled)%20%7B%20e%20%3D%20this.weight%3B%20const%20i%20%3D%20this._weightInterpolant%3B%20if%20(null%20!%3D%3D%20i)%20%7B%20const%20n%20%3D%20i.evaluate(t)%5B0%5D%3B%20e%20*%3D%20n%2C%20t%20%3E%20i.parameterPositions%5B1%5D%20%26%26%20(this.stopFading()%2C%200%20%3D%3D%3D%20n%20%26%26%20(this.enabled%20%3D%20!1))%20%7D%20%7D%20return%20this._effectiveWeight%20%3D%20e%2C%20e%20%7D%20_updateTimeScale(t)%20%7B%20let%20e%20%3D%200%3B%20if%20(!this.paused)%20%7B%20e%20%3D%20this.timeScale%3B%20const%20i%20%3D%20this._timeScaleInterpolant%3B%20if%20(null%20!%3D%3D%20i)%20%7B%20e%20*%3D%20i.evaluate(t)%5B0%5D%2C%20t%20%3E%20i.parameterPositions%5B1%5D%20%26%26%20(this.stopWarping()%2C%200%20%3D%3D%3D%20e%20%3F%20this.paused%20%3D%20!0%20%3A%20this.timeScale%20%3D%20e)%20%7D%20%7D%20return%20this._effectiveTimeScale%20%3D%20e%2C%20e%20%7D%20_updateTime(t)%20%7B%20const%20e%20%3D%20this._clip.duration%2C%20i%20%3D%20this.loop%3B%20let%20n%20%3D%20this.time%20%2B%20t%2C%20r%20%3D%20this._loopCount%3B%20const%20s%20%3D%202202%20%3D%3D%3D%20i%3B%20if%20(0%20%3D%3D%3D%20t)%20return%20-1%20%3D%3D%3D%20r%20%3F%20n%20%3A%20s%20%26%26%201%20%3D%3D%20(1%20%26%20r)%20%3F%20e%20-%20n%20%3A%20n%3B%20if%20(2200%20%3D%3D%3D%20i)%20%7B%20-1%20%3D%3D%3D%20r%20%26%26%20(this._loopCount%20%3D%200%2C%20this._setEndings(!0%2C%20!0%2C%20!1))%3B%20t%3A%20%7B%20if%20(n%20%3E%3D%20e)%20n%20%3D%20e%3B%20else%20%7B%20if%20(!(n%20%3C%200))%20%7B%20this.time%20%3D%20n%3B%20break%20t%20%7D%20n%20%3D%200%20%7D%20this.clampWhenFinished%20%3F%20this.paused%20%3D%20!0%20%3A%20this.enabled%20%3D%20!1%2C%20this.time%20%3D%20n%2C%20this._mixer.dispatchEvent(%7B%20type%3A%20%22finished%22%2C%20action%3A%20this%2C%20direction%3A%20t%20%3C%200%20%3F%20-1%20%3A%201%20%7D)%20%7D%20%7D%20else%20%7B%20if%20(-1%20%3D%3D%3D%20r%20%26%26%20(t%20%3E%3D%200%20%3F%20(r%20%3D%200%2C%20this._setEndings(!0%2C%200%20%3D%3D%3D%20this.repetitions%2C%20s))%20%3A%20this._setEndings(0%20%3D%3D%3D%20this.repetitions%2C%20!0%2C%20s))%2C%20n%20%3E%3D%20e%20%7C%7C%20n%20%3C%200)%20%7B%20const%20i%20%3D%20Math.floor(n%20%2F%20e)%3B%20n%20-%3D%20e%20*%20i%2C%20r%20%2B%3D%20Math.abs(i)%3B%20const%20a%20%3D%20this.repetitions%20-%20r%3B%20if%20(a%20%3C%3D%200)%20this.clampWhenFinished%20%3F%20this.paused%20%3D%20!0%20%3A%20this.enabled%20%3D%20!1%2C%20n%20%3D%20t%20%3E%200%20%3F%20e%20%3A%200%2C%20this.time%20%3D%20n%2C%20this._mixer.dispatchEvent(%7B%20type%3A%20%22finished%22%2C%20action%3A%20this%2C%20direction%3A%20t%20%3E%200%20%3F%201%20%3A%20-1%20%7D)%3B%20else%20%7B%20if%20(1%20%3D%3D%3D%20a)%20%7B%20const%20e%20%3D%20t%20%3C%200%3B%20this._setEndings(e%2C%20!e%2C%20s)%20%7D%20else%20this._setEndings(!1%2C%20!1%2C%20s)%3B%20this._loopCount%20%3D%20r%2C%20this.time%20%3D%20n%2C%20this._mixer.dispatchEvent(%7B%20type%3A%20%22loop%22%2C%20action%3A%20this%2C%20loopDelta%3A%20i%20%7D)%20%7D%20%7D%20else%20this.time%20%3D%20n%3B%20if%20(s%20%26%26%201%20%3D%3D%20(1%20%26%20r))%20return%20e%20-%20n%20%7D%20return%20n%20%7D%20_setEndings(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20this._interpolantSettings%3B%20i%20%3F%20(n.endingStart%20%3D%20it%2C%20n.endingEnd%20%3D%20it)%20%3A%20(n.endingStart%20%3D%20t%20%3F%20this.zeroSlopeAtStart%20%3F%20it%20%3A%20et%20%3A%20nt%2C%20n.endingEnd%20%3D%20e%20%3F%20this.zeroSlopeAtEnd%20%3F%20it%20%3A%20et%20%3A%20nt)%20%7D%20_scheduleFading(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20this._mixer%2C%20r%20%3D%20n.time%3B%20let%20s%20%3D%20this._weightInterpolant%3B%20null%20%3D%3D%3D%20s%20%26%26%20(s%20%3D%20n._lendControlInterpolant()%2C%20this._weightInterpolant%20%3D%20s)%3B%20const%20a%20%3D%20s.parameterPositions%2C%20o%20%3D%20s.sampleValues%3B%20return%20a%5B0%5D%20%3D%20r%2C%20o%5B0%5D%20%3D%20e%2C%20a%5B1%5D%20%3D%20r%20%2B%20t%2C%20o%5B1%5D%20%3D%20i%2C%20this%20%7D%20%7D%20const%20ch%20%3D%20new%20Float32Array(1)%3B%20class%20hh%20%7B%20constructor(t)%20%7B%20this.value%20%3D%20t%20%7D%20clone()%20%7B%20return%20new%20hh(void%200%20%3D%3D%3D%20this.value.clone%20%3F%20this.value%20%3A%20this.value.clone())%20%7D%20%7D%20let%20uh%20%3D%200%3B%20function%20dh(t%2C%20e)%20%7B%20return%20t.distance%20-%20e.distance%20%7D%20function%20ph(t%2C%20e%2C%20i%2C%20n)%20%7B%20if%20(t.layers.test(e.layers)%20%26%26%20t.raycast(e%2C%20i)%2C%20!0%20%3D%3D%3D%20n)%20%7B%20const%20n%20%3D%20t.children%3B%20for%20(let%20t%20%3D%200%2C%20r%20%3D%20n.length%3B%20t%20%3C%20r%3B%20t%2B%2B)ph(n%5Bt%5D%2C%20e%2C%20i%2C%20!0)%20%7D%20%7D%20const%20mh%20%3D%20new%20Lt%3B%20const%20fh%20%3D%20new%20re%2C%20gh%20%3D%20new%20re%3B%20const%20vh%20%3D%20new%20re%3B%20const%20xh%20%3D%20new%20re%2C%20_h%20%3D%20new%20Ne%2C%20yh%20%3D%20new%20Ne%3B%20function%20Mh(t)%20%7B%20const%20e%20%3D%20%5B%5D%3B%20!0%20%3D%3D%3D%20t.isBone%20%26%26%20e.push(t)%3B%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20t.children.length%3B%20i%2B%2B)e.push.apply(e%2C%20Mh(t.children%5Bi%5D))%3B%20return%20e%20%7D%20const%20bh%20%3D%20new%20re%2C%20Sh%20%3D%20new%20qt%2C%20wh%20%3D%20new%20qt%3B%20const%20Th%20%3D%20new%20re%2C%20Ah%20%3D%20new%20re%2C%20Eh%20%3D%20new%20re%3B%20const%20Ch%20%3D%20new%20re%2C%20Lh%20%3D%20new%20en%3B%20function%20Rh(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%20a)%20%7B%20Ch.set(r%2C%20s%2C%20a).unproject(n)%3B%20const%20o%20%3D%20e%5Bt%5D%3B%20if%20(void%200%20!%3D%3D%20o)%20%7B%20const%20t%20%3D%20i.getAttribute(%22position%22)%3B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20o.length%3B%20e%20%3C%20i%3B%20e%2B%2B)t.setXYZ(o%5Be%5D%2C%20Ch.x%2C%20Ch.y%2C%20Ch.z)%20%7D%20%7D%20const%20Ph%20%3D%20new%20oe%3B%20const%20Ih%20%3D%20new%20re%3B%20let%20Dh%2C%20Nh%3B%20const%20Oh%20%3D%20zh()%3B%20function%20zh()%20%7B%20const%20t%20%3D%20new%20ArrayBuffer(4)%2C%20e%20%3D%20new%20Float32Array(t)%2C%20i%20%3D%20new%20Uint32Array(t)%2C%20n%20%3D%20new%20Uint32Array(512)%2C%20r%20%3D%20new%20Uint32Array(512)%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20256%3B%20%2B%2Bt)%20%7B%20const%20e%20%3D%20t%20-%20127%3B%20e%20%3C%20-27%20%3F%20(n%5Bt%5D%20%3D%200%2C%20n%5B256%20%7C%20t%5D%20%3D%2032768%2C%20r%5Bt%5D%20%3D%2024%2C%20r%5B256%20%7C%20t%5D%20%3D%2024)%20%3A%20e%20%3C%20-14%20%3F%20(n%5Bt%5D%20%3D%201024%20%3E%3E%20-e%20-%2014%2C%20n%5B256%20%7C%20t%5D%20%3D%201024%20%3E%3E%20-e%20-%2014%20%7C%2032768%2C%20r%5Bt%5D%20%3D%20-e%20-%201%2C%20r%5B256%20%7C%20t%5D%20%3D%20-e%20-%201)%20%3A%20e%20%3C%3D%2015%20%3F%20(n%5Bt%5D%20%3D%20e%20%2B%2015%20%3C%3C%2010%2C%20n%5B256%20%7C%20t%5D%20%3D%20e%20%2B%2015%20%3C%3C%2010%20%7C%2032768%2C%20r%5Bt%5D%20%3D%2013%2C%20r%5B256%20%7C%20t%5D%20%3D%2013)%20%3A%20e%20%3C%20128%20%3F%20(n%5Bt%5D%20%3D%2031744%2C%20n%5B256%20%7C%20t%5D%20%3D%2064512%2C%20r%5Bt%5D%20%3D%2024%2C%20r%5B256%20%7C%20t%5D%20%3D%2024)%20%3A%20(n%5Bt%5D%20%3D%2031744%2C%20n%5B256%20%7C%20t%5D%20%3D%2064512%2C%20r%5Bt%5D%20%3D%2013%2C%20r%5B256%20%7C%20t%5D%20%3D%2013)%20%7D%20const%20s%20%3D%20new%20Uint32Array(2048)%2C%20a%20%3D%20new%20Uint32Array(64)%2C%20o%20%3D%20new%20Uint32Array(64)%3B%20for%20(let%20t%20%3D%201%3B%20t%20%3C%201024%3B%20%2B%2Bt)%20%7B%20let%20e%20%3D%20t%20%3C%3C%2013%2C%20i%20%3D%200%3B%20for%20(%3B%200%20%3D%3D%20(8388608%20%26%20e)%3B)e%20%3C%3C%3D%201%2C%20i%20-%3D%208388608%3B%20e%20%26%3D%20-8388609%2C%20i%20%2B%3D%20947912704%2C%20s%5Bt%5D%20%3D%20e%20%7C%20i%20%7D%20for%20(let%20t%20%3D%201024%3B%20t%20%3C%202048%3B%20%2B%2Bt)s%5Bt%5D%20%3D%20939524096%20%2B%20(t%20-%201024%20%3C%3C%2013)%3B%20for%20(let%20t%20%3D%201%3B%20t%20%3C%2031%3B%20%2B%2Bt)a%5Bt%5D%20%3D%20t%20%3C%3C%2023%3B%20a%5B31%5D%20%3D%201199570944%2C%20a%5B32%5D%20%3D%202147483648%3B%20for%20(let%20t%20%3D%2033%3B%20t%20%3C%2063%3B%20%2B%2Bt)a%5Bt%5D%20%3D%202147483648%20%2B%20(t%20-%2032%20%3C%3C%2023)%3B%20a%5B63%5D%20%3D%203347054592%3B%20for%20(let%20t%20%3D%201%3B%20t%20%3C%2064%3B%20%2B%2Bt)32%20!%3D%3D%20t%20%26%26%20(o%5Bt%5D%20%3D%201024)%3B%20return%20%7B%20floatView%3A%20e%2C%20uint32View%3A%20i%2C%20baseTable%3A%20n%2C%20shiftTable%3A%20r%2C%20mantissaTable%3A%20s%2C%20exponentTable%3A%20a%2C%20offsetTable%3A%20o%20%7D%20%7D%20var%20Uh%20%3D%20Object.freeze(%7B%20__proto__%3A%20null%2C%20toHalfFloat%3A%20function%20(t)%20%7B%20Math.abs(t)%20%3E%2065504%20%26%26%20console.warn(%22THREE.DataUtils.toHalfFloat()%3A%20Value%20out%20of%20range.%22)%2C%20t%20%3D%20yt(t%2C%20-65504%2C%2065504)%2C%20Oh.floatView%5B0%5D%20%3D%20t%3B%20const%20e%20%3D%20Oh.uint32View%5B0%5D%2C%20i%20%3D%20e%20%3E%3E%2023%20%26%20511%3B%20return%20Oh.baseTable%5Bi%5D%20%2B%20((8388607%20%26%20e)%20%3E%3E%20Oh.shiftTable%5Bi%5D)%20%7D%2C%20fromHalfFloat%3A%20function%20(t)%20%7B%20const%20e%20%3D%20t%20%3E%3E%2010%3B%20return%20Oh.uint32View%5B0%5D%20%3D%20Oh.mantissaTable%5BOh.offsetTable%5Be%5D%20%2B%20(1023%20%26%20t)%5D%20%2B%20Oh.exponentTable%5Be%5D%2C%20Oh.floatView%5B0%5D%20%7D%20%7D)%3B%20%22undefined%22%20!%3D%20typeof%20__THREE_DEVTOOLS__%20%26%26%20__THREE_DEVTOOLS__.dispatchEvent(new%20CustomEvent(%22register%22%2C%20%7B%20detail%3A%20%7B%20revision%3A%20e%20%7D%20%7D))%2C%20%22undefined%22%20!%3D%20typeof%20window%20%26%26%20(window.__THREE__%20%3F%20console.warn(%22WARNING%3A%20Multiple%20instances%20of%20Three.js%20being%20imported.%22)%20%3A%20window.__THREE__%20%3D%20e)%2C%20t.ACESFilmicToneMapping%20%3D%204%2C%20t.AddEquation%20%3D%20i%2C%20t.AddOperation%20%3D%202%2C%20t.AdditiveAnimationBlendMode%20%3D%20st%2C%20t.AdditiveBlending%20%3D%202%2C%20t.AlphaFormat%20%3D%201021%2C%20t.AlwaysDepth%20%3D%201%2C%20t.AlwaysStencilFunc%20%3D%20519%2C%20t.AmbientLight%20%3D%20Ec%2C%20t.AmbientLightProbe%20%3D%20class%20extends%20Rc%20%7B%20constructor(t%2C%20e%20%3D%201)%20%7B%20super(void%200%2C%20e)%2C%20this.isAmbientLightProbe%20%3D%20!0%3B%20const%20i%20%3D%20(new%20qt).set(t)%3B%20this.sh.coefficients%5B0%5D.set(i.r%2C%20i.g%2C%20i.b).multiplyScalar(2%20*%20Math.sqrt(Math.PI))%20%7D%20%7D%2C%20t.AnimationClip%20%3D%20ic%2C%20t.AnimationLoader%20%3D%20class%20extends%20oc%20%7B%20constructor(t)%20%7B%20super(t)%20%7D%20load(t%2C%20e%2C%20i%2C%20n)%20%7B%20const%20r%20%3D%20this%2C%20s%20%3D%20new%20hc(this.manager)%3B%20s.setPath(this.path)%2C%20s.setRequestHeader(this.requestHeader)%2C%20s.setWithCredentials(this.withCredentials)%2C%20s.load(t%2C%20(function%20(i)%20%7B%20try%20%7B%20e(r.parse(JSON.parse(i)))%20%7D%20catch%20(e)%20%7B%20n%20%3F%20n(e)%20%3A%20console.error(e)%2C%20r.manager.itemError(t)%20%7D%20%7D)%2C%20i%2C%20n)%20%7D%20parse(t)%20%7B%20const%20e%20%3D%20%5B%5D%3B%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20t.length%3B%20i%2B%2B)%20%7B%20const%20n%20%3D%20ic.parse(t%5Bi%5D)%3B%20e.push(n)%20%7D%20return%20e%20%7D%20%7D%2C%20t.AnimationMixer%20%3D%20class%20extends%20mt%20%7B%20constructor(t)%20%7B%20super()%2C%20this._root%20%3D%20t%2C%20this._initMemoryManager()%2C%20this._accuIndex%20%3D%200%2C%20this.time%20%3D%200%2C%20this.timeScale%20%3D%201%20%7D%20_bindAction(t%2C%20e)%20%7B%20const%20i%20%3D%20t._localRoot%20%7C%7C%20this._root%2C%20n%20%3D%20t._clip.tracks%2C%20r%20%3D%20n.length%2C%20s%20%3D%20t._propertyBindings%2C%20a%20%3D%20t._interpolants%2C%20o%20%3D%20i.uuid%2C%20l%20%3D%20this._bindingsByRootAndName%3B%20let%20c%20%3D%20l%5Bo%5D%3B%20void%200%20%3D%3D%3D%20c%20%26%26%20(c%20%3D%20%7B%7D%2C%20l%5Bo%5D%20%3D%20c)%3B%20for%20(let%20t%20%3D%200%3B%20t%20!%3D%3D%20r%3B%20%2B%2Bt)%20%7B%20const%20r%20%3D%20n%5Bt%5D%2C%20l%20%3D%20r.name%3B%20let%20h%20%3D%20c%5Bl%5D%3B%20if%20(void%200%20!%3D%3D%20h)%20%2B%2Bh.referenceCount%2C%20s%5Bt%5D%20%3D%20h%3B%20else%20%7B%20if%20(h%20%3D%20s%5Bt%5D%2C%20void%200%20!%3D%3D%20h)%20%7B%20null%20%3D%3D%3D%20h._cacheIndex%20%26%26%20(%2B%2Bh.referenceCount%2C%20this._addInactiveBinding(h%2C%20o%2C%20l))%3B%20continue%20%7D%20const%20n%20%3D%20e%20%26%26%20e._propertyBindings%5Bt%5D.binding.parsedPath%3B%20h%20%3D%20new%20th(oh.create(i%2C%20l%2C%20n)%2C%20r.ValueTypeName%2C%20r.getValueSize())%2C%20%2B%2Bh.referenceCount%2C%20this._addInactiveBinding(h%2C%20o%2C%20l)%2C%20s%5Bt%5D%20%3D%20h%20%7D%20a%5Bt%5D.resultBuffer%20%3D%20h.buffer%20%7D%20%7D%20_activateAction(t)%20%7B%20if%20(!this._isActiveAction(t))%20%7B%20if%20(null%20%3D%3D%3D%20t._cacheIndex)%20%7B%20const%20e%20%3D%20(t._localRoot%20%7C%7C%20this._root).uuid%2C%20i%20%3D%20t._clip.uuid%2C%20n%20%3D%20this._actionsByClip%5Bi%5D%3B%20this._bindAction(t%2C%20n%20%26%26%20n.knownActions%5B0%5D)%2C%20this._addInactiveAction(t%2C%20i%2C%20e)%20%7D%20const%20e%20%3D%20t._propertyBindings%3B%20for%20(let%20t%20%3D%200%2C%20i%20%3D%20e.length%3B%20t%20!%3D%3D%20i%3B%20%2B%2Bt)%20%7B%20const%20i%20%3D%20e%5Bt%5D%3B%200%20%3D%3D%20i.useCount%2B%2B%20%26%26%20(this._lendBinding(i)%2C%20i.saveOriginalState())%20%7D%20this._lendAction(t)%20%7D%20%7D%20_deactivateAction(t)%20%7B%20if%20(this._isActiveAction(t))%20%7B%20const%20e%20%3D%20t._propertyBindings%3B%20for%20(let%20t%20%3D%200%2C%20i%20%3D%20e.length%3B%20t%20!%3D%3D%20i%3B%20%2B%2Bt)%20%7B%20const%20i%20%3D%20e%5Bt%5D%3B%200%20%3D%3D%20--i.useCount%20%26%26%20(i.restoreOriginalState()%2C%20this._takeBackBinding(i))%20%7D%20this._takeBackAction(t)%20%7D%20%7D%20_initMemoryManager()%20%7B%20this._actions%20%3D%20%5B%5D%2C%20this._nActiveActions%20%3D%200%2C%20this._actionsByClip%20%3D%20%7B%7D%2C%20this._bindings%20%3D%20%5B%5D%2C%20this._nActiveBindings%20%3D%200%2C%20this._bindingsByRootAndName%20%3D%20%7B%7D%2C%20this._controlInterpolants%20%3D%20%5B%5D%2C%20this._nActiveControlInterpolants%20%3D%200%3B%20const%20t%20%3D%20this%3B%20this.stats%20%3D%20%7B%20actions%3A%20%7B%20get%20total()%20%7B%20return%20t._actions.length%20%7D%2C%20get%20inUse()%20%7B%20return%20t._nActiveActions%20%7D%20%7D%2C%20bindings%3A%20%7B%20get%20total()%20%7B%20return%20t._bindings.length%20%7D%2C%20get%20inUse()%20%7B%20return%20t._nActiveBindings%20%7D%20%7D%2C%20controlInterpolants%3A%20%7B%20get%20total()%20%7B%20return%20t._controlInterpolants.length%20%7D%2C%20get%20inUse()%20%7B%20return%20t._nActiveControlInterpolants%20%7D%20%7D%20%7D%20%7D%20_isActiveAction(t)%20%7B%20const%20e%20%3D%20t._cacheIndex%3B%20return%20null%20!%3D%3D%20e%20%26%26%20e%20%3C%20this._nActiveActions%20%7D%20_addInactiveAction(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20this._actions%2C%20r%20%3D%20this._actionsByClip%3B%20let%20s%20%3D%20r%5Be%5D%3B%20if%20(void%200%20%3D%3D%3D%20s)%20s%20%3D%20%7B%20knownActions%3A%20%5Bt%5D%2C%20actionByRoot%3A%20%7B%7D%20%7D%2C%20t._byClipCacheIndex%20%3D%200%2C%20r%5Be%5D%20%3D%20s%3B%20else%20%7B%20const%20e%20%3D%20s.knownActions%3B%20t._byClipCacheIndex%20%3D%20e.length%2C%20e.push(t)%20%7D%20t._cacheIndex%20%3D%20n.length%2C%20n.push(t)%2C%20s.actionByRoot%5Bi%5D%20%3D%20t%20%7D%20_removeInactiveAction(t)%20%7B%20const%20e%20%3D%20this._actions%2C%20i%20%3D%20e%5Be.length%20-%201%5D%2C%20n%20%3D%20t._cacheIndex%3B%20i._cacheIndex%20%3D%20n%2C%20e%5Bn%5D%20%3D%20i%2C%20e.pop()%2C%20t._cacheIndex%20%3D%20null%3B%20const%20r%20%3D%20t._clip.uuid%2C%20s%20%3D%20this._actionsByClip%2C%20a%20%3D%20s%5Br%5D%2C%20o%20%3D%20a.knownActions%2C%20l%20%3D%20o%5Bo.length%20-%201%5D%2C%20c%20%3D%20t._byClipCacheIndex%3B%20l._byClipCacheIndex%20%3D%20c%2C%20o%5Bc%5D%20%3D%20l%2C%20o.pop()%2C%20t._byClipCacheIndex%20%3D%20null%3B%20delete%20a.actionByRoot%5B(t._localRoot%20%7C%7C%20this._root).uuid%5D%2C%200%20%3D%3D%3D%20o.length%20%26%26%20delete%20s%5Br%5D%2C%20this._removeInactiveBindingsForAction(t)%20%7D%20_removeInactiveBindingsForAction(t)%20%7B%20const%20e%20%3D%20t._propertyBindings%3B%20for%20(let%20t%20%3D%200%2C%20i%20%3D%20e.length%3B%20t%20!%3D%3D%20i%3B%20%2B%2Bt)%20%7B%20const%20i%20%3D%20e%5Bt%5D%3B%200%20%3D%3D%20--i.referenceCount%20%26%26%20this._removeInactiveBinding(i)%20%7D%20%7D%20_lendAction(t)%20%7B%20const%20e%20%3D%20this._actions%2C%20i%20%3D%20t._cacheIndex%2C%20n%20%3D%20this._nActiveActions%2B%2B%2C%20r%20%3D%20e%5Bn%5D%3B%20t._cacheIndex%20%3D%20n%2C%20e%5Bn%5D%20%3D%20t%2C%20r._cacheIndex%20%3D%20i%2C%20e%5Bi%5D%20%3D%20r%20%7D%20_takeBackAction(t)%20%7B%20const%20e%20%3D%20this._actions%2C%20i%20%3D%20t._cacheIndex%2C%20n%20%3D%20--this._nActiveActions%2C%20r%20%3D%20e%5Bn%5D%3B%20t._cacheIndex%20%3D%20n%2C%20e%5Bn%5D%20%3D%20t%2C%20r._cacheIndex%20%3D%20i%2C%20e%5Bi%5D%20%3D%20r%20%7D%20_addInactiveBinding(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20this._bindingsByRootAndName%2C%20r%20%3D%20this._bindings%3B%20let%20s%20%3D%20n%5Be%5D%3B%20void%200%20%3D%3D%3D%20s%20%26%26%20(s%20%3D%20%7B%7D%2C%20n%5Be%5D%20%3D%20s)%2C%20s%5Bi%5D%20%3D%20t%2C%20t._cacheIndex%20%3D%20r.length%2C%20r.push(t)%20%7D%20_removeInactiveBinding(t)%20%7B%20const%20e%20%3D%20this._bindings%2C%20i%20%3D%20t.binding%2C%20n%20%3D%20i.rootNode.uuid%2C%20r%20%3D%20i.path%2C%20s%20%3D%20this._bindingsByRootAndName%2C%20a%20%3D%20s%5Bn%5D%2C%20o%20%3D%20e%5Be.length%20-%201%5D%2C%20l%20%3D%20t._cacheIndex%3B%20o._cacheIndex%20%3D%20l%2C%20e%5Bl%5D%20%3D%20o%2C%20e.pop()%2C%20delete%20a%5Br%5D%2C%200%20%3D%3D%3D%20Object.keys(a).length%20%26%26%20delete%20s%5Bn%5D%20%7D%20_lendBinding(t)%20%7B%20const%20e%20%3D%20this._bindings%2C%20i%20%3D%20t._cacheIndex%2C%20n%20%3D%20this._nActiveBindings%2B%2B%2C%20r%20%3D%20e%5Bn%5D%3B%20t._cacheIndex%20%3D%20n%2C%20e%5Bn%5D%20%3D%20t%2C%20r._cacheIndex%20%3D%20i%2C%20e%5Bi%5D%20%3D%20r%20%7D%20_takeBackBinding(t)%20%7B%20const%20e%20%3D%20this._bindings%2C%20i%20%3D%20t._cacheIndex%2C%20n%20%3D%20--this._nActiveBindings%2C%20r%20%3D%20e%5Bn%5D%3B%20t._cacheIndex%20%3D%20n%2C%20e%5Bn%5D%20%3D%20t%2C%20r._cacheIndex%20%3D%20i%2C%20e%5Bi%5D%20%3D%20r%20%7D%20_lendControlInterpolant()%20%7B%20const%20t%20%3D%20this._controlInterpolants%2C%20e%20%3D%20this._nActiveControlInterpolants%2B%2B%3B%20let%20i%20%3D%20t%5Be%5D%3B%20return%20void%200%20%3D%3D%3D%20i%20%26%26%20(i%20%3D%20new%20ql(new%20Float32Array(2)%2C%20new%20Float32Array(2)%2C%201%2C%20ch)%2C%20i.__cacheIndex%20%3D%20e%2C%20t%5Be%5D%20%3D%20i)%2C%20i%20%7D%20_takeBackControlInterpolant(t)%20%7B%20const%20e%20%3D%20this._controlInterpolants%2C%20i%20%3D%20t.__cacheIndex%2C%20n%20%3D%20--this._nActiveControlInterpolants%2C%20r%20%3D%20e%5Bn%5D%3B%20t.__cacheIndex%20%3D%20n%2C%20e%5Bn%5D%20%3D%20t%2C%20r.__cacheIndex%20%3D%20i%2C%20e%5Bi%5D%20%3D%20r%20%7D%20clipAction(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20e%20%7C%7C%20this._root%2C%20r%20%3D%20n.uuid%3B%20let%20s%20%3D%20%22string%22%20%3D%3D%20typeof%20t%20%3F%20ic.findByName(n%2C%20t)%20%3A%20t%3B%20const%20a%20%3D%20null%20!%3D%3D%20s%20%3F%20s.uuid%20%3A%20t%2C%20o%20%3D%20this._actionsByClip%5Ba%5D%3B%20let%20l%20%3D%20null%3B%20if%20(void%200%20%3D%3D%3D%20i%20%26%26%20(i%20%3D%20null%20!%3D%3D%20s%20%3F%20s.blendMode%20%3A%20rt)%2C%20void%200%20!%3D%3D%20o)%20%7B%20const%20t%20%3D%20o.actionByRoot%5Br%5D%3B%20if%20(void%200%20!%3D%3D%20t%20%26%26%20t.blendMode%20%3D%3D%3D%20i)%20return%20t%3B%20l%20%3D%20o.knownActions%5B0%5D%2C%20null%20%3D%3D%3D%20s%20%26%26%20(s%20%3D%20l._clip)%20%7D%20if%20(null%20%3D%3D%3D%20s)%20return%20null%3B%20const%20c%20%3D%20new%20lh(this%2C%20s%2C%20e%2C%20i)%3B%20return%20this._bindAction(c%2C%20l)%2C%20this._addInactiveAction(c%2C%20a%2C%20r)%2C%20c%20%7D%20existingAction(t%2C%20e)%20%7B%20const%20i%20%3D%20e%20%7C%7C%20this._root%2C%20n%20%3D%20i.uuid%2C%20r%20%3D%20%22string%22%20%3D%3D%20typeof%20t%20%3F%20ic.findByName(i%2C%20t)%20%3A%20t%2C%20s%20%3D%20r%20%3F%20r.uuid%20%3A%20t%2C%20a%20%3D%20this._actionsByClip%5Bs%5D%3B%20return%20void%200%20!%3D%3D%20a%20%26%26%20a.actionByRoot%5Bn%5D%20%7C%7C%20null%20%7D%20stopAllAction()%20%7B%20const%20t%20%3D%20this._actions%3B%20for%20(let%20e%20%3D%20this._nActiveActions%20-%201%3B%20e%20%3E%3D%200%3B%20--e)t%5Be%5D.stop()%3B%20return%20this%20%7D%20update(t)%20%7B%20t%20*%3D%20this.timeScale%3B%20const%20e%20%3D%20this._actions%2C%20i%20%3D%20this._nActiveActions%2C%20n%20%3D%20this.time%20%2B%3D%20t%2C%20r%20%3D%20Math.sign(t)%2C%20s%20%3D%20this._accuIndex%20%5E%3D%201%3B%20for%20(let%20a%20%3D%200%3B%20a%20!%3D%3D%20i%3B%20%2B%2Ba)%20%7B%20e%5Ba%5D._update(n%2C%20t%2C%20r%2C%20s)%20%7D%20const%20a%20%3D%20this._bindings%2C%20o%20%3D%20this._nActiveBindings%3B%20for%20(let%20t%20%3D%200%3B%20t%20!%3D%3D%20o%3B%20%2B%2Bt)a%5Bt%5D.apply(s)%3B%20return%20this%20%7D%20setTime(t)%20%7B%20this.time%20%3D%200%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20this._actions.length%3B%20t%2B%2B)this._actions%5Bt%5D.time%20%3D%200%3B%20return%20this.update(t)%20%7D%20getRoot()%20%7B%20return%20this._root%20%7D%20uncacheClip(t)%20%7B%20const%20e%20%3D%20this._actions%2C%20i%20%3D%20t.uuid%2C%20n%20%3D%20this._actionsByClip%2C%20r%20%3D%20n%5Bi%5D%3B%20if%20(void%200%20!%3D%3D%20r)%20%7B%20const%20t%20%3D%20r.knownActions%3B%20for%20(let%20i%20%3D%200%2C%20n%20%3D%20t.length%3B%20i%20!%3D%3D%20n%3B%20%2B%2Bi)%20%7B%20const%20n%20%3D%20t%5Bi%5D%3B%20this._deactivateAction(n)%3B%20const%20r%20%3D%20n._cacheIndex%2C%20s%20%3D%20e%5Be.length%20-%201%5D%3B%20n._cacheIndex%20%3D%20null%2C%20n._byClipCacheIndex%20%3D%20null%2C%20s._cacheIndex%20%3D%20r%2C%20e%5Br%5D%20%3D%20s%2C%20e.pop()%2C%20this._removeInactiveBindingsForAction(n)%20%7D%20delete%20n%5Bi%5D%20%7D%20%7D%20uncacheRoot(t)%20%7B%20const%20e%20%3D%20t.uuid%2C%20i%20%3D%20this._actionsByClip%3B%20for%20(const%20t%20in%20i)%20%7B%20const%20n%20%3D%20i%5Bt%5D.actionByRoot%5Be%5D%3B%20void%200%20!%3D%3D%20n%20%26%26%20(this._deactivateAction(n)%2C%20this._removeInactiveAction(n))%20%7D%20const%20n%20%3D%20this._bindingsByRootAndName%5Be%5D%3B%20if%20(void%200%20!%3D%3D%20n)%20for%20(const%20t%20in%20n)%20%7B%20const%20e%20%3D%20n%5Bt%5D%3B%20e.restoreOriginalState()%2C%20this._removeInactiveBinding(e)%20%7D%20%7D%20uncacheAction(t%2C%20e)%20%7B%20const%20i%20%3D%20this.existingAction(t%2C%20e)%3B%20null%20!%3D%3D%20i%20%26%26%20(this._deactivateAction(i)%2C%20this._removeInactiveAction(i))%20%7D%20%7D%2C%20t.AnimationObjectGroup%20%3D%20class%20%7B%20constructor()%20%7B%20this.isAnimationObjectGroup%20%3D%20!0%2C%20this.uuid%20%3D%20_t()%2C%20this._objects%20%3D%20Array.prototype.slice.call(arguments)%2C%20this.nCachedObjects_%20%3D%200%3B%20const%20t%20%3D%20%7B%7D%3B%20this._indicesByUUID%20%3D%20t%3B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20arguments.length%3B%20e%20!%3D%3D%20i%3B%20%2B%2Be)t%5Barguments%5Be%5D.uuid%5D%20%3D%20e%3B%20this._paths%20%3D%20%5B%5D%2C%20this._parsedPaths%20%3D%20%5B%5D%2C%20this._bindings%20%3D%20%5B%5D%2C%20this._bindingsIndicesByPath%20%3D%20%7B%7D%3B%20const%20e%20%3D%20this%3B%20this.stats%20%3D%20%7B%20objects%3A%20%7B%20get%20total()%20%7B%20return%20e._objects.length%20%7D%2C%20get%20inUse()%20%7B%20return%20this.total%20-%20e.nCachedObjects_%20%7D%20%7D%2C%20get%20bindingsPerObject()%20%7B%20return%20e._bindings.length%20%7D%20%7D%20%7D%20add()%20%7B%20const%20t%20%3D%20this._objects%2C%20e%20%3D%20this._indicesByUUID%2C%20i%20%3D%20this._paths%2C%20n%20%3D%20this._parsedPaths%2C%20r%20%3D%20this._bindings%2C%20s%20%3D%20r.length%3B%20let%20a%2C%20o%20%3D%20t.length%2C%20l%20%3D%20this.nCachedObjects_%3B%20for%20(let%20c%20%3D%200%2C%20h%20%3D%20arguments.length%3B%20c%20!%3D%3D%20h%3B%20%2B%2Bc)%20%7B%20const%20h%20%3D%20arguments%5Bc%5D%2C%20u%20%3D%20h.uuid%3B%20let%20d%20%3D%20e%5Bu%5D%3B%20if%20(void%200%20%3D%3D%3D%20d)%20%7B%20d%20%3D%20o%2B%2B%2C%20e%5Bu%5D%20%3D%20d%2C%20t.push(h)%3B%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20s%3B%20t%20!%3D%3D%20e%3B%20%2B%2Bt)r%5Bt%5D.push(new%20oh(h%2C%20i%5Bt%5D%2C%20n%5Bt%5D))%20%7D%20else%20if%20(d%20%3C%20l)%20%7B%20a%20%3D%20t%5Bd%5D%3B%20const%20o%20%3D%20--l%2C%20c%20%3D%20t%5Bo%5D%3B%20e%5Bc.uuid%5D%20%3D%20d%2C%20t%5Bd%5D%20%3D%20c%2C%20e%5Bu%5D%20%3D%20o%2C%20t%5Bo%5D%20%3D%20h%3B%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20s%3B%20t%20!%3D%3D%20e%3B%20%2B%2Bt)%20%7B%20const%20e%20%3D%20r%5Bt%5D%2C%20s%20%3D%20e%5Bo%5D%3B%20let%20a%20%3D%20e%5Bd%5D%3B%20e%5Bd%5D%20%3D%20s%2C%20void%200%20%3D%3D%3D%20a%20%26%26%20(a%20%3D%20new%20oh(h%2C%20i%5Bt%5D%2C%20n%5Bt%5D))%2C%20e%5Bo%5D%20%3D%20a%20%7D%20%7D%20else%20t%5Bd%5D%20!%3D%3D%20a%20%26%26%20console.error(%22THREE.AnimationObjectGroup%3A%20Different%20objects%20with%20the%20same%20UUID%20detected.%20Clean%20the%20caches%20or%20recreate%20your%20infrastructure%20when%20reloading%20scenes.%22)%20%7D%20this.nCachedObjects_%20%3D%20l%20%7D%20remove()%20%7B%20const%20t%20%3D%20this._objects%2C%20e%20%3D%20this._indicesByUUID%2C%20i%20%3D%20this._bindings%2C%20n%20%3D%20i.length%3B%20let%20r%20%3D%20this.nCachedObjects_%3B%20for%20(let%20s%20%3D%200%2C%20a%20%3D%20arguments.length%3B%20s%20!%3D%3D%20a%3B%20%2B%2Bs)%20%7B%20const%20a%20%3D%20arguments%5Bs%5D%2C%20o%20%3D%20a.uuid%2C%20l%20%3D%20e%5Bo%5D%3B%20if%20(void%200%20!%3D%3D%20l%20%26%26%20l%20%3E%3D%20r)%20%7B%20const%20s%20%3D%20r%2B%2B%2C%20c%20%3D%20t%5Bs%5D%3B%20e%5Bc.uuid%5D%20%3D%20l%2C%20t%5Bl%5D%20%3D%20c%2C%20e%5Bo%5D%20%3D%20s%2C%20t%5Bs%5D%20%3D%20a%3B%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20n%3B%20t%20!%3D%3D%20e%3B%20%2B%2Bt)%20%7B%20const%20e%20%3D%20i%5Bt%5D%2C%20n%20%3D%20e%5Bs%5D%2C%20r%20%3D%20e%5Bl%5D%3B%20e%5Bl%5D%20%3D%20n%2C%20e%5Bs%5D%20%3D%20r%20%7D%20%7D%20%7D%20this.nCachedObjects_%20%3D%20r%20%7D%20uncache()%20%7B%20const%20t%20%3D%20this._objects%2C%20e%20%3D%20this._indicesByUUID%2C%20i%20%3D%20this._bindings%2C%20n%20%3D%20i.length%3B%20let%20r%20%3D%20this.nCachedObjects_%2C%20s%20%3D%20t.length%3B%20for%20(let%20a%20%3D%200%2C%20o%20%3D%20arguments.length%3B%20a%20!%3D%3D%20o%3B%20%2B%2Ba)%20%7B%20const%20o%20%3D%20arguments%5Ba%5D.uuid%2C%20l%20%3D%20e%5Bo%5D%3B%20if%20(void%200%20!%3D%3D%20l)%20if%20(delete%20e%5Bo%5D%2C%20l%20%3C%20r)%20%7B%20const%20a%20%3D%20--r%2C%20o%20%3D%20t%5Ba%5D%2C%20c%20%3D%20--s%2C%20h%20%3D%20t%5Bc%5D%3B%20e%5Bo.uuid%5D%20%3D%20l%2C%20t%5Bl%5D%20%3D%20o%2C%20e%5Bh.uuid%5D%20%3D%20a%2C%20t%5Ba%5D%20%3D%20h%2C%20t.pop()%3B%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20n%3B%20t%20!%3D%3D%20e%3B%20%2B%2Bt)%20%7B%20const%20e%20%3D%20i%5Bt%5D%2C%20n%20%3D%20e%5Ba%5D%2C%20r%20%3D%20e%5Bc%5D%3B%20e%5Bl%5D%20%3D%20n%2C%20e%5Ba%5D%20%3D%20r%2C%20e.pop()%20%7D%20%7D%20else%20%7B%20const%20r%20%3D%20--s%2C%20a%20%3D%20t%5Br%5D%3B%20r%20%3E%200%20%26%26%20(e%5Ba.uuid%5D%20%3D%20l)%2C%20t%5Bl%5D%20%3D%20a%2C%20t.pop()%3B%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20n%3B%20t%20!%3D%3D%20e%3B%20%2B%2Bt)%20%7B%20const%20e%20%3D%20i%5Bt%5D%3B%20e%5Bl%5D%20%3D%20e%5Br%5D%2C%20e.pop()%20%7D%20%7D%20%7D%20this.nCachedObjects_%20%3D%20r%20%7D%20subscribe_(t%2C%20e)%20%7B%20const%20i%20%3D%20this._bindingsIndicesByPath%3B%20let%20n%20%3D%20i%5Bt%5D%3B%20const%20r%20%3D%20this._bindings%3B%20if%20(void%200%20!%3D%3D%20n)%20return%20r%5Bn%5D%3B%20const%20s%20%3D%20this._paths%2C%20a%20%3D%20this._parsedPaths%2C%20o%20%3D%20this._objects%2C%20l%20%3D%20o.length%2C%20c%20%3D%20this.nCachedObjects_%2C%20h%20%3D%20new%20Array(l)%3B%20n%20%3D%20r.length%2C%20i%5Bt%5D%20%3D%20n%2C%20s.push(t)%2C%20a.push(e)%2C%20r.push(h)%3B%20for%20(let%20i%20%3D%20c%2C%20n%20%3D%20o.length%3B%20i%20!%3D%3D%20n%3B%20%2B%2Bi)%20%7B%20const%20n%20%3D%20o%5Bi%5D%3B%20h%5Bi%5D%20%3D%20new%20oh(n%2C%20t%2C%20e)%20%7D%20return%20h%20%7D%20unsubscribe_(t)%20%7B%20const%20e%20%3D%20this._bindingsIndicesByPath%2C%20i%20%3D%20e%5Bt%5D%3B%20if%20(void%200%20!%3D%3D%20i)%20%7B%20const%20n%20%3D%20this._paths%2C%20r%20%3D%20this._parsedPaths%2C%20s%20%3D%20this._bindings%2C%20a%20%3D%20s.length%20-%201%2C%20o%20%3D%20s%5Ba%5D%3B%20e%5Bt%5Ba%5D%5D%20%3D%20i%2C%20s%5Bi%5D%20%3D%20o%2C%20s.pop()%2C%20r%5Bi%5D%20%3D%20r%5Ba%5D%2C%20r.pop()%2C%20n%5Bi%5D%20%3D%20n%5Ba%5D%2C%20n.pop()%20%7D%20%7D%20%7D%2C%20t.AnimationUtils%20%3D%20Hl%2C%20t.ArcCurve%20%3D%20so%2C%20t.ArrayCamera%20%3D%20Fs%2C%20t.ArrowHelper%20%3D%20class%20extends%20si%20%7B%20constructor(t%20%3D%20new%20re(0%2C%200%2C%201)%2C%20e%20%3D%20new%20re(0%2C%200%2C%200)%2C%20i%20%3D%201%2C%20n%20%3D%2016776960%2C%20r%20%3D%20.2%20*%20i%2C%20s%20%3D%20.2%20*%20r)%20%7B%20super()%2C%20this.type%20%3D%20%22ArrowHelper%22%2C%20void%200%20%3D%3D%3D%20Dh%20%26%26%20(Dh%20%3D%20new%20Di%2C%20Dh.setAttribute(%22position%22%2C%20new%20Ti(%5B0%2C%200%2C%200%2C%200%2C%201%2C%200%5D%2C%203))%2C%20Nh%20%3D%20new%20Lo(0%2C%20.5%2C%201%2C%205%2C%201)%2C%20Nh.translate(0%2C%20-.5%2C%200))%2C%20this.position.copy(e)%2C%20this.line%20%3D%20new%20Wa(Dh%2C%20new%20Ba(%7B%20color%3A%20n%2C%20toneMapped%3A%20!1%20%7D))%2C%20this.line.matrixAutoUpdate%20%3D%20!1%2C%20this.add(this.line)%2C%20this.cone%20%3D%20new%20Xi(Nh%2C%20new%20_i(%7B%20color%3A%20n%2C%20toneMapped%3A%20!1%20%7D))%2C%20this.cone.matrixAutoUpdate%20%3D%20!1%2C%20this.add(this.cone)%2C%20this.setDirection(t)%2C%20this.setLength(i%2C%20r%2C%20s)%20%7D%20setDirection(t)%20%7B%20if%20(t.y%20%3E%20.99999)%20this.quaternion.set(0%2C%200%2C%200%2C%201)%3B%20else%20if%20(t.y%20%3C%20-.99999)%20this.quaternion.set(1%2C%200%2C%200%2C%200)%3B%20else%20%7B%20Ih.set(t.z%2C%200%2C%20-t.x).normalize()%3B%20const%20e%20%3D%20Math.acos(t.y)%3B%20this.quaternion.setFromAxisAngle(Ih%2C%20e)%20%7D%20%7D%20setLength(t%2C%20e%20%3D%20.2%20*%20t%2C%20i%20%3D%20.2%20*%20e)%20%7B%20this.line.scale.set(1%2C%20Math.max(1e-4%2C%20t%20-%20e)%2C%201)%2C%20this.line.updateMatrix()%2C%20this.cone.scale.set(i%2C%20e%2C%20i)%2C%20this.cone.position.y%20%3D%20t%2C%20this.cone.updateMatrix()%20%7D%20setColor(t)%20%7B%20this.line.material.color.set(t)%2C%20this.cone.material.color.set(t)%20%7D%20copy(t)%20%7B%20return%20super.copy(t%2C%20!1)%2C%20this.line.copy(t.line)%2C%20this.cone.copy(t.cone)%2C%20this%20%7D%20dispose()%20%7B%20this.line.geometry.dispose()%2C%20this.line.material.dispose()%2C%20this.cone.geometry.dispose()%2C%20this.cone.material.dispose()%20%7D%20%7D%2C%20t.Audio%20%3D%20Zc%2C%20t.AudioAnalyser%20%3D%20class%20%7B%20constructor(t%2C%20e%20%3D%202048)%20%7B%20this.analyser%20%3D%20t.context.createAnalyser()%2C%20this.analyser.fftSize%20%3D%20e%2C%20this.data%20%3D%20new%20Uint8Array(this.analyser.frequencyBinCount)%2C%20t.getOutput().connect(this.analyser)%20%7D%20getFrequencyData()%20%7B%20return%20this.analyser.getByteFrequencyData(this.data)%2C%20this.data%20%7D%20getAverageFrequency()%20%7B%20let%20t%20%3D%200%3B%20const%20e%20%3D%20this.getFrequencyData()%3B%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20e.length%3B%20i%2B%2B)t%20%2B%3D%20e%5Bi%5D%3B%20return%20t%20%2F%20e.length%20%7D%20%7D%2C%20t.AudioContext%20%3D%20Fc%2C%20t.AudioListener%20%3D%20class%20extends%20si%20%7B%20constructor()%20%7B%20super()%2C%20this.type%20%3D%20%22AudioListener%22%2C%20this.context%20%3D%20Fc.getContext()%2C%20this.gain%20%3D%20this.context.createGain()%2C%20this.gain.connect(this.context.destination)%2C%20this.filter%20%3D%20null%2C%20this.timeDelta%20%3D%200%2C%20this._clock%20%3D%20new%20Hc%20%7D%20getInput()%20%7B%20return%20this.gain%20%7D%20removeFilter()%20%7B%20return%20null%20!%3D%3D%20this.filter%20%26%26%20(this.gain.disconnect(this.filter)%2C%20this.filter.disconnect(this.context.destination)%2C%20this.gain.connect(this.context.destination)%2C%20this.filter%20%3D%20null)%2C%20this%20%7D%20getFilter()%20%7B%20return%20this.filter%20%7D%20setFilter(t)%20%7B%20return%20null%20!%3D%3D%20this.filter%20%3F%20(this.gain.disconnect(this.filter)%2C%20this.filter.disconnect(this.context.destination))%20%3A%20this.gain.disconnect(this.context.destination)%2C%20this.filter%20%3D%20t%2C%20this.gain.connect(this.filter)%2C%20this.filter.connect(this.context.destination)%2C%20this%20%7D%20getMasterVolume()%20%7B%20return%20this.gain.gain.value%20%7D%20setMasterVolume(t)%20%7B%20return%20this.gain.gain.setTargetAtTime(t%2C%20this.context.currentTime%2C%20.01)%2C%20this%20%7D%20updateMatrixWorld(t)%20%7B%20super.updateMatrixWorld(t)%3B%20const%20e%20%3D%20this.context.listener%2C%20i%20%3D%20this.up%3B%20if%20(this.timeDelta%20%3D%20this._clock.getDelta()%2C%20this.matrixWorld.decompose(jc%2C%20qc%2C%20Xc)%2C%20Yc.set(0%2C%200%2C%20-1).applyQuaternion(qc)%2C%20e.positionX)%20%7B%20const%20t%20%3D%20this.context.currentTime%20%2B%20this.timeDelta%3B%20e.positionX.linearRampToValueAtTime(jc.x%2C%20t)%2C%20e.positionY.linearRampToValueAtTime(jc.y%2C%20t)%2C%20e.positionZ.linearRampToValueAtTime(jc.z%2C%20t)%2C%20e.forwardX.linearRampToValueAtTime(Yc.x%2C%20t)%2C%20e.forwardY.linearRampToValueAtTime(Yc.y%2C%20t)%2C%20e.forwardZ.linearRampToValueAtTime(Yc.z%2C%20t)%2C%20e.upX.linearRampToValueAtTime(i.x%2C%20t)%2C%20e.upY.linearRampToValueAtTime(i.y%2C%20t)%2C%20e.upZ.linearRampToValueAtTime(i.z%2C%20t)%20%7D%20else%20e.setPosition(jc.x%2C%20jc.y%2C%20jc.z)%2C%20e.setOrientation(Yc.x%2C%20Yc.y%2C%20Yc.z%2C%20i.x%2C%20i.y%2C%20i.z)%20%7D%20%7D%2C%20t.AudioLoader%20%3D%20class%20extends%20oc%20%7B%20constructor(t)%20%7B%20super(t)%20%7D%20load(t%2C%20e%2C%20i%2C%20n)%20%7B%20const%20r%20%3D%20this%2C%20s%20%3D%20new%20hc(this.manager)%3B%20s.setResponseType(%22arraybuffer%22)%2C%20s.setPath(this.path)%2C%20s.setRequestHeader(this.requestHeader)%2C%20s.setWithCredentials(this.withCredentials)%2C%20s.load(t%2C%20(function%20(i)%20%7B%20try%20%7B%20const%20t%20%3D%20i.slice(0)%3B%20Fc.getContext().decodeAudioData(t%2C%20(function%20(t)%20%7B%20e(t)%20%7D))%20%7D%20catch%20(e)%20%7B%20n%20%3F%20n(e)%20%3A%20console.error(e)%2C%20r.manager.itemError(t)%20%7D%20%7D)%2C%20i%2C%20n)%20%7D%20%7D%2C%20t.AxesHelper%20%3D%20class%20extends%20Xa%20%7B%20constructor(t%20%3D%201)%20%7B%20const%20e%20%3D%20%5B0%2C%200%2C%200%2C%20t%2C%200%2C%200%2C%200%2C%200%2C%200%2C%200%2C%20t%2C%200%2C%200%2C%200%2C%200%2C%200%2C%200%2C%20t%5D%2C%20i%20%3D%20new%20Di%3B%20i.setAttribute(%22position%22%2C%20new%20Ti(e%2C%203))%2C%20i.setAttribute(%22color%22%2C%20new%20Ti(%5B1%2C%200%2C%200%2C%201%2C%20.6%2C%200%2C%200%2C%201%2C%200%2C%20.6%2C%201%2C%200%2C%200%2C%200%2C%201%2C%200%2C%20.6%2C%201%5D%2C%203))%3B%20super(i%2C%20new%20Ba(%7B%20vertexColors%3A%20!0%2C%20toneMapped%3A%20!1%20%7D))%2C%20this.type%20%3D%20%22AxesHelper%22%20%7D%20setColors(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20new%20qt%2C%20r%20%3D%20this.geometry.attributes.color.array%3B%20return%20n.set(t)%2C%20n.toArray(r%2C%200)%2C%20n.toArray(r%2C%203)%2C%20n.set(e)%2C%20n.toArray(r%2C%206)%2C%20n.toArray(r%2C%209)%2C%20n.set(i)%2C%20n.toArray(r%2C%2012)%2C%20n.toArray(r%2C%2015)%2C%20this.geometry.attributes.color.needsUpdate%20%3D%20!0%2C%20this%20%7D%20dispose()%20%7B%20this.geometry.dispose()%2C%20this.material.dispose()%20%7D%20%7D%2C%20t.BackSide%20%3D%201%2C%20t.BasicDepthPacking%20%3D%203200%2C%20t.BasicShadowMap%20%3D%200%2C%20t.Bone%20%3D%20Aa%2C%20t.BooleanKeyframeTrack%20%3D%20Zl%2C%20t.Box2%20%3D%20class%20%7B%20constructor(t%20%3D%20new%20Lt(1%20%2F%200%2C%201%20%2F%200)%2C%20e%20%3D%20new%20Lt(-1%20%2F%200%2C%20-1%20%2F%200))%20%7B%20this.isBox2%20%3D%20!0%2C%20this.min%20%3D%20t%2C%20this.max%20%3D%20e%20%7D%20set(t%2C%20e)%20%7B%20return%20this.min.copy(t)%2C%20this.max.copy(e)%2C%20this%20%7D%20setFromPoints(t)%20%7B%20this.makeEmpty()%3B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20t.length%3B%20e%20%3C%20i%3B%20e%2B%2B)this.expandByPoint(t%5Be%5D)%3B%20return%20this%20%7D%20setFromCenterAndSize(t%2C%20e)%20%7B%20const%20i%20%3D%20mh.copy(e).multiplyScalar(.5)%3B%20return%20this.min.copy(t).sub(i)%2C%20this.max.copy(t).add(i)%2C%20this%20%7D%20clone()%20%7B%20return%20(new%20this.constructor).copy(this)%20%7D%20copy(t)%20%7B%20return%20this.min.copy(t.min)%2C%20this.max.copy(t.max)%2C%20this%20%7D%20makeEmpty()%20%7B%20return%20this.min.x%20%3D%20this.min.y%20%3D%201%20%2F%200%2C%20this.max.x%20%3D%20this.max.y%20%3D%20-1%20%2F%200%2C%20this%20%7D%20isEmpty()%20%7B%20return%20this.max.x%20%3C%20this.min.x%20%7C%7C%20this.max.y%20%3C%20this.min.y%20%7D%20getCenter(t)%20%7B%20return%20this.isEmpty()%20%3F%20t.set(0%2C%200)%20%3A%20t.addVectors(this.min%2C%20this.max).multiplyScalar(.5)%20%7D%20getSize(t)%20%7B%20return%20this.isEmpty()%20%3F%20t.set(0%2C%200)%20%3A%20t.subVectors(this.max%2C%20this.min)%20%7D%20expandByPoint(t)%20%7B%20return%20this.min.min(t)%2C%20this.max.max(t)%2C%20this%20%7D%20expandByVector(t)%20%7B%20return%20this.min.sub(t)%2C%20this.max.add(t)%2C%20this%20%7D%20expandByScalar(t)%20%7B%20return%20this.min.addScalar(-t)%2C%20this.max.addScalar(t)%2C%20this%20%7D%20containsPoint(t)%20%7B%20return%20!(t.x%20%3C%20this.min.x%20%7C%7C%20t.x%20%3E%20this.max.x%20%7C%7C%20t.y%20%3C%20this.min.y%20%7C%7C%20t.y%20%3E%20this.max.y)%20%7D%20containsBox(t)%20%7B%20return%20this.min.x%20%3C%3D%20t.min.x%20%26%26%20t.max.x%20%3C%3D%20this.max.x%20%26%26%20this.min.y%20%3C%3D%20t.min.y%20%26%26%20t.max.y%20%3C%3D%20this.max.y%20%7D%20getParameter(t%2C%20e)%20%7B%20return%20e.set((t.x%20-%20this.min.x)%20%2F%20(this.max.x%20-%20this.min.x)%2C%20(t.y%20-%20this.min.y)%20%2F%20(this.max.y%20-%20this.min.y))%20%7D%20intersectsBox(t)%20%7B%20return%20!(t.max.x%20%3C%20this.min.x%20%7C%7C%20t.min.x%20%3E%20this.max.x%20%7C%7C%20t.max.y%20%3C%20this.min.y%20%7C%7C%20t.min.y%20%3E%20this.max.y)%20%7D%20clampPoint(t%2C%20e)%20%7B%20return%20e.copy(t).clamp(this.min%2C%20this.max)%20%7D%20distanceToPoint(t)%20%7B%20return%20mh.copy(t).clamp(this.min%2C%20this.max).sub(t).length()%20%7D%20intersect(t)%20%7B%20return%20this.min.max(t.min)%2C%20this.max.min(t.max)%2C%20this%20%7D%20union(t)%20%7B%20return%20this.min.min(t.min)%2C%20this.max.max(t.max)%2C%20this%20%7D%20translate(t)%20%7B%20return%20this.min.add(t)%2C%20this.max.add(t)%2C%20this%20%7D%20equals(t)%20%7B%20return%20t.min.equals(this.min)%20%26%26%20t.max.equals(this.max)%20%7D%20%7D%2C%20t.Box3%20%3D%20oe%2C%20t.Box3Helper%20%3D%20class%20extends%20Xa%20%7B%20constructor(t%2C%20e%20%3D%2016776960)%20%7B%20const%20i%20%3D%20new%20Uint16Array(%5B0%2C%201%2C%201%2C%202%2C%202%2C%203%2C%203%2C%200%2C%204%2C%205%2C%205%2C%206%2C%206%2C%207%2C%207%2C%204%2C%200%2C%204%2C%201%2C%205%2C%202%2C%206%2C%203%2C%207%5D)%2C%20n%20%3D%20new%20Di%3B%20n.setIndex(new%20bi(i%2C%201))%2C%20n.setAttribute(%22position%22%2C%20new%20Ti(%5B1%2C%201%2C%201%2C%20-1%2C%201%2C%201%2C%20-1%2C%20-1%2C%201%2C%201%2C%20-1%2C%201%2C%201%2C%201%2C%20-1%2C%20-1%2C%201%2C%20-1%2C%20-1%2C%20-1%2C%20-1%2C%201%2C%20-1%2C%20-1%5D%2C%203))%2C%20super(n%2C%20new%20Ba(%7B%20color%3A%20e%2C%20toneMapped%3A%20!1%20%7D))%2C%20this.box%20%3D%20t%2C%20this.type%20%3D%20%22Box3Helper%22%2C%20this.geometry.computeBoundingSphere()%20%7D%20updateMatrixWorld(t)%20%7B%20const%20e%20%3D%20this.box%3B%20e.isEmpty()%20%7C%7C%20(e.getCenter(this.position)%2C%20e.getSize(this.scale)%2C%20this.scale.multiplyScalar(.5)%2C%20super.updateMatrixWorld(t))%20%7D%20dispose()%20%7B%20this.geometry.dispose()%2C%20this.material.dispose()%20%7D%20%7D%2C%20t.BoxBufferGeometry%20%3D%20class%20extends%20Zi%20%7B%20constructor(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s)%20%7B%20console.warn(%22THREE.BoxBufferGeometry%20has%20been%20renamed%20to%20THREE.BoxGeometry.%22)%2C%20super(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s)%20%7D%20%7D%2C%20t.BoxGeometry%20%3D%20Zi%2C%20t.BoxHelper%20%3D%20class%20extends%20Xa%20%7B%20constructor(t%2C%20e%20%3D%2016776960)%20%7B%20const%20i%20%3D%20new%20Uint16Array(%5B0%2C%201%2C%201%2C%202%2C%202%2C%203%2C%203%2C%200%2C%204%2C%205%2C%205%2C%206%2C%206%2C%207%2C%207%2C%204%2C%200%2C%204%2C%201%2C%205%2C%202%2C%206%2C%203%2C%207%5D)%2C%20n%20%3D%20new%20Float32Array(24)%2C%20r%20%3D%20new%20Di%3B%20r.setIndex(new%20bi(i%2C%201))%2C%20r.setAttribute(%22position%22%2C%20new%20bi(n%2C%203))%2C%20super(r%2C%20new%20Ba(%7B%20color%3A%20e%2C%20toneMapped%3A%20!1%20%7D))%2C%20this.object%20%3D%20t%2C%20this.type%20%3D%20%22BoxHelper%22%2C%20this.matrixAutoUpdate%20%3D%20!1%2C%20this.update()%20%7D%20update(t)%20%7B%20if%20(void%200%20!%3D%3D%20t%20%26%26%20console.warn(%22THREE.BoxHelper%3A%20.update()%20has%20no%20longer%20arguments.%22)%2C%20void%200%20!%3D%3D%20this.object%20%26%26%20Ph.setFromObject(this.object)%2C%20Ph.isEmpty())%20return%3B%20const%20e%20%3D%20Ph.min%2C%20i%20%3D%20Ph.max%2C%20n%20%3D%20this.geometry.attributes.position%2C%20r%20%3D%20n.array%3B%20r%5B0%5D%20%3D%20i.x%2C%20r%5B1%5D%20%3D%20i.y%2C%20r%5B2%5D%20%3D%20i.z%2C%20r%5B3%5D%20%3D%20e.x%2C%20r%5B4%5D%20%3D%20i.y%2C%20r%5B5%5D%20%3D%20i.z%2C%20r%5B6%5D%20%3D%20e.x%2C%20r%5B7%5D%20%3D%20e.y%2C%20r%5B8%5D%20%3D%20i.z%2C%20r%5B9%5D%20%3D%20i.x%2C%20r%5B10%5D%20%3D%20e.y%2C%20r%5B11%5D%20%3D%20i.z%2C%20r%5B12%5D%20%3D%20i.x%2C%20r%5B13%5D%20%3D%20i.y%2C%20r%5B14%5D%20%3D%20e.z%2C%20r%5B15%5D%20%3D%20e.x%2C%20r%5B16%5D%20%3D%20i.y%2C%20r%5B17%5D%20%3D%20e.z%2C%20r%5B18%5D%20%3D%20e.x%2C%20r%5B19%5D%20%3D%20e.y%2C%20r%5B20%5D%20%3D%20e.z%2C%20r%5B21%5D%20%3D%20i.x%2C%20r%5B22%5D%20%3D%20e.y%2C%20r%5B23%5D%20%3D%20e.z%2C%20n.needsUpdate%20%3D%20!0%2C%20this.geometry.computeBoundingSphere()%20%7D%20setFromObject(t)%20%7B%20return%20this.object%20%3D%20t%2C%20this.update()%2C%20this%20%7D%20copy(t%2C%20e)%20%7B%20return%20super.copy(t%2C%20e)%2C%20this.object%20%3D%20t.object%2C%20this%20%7D%20dispose()%20%7B%20this.geometry.dispose()%2C%20this.material.dispose()%20%7D%20%7D%2C%20t.BufferAttribute%20%3D%20bi%2C%20t.BufferGeometry%20%3D%20Di%2C%20t.BufferGeometryLoader%20%3D%20Nc%2C%20t.ByteType%20%3D%201010%2C%20t.Cache%20%3D%20rc%2C%20t.Camera%20%3D%20en%2C%20t.CameraHelper%20%3D%20class%20extends%20Xa%20%7B%20constructor(t)%20%7B%20const%20e%20%3D%20new%20Di%2C%20i%20%3D%20new%20Ba(%7B%20color%3A%2016777215%2C%20vertexColors%3A%20!0%2C%20toneMapped%3A%20!1%20%7D)%2C%20n%20%3D%20%5B%5D%2C%20r%20%3D%20%5B%5D%2C%20s%20%3D%20%7B%7D%3B%20function%20a(t%2C%20e)%20%7B%20o(t)%2C%20o(e)%20%7D%20function%20o(t)%20%7B%20n.push(0%2C%200%2C%200)%2C%20r.push(0%2C%200%2C%200)%2C%20void%200%20%3D%3D%3D%20s%5Bt%5D%20%26%26%20(s%5Bt%5D%20%3D%20%5B%5D)%2C%20s%5Bt%5D.push(n.length%20%2F%203%20-%201)%20%7D%20a(%22n1%22%2C%20%22n2%22)%2C%20a(%22n2%22%2C%20%22n4%22)%2C%20a(%22n4%22%2C%20%22n3%22)%2C%20a(%22n3%22%2C%20%22n1%22)%2C%20a(%22f1%22%2C%20%22f2%22)%2C%20a(%22f2%22%2C%20%22f4%22)%2C%20a(%22f4%22%2C%20%22f3%22)%2C%20a(%22f3%22%2C%20%22f1%22)%2C%20a(%22n1%22%2C%20%22f1%22)%2C%20a(%22n2%22%2C%20%22f2%22)%2C%20a(%22n3%22%2C%20%22f3%22)%2C%20a(%22n4%22%2C%20%22f4%22)%2C%20a(%22p%22%2C%20%22n1%22)%2C%20a(%22p%22%2C%20%22n2%22)%2C%20a(%22p%22%2C%20%22n3%22)%2C%20a(%22p%22%2C%20%22n4%22)%2C%20a(%22u1%22%2C%20%22u2%22)%2C%20a(%22u2%22%2C%20%22u3%22)%2C%20a(%22u3%22%2C%20%22u1%22)%2C%20a(%22c%22%2C%20%22t%22)%2C%20a(%22p%22%2C%20%22c%22)%2C%20a(%22cn1%22%2C%20%22cn2%22)%2C%20a(%22cn3%22%2C%20%22cn4%22)%2C%20a(%22cf1%22%2C%20%22cf2%22)%2C%20a(%22cf3%22%2C%20%22cf4%22)%2C%20e.setAttribute(%22position%22%2C%20new%20Ti(n%2C%203))%2C%20e.setAttribute(%22color%22%2C%20new%20Ti(r%2C%203))%2C%20super(e%2C%20i)%2C%20this.type%20%3D%20%22CameraHelper%22%2C%20this.camera%20%3D%20t%2C%20this.camera.updateProjectionMatrix%20%26%26%20this.camera.updateProjectionMatrix()%2C%20this.matrix%20%3D%20t.matrixWorld%2C%20this.matrixAutoUpdate%20%3D%20!1%2C%20this.pointMap%20%3D%20s%2C%20this.update()%3B%20const%20l%20%3D%20new%20qt(16755200)%2C%20c%20%3D%20new%20qt(16711680)%2C%20h%20%3D%20new%20qt(43775)%2C%20u%20%3D%20new%20qt(16777215)%2C%20d%20%3D%20new%20qt(3355443)%3B%20this.setColors(l%2C%20c%2C%20h%2C%20u%2C%20d)%20%7D%20setColors(t%2C%20e%2C%20i%2C%20n%2C%20r)%20%7B%20const%20s%20%3D%20this.geometry.getAttribute(%22color%22)%3B%20s.setXYZ(0%2C%20t.r%2C%20t.g%2C%20t.b)%2C%20s.setXYZ(1%2C%20t.r%2C%20t.g%2C%20t.b)%2C%20s.setXYZ(2%2C%20t.r%2C%20t.g%2C%20t.b)%2C%20s.setXYZ(3%2C%20t.r%2C%20t.g%2C%20t.b)%2C%20s.setXYZ(4%2C%20t.r%2C%20t.g%2C%20t.b)%2C%20s.setXYZ(5%2C%20t.r%2C%20t.g%2C%20t.b)%2C%20s.setXYZ(6%2C%20t.r%2C%20t.g%2C%20t.b)%2C%20s.setXYZ(7%2C%20t.r%2C%20t.g%2C%20t.b)%2C%20s.setXYZ(8%2C%20t.r%2C%20t.g%2C%20t.b)%2C%20s.setXYZ(9%2C%20t.r%2C%20t.g%2C%20t.b)%2C%20s.setXYZ(10%2C%20t.r%2C%20t.g%2C%20t.b)%2C%20s.setXYZ(11%2C%20t.r%2C%20t.g%2C%20t.b)%2C%20s.setXYZ(12%2C%20t.r%2C%20t.g%2C%20t.b)%2C%20s.setXYZ(13%2C%20t.r%2C%20t.g%2C%20t.b)%2C%20s.setXYZ(14%2C%20t.r%2C%20t.g%2C%20t.b)%2C%20s.setXYZ(15%2C%20t.r%2C%20t.g%2C%20t.b)%2C%20s.setXYZ(16%2C%20t.r%2C%20t.g%2C%20t.b)%2C%20s.setXYZ(17%2C%20t.r%2C%20t.g%2C%20t.b)%2C%20s.setXYZ(18%2C%20t.r%2C%20t.g%2C%20t.b)%2C%20s.setXYZ(19%2C%20t.r%2C%20t.g%2C%20t.b)%2C%20s.setXYZ(20%2C%20t.r%2C%20t.g%2C%20t.b)%2C%20s.setXYZ(21%2C%20t.r%2C%20t.g%2C%20t.b)%2C%20s.setXYZ(22%2C%20t.r%2C%20t.g%2C%20t.b)%2C%20s.setXYZ(23%2C%20t.r%2C%20t.g%2C%20t.b)%2C%20s.setXYZ(24%2C%20e.r%2C%20e.g%2C%20e.b)%2C%20s.setXYZ(25%2C%20e.r%2C%20e.g%2C%20e.b)%2C%20s.setXYZ(26%2C%20e.r%2C%20e.g%2C%20e.b)%2C%20s.setXYZ(27%2C%20e.r%2C%20e.g%2C%20e.b)%2C%20s.setXYZ(28%2C%20e.r%2C%20e.g%2C%20e.b)%2C%20s.setXYZ(29%2C%20e.r%2C%20e.g%2C%20e.b)%2C%20s.setXYZ(30%2C%20e.r%2C%20e.g%2C%20e.b)%2C%20s.setXYZ(31%2C%20e.r%2C%20e.g%2C%20e.b)%2C%20s.setXYZ(32%2C%20i.r%2C%20i.g%2C%20i.b)%2C%20s.setXYZ(33%2C%20i.r%2C%20i.g%2C%20i.b)%2C%20s.setXYZ(34%2C%20i.r%2C%20i.g%2C%20i.b)%2C%20s.setXYZ(35%2C%20i.r%2C%20i.g%2C%20i.b)%2C%20s.setXYZ(36%2C%20i.r%2C%20i.g%2C%20i.b)%2C%20s.setXYZ(37%2C%20i.r%2C%20i.g%2C%20i.b)%2C%20s.setXYZ(38%2C%20n.r%2C%20n.g%2C%20n.b)%2C%20s.setXYZ(39%2C%20n.r%2C%20n.g%2C%20n.b)%2C%20s.setXYZ(40%2C%20r.r%2C%20r.g%2C%20r.b)%2C%20s.setXYZ(41%2C%20r.r%2C%20r.g%2C%20r.b)%2C%20s.setXYZ(42%2C%20r.r%2C%20r.g%2C%20r.b)%2C%20s.setXYZ(43%2C%20r.r%2C%20r.g%2C%20r.b)%2C%20s.setXYZ(44%2C%20r.r%2C%20r.g%2C%20r.b)%2C%20s.setXYZ(45%2C%20r.r%2C%20r.g%2C%20r.b)%2C%20s.setXYZ(46%2C%20r.r%2C%20r.g%2C%20r.b)%2C%20s.setXYZ(47%2C%20r.r%2C%20r.g%2C%20r.b)%2C%20s.setXYZ(48%2C%20r.r%2C%20r.g%2C%20r.b)%2C%20s.setXYZ(49%2C%20r.r%2C%20r.g%2C%20r.b)%2C%20s.needsUpdate%20%3D%20!0%20%7D%20update()%20%7B%20const%20t%20%3D%20this.geometry%2C%20e%20%3D%20this.pointMap%3B%20Lh.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse)%2C%20Rh(%22c%22%2C%20e%2C%20t%2C%20Lh%2C%200%2C%200%2C%20-1)%2C%20Rh(%22t%22%2C%20e%2C%20t%2C%20Lh%2C%200%2C%200%2C%201)%2C%20Rh(%22n1%22%2C%20e%2C%20t%2C%20Lh%2C%20-1%2C%20-1%2C%20-1)%2C%20Rh(%22n2%22%2C%20e%2C%20t%2C%20Lh%2C%201%2C%20-1%2C%20-1)%2C%20Rh(%22n3%22%2C%20e%2C%20t%2C%20Lh%2C%20-1%2C%201%2C%20-1)%2C%20Rh(%22n4%22%2C%20e%2C%20t%2C%20Lh%2C%201%2C%201%2C%20-1)%2C%20Rh(%22f1%22%2C%20e%2C%20t%2C%20Lh%2C%20-1%2C%20-1%2C%201)%2C%20Rh(%22f2%22%2C%20e%2C%20t%2C%20Lh%2C%201%2C%20-1%2C%201)%2C%20Rh(%22f3%22%2C%20e%2C%20t%2C%20Lh%2C%20-1%2C%201%2C%201)%2C%20Rh(%22f4%22%2C%20e%2C%20t%2C%20Lh%2C%201%2C%201%2C%201)%2C%20Rh(%22u1%22%2C%20e%2C%20t%2C%20Lh%2C%20.7%2C%201.1%2C%20-1)%2C%20Rh(%22u2%22%2C%20e%2C%20t%2C%20Lh%2C%20-.7%2C%201.1%2C%20-1)%2C%20Rh(%22u3%22%2C%20e%2C%20t%2C%20Lh%2C%200%2C%202%2C%20-1)%2C%20Rh(%22cf1%22%2C%20e%2C%20t%2C%20Lh%2C%20-1%2C%200%2C%201)%2C%20Rh(%22cf2%22%2C%20e%2C%20t%2C%20Lh%2C%201%2C%200%2C%201)%2C%20Rh(%22cf3%22%2C%20e%2C%20t%2C%20Lh%2C%200%2C%20-1%2C%201)%2C%20Rh(%22cf4%22%2C%20e%2C%20t%2C%20Lh%2C%200%2C%201%2C%201)%2C%20Rh(%22cn1%22%2C%20e%2C%20t%2C%20Lh%2C%20-1%2C%200%2C%20-1)%2C%20Rh(%22cn2%22%2C%20e%2C%20t%2C%20Lh%2C%201%2C%200%2C%20-1)%2C%20Rh(%22cn3%22%2C%20e%2C%20t%2C%20Lh%2C%200%2C%20-1%2C%20-1)%2C%20Rh(%22cn4%22%2C%20e%2C%20t%2C%20Lh%2C%200%2C%201%2C%20-1)%2C%20t.getAttribute(%22position%22).needsUpdate%20%3D%20!0%20%7D%20dispose()%20%7B%20this.geometry.dispose()%2C%20this.material.dispose()%20%7D%20%7D%2C%20t.CanvasTexture%20%3D%20class%20extends%20%24t%20%7B%20constructor(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%20a%2C%20o%2C%20l)%20%7B%20super(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%20a%2C%20o%2C%20l)%2C%20this.isCanvasTexture%20%3D%20!0%2C%20this.needsUpdate%20%3D%20!0%20%7D%20%7D%2C%20t.CapsuleBufferGeometry%20%3D%20class%20extends%20Eo%20%7B%20constructor(t%2C%20e%2C%20i%2C%20n)%20%7B%20console.warn(%22THREE.CapsuleBufferGeometry%20has%20been%20renamed%20to%20THREE.CapsuleGeometry.%22)%2C%20super(t%2C%20e%2C%20i%2C%20n)%20%7D%20%7D%2C%20t.CapsuleGeometry%20%3D%20Eo%2C%20t.CatmullRomCurve3%20%3D%20uo%2C%20t.CineonToneMapping%20%3D%203%2C%20t.CircleBufferGeometry%20%3D%20class%20extends%20Co%20%7B%20constructor(t%2C%20e%2C%20i%2C%20n)%20%7B%20console.warn(%22THREE.CircleBufferGeometry%20has%20been%20renamed%20to%20THREE.CircleGeometry.%22)%2C%20super(t%2C%20e%2C%20i%2C%20n)%20%7D%20%7D%2C%20t.CircleGeometry%20%3D%20Co%2C%20t.ClampToEdgeWrapping%20%3D%20h%2C%20t.Clock%20%3D%20Hc%2C%20t.Color%20%3D%20qt%2C%20t.ColorKeyframeTrack%20%3D%20Jl%2C%20t.ColorManagement%20%3D%20Ft%2C%20t.CompressedArrayTexture%20%3D%20class%20extends%20io%20%7B%20constructor(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s)%20%7B%20super(t%2C%20e%2C%20i%2C%20r%2C%20s)%2C%20this.isCompressedArrayTexture%20%3D%20!0%2C%20this.image.depth%20%3D%20n%2C%20this.wrapR%20%3D%20h%20%7D%20%7D%2C%20t.CompressedTexture%20%3D%20io%2C%20t.CompressedTextureLoader%20%3D%20class%20extends%20oc%20%7B%20constructor(t)%20%7B%20super(t)%20%7D%20load(t%2C%20e%2C%20i%2C%20n)%20%7B%20const%20r%20%3D%20this%2C%20s%20%3D%20%5B%5D%2C%20a%20%3D%20new%20io%2C%20o%20%3D%20new%20hc(this.manager)%3B%20o.setPath(this.path)%2C%20o.setResponseType(%22arraybuffer%22)%2C%20o.setRequestHeader(this.requestHeader)%2C%20o.setWithCredentials(r.withCredentials)%3B%20let%20l%20%3D%200%3B%20function%20c(c)%20%7B%20o.load(t%5Bc%5D%2C%20(function%20(t)%20%7B%20const%20i%20%3D%20r.parse(t%2C%20!0)%3B%20s%5Bc%5D%20%3D%20%7B%20width%3A%20i.width%2C%20height%3A%20i.height%2C%20format%3A%20i.format%2C%20mipmaps%3A%20i.mipmaps%20%7D%2C%20l%20%2B%3D%201%2C%206%20%3D%3D%3D%20l%20%26%26%20(1%20%3D%3D%3D%20i.mipmapCount%20%26%26%20(a.minFilter%20%3D%20f)%2C%20a.image%20%3D%20s%2C%20a.format%20%3D%20i.format%2C%20a.needsUpdate%20%3D%20!0%2C%20e%20%26%26%20e(a))%20%7D)%2C%20i%2C%20n)%20%7D%20if%20(Array.isArray(t))%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20t.length%3B%20e%20%3C%20i%3B%20%2B%2Be)c(e)%3B%20else%20o.load(t%2C%20(function%20(t)%20%7B%20const%20i%20%3D%20r.parse(t%2C%20!0)%3B%20if%20(i.isCubemap)%20%7B%20const%20t%20%3D%20i.mipmaps.length%20%2F%20i.mipmapCount%3B%20for%20(let%20e%20%3D%200%3B%20e%20%3C%20t%3B%20e%2B%2B)%20%7B%20s%5Be%5D%20%3D%20%7B%20mipmaps%3A%20%5B%5D%20%7D%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20i.mipmapCount%3B%20t%2B%2B)s%5Be%5D.mipmaps.push(i.mipmaps%5Be%20*%20i.mipmapCount%20%2B%20t%5D)%2C%20s%5Be%5D.format%20%3D%20i.format%2C%20s%5Be%5D.width%20%3D%20i.width%2C%20s%5Be%5D.height%20%3D%20i.height%20%7D%20a.image%20%3D%20s%20%7D%20else%20a.image.width%20%3D%20i.width%2C%20a.image.height%20%3D%20i.height%2C%20a.mipmaps%20%3D%20i.mipmaps%3B%201%20%3D%3D%3D%20i.mipmapCount%20%26%26%20(a.minFilter%20%3D%20f)%2C%20a.format%20%3D%20i.format%2C%20a.needsUpdate%20%3D%20!0%2C%20e%20%26%26%20e(a)%20%7D)%2C%20i%2C%20n)%3B%20return%20a%20%7D%20%7D%2C%20t.ConeBufferGeometry%20%3D%20class%20extends%20Ro%20%7B%20constructor(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%20a)%20%7B%20console.warn(%22THREE.ConeBufferGeometry%20has%20been%20renamed%20to%20THREE.ConeGeometry.%22)%2C%20super(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%20a)%20%7D%20%7D%2C%20t.ConeGeometry%20%3D%20Ro%2C%20t.CubeCamera%20%3D%20sn%2C%20t.CubeReflectionMapping%20%3D%20r%2C%20t.CubeRefractionMapping%20%3D%20s%2C%20t.CubeTexture%20%3D%20an%2C%20t.CubeTextureLoader%20%3D%20class%20extends%20oc%20%7B%20constructor(t)%20%7B%20super(t)%20%7D%20load(t%2C%20e%2C%20i%2C%20n)%20%7B%20const%20r%20%3D%20new%20an%2C%20s%20%3D%20new%20uc(this.manager)%3B%20s.setCrossOrigin(this.crossOrigin)%2C%20s.setPath(this.path)%3B%20let%20a%20%3D%200%3B%20function%20o(i)%20%7B%20s.load(t%5Bi%5D%2C%20(function%20(t)%20%7B%20r.images%5Bi%5D%20%3D%20t%2C%20a%2B%2B%2C%206%20%3D%3D%3D%20a%20%26%26%20(r.needsUpdate%20%3D%20!0%2C%20e%20%26%26%20e(r))%20%7D)%2C%20void%200%2C%20n)%20%7D%20for%20(let%20e%20%3D%200%3B%20e%20%3C%20t.length%3B%20%2B%2Be)o(e)%3B%20return%20r%20%7D%20%7D%2C%20t.CubeUVReflectionMapping%20%3D%20l%2C%20t.CubicBezierCurve%20%3D%20go%2C%20t.CubicBezierCurve3%20%3D%20vo%2C%20t.CubicInterpolant%20%3D%20jl%2C%20t.CullFaceBack%20%3D%201%2C%20t.CullFaceFront%20%3D%202%2C%20t.CullFaceFrontBack%20%3D%203%2C%20t.CullFaceNone%20%3D%200%2C%20t.Curve%20%3D%20no%2C%20t.CurvePath%20%3D%20wo%2C%20t.CustomBlending%20%3D%205%2C%20t.CustomToneMapping%20%3D%205%2C%20t.CylinderBufferGeometry%20%3D%20class%20extends%20Lo%20%7B%20constructor(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%20a%2C%20o)%20%7B%20console.warn(%22THREE.CylinderBufferGeometry%20has%20been%20renamed%20to%20THREE.CylinderGeometry.%22)%2C%20super(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%20a%2C%20o)%20%7D%20%7D%2C%20t.CylinderGeometry%20%3D%20Lo%2C%20t.Cylindrical%20%3D%20class%20%7B%20constructor(t%20%3D%201%2C%20e%20%3D%200%2C%20i%20%3D%200)%20%7B%20return%20this.radius%20%3D%20t%2C%20this.theta%20%3D%20e%2C%20this.y%20%3D%20i%2C%20this%20%7D%20set(t%2C%20e%2C%20i)%20%7B%20return%20this.radius%20%3D%20t%2C%20this.theta%20%3D%20e%2C%20this.y%20%3D%20i%2C%20this%20%7D%20copy(t)%20%7B%20return%20this.radius%20%3D%20t.radius%2C%20this.theta%20%3D%20t.theta%2C%20this.y%20%3D%20t.y%2C%20this%20%7D%20setFromVector3(t)%20%7B%20return%20this.setFromCartesianCoords(t.x%2C%20t.y%2C%20t.z)%20%7D%20setFromCartesianCoords(t%2C%20e%2C%20i)%20%7B%20return%20this.radius%20%3D%20Math.sqrt(t%20*%20t%20%2B%20i%20*%20i)%2C%20this.theta%20%3D%20Math.atan2(t%2C%20i)%2C%20this.y%20%3D%20e%2C%20this%20%7D%20clone()%20%7B%20return%20(new%20this.constructor).copy(this)%20%7D%20%7D%2C%20t.Data3DTexture%20%3D%20ie%2C%20t.DataArrayTexture%20%3D%20ee%2C%20t.DataTexture%20%3D%20Ea%2C%20t.DataTexture2DArray%20%3D%20class%20extends%20ee%20%7B%20constructor(t%2C%20e%2C%20i%2C%20n)%20%7B%20console.warn(%22THREE.DataTexture2DArray%20has%20been%20renamed%20to%20DataArrayTexture.%22)%2C%20super(t%2C%20e%2C%20i%2C%20n)%20%7D%20%7D%2C%20t.DataTexture3D%20%3D%20class%20extends%20ie%20%7B%20constructor(t%2C%20e%2C%20i%2C%20n)%20%7B%20console.warn(%22THREE.DataTexture3D%20has%20been%20renamed%20to%20Data3DTexture.%22)%2C%20super(t%2C%20e%2C%20i%2C%20n)%20%7D%20%7D%2C%20t.DataTextureLoader%20%3D%20class%20extends%20oc%20%7B%20constructor(t)%20%7B%20super(t)%20%7D%20load(t%2C%20e%2C%20i%2C%20n)%20%7B%20const%20r%20%3D%20this%2C%20s%20%3D%20new%20Ea%2C%20a%20%3D%20new%20hc(this.manager)%3B%20return%20a.setResponseType(%22arraybuffer%22)%2C%20a.setRequestHeader(this.requestHeader)%2C%20a.setPath(this.path)%2C%20a.setWithCredentials(r.withCredentials)%2C%20a.load(t%2C%20(function%20(t)%20%7B%20const%20i%20%3D%20r.parse(t)%3B%20i%20%26%26%20(void%200%20!%3D%3D%20i.image%20%3F%20s.image%20%3D%20i.image%20%3A%20void%200%20!%3D%3D%20i.data%20%26%26%20(s.image.width%20%3D%20i.width%2C%20s.image.height%20%3D%20i.height%2C%20s.image.data%20%3D%20i.data)%2C%20s.wrapS%20%3D%20void%200%20!%3D%3D%20i.wrapS%20%3F%20i.wrapS%20%3A%20h%2C%20s.wrapT%20%3D%20void%200%20!%3D%3D%20i.wrapT%20%3F%20i.wrapT%20%3A%20h%2C%20s.magFilter%20%3D%20void%200%20!%3D%3D%20i.magFilter%20%3F%20i.magFilter%20%3A%20f%2C%20s.minFilter%20%3D%20void%200%20!%3D%3D%20i.minFilter%20%3F%20i.minFilter%20%3A%20f%2C%20s.anisotropy%20%3D%20void%200%20!%3D%3D%20i.anisotropy%20%3F%20i.anisotropy%20%3A%201%2C%20void%200%20!%3D%3D%20i.encoding%20%26%26%20(s.encoding%20%3D%20i.encoding)%2C%20void%200%20!%3D%3D%20i.flipY%20%26%26%20(s.flipY%20%3D%20i.flipY)%2C%20void%200%20!%3D%3D%20i.format%20%26%26%20(s.format%20%3D%20i.format)%2C%20void%200%20!%3D%3D%20i.type%20%26%26%20(s.type%20%3D%20i.type)%2C%20void%200%20!%3D%3D%20i.mipmaps%20%26%26%20(s.mipmaps%20%3D%20i.mipmaps%2C%20s.minFilter%20%3D%20v)%2C%201%20%3D%3D%3D%20i.mipmapCount%20%26%26%20(s.minFilter%20%3D%20f)%2C%20void%200%20!%3D%3D%20i.generateMipmaps%20%26%26%20(s.generateMipmaps%20%3D%20i.generateMipmaps)%2C%20s.needsUpdate%20%3D%20!0%2C%20e%20%26%26%20e(s%2C%20i))%20%7D)%2C%20i%2C%20n)%2C%20s%20%7D%20%7D%2C%20t.DataUtils%20%3D%20Uh%2C%20t.DecrementStencilOp%20%3D%207683%2C%20t.DecrementWrapStencilOp%20%3D%2034056%2C%20t.DefaultLoadingManager%20%3D%20ac%2C%20t.DepthFormat%20%3D%20T%2C%20t.DepthStencilFormat%20%3D%20A%2C%20t.DepthTexture%20%3D%20Hs%2C%20t.DirectionalLight%20%3D%20Ac%2C%20t.DirectionalLightHelper%20%3D%20class%20extends%20si%20%7B%20constructor(t%2C%20e%2C%20i)%20%7B%20super()%2C%20this.light%20%3D%20t%2C%20this.matrix%20%3D%20t.matrixWorld%2C%20this.matrixAutoUpdate%20%3D%20!1%2C%20this.color%20%3D%20i%2C%20this.type%20%3D%20%22DirectionalLightHelper%22%2C%20void%200%20%3D%3D%3D%20e%20%26%26%20(e%20%3D%201)%3B%20let%20n%20%3D%20new%20Di%3B%20n.setAttribute(%22position%22%2C%20new%20Ti(%5B-e%2C%20e%2C%200%2C%20e%2C%20e%2C%200%2C%20e%2C%20-e%2C%200%2C%20-e%2C%20-e%2C%200%2C%20-e%2C%20e%2C%200%5D%2C%203))%3B%20const%20r%20%3D%20new%20Ba(%7B%20fog%3A%20!1%2C%20toneMapped%3A%20!1%20%7D)%3B%20this.lightPlane%20%3D%20new%20Wa(n%2C%20r)%2C%20this.add(this.lightPlane)%2C%20n%20%3D%20new%20Di%2C%20n.setAttribute(%22position%22%2C%20new%20Ti(%5B0%2C%200%2C%200%2C%200%2C%200%2C%201%5D%2C%203))%2C%20this.targetLine%20%3D%20new%20Wa(n%2C%20r)%2C%20this.add(this.targetLine)%2C%20this.update()%20%7D%20dispose()%20%7B%20this.lightPlane.geometry.dispose()%2C%20this.lightPlane.material.dispose()%2C%20this.targetLine.geometry.dispose()%2C%20this.targetLine.material.dispose()%20%7D%20update()%20%7B%20this.light.updateWorldMatrix(!0%2C%20!1)%2C%20this.light.target.updateWorldMatrix(!0%2C%20!1)%2C%20Th.setFromMatrixPosition(this.light.matrixWorld)%2C%20Ah.setFromMatrixPosition(this.light.target.matrixWorld)%2C%20Eh.subVectors(Ah%2C%20Th)%2C%20this.lightPlane.lookAt(Ah)%2C%20void%200%20!%3D%3D%20this.color%20%3F%20(this.lightPlane.material.color.set(this.color)%2C%20this.targetLine.material.color.set(this.color))%20%3A%20(this.lightPlane.material.color.copy(this.light.color)%2C%20this.targetLine.material.color.copy(this.light.color))%2C%20this.targetLine.lookAt(Ah)%2C%20this.targetLine.scale.z%20%3D%20Eh.length()%20%7D%20%7D%2C%20t.DiscreteInterpolant%20%3D%20Xl%2C%20t.DodecahedronBufferGeometry%20%3D%20class%20extends%20Io%20%7B%20constructor(t%2C%20e)%20%7B%20console.warn(%22THREE.DodecahedronBufferGeometry%20has%20been%20renamed%20to%20THREE.DodecahedronGeometry.%22)%2C%20super(t%2C%20e)%20%7D%20%7D%2C%20t.DodecahedronGeometry%20%3D%20Io%2C%20t.DoubleSide%20%3D%202%2C%20t.DstAlphaFactor%20%3D%20206%2C%20t.DstColorFactor%20%3D%20208%2C%20t.DynamicCopyUsage%20%3D%2035050%2C%20t.DynamicDrawUsage%20%3D%2035048%2C%20t.DynamicReadUsage%20%3D%2035049%2C%20t.EdgesGeometry%20%3D%20Uo%2C%20t.EllipseCurve%20%3D%20ro%2C%20t.EqualDepth%20%3D%204%2C%20t.EqualStencilFunc%20%3D%20514%2C%20t.EquirectangularReflectionMapping%20%3D%20a%2C%20t.EquirectangularRefractionMapping%20%3D%20o%2C%20t.Euler%20%3D%20We%2C%20t.EventDispatcher%20%3D%20mt%2C%20t.ExtrudeBufferGeometry%20%3D%20class%20extends%20pl%20%7B%20constructor(t%2C%20e)%20%7B%20console.warn(%22THREE.ExtrudeBufferGeometry%20has%20been%20renamed%20to%20THREE.ExtrudeGeometry.%22)%2C%20super(t%2C%20e)%20%7D%20%7D%2C%20t.ExtrudeGeometry%20%3D%20pl%2C%20t.FileLoader%20%3D%20hc%2C%20t.Float16BufferAttribute%20%3D%20class%20extends%20bi%20%7B%20constructor(t%2C%20e%2C%20i)%20%7B%20super(new%20Uint16Array(t)%2C%20e%2C%20i)%2C%20this.isFloat16BufferAttribute%20%3D%20!0%20%7D%20%7D%2C%20t.Float32BufferAttribute%20%3D%20Ti%2C%20t.Float64BufferAttribute%20%3D%20class%20extends%20bi%20%7B%20constructor(t%2C%20e%2C%20i)%20%7B%20super(new%20Float64Array(t)%2C%20e%2C%20i)%20%7D%20%7D%2C%20t.FloatType%20%3D%20M%2C%20t.Fog%20%3D%20Js%2C%20t.FogExp2%20%3D%20Zs%2C%20t.FramebufferTexture%20%3D%20class%20extends%20%24t%20%7B%20constructor(t%2C%20e%2C%20i)%20%7B%20super(%7B%20width%3A%20t%2C%20height%3A%20e%20%7D)%2C%20this.isFramebufferTexture%20%3D%20!0%2C%20this.format%20%3D%20i%2C%20this.magFilter%20%3D%20d%2C%20this.minFilter%20%3D%20d%2C%20this.generateMipmaps%20%3D%20!1%2C%20this.needsUpdate%20%3D%20!0%20%7D%20%7D%2C%20t.FrontSide%20%3D%200%2C%20t.Frustum%20%3D%20mn%2C%20t.GLBufferAttribute%20%3D%20class%20%7B%20constructor(t%2C%20e%2C%20i%2C%20n%2C%20r)%20%7B%20this.isGLBufferAttribute%20%3D%20!0%2C%20this.buffer%20%3D%20t%2C%20this.type%20%3D%20e%2C%20this.itemSize%20%3D%20i%2C%20this.elementSize%20%3D%20n%2C%20this.count%20%3D%20r%2C%20this.version%20%3D%200%20%7D%20set%20needsUpdate(t)%20%7B%20!0%20%3D%3D%3D%20t%20%26%26%20this.version%2B%2B%20%7D%20setBuffer(t)%20%7B%20return%20this.buffer%20%3D%20t%2C%20this%20%7D%20setType(t%2C%20e)%20%7B%20return%20this.type%20%3D%20t%2C%20this.elementSize%20%3D%20e%2C%20this%20%7D%20setItemSize(t)%20%7B%20return%20this.itemSize%20%3D%20t%2C%20this%20%7D%20setCount(t)%20%7B%20return%20this.count%20%3D%20t%2C%20this%20%7D%20%7D%2C%20t.GLSL1%20%3D%20%22100%22%2C%20t.GLSL3%20%3D%20dt%2C%20t.GreaterDepth%20%3D%206%2C%20t.GreaterEqualDepth%20%3D%205%2C%20t.GreaterEqualStencilFunc%20%3D%20518%2C%20t.GreaterStencilFunc%20%3D%20516%2C%20t.GridHelper%20%3D%20class%20extends%20Xa%20%7B%20constructor(t%20%3D%2010%2C%20e%20%3D%2010%2C%20i%20%3D%204473924%2C%20n%20%3D%208947848)%20%7B%20i%20%3D%20new%20qt(i)%2C%20n%20%3D%20new%20qt(n)%3B%20const%20r%20%3D%20e%20%2F%202%2C%20s%20%3D%20t%20%2F%20e%2C%20a%20%3D%20t%20%2F%202%2C%20o%20%3D%20%5B%5D%2C%20l%20%3D%20%5B%5D%3B%20for%20(let%20t%20%3D%200%2C%20c%20%3D%200%2C%20h%20%3D%20-a%3B%20t%20%3C%3D%20e%3B%20t%2B%2B%2C%20h%20%2B%3D%20s)%20%7B%20o.push(-a%2C%200%2C%20h%2C%20a%2C%200%2C%20h)%2C%20o.push(h%2C%200%2C%20-a%2C%20h%2C%200%2C%20a)%3B%20const%20e%20%3D%20t%20%3D%3D%3D%20r%20%3F%20i%20%3A%20n%3B%20e.toArray(l%2C%20c)%2C%20c%20%2B%3D%203%2C%20e.toArray(l%2C%20c)%2C%20c%20%2B%3D%203%2C%20e.toArray(l%2C%20c)%2C%20c%20%2B%3D%203%2C%20e.toArray(l%2C%20c)%2C%20c%20%2B%3D%203%20%7D%20const%20c%20%3D%20new%20Di%3B%20c.setAttribute(%22position%22%2C%20new%20Ti(o%2C%203))%2C%20c.setAttribute(%22color%22%2C%20new%20Ti(l%2C%203))%3B%20super(c%2C%20new%20Ba(%7B%20vertexColors%3A%20!0%2C%20toneMapped%3A%20!1%20%7D))%2C%20this.type%20%3D%20%22GridHelper%22%20%7D%20dispose()%20%7B%20this.geometry.dispose()%2C%20this.material.dispose()%20%7D%20%7D%2C%20t.Group%20%3D%20ks%2C%20t.HalfFloatType%20%3D%20b%2C%20t.HemisphereLight%20%3D%20pc%2C%20t.HemisphereLightHelper%20%3D%20class%20extends%20si%20%7B%20constructor(t%2C%20e%2C%20i)%20%7B%20super()%2C%20this.light%20%3D%20t%2C%20this.matrix%20%3D%20t.matrixWorld%2C%20this.matrixAutoUpdate%20%3D%20!1%2C%20this.color%20%3D%20i%2C%20this.type%20%3D%20%22HemisphereLightHelper%22%3B%20const%20n%20%3D%20new%20gl(e)%3B%20n.rotateY(.5%20*%20Math.PI)%2C%20this.material%20%3D%20new%20_i(%7B%20wireframe%3A%20!0%2C%20fog%3A%20!1%2C%20toneMapped%3A%20!1%20%7D)%2C%20void%200%20%3D%3D%3D%20this.color%20%26%26%20(this.material.vertexColors%20%3D%20!0)%3B%20const%20r%20%3D%20n.getAttribute(%22position%22)%2C%20s%20%3D%20new%20Float32Array(3%20*%20r.count)%3B%20n.setAttribute(%22color%22%2C%20new%20bi(s%2C%203))%2C%20this.add(new%20Xi(n%2C%20this.material))%2C%20this.update()%20%7D%20dispose()%20%7B%20this.children%5B0%5D.geometry.dispose()%2C%20this.children%5B0%5D.material.dispose()%20%7D%20update()%20%7B%20const%20t%20%3D%20this.children%5B0%5D%3B%20if%20(void%200%20!%3D%3D%20this.color)%20this.material.color.set(this.color)%3B%20else%20%7B%20const%20e%20%3D%20t.geometry.getAttribute(%22color%22)%3B%20Sh.copy(this.light.color)%2C%20wh.copy(this.light.groundColor)%3B%20for%20(let%20t%20%3D%200%2C%20i%20%3D%20e.count%3B%20t%20%3C%20i%3B%20t%2B%2B)%20%7B%20const%20n%20%3D%20t%20%3C%20i%20%2F%202%20%3F%20Sh%20%3A%20wh%3B%20e.setXYZ(t%2C%20n.r%2C%20n.g%2C%20n.b)%20%7D%20e.needsUpdate%20%3D%20!0%20%7D%20this.light.updateWorldMatrix(!0%2C%20!1)%2C%20t.lookAt(bh.setFromMatrixPosition(this.light.matrixWorld).negate())%20%7D%20%7D%2C%20t.HemisphereLightProbe%20%3D%20class%20extends%20Rc%20%7B%20constructor(t%2C%20e%2C%20i%20%3D%201)%20%7B%20super(void%200%2C%20i)%2C%20this.isHemisphereLightProbe%20%3D%20!0%3B%20const%20n%20%3D%20(new%20qt).set(t)%2C%20r%20%3D%20(new%20qt).set(e)%2C%20s%20%3D%20new%20re(n.r%2C%20n.g%2C%20n.b)%2C%20a%20%3D%20new%20re(r.r%2C%20r.g%2C%20r.b)%2C%20o%20%3D%20Math.sqrt(Math.PI)%2C%20l%20%3D%20o%20*%20Math.sqrt(.75)%3B%20this.sh.coefficients%5B0%5D.copy(s).add(a).multiplyScalar(o)%2C%20this.sh.coefficients%5B1%5D.copy(s).sub(a).multiplyScalar(l)%20%7D%20%7D%2C%20t.IcosahedronBufferGeometry%20%3D%20class%20extends%20fl%20%7B%20constructor(t%2C%20e)%20%7B%20console.warn(%22THREE.IcosahedronBufferGeometry%20has%20been%20renamed%20to%20THREE.IcosahedronGeometry.%22)%2C%20super(t%2C%20e)%20%7D%20%7D%2C%20t.IcosahedronGeometry%20%3D%20fl%2C%20t.ImageBitmapLoader%20%3D%20class%20extends%20oc%20%7B%20constructor(t)%20%7B%20super(t)%2C%20this.isImageBitmapLoader%20%3D%20!0%2C%20%22undefined%22%20%3D%3D%20typeof%20createImageBitmap%20%26%26%20console.warn(%22THREE.ImageBitmapLoader%3A%20createImageBitmap()%20not%20supported.%22)%2C%20%22undefined%22%20%3D%3D%20typeof%20fetch%20%26%26%20console.warn(%22THREE.ImageBitmapLoader%3A%20fetch()%20not%20supported.%22)%2C%20this.options%20%3D%20%7B%20premultiplyAlpha%3A%20%22none%22%20%7D%20%7D%20setOptions(t)%20%7B%20return%20this.options%20%3D%20t%2C%20this%20%7D%20load(t%2C%20e%2C%20i%2C%20n)%20%7B%20void%200%20%3D%3D%3D%20t%20%26%26%20(t%20%3D%20%22%22)%2C%20void%200%20!%3D%3D%20this.path%20%26%26%20(t%20%3D%20this.path%20%2B%20t)%2C%20t%20%3D%20this.manager.resolveURL(t)%3B%20const%20r%20%3D%20this%2C%20s%20%3D%20rc.get(t)%3B%20if%20(void%200%20!%3D%3D%20s)%20return%20r.manager.itemStart(t)%2C%20setTimeout((function%20()%20%7B%20e%20%26%26%20e(s)%2C%20r.manager.itemEnd(t)%20%7D)%2C%200)%2C%20s%3B%20const%20a%20%3D%20%7B%7D%3B%20a.credentials%20%3D%20%22anonymous%22%20%3D%3D%3D%20this.crossOrigin%20%3F%20%22same-origin%22%20%3A%20%22include%22%2C%20a.headers%20%3D%20this.requestHeader%2C%20fetch(t%2C%20a).then((function%20(t)%20%7B%20return%20t.blob()%20%7D)).then((function%20(t)%20%7B%20return%20createImageBitmap(t%2C%20Object.assign(r.options%2C%20%7B%20colorSpaceConversion%3A%20%22none%22%20%7D))%20%7D)).then((function%20(i)%20%7B%20rc.add(t%2C%20i)%2C%20e%20%26%26%20e(i)%2C%20r.manager.itemEnd(t)%20%7D)).catch((function%20(e)%20%7B%20n%20%26%26%20n(e)%2C%20r.manager.itemError(t)%2C%20r.manager.itemEnd(t)%20%7D))%2C%20r.manager.itemStart(t)%20%7D%20%7D%2C%20t.ImageLoader%20%3D%20uc%2C%20t.ImageUtils%20%3D%20Yt%2C%20t.ImmediateRenderObject%20%3D%20function%20()%20%7B%20console.error(%22THREE.ImmediateRenderObject%20has%20been%20removed.%22)%20%7D%2C%20t.IncrementStencilOp%20%3D%207682%2C%20t.IncrementWrapStencilOp%20%3D%2034055%2C%20t.InstancedBufferAttribute%20%3D%20Pa%2C%20t.InstancedBufferGeometry%20%3D%20Dc%2C%20t.InstancedInterleavedBuffer%20%3D%20class%20extends%20%24s%20%7B%20constructor(t%2C%20e%2C%20i%20%3D%201)%20%7B%20super(t%2C%20e)%2C%20this.isInstancedInterleavedBuffer%20%3D%20!0%2C%20this.meshPerAttribute%20%3D%20i%20%7D%20copy(t)%20%7B%20return%20super.copy(t)%2C%20this.meshPerAttribute%20%3D%20t.meshPerAttribute%2C%20this%20%7D%20clone(t)%20%7B%20const%20e%20%3D%20super.clone(t)%3B%20return%20e.meshPerAttribute%20%3D%20this.meshPerAttribute%2C%20e%20%7D%20toJSON(t)%20%7B%20const%20e%20%3D%20super.toJSON(t)%3B%20return%20e.isInstancedInterleavedBuffer%20%3D%20!0%2C%20e.meshPerAttribute%20%3D%20this.meshPerAttribute%2C%20e%20%7D%20%7D%2C%20t.InstancedMesh%20%3D%20Ua%2C%20t.Int16BufferAttribute%20%3D%20class%20extends%20bi%20%7B%20constructor(t%2C%20e%2C%20i)%20%7B%20super(new%20Int16Array(t)%2C%20e%2C%20i)%20%7D%20%7D%2C%20t.Int32BufferAttribute%20%3D%20class%20extends%20bi%20%7B%20constructor(t%2C%20e%2C%20i)%20%7B%20super(new%20Int32Array(t)%2C%20e%2C%20i)%20%7D%20%7D%2C%20t.Int8BufferAttribute%20%3D%20class%20extends%20bi%20%7B%20constructor(t%2C%20e%2C%20i)%20%7B%20super(new%20Int8Array(t)%2C%20e%2C%20i)%20%7D%20%7D%2C%20t.IntType%20%3D%201013%2C%20t.InterleavedBuffer%20%3D%20%24s%2C%20t.InterleavedBufferAttribute%20%3D%20ta%2C%20t.Interpolant%20%3D%20Wl%2C%20t.InterpolateDiscrete%20%3D%20%24%2C%20t.InterpolateLinear%20%3D%20Q%2C%20t.InterpolateSmooth%20%3D%20tt%2C%20t.InvertStencilOp%20%3D%205386%2C%20t.KeepStencilOp%20%3D%20ht%2C%20t.KeyframeTrack%20%3D%20Yl%2C%20t.LOD%20%3D%20_a%2C%20t.LatheBufferGeometry%20%3D%20class%20extends%20Ao%20%7B%20constructor(t%2C%20e%2C%20i%2C%20n)%20%7B%20console.warn(%22THREE.LatheBufferGeometry%20has%20been%20renamed%20to%20THREE.LatheGeometry.%22)%2C%20super(t%2C%20e%2C%20i%2C%20n)%20%7D%20%7D%2C%20t.LatheGeometry%20%3D%20Ao%2C%20t.Layers%20%3D%20je%2C%20t.LessDepth%20%3D%202%2C%20t.LessEqualDepth%20%3D%203%2C%20t.LessEqualStencilFunc%20%3D%20515%2C%20t.LessStencilFunc%20%3D%20513%2C%20t.Light%20%3D%20dc%2C%20t.LightProbe%20%3D%20Rc%2C%20t.Line%20%3D%20Wa%2C%20t.Line3%20%3D%20class%20%7B%20constructor(t%20%3D%20new%20re%2C%20e%20%3D%20new%20re)%20%7B%20this.start%20%3D%20t%2C%20this.end%20%3D%20e%20%7D%20set(t%2C%20e)%20%7B%20return%20this.start.copy(t)%2C%20this.end.copy(e)%2C%20this%20%7D%20copy(t)%20%7B%20return%20this.start.copy(t.start)%2C%20this.end.copy(t.end)%2C%20this%20%7D%20getCenter(t)%20%7B%20return%20t.addVectors(this.start%2C%20this.end).multiplyScalar(.5)%20%7D%20delta(t)%20%7B%20return%20t.subVectors(this.end%2C%20this.start)%20%7D%20distanceSq()%20%7B%20return%20this.start.distanceToSquared(this.end)%20%7D%20distance()%20%7B%20return%20this.start.distanceTo(this.end)%20%7D%20at(t%2C%20e)%20%7B%20return%20this.delta(e).multiplyScalar(t).add(this.start)%20%7D%20closestPointToPointParameter(t%2C%20e)%20%7B%20fh.subVectors(t%2C%20this.start)%2C%20gh.subVectors(this.end%2C%20this.start)%3B%20const%20i%20%3D%20gh.dot(gh)%3B%20let%20n%20%3D%20gh.dot(fh)%20%2F%20i%3B%20return%20e%20%26%26%20(n%20%3D%20yt(n%2C%200%2C%201))%2C%20n%20%7D%20closestPointToPoint(t%2C%20e%2C%20i)%20%7B%20const%20n%20%3D%20this.closestPointToPointParameter(t%2C%20e)%3B%20return%20this.delta(i).multiplyScalar(n).add(this.start)%20%7D%20applyMatrix4(t)%20%7B%20return%20this.start.applyMatrix4(t)%2C%20this.end.applyMatrix4(t)%2C%20this%20%7D%20equals(t)%20%7B%20return%20t.start.equals(this.start)%20%26%26%20t.end.equals(this.end)%20%7D%20clone()%20%7B%20return%20(new%20this.constructor).copy(this)%20%7D%20%7D%2C%20t.LineBasicMaterial%20%3D%20Ba%2C%20t.LineCurve%20%3D%20xo%2C%20t.LineCurve3%20%3D%20_o%2C%20t.LineDashedMaterial%20%3D%20zl%2C%20t.LineLoop%20%3D%20Ya%2C%20t.LineSegments%20%3D%20Xa%2C%20t.LinearEncoding%20%3D%20at%2C%20t.LinearFilter%20%3D%20f%2C%20t.LinearInterpolant%20%3D%20ql%2C%20t.LinearMipMapLinearFilter%20%3D%201008%2C%20t.LinearMipMapNearestFilter%20%3D%201007%2C%20t.LinearMipmapLinearFilter%20%3D%20v%2C%20t.LinearMipmapNearestFilter%20%3D%20g%2C%20t.LinearSRGBColorSpace%20%3D%20ct%2C%20t.LinearToneMapping%20%3D%201%2C%20t.Loader%20%3D%20oc%2C%20t.LoaderUtils%20%3D%20Ic%2C%20t.LoadingManager%20%3D%20sc%2C%20t.LoopOnce%20%3D%202200%2C%20t.LoopPingPong%20%3D%202202%2C%20t.LoopRepeat%20%3D%202201%2C%20t.LuminanceAlphaFormat%20%3D%201025%2C%20t.LuminanceFormat%20%3D%201024%2C%20t.MOUSE%20%3D%20%7B%20LEFT%3A%200%2C%20MIDDLE%3A%201%2C%20RIGHT%3A%202%2C%20ROTATE%3A%200%2C%20DOLLY%3A%201%2C%20PAN%3A%202%20%7D%2C%20t.Material%20%3D%20xi%2C%20t.MaterialLoader%20%3D%20Pc%2C%20t.MathUtils%20%3D%20Ct%2C%20t.Matrix3%20%3D%20Rt%2C%20t.Matrix4%20%3D%20Ne%2C%20t.MaxEquation%20%3D%20104%2C%20t.Mesh%20%3D%20Xi%2C%20t.MeshBasicMaterial%20%3D%20_i%2C%20t.MeshDepthMaterial%20%3D%20Ds%2C%20t.MeshDistanceMaterial%20%3D%20Ns%2C%20t.MeshLambertMaterial%20%3D%20Nl%2C%20t.MeshMatcapMaterial%20%3D%20Ol%2C%20t.MeshNormalMaterial%20%3D%20Dl%2C%20t.MeshPhongMaterial%20%3D%20Pl%2C%20t.MeshPhysicalMaterial%20%3D%20Rl%2C%20t.MeshStandardMaterial%20%3D%20Ll%2C%20t.MeshToonMaterial%20%3D%20Il%2C%20t.MinEquation%20%3D%20103%2C%20t.MirroredRepeatWrapping%20%3D%20u%2C%20t.MixOperation%20%3D%201%2C%20t.MultiplyBlending%20%3D%204%2C%20t.MultiplyOperation%20%3D%200%2C%20t.NearestFilter%20%3D%20d%2C%20t.NearestMipMapLinearFilter%20%3D%201005%2C%20t.NearestMipMapNearestFilter%20%3D%201004%2C%20t.NearestMipmapLinearFilter%20%3D%20m%2C%20t.NearestMipmapNearestFilter%20%3D%20p%2C%20t.NeverDepth%20%3D%200%2C%20t.NeverStencilFunc%20%3D%20512%2C%20t.NoBlending%20%3D%200%2C%20t.NoColorSpace%20%3D%20%22%22%2C%20t.NoToneMapping%20%3D%200%2C%20t.NormalAnimationBlendMode%20%3D%20rt%2C%20t.NormalBlending%20%3D%201%2C%20t.NotEqualDepth%20%3D%207%2C%20t.NotEqualStencilFunc%20%3D%20517%2C%20t.NumberKeyframeTrack%20%3D%20Kl%2C%20t.Object3D%20%3D%20si%2C%20t.ObjectLoader%20%3D%20class%20extends%20oc%20%7B%20constructor(t)%20%7B%20super(t)%20%7D%20load(t%2C%20e%2C%20i%2C%20n)%20%7B%20const%20r%20%3D%20this%2C%20s%20%3D%20%22%22%20%3D%3D%3D%20this.path%20%3F%20Ic.extractUrlBase(t)%20%3A%20this.path%3B%20this.resourcePath%20%3D%20this.resourcePath%20%7C%7C%20s%3B%20const%20a%20%3D%20new%20hc(this.manager)%3B%20a.setPath(this.path)%2C%20a.setRequestHeader(this.requestHeader)%2C%20a.setWithCredentials(this.withCredentials)%2C%20a.load(t%2C%20(function%20(i)%20%7B%20let%20s%20%3D%20null%3B%20try%20%7B%20s%20%3D%20JSON.parse(i)%20%7D%20catch%20(e)%20%7B%20return%20void%200%20!%3D%3D%20n%20%26%26%20n(e)%2C%20void%20console.error(%22THREE%3AObjectLoader%3A%20Can't%20parse%20%22%20%2B%20t%20%2B%20%22.%22%2C%20e.message)%20%7D%20const%20a%20%3D%20s.metadata%3B%20if%20(void%200%20%3D%3D%3D%20a%20%7C%7C%20void%200%20%3D%3D%3D%20a.type%20%7C%7C%20%22geometry%22%20%3D%3D%3D%20a.type.toLowerCase())%20return%20void%200%20!%3D%3D%20n%20%26%26%20n(new%20Error(%22THREE.ObjectLoader%3A%20Can't%20load%20%22%20%2B%20t))%2C%20void%20console.error(%22THREE.ObjectLoader%3A%20Can't%20load%20%22%20%2B%20t)%3B%20r.parse(s%2C%20e)%20%7D)%2C%20i%2C%20n)%20%7D%20async%20loadAsync(t%2C%20e)%20%7B%20const%20i%20%3D%20%22%22%20%3D%3D%3D%20this.path%20%3F%20Ic.extractUrlBase(t)%20%3A%20this.path%3B%20this.resourcePath%20%3D%20this.resourcePath%20%7C%7C%20i%3B%20const%20n%20%3D%20new%20hc(this.manager)%3B%20n.setPath(this.path)%2C%20n.setRequestHeader(this.requestHeader)%2C%20n.setWithCredentials(this.withCredentials)%3B%20const%20r%20%3D%20await%20n.loadAsync(t%2C%20e)%2C%20s%20%3D%20JSON.parse(r)%2C%20a%20%3D%20s.metadata%3B%20if%20(void%200%20%3D%3D%3D%20a%20%7C%7C%20void%200%20%3D%3D%3D%20a.type%20%7C%7C%20%22geometry%22%20%3D%3D%3D%20a.type.toLowerCase())%20throw%20new%20Error(%22THREE.ObjectLoader%3A%20Can't%20load%20%22%20%2B%20t)%3B%20return%20await%20this.parseAsync(s)%20%7D%20parse(t%2C%20e)%20%7B%20const%20i%20%3D%20this.parseAnimations(t.animations)%2C%20n%20%3D%20this.parseShapes(t.shapes)%2C%20r%20%3D%20this.parseGeometries(t.geometries%2C%20n)%2C%20s%20%3D%20this.parseImages(t.images%2C%20(function%20()%20%7B%20void%200%20!%3D%3D%20e%20%26%26%20e(l)%20%7D))%2C%20a%20%3D%20this.parseTextures(t.textures%2C%20s)%2C%20o%20%3D%20this.parseMaterials(t.materials%2C%20a)%2C%20l%20%3D%20this.parseObject(t.object%2C%20r%2C%20o%2C%20a%2C%20i)%2C%20c%20%3D%20this.parseSkeletons(t.skeletons%2C%20l)%3B%20if%20(this.bindSkeletons(l%2C%20c)%2C%20void%200%20!%3D%3D%20e)%20%7B%20let%20t%20%3D%20!1%3B%20for%20(const%20e%20in%20s)%20if%20(s%5Be%5D.data%20instanceof%20HTMLImageElement)%20%7B%20t%20%3D%20!0%3B%20break%20%7D%20!1%20%3D%3D%3D%20t%20%26%26%20e(l)%20%7D%20return%20l%20%7D%20async%20parseAsync(t)%20%7B%20const%20e%20%3D%20this.parseAnimations(t.animations)%2C%20i%20%3D%20this.parseShapes(t.shapes)%2C%20n%20%3D%20this.parseGeometries(t.geometries%2C%20i)%2C%20r%20%3D%20await%20this.parseImagesAsync(t.images)%2C%20s%20%3D%20this.parseTextures(t.textures%2C%20r)%2C%20a%20%3D%20this.parseMaterials(t.materials%2C%20s)%2C%20o%20%3D%20this.parseObject(t.object%2C%20n%2C%20a%2C%20s%2C%20e)%2C%20l%20%3D%20this.parseSkeletons(t.skeletons%2C%20o)%3B%20return%20this.bindSkeletons(o%2C%20l)%2C%20o%20%7D%20parseShapes(t)%20%7B%20const%20e%20%3D%20%7B%7D%3B%20if%20(void%200%20!%3D%3D%20t)%20for%20(let%20i%20%3D%200%2C%20n%20%3D%20t.length%3B%20i%20%3C%20n%3B%20i%2B%2B)%20%7B%20const%20n%20%3D%20(new%20Bo).fromJSON(t%5Bi%5D)%3B%20e%5Bn.uuid%5D%20%3D%20n%20%7D%20return%20e%20%7D%20parseSkeletons(t%2C%20e)%20%7B%20const%20i%20%3D%20%7B%7D%2C%20n%20%3D%20%7B%7D%3B%20if%20(e.traverse((function%20(t)%20%7B%20t.isBone%20%26%26%20(n%5Bt.uuid%5D%20%3D%20t)%20%7D))%2C%20void%200%20!%3D%3D%20t)%20for%20(let%20e%20%3D%200%2C%20r%20%3D%20t.length%3B%20e%20%3C%20r%3B%20e%2B%2B)%20%7B%20const%20r%20%3D%20(new%20Ra).fromJSON(t%5Be%5D%2C%20n)%3B%20i%5Br.uuid%5D%20%3D%20r%20%7D%20return%20i%20%7D%20parseGeometries(t%2C%20e)%20%7B%20const%20i%20%3D%20%7B%7D%3B%20if%20(void%200%20!%3D%3D%20t)%20%7B%20const%20n%20%3D%20new%20Nc%3B%20for%20(let%20r%20%3D%200%2C%20s%20%3D%20t.length%3B%20r%20%3C%20s%3B%20r%2B%2B)%20%7B%20let%20s%3B%20const%20a%20%3D%20t%5Br%5D%3B%20switch%20(a.type)%20%7B%20case%20%22BufferGeometry%22%3A%20case%20%22InstancedBufferGeometry%22%3A%20s%20%3D%20n.parse(a)%3B%20break%3B%20default%3A%20a.type%20in%20Al%20%3F%20s%20%3D%20Al%5Ba.type%5D.fromJSON(a%2C%20e)%20%3A%20console.warn(%60THREE.ObjectLoader%3A%20Unsupported%20geometry%20type%20%22%24%7Ba.type%7D%22%60)%20%7Ds.uuid%20%3D%20a.uuid%2C%20void%200%20!%3D%3D%20a.name%20%26%26%20(s.name%20%3D%20a.name)%2C%20!0%20%3D%3D%3D%20s.isBufferGeometry%20%26%26%20void%200%20!%3D%3D%20a.userData%20%26%26%20(s.userData%20%3D%20a.userData)%2C%20i%5Ba.uuid%5D%20%3D%20s%20%7D%20%7D%20return%20i%20%7D%20parseMaterials(t%2C%20e)%20%7B%20const%20i%20%3D%20%7B%7D%2C%20n%20%3D%20%7B%7D%3B%20if%20(void%200%20!%3D%3D%20t)%20%7B%20const%20r%20%3D%20new%20Pc%3B%20r.setTextures(e)%3B%20for%20(let%20e%20%3D%200%2C%20s%20%3D%20t.length%3B%20e%20%3C%20s%3B%20e%2B%2B)%20%7B%20const%20s%20%3D%20t%5Be%5D%3B%20void%200%20%3D%3D%3D%20i%5Bs.uuid%5D%20%26%26%20(i%5Bs.uuid%5D%20%3D%20r.parse(s))%2C%20n%5Bs.uuid%5D%20%3D%20i%5Bs.uuid%5D%20%7D%20%7D%20return%20n%20%7D%20parseAnimations(t)%20%7B%20const%20e%20%3D%20%7B%7D%3B%20if%20(void%200%20!%3D%3D%20t)%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20t.length%3B%20i%2B%2B)%20%7B%20const%20n%20%3D%20t%5Bi%5D%2C%20r%20%3D%20ic.parse(n)%3B%20e%5Br.uuid%5D%20%3D%20r%20%7D%20return%20e%20%7D%20parseImages(t%2C%20e)%20%7B%20const%20i%20%3D%20this%2C%20n%20%3D%20%7B%7D%3B%20let%20r%3B%20function%20s(t)%20%7B%20if%20(%22string%22%20%3D%3D%20typeof%20t)%20%7B%20const%20e%20%3D%20t%3B%20return%20function%20(t)%20%7B%20return%20i.manager.itemStart(t)%2C%20r.load(t%2C%20(function%20()%20%7B%20i.manager.itemEnd(t)%20%7D)%2C%20void%200%2C%20(function%20()%20%7B%20i.manager.itemError(t)%2C%20i.manager.itemEnd(t)%20%7D))%20%7D(%2F%5E(%5C%2F%5C%2F)%7C(%5Ba-z%5D%2B%3A(%5C%2F%5C%2F)%3F)%2Fi.test(e)%20%3F%20e%20%3A%20i.resourcePath%20%2B%20e)%20%7D%20return%20t.data%20%3F%20%7B%20data%3A%20Nt(t.type%2C%20t.data)%2C%20width%3A%20t.width%2C%20height%3A%20t.height%20%7D%20%3A%20null%20%7D%20if%20(void%200%20!%3D%3D%20t%20%26%26%20t.length%20%3E%200)%20%7B%20const%20i%20%3D%20new%20sc(e)%3B%20r%20%3D%20new%20uc(i)%2C%20r.setCrossOrigin(this.crossOrigin)%3B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20t.length%3B%20e%20%3C%20i%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20t%5Be%5D%2C%20r%20%3D%20i.url%3B%20if%20(Array.isArray(r))%20%7B%20const%20t%20%3D%20%5B%5D%3B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20r.length%3B%20e%20%3C%20i%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20s(r%5Be%5D)%3B%20null%20!%3D%3D%20i%20%26%26%20(i%20instanceof%20HTMLImageElement%20%3F%20t.push(i)%20%3A%20t.push(new%20Ea(i.data%2C%20i.width%2C%20i.height)))%20%7D%20n%5Bi.uuid%5D%20%3D%20new%20Zt(t)%20%7D%20else%20%7B%20const%20t%20%3D%20s(i.url)%3B%20n%5Bi.uuid%5D%20%3D%20new%20Zt(t)%20%7D%20%7D%20%7D%20return%20n%20%7D%20async%20parseImagesAsync(t)%20%7B%20const%20e%20%3D%20this%2C%20i%20%3D%20%7B%7D%3B%20let%20n%3B%20async%20function%20r(t)%20%7B%20if%20(%22string%22%20%3D%3D%20typeof%20t)%20%7B%20const%20i%20%3D%20t%2C%20r%20%3D%20%2F%5E(%5C%2F%5C%2F)%7C(%5Ba-z%5D%2B%3A(%5C%2F%5C%2F)%3F)%2Fi.test(i)%20%3F%20i%20%3A%20e.resourcePath%20%2B%20i%3B%20return%20await%20n.loadAsync(r)%20%7D%20return%20t.data%20%3F%20%7B%20data%3A%20Nt(t.type%2C%20t.data)%2C%20width%3A%20t.width%2C%20height%3A%20t.height%20%7D%20%3A%20null%20%7D%20if%20(void%200%20!%3D%3D%20t%20%26%26%20t.length%20%3E%200)%20%7B%20n%20%3D%20new%20uc(this.manager)%2C%20n.setCrossOrigin(this.crossOrigin)%3B%20for%20(let%20e%20%3D%200%2C%20n%20%3D%20t.length%3B%20e%20%3C%20n%3B%20e%2B%2B)%20%7B%20const%20n%20%3D%20t%5Be%5D%2C%20s%20%3D%20n.url%3B%20if%20(Array.isArray(s))%20%7B%20const%20t%20%3D%20%5B%5D%3B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20s.length%3B%20e%20%3C%20i%3B%20e%2B%2B)%20%7B%20const%20i%20%3D%20s%5Be%5D%2C%20n%20%3D%20await%20r(i)%3B%20null%20!%3D%3D%20n%20%26%26%20(n%20instanceof%20HTMLImageElement%20%3F%20t.push(n)%20%3A%20t.push(new%20Ea(n.data%2C%20n.width%2C%20n.height)))%20%7D%20i%5Bn.uuid%5D%20%3D%20new%20Zt(t)%20%7D%20else%20%7B%20const%20t%20%3D%20await%20r(n.url)%3B%20i%5Bn.uuid%5D%20%3D%20new%20Zt(t)%20%7D%20%7D%20%7D%20return%20i%20%7D%20parseTextures(t%2C%20e)%20%7B%20function%20i(t%2C%20e)%20%7B%20return%20%22number%22%20%3D%3D%20typeof%20t%20%3F%20t%20%3A%20(console.warn(%22THREE.ObjectLoader.parseTexture%3A%20Constant%20should%20be%20in%20numeric%20form.%22%2C%20t)%2C%20e%5Bt%5D)%20%7D%20const%20n%20%3D%20%7B%7D%3B%20if%20(void%200%20!%3D%3D%20t)%20for%20(let%20r%20%3D%200%2C%20s%20%3D%20t.length%3B%20r%20%3C%20s%3B%20r%2B%2B)%20%7B%20const%20s%20%3D%20t%5Br%5D%3B%20void%200%20%3D%3D%3D%20s.image%20%26%26%20console.warn('THREE.ObjectLoader%3A%20No%20%22image%22%20specified%20for'%2C%20s.uuid)%2C%20void%200%20%3D%3D%3D%20e%5Bs.image%5D%20%26%26%20console.warn(%22THREE.ObjectLoader%3A%20Undefined%20image%22%2C%20s.image)%3B%20const%20a%20%3D%20e%5Bs.image%5D%2C%20o%20%3D%20a.data%3B%20let%20l%3B%20Array.isArray(o)%20%3F%20(l%20%3D%20new%20an%2C%206%20%3D%3D%3D%20o.length%20%26%26%20(l.needsUpdate%20%3D%20!0))%20%3A%20(l%20%3D%20o%20%26%26%20o.data%20%3F%20new%20Ea%20%3A%20new%20%24t%2C%20o%20%26%26%20(l.needsUpdate%20%3D%20!0))%2C%20l.source%20%3D%20a%2C%20l.uuid%20%3D%20s.uuid%2C%20void%200%20!%3D%3D%20s.name%20%26%26%20(l.name%20%3D%20s.name)%2C%20void%200%20!%3D%3D%20s.mapping%20%26%26%20(l.mapping%20%3D%20i(s.mapping%2C%20Oc))%2C%20void%200%20!%3D%3D%20s.offset%20%26%26%20l.offset.fromArray(s.offset)%2C%20void%200%20!%3D%3D%20s.repeat%20%26%26%20l.repeat.fromArray(s.repeat)%2C%20void%200%20!%3D%3D%20s.center%20%26%26%20l.center.fromArray(s.center)%2C%20void%200%20!%3D%3D%20s.rotation%20%26%26%20(l.rotation%20%3D%20s.rotation)%2C%20void%200%20!%3D%3D%20s.wrap%20%26%26%20(l.wrapS%20%3D%20i(s.wrap%5B0%5D%2C%20zc)%2C%20l.wrapT%20%3D%20i(s.wrap%5B1%5D%2C%20zc))%2C%20void%200%20!%3D%3D%20s.format%20%26%26%20(l.format%20%3D%20s.format)%2C%20void%200%20!%3D%3D%20s.type%20%26%26%20(l.type%20%3D%20s.type)%2C%20void%200%20!%3D%3D%20s.encoding%20%26%26%20(l.encoding%20%3D%20s.encoding)%2C%20void%200%20!%3D%3D%20s.minFilter%20%26%26%20(l.minFilter%20%3D%20i(s.minFilter%2C%20Uc))%2C%20void%200%20!%3D%3D%20s.magFilter%20%26%26%20(l.magFilter%20%3D%20i(s.magFilter%2C%20Uc))%2C%20void%200%20!%3D%3D%20s.anisotropy%20%26%26%20(l.anisotropy%20%3D%20s.anisotropy)%2C%20void%200%20!%3D%3D%20s.flipY%20%26%26%20(l.flipY%20%3D%20s.flipY)%2C%20void%200%20!%3D%3D%20s.generateMipmaps%20%26%26%20(l.generateMipmaps%20%3D%20s.generateMipmaps)%2C%20void%200%20!%3D%3D%20s.premultiplyAlpha%20%26%26%20(l.premultiplyAlpha%20%3D%20s.premultiplyAlpha)%2C%20void%200%20!%3D%3D%20s.unpackAlignment%20%26%26%20(l.unpackAlignment%20%3D%20s.unpackAlignment)%2C%20void%200%20!%3D%3D%20s.userData%20%26%26%20(l.userData%20%3D%20s.userData)%2C%20n%5Bs.uuid%5D%20%3D%20l%20%7D%20return%20n%20%7D%20parseObject(t%2C%20e%2C%20i%2C%20n%2C%20r)%20%7B%20let%20s%2C%20a%2C%20o%3B%20function%20l(t)%20%7B%20return%20void%200%20%3D%3D%3D%20e%5Bt%5D%20%26%26%20console.warn(%22THREE.ObjectLoader%3A%20Undefined%20geometry%22%2C%20t)%2C%20e%5Bt%5D%20%7D%20function%20c(t)%20%7B%20if%20(void%200%20!%3D%3D%20t)%20%7B%20if%20(Array.isArray(t))%20%7B%20const%20e%20%3D%20%5B%5D%3B%20for%20(let%20n%20%3D%200%2C%20r%20%3D%20t.length%3B%20n%20%3C%20r%3B%20n%2B%2B)%20%7B%20const%20r%20%3D%20t%5Bn%5D%3B%20void%200%20%3D%3D%3D%20i%5Br%5D%20%26%26%20console.warn(%22THREE.ObjectLoader%3A%20Undefined%20material%22%2C%20r)%2C%20e.push(i%5Br%5D)%20%7D%20return%20e%20%7D%20return%20void%200%20%3D%3D%3D%20i%5Bt%5D%20%26%26%20console.warn(%22THREE.ObjectLoader%3A%20Undefined%20material%22%2C%20t)%2C%20i%5Bt%5D%20%7D%20%7D%20function%20h(t)%20%7B%20return%20void%200%20%3D%3D%3D%20n%5Bt%5D%20%26%26%20console.warn(%22THREE.ObjectLoader%3A%20Undefined%20texture%22%2C%20t)%2C%20n%5Bt%5D%20%7D%20switch%20(t.type)%20%7B%20case%20%22Scene%22%3A%20s%20%3D%20new%20Ks%2C%20void%200%20!%3D%3D%20t.background%20%26%26%20(Number.isInteger(t.background)%20%3F%20s.background%20%3D%20new%20qt(t.background)%20%3A%20s.background%20%3D%20h(t.background))%2C%20void%200%20!%3D%3D%20t.environment%20%26%26%20(s.environment%20%3D%20h(t.environment))%2C%20void%200%20!%3D%3D%20t.fog%20%26%26%20(%22Fog%22%20%3D%3D%3D%20t.fog.type%20%3F%20s.fog%20%3D%20new%20Js(t.fog.color%2C%20t.fog.near%2C%20t.fog.far)%20%3A%20%22FogExp2%22%20%3D%3D%3D%20t.fog.type%20%26%26%20(s.fog%20%3D%20new%20Zs(t.fog.color%2C%20t.fog.density)))%2C%20void%200%20!%3D%3D%20t.backgroundBlurriness%20%26%26%20(s.backgroundBlurriness%20%3D%20t.backgroundBlurriness)%3B%20break%3B%20case%20%22PerspectiveCamera%22%3A%20s%20%3D%20new%20nn(t.fov%2C%20t.aspect%2C%20t.near%2C%20t.far)%2C%20void%200%20!%3D%3D%20t.focus%20%26%26%20(s.focus%20%3D%20t.focus)%2C%20void%200%20!%3D%3D%20t.zoom%20%26%26%20(s.zoom%20%3D%20t.zoom)%2C%20void%200%20!%3D%3D%20t.filmGauge%20%26%26%20(s.filmGauge%20%3D%20t.filmGauge)%2C%20void%200%20!%3D%3D%20t.filmOffset%20%26%26%20(s.filmOffset%20%3D%20t.filmOffset)%2C%20void%200%20!%3D%3D%20t.view%20%26%26%20(s.view%20%3D%20Object.assign(%7B%7D%2C%20t.view))%3B%20break%3B%20case%20%22OrthographicCamera%22%3A%20s%20%3D%20new%20Cn(t.left%2C%20t.right%2C%20t.top%2C%20t.bottom%2C%20t.near%2C%20t.far)%2C%20void%200%20!%3D%3D%20t.zoom%20%26%26%20(s.zoom%20%3D%20t.zoom)%2C%20void%200%20!%3D%3D%20t.view%20%26%26%20(s.view%20%3D%20Object.assign(%7B%7D%2C%20t.view))%3B%20break%3B%20case%20%22AmbientLight%22%3A%20s%20%3D%20new%20Ec(t.color%2C%20t.intensity)%3B%20break%3B%20case%20%22DirectionalLight%22%3A%20s%20%3D%20new%20Ac(t.color%2C%20t.intensity)%3B%20break%3B%20case%20%22PointLight%22%3A%20s%20%3D%20new%20wc(t.color%2C%20t.intensity%2C%20t.distance%2C%20t.decay)%3B%20break%3B%20case%20%22RectAreaLight%22%3A%20s%20%3D%20new%20Cc(t.color%2C%20t.intensity%2C%20t.width%2C%20t.height)%3B%20break%3B%20case%20%22SpotLight%22%3A%20s%20%3D%20new%20_c(t.color%2C%20t.intensity%2C%20t.distance%2C%20t.angle%2C%20t.penumbra%2C%20t.decay)%3B%20break%3B%20case%20%22HemisphereLight%22%3A%20s%20%3D%20new%20pc(t.color%2C%20t.groundColor%2C%20t.intensity)%3B%20break%3B%20case%20%22LightProbe%22%3A%20s%20%3D%20(new%20Rc).fromJSON(t)%3B%20break%3B%20case%20%22SkinnedMesh%22%3A%20a%20%3D%20l(t.geometry)%2C%20o%20%3D%20c(t.material)%2C%20s%20%3D%20new%20Ta(a%2C%20o)%2C%20void%200%20!%3D%3D%20t.bindMode%20%26%26%20(s.bindMode%20%3D%20t.bindMode)%2C%20void%200%20!%3D%3D%20t.bindMatrix%20%26%26%20s.bindMatrix.fromArray(t.bindMatrix)%2C%20void%200%20!%3D%3D%20t.skeleton%20%26%26%20(s.skeleton%20%3D%20t.skeleton)%3B%20break%3B%20case%20%22Mesh%22%3A%20a%20%3D%20l(t.geometry)%2C%20o%20%3D%20c(t.material)%2C%20s%20%3D%20new%20Xi(a%2C%20o)%3B%20break%3B%20case%20%22InstancedMesh%22%3A%20a%20%3D%20l(t.geometry)%2C%20o%20%3D%20c(t.material)%3B%20const%20e%20%3D%20t.count%2C%20i%20%3D%20t.instanceMatrix%2C%20n%20%3D%20t.instanceColor%3B%20s%20%3D%20new%20Ua(a%2C%20o%2C%20e)%2C%20s.instanceMatrix%20%3D%20new%20Pa(new%20Float32Array(i.array)%2C%2016)%2C%20void%200%20!%3D%3D%20n%20%26%26%20(s.instanceColor%20%3D%20new%20Pa(new%20Float32Array(n.array)%2C%20n.itemSize))%3B%20break%3B%20case%20%22LOD%22%3A%20s%20%3D%20new%20_a%3B%20break%3B%20case%20%22Line%22%3A%20s%20%3D%20new%20Wa(l(t.geometry)%2C%20c(t.material))%3B%20break%3B%20case%20%22LineLoop%22%3A%20s%20%3D%20new%20Ya(l(t.geometry)%2C%20c(t.material))%3B%20break%3B%20case%20%22LineSegments%22%3A%20s%20%3D%20new%20Xa(l(t.geometry)%2C%20c(t.material))%3B%20break%3B%20case%20%22PointCloud%22%3A%20case%20%22Points%22%3A%20s%20%3D%20new%20to(l(t.geometry)%2C%20c(t.material))%3B%20break%3B%20case%20%22Sprite%22%3A%20s%20%3D%20new%20fa(c(t.material))%3B%20break%3B%20case%20%22Group%22%3A%20s%20%3D%20new%20ks%3B%20break%3B%20case%20%22Bone%22%3A%20s%20%3D%20new%20Aa%3B%20break%3B%20default%3A%20s%20%3D%20new%20si%20%7Dif%20(s.uuid%20%3D%20t.uuid%2C%20void%200%20!%3D%3D%20t.name%20%26%26%20(s.name%20%3D%20t.name)%2C%20void%200%20!%3D%3D%20t.matrix%20%3F%20(s.matrix.fromArray(t.matrix)%2C%20void%200%20!%3D%3D%20t.matrixAutoUpdate%20%26%26%20(s.matrixAutoUpdate%20%3D%20t.matrixAutoUpdate)%2C%20s.matrixAutoUpdate%20%26%26%20s.matrix.decompose(s.position%2C%20s.quaternion%2C%20s.scale))%20%3A%20(void%200%20!%3D%3D%20t.position%20%26%26%20s.position.fromArray(t.position)%2C%20void%200%20!%3D%3D%20t.rotation%20%26%26%20s.rotation.fromArray(t.rotation)%2C%20void%200%20!%3D%3D%20t.quaternion%20%26%26%20s.quaternion.fromArray(t.quaternion)%2C%20void%200%20!%3D%3D%20t.scale%20%26%26%20s.scale.fromArray(t.scale))%2C%20void%200%20!%3D%3D%20t.castShadow%20%26%26%20(s.castShadow%20%3D%20t.castShadow)%2C%20void%200%20!%3D%3D%20t.receiveShadow%20%26%26%20(s.receiveShadow%20%3D%20t.receiveShadow)%2C%20t.shadow%20%26%26%20(void%200%20!%3D%3D%20t.shadow.bias%20%26%26%20(s.shadow.bias%20%3D%20t.shadow.bias)%2C%20void%200%20!%3D%3D%20t.shadow.normalBias%20%26%26%20(s.shadow.normalBias%20%3D%20t.shadow.normalBias)%2C%20void%200%20!%3D%3D%20t.shadow.radius%20%26%26%20(s.shadow.radius%20%3D%20t.shadow.radius)%2C%20void%200%20!%3D%3D%20t.shadow.mapSize%20%26%26%20s.shadow.mapSize.fromArray(t.shadow.mapSize)%2C%20void%200%20!%3D%3D%20t.shadow.camera%20%26%26%20(s.shadow.camera%20%3D%20this.parseObject(t.shadow.camera)))%2C%20void%200%20!%3D%3D%20t.visible%20%26%26%20(s.visible%20%3D%20t.visible)%2C%20void%200%20!%3D%3D%20t.frustumCulled%20%26%26%20(s.frustumCulled%20%3D%20t.frustumCulled)%2C%20void%200%20!%3D%3D%20t.renderOrder%20%26%26%20(s.renderOrder%20%3D%20t.renderOrder)%2C%20void%200%20!%3D%3D%20t.userData%20%26%26%20(s.userData%20%3D%20t.userData)%2C%20void%200%20!%3D%3D%20t.layers%20%26%26%20(s.layers.mask%20%3D%20t.layers)%2C%20void%200%20!%3D%3D%20t.children)%20%7B%20const%20a%20%3D%20t.children%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20a.length%3B%20t%2B%2B)s.add(this.parseObject(a%5Bt%5D%2C%20e%2C%20i%2C%20n%2C%20r))%20%7D%20if%20(void%200%20!%3D%3D%20t.animations)%20%7B%20const%20e%20%3D%20t.animations%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20e.length%3B%20t%2B%2B)%20%7B%20const%20i%20%3D%20e%5Bt%5D%3B%20s.animations.push(r%5Bi%5D)%20%7D%20%7D%20if%20(%22LOD%22%20%3D%3D%3D%20t.type)%20%7B%20void%200%20!%3D%3D%20t.autoUpdate%20%26%26%20(s.autoUpdate%20%3D%20t.autoUpdate)%3B%20const%20e%20%3D%20t.levels%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20e.length%3B%20t%2B%2B)%20%7B%20const%20i%20%3D%20e%5Bt%5D%2C%20n%20%3D%20s.getObjectByProperty(%22uuid%22%2C%20i.object)%3B%20void%200%20!%3D%3D%20n%20%26%26%20s.addLevel(n%2C%20i.distance%2C%20i.hysteresis)%20%7D%20%7D%20return%20s%20%7D%20bindSkeletons(t%2C%20e)%20%7B%200%20!%3D%3D%20Object.keys(e).length%20%26%26%20t.traverse((function%20(t)%20%7B%20if%20(!0%20%3D%3D%3D%20t.isSkinnedMesh%20%26%26%20void%200%20!%3D%3D%20t.skeleton)%20%7B%20const%20i%20%3D%20e%5Bt.skeleton%5D%3B%20void%200%20%3D%3D%3D%20i%20%3F%20console.warn(%22THREE.ObjectLoader%3A%20No%20skeleton%20found%20with%20UUID%3A%22%2C%20t.skeleton)%20%3A%20t.bind(i%2C%20t.bindMatrix)%20%7D%20%7D))%20%7D%20%7D%2C%20t.ObjectSpaceNormalMap%20%3D%201%2C%20t.OctahedronBufferGeometry%20%3D%20class%20extends%20gl%20%7B%20constructor(t%2C%20e)%20%7B%20console.warn(%22THREE.OctahedronBufferGeometry%20has%20been%20renamed%20to%20THREE.OctahedronGeometry.%22)%2C%20super(t%2C%20e)%20%7D%20%7D%2C%20t.OctahedronGeometry%20%3D%20gl%2C%20t.OneFactor%20%3D%20201%2C%20t.OneMinusDstAlphaFactor%20%3D%20207%2C%20t.OneMinusDstColorFactor%20%3D%20209%2C%20t.OneMinusSrcAlphaFactor%20%3D%20205%2C%20t.OneMinusSrcColorFactor%20%3D%20203%2C%20t.OrthographicCamera%20%3D%20Cn%2C%20t.PCFShadowMap%20%3D%201%2C%20t.PCFSoftShadowMap%20%3D%202%2C%20t.PMREMGenerator%20%3D%20Un%2C%20t.Path%20%3D%20To%2C%20t.PerspectiveCamera%20%3D%20nn%2C%20t.Plane%20%3D%20un%2C%20t.PlaneBufferGeometry%20%3D%20class%20extends%20vn%20%7B%20constructor(t%2C%20e%2C%20i%2C%20n)%20%7B%20console.warn(%22THREE.PlaneBufferGeometry%20has%20been%20renamed%20to%20THREE.PlaneGeometry.%22)%2C%20super(t%2C%20e%2C%20i%2C%20n)%20%7D%20%7D%2C%20t.PlaneGeometry%20%3D%20vn%2C%20t.PlaneHelper%20%3D%20class%20extends%20Wa%20%7B%20constructor(t%2C%20e%20%3D%201%2C%20i%20%3D%2016776960)%20%7B%20const%20n%20%3D%20i%2C%20r%20%3D%20new%20Di%3B%20r.setAttribute(%22position%22%2C%20new%20Ti(%5B1%2C%20-1%2C%200%2C%20-1%2C%201%2C%200%2C%20-1%2C%20-1%2C%200%2C%201%2C%201%2C%200%2C%20-1%2C%201%2C%200%2C%20-1%2C%20-1%2C%200%2C%201%2C%20-1%2C%200%2C%201%2C%201%2C%200%5D%2C%203))%2C%20r.computeBoundingSphere()%2C%20super(r%2C%20new%20Ba(%7B%20color%3A%20n%2C%20toneMapped%3A%20!1%20%7D))%2C%20this.type%20%3D%20%22PlaneHelper%22%2C%20this.plane%20%3D%20t%2C%20this.size%20%3D%20e%3B%20const%20s%20%3D%20new%20Di%3B%20s.setAttribute(%22position%22%2C%20new%20Ti(%5B1%2C%201%2C%200%2C%20-1%2C%201%2C%200%2C%20-1%2C%20-1%2C%200%2C%201%2C%201%2C%200%2C%20-1%2C%20-1%2C%200%2C%201%2C%20-1%2C%200%5D%2C%203))%2C%20s.computeBoundingSphere()%2C%20this.add(new%20Xi(s%2C%20new%20_i(%7B%20color%3A%20n%2C%20opacity%3A%20.2%2C%20transparent%3A%20!0%2C%20depthWrite%3A%20!1%2C%20toneMapped%3A%20!1%20%7D)))%20%7D%20updateMatrixWorld(t)%20%7B%20this.position.set(0%2C%200%2C%200)%2C%20this.scale.set(.5%20*%20this.size%2C%20.5%20*%20this.size%2C%201)%2C%20this.lookAt(this.plane.normal)%2C%20this.translateZ(-this.plane.constant)%2C%20super.updateMatrixWorld(t)%20%7D%20dispose()%20%7B%20this.geometry.dispose()%2C%20this.material.dispose()%2C%20this.children%5B0%5D.geometry.dispose()%2C%20this.children%5B0%5D.material.dispose()%20%7D%20%7D%2C%20t.PointLight%20%3D%20wc%2C%20t.PointLightHelper%20%3D%20class%20extends%20Xi%20%7B%20constructor(t%2C%20e%2C%20i)%20%7B%20super(new%20_l(e%2C%204%2C%202)%2C%20new%20_i(%7B%20wireframe%3A%20!0%2C%20fog%3A%20!1%2C%20toneMapped%3A%20!1%20%7D))%2C%20this.light%20%3D%20t%2C%20this.color%20%3D%20i%2C%20this.type%20%3D%20%22PointLightHelper%22%2C%20this.matrix%20%3D%20this.light.matrixWorld%2C%20this.matrixAutoUpdate%20%3D%20!1%2C%20this.update()%20%7D%20dispose()%20%7B%20this.geometry.dispose()%2C%20this.material.dispose()%20%7D%20update()%20%7B%20this.light.updateWorldMatrix(!0%2C%20!1)%2C%20void%200%20!%3D%3D%20this.color%20%3F%20this.material.color.set(this.color)%20%3A%20this.material.color.copy(this.light.color)%20%7D%20%7D%2C%20t.Points%20%3D%20to%2C%20t.PointsMaterial%20%3D%20Za%2C%20t.PolarGridHelper%20%3D%20class%20extends%20Xa%20%7B%20constructor(t%20%3D%2010%2C%20e%20%3D%2016%2C%20i%20%3D%208%2C%20n%20%3D%2064%2C%20r%20%3D%204473924%2C%20s%20%3D%208947848)%20%7B%20r%20%3D%20new%20qt(r)%2C%20s%20%3D%20new%20qt(s)%3B%20const%20a%20%3D%20%5B%5D%2C%20o%20%3D%20%5B%5D%3B%20if%20(e%20%3E%201)%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20e%3B%20i%2B%2B)%20%7B%20const%20n%20%3D%20i%20%2F%20e%20*%20(2%20*%20Math.PI)%2C%20l%20%3D%20Math.sin(n)%20*%20t%2C%20c%20%3D%20Math.cos(n)%20*%20t%3B%20a.push(0%2C%200%2C%200)%2C%20a.push(l%2C%200%2C%20c)%3B%20const%20h%20%3D%201%20%26%20i%20%3F%20r%20%3A%20s%3B%20o.push(h.r%2C%20h.g%2C%20h.b)%2C%20o.push(h.r%2C%20h.g%2C%20h.b)%20%7D%20for%20(let%20e%20%3D%200%3B%20e%20%3C%20i%3B%20e%2B%2B)%20%7B%20const%20l%20%3D%201%20%26%20e%20%3F%20r%20%3A%20s%2C%20c%20%3D%20t%20-%20t%20%2F%20i%20*%20e%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20n%3B%20t%2B%2B)%20%7B%20let%20e%20%3D%20t%20%2F%20n%20*%20(2%20*%20Math.PI)%2C%20i%20%3D%20Math.sin(e)%20*%20c%2C%20r%20%3D%20Math.cos(e)%20*%20c%3B%20a.push(i%2C%200%2C%20r)%2C%20o.push(l.r%2C%20l.g%2C%20l.b)%2C%20e%20%3D%20(t%20%2B%201)%20%2F%20n%20*%20(2%20*%20Math.PI)%2C%20i%20%3D%20Math.sin(e)%20*%20c%2C%20r%20%3D%20Math.cos(e)%20*%20c%2C%20a.push(i%2C%200%2C%20r)%2C%20o.push(l.r%2C%20l.g%2C%20l.b)%20%7D%20%7D%20const%20l%20%3D%20new%20Di%3B%20l.setAttribute(%22position%22%2C%20new%20Ti(a%2C%203))%2C%20l.setAttribute(%22color%22%2C%20new%20Ti(o%2C%203))%3B%20super(l%2C%20new%20Ba(%7B%20vertexColors%3A%20!0%2C%20toneMapped%3A%20!1%20%7D))%2C%20this.type%20%3D%20%22PolarGridHelper%22%20%7D%20dispose()%20%7B%20this.geometry.dispose()%2C%20this.material.dispose()%20%7D%20%7D%2C%20t.PolyhedronBufferGeometry%20%3D%20class%20extends%20Po%20%7B%20constructor(t%2C%20e%2C%20i%2C%20n)%20%7B%20console.warn(%22THREE.PolyhedronBufferGeometry%20has%20been%20renamed%20to%20THREE.PolyhedronGeometry.%22)%2C%20super(t%2C%20e%2C%20i%2C%20n)%20%7D%20%7D%2C%20t.PolyhedronGeometry%20%3D%20Po%2C%20t.PositionalAudio%20%3D%20class%20extends%20Zc%20%7B%20constructor(t)%20%7B%20super(t)%2C%20this.panner%20%3D%20this.context.createPanner()%2C%20this.panner.panningModel%20%3D%20%22HRTF%22%2C%20this.panner.connect(this.gain)%20%7D%20disconnect()%20%7B%20super.disconnect()%2C%20this.panner.disconnect(this.gain)%20%7D%20getOutput()%20%7B%20return%20this.panner%20%7D%20getRefDistance()%20%7B%20return%20this.panner.refDistance%20%7D%20setRefDistance(t)%20%7B%20return%20this.panner.refDistance%20%3D%20t%2C%20this%20%7D%20getRolloffFactor()%20%7B%20return%20this.panner.rolloffFactor%20%7D%20setRolloffFactor(t)%20%7B%20return%20this.panner.rolloffFactor%20%3D%20t%2C%20this%20%7D%20getDistanceModel()%20%7B%20return%20this.panner.distanceModel%20%7D%20setDistanceModel(t)%20%7B%20return%20this.panner.distanceModel%20%3D%20t%2C%20this%20%7D%20getMaxDistance()%20%7B%20return%20this.panner.maxDistance%20%7D%20setMaxDistance(t)%20%7B%20return%20this.panner.maxDistance%20%3D%20t%2C%20this%20%7D%20setDirectionalCone(t%2C%20e%2C%20i)%20%7B%20return%20this.panner.coneInnerAngle%20%3D%20t%2C%20this.panner.coneOuterAngle%20%3D%20e%2C%20this.panner.coneOuterGain%20%3D%20i%2C%20this%20%7D%20updateMatrixWorld(t)%20%7B%20if%20(super.updateMatrixWorld(t)%2C%20!0%20%3D%3D%3D%20this.hasPlaybackControl%20%26%26%20!1%20%3D%3D%3D%20this.isPlaying)%20return%3B%20this.matrixWorld.decompose(Jc%2C%20Kc%2C%20%24c)%2C%20Qc.set(0%2C%200%2C%201).applyQuaternion(Kc)%3B%20const%20e%20%3D%20this.panner%3B%20if%20(e.positionX)%20%7B%20const%20t%20%3D%20this.context.currentTime%20%2B%20this.listener.timeDelta%3B%20e.positionX.linearRampToValueAtTime(Jc.x%2C%20t)%2C%20e.positionY.linearRampToValueAtTime(Jc.y%2C%20t)%2C%20e.positionZ.linearRampToValueAtTime(Jc.z%2C%20t)%2C%20e.orientationX.linearRampToValueAtTime(Qc.x%2C%20t)%2C%20e.orientationY.linearRampToValueAtTime(Qc.y%2C%20t)%2C%20e.orientationZ.linearRampToValueAtTime(Qc.z%2C%20t)%20%7D%20else%20e.setPosition(Jc.x%2C%20Jc.y%2C%20Jc.z)%2C%20e.setOrientation(Qc.x%2C%20Qc.y%2C%20Qc.z)%20%7D%20%7D%2C%20t.PropertyBinding%20%3D%20oh%2C%20t.PropertyMixer%20%3D%20th%2C%20t.QuadraticBezierCurve%20%3D%20yo%2C%20t.QuadraticBezierCurve3%20%3D%20Mo%2C%20t.Quaternion%20%3D%20ne%2C%20t.QuaternionKeyframeTrack%20%3D%20Ql%2C%20t.QuaternionLinearInterpolant%20%3D%20%24l%2C%20t.REVISION%20%3D%20e%2C%20t.RGBADepthPacking%20%3D%203201%2C%20t.RGBAFormat%20%3D%20w%2C%20t.RGBAIntegerFormat%20%3D%201033%2C%20t.RGBA_ASTC_10x10_Format%20%3D%20Y%2C%20t.RGBA_ASTC_10x5_Format%20%3D%20j%2C%20t.RGBA_ASTC_10x6_Format%20%3D%20q%2C%20t.RGBA_ASTC_10x8_Format%20%3D%20X%2C%20t.RGBA_ASTC_12x10_Format%20%3D%20Z%2C%20t.RGBA_ASTC_12x12_Format%20%3D%20J%2C%20t.RGBA_ASTC_4x4_Format%20%3D%20U%2C%20t.RGBA_ASTC_5x4_Format%20%3D%20B%2C%20t.RGBA_ASTC_5x5_Format%20%3D%20F%2C%20t.RGBA_ASTC_6x5_Format%20%3D%20k%2C%20t.RGBA_ASTC_6x6_Format%20%3D%20G%2C%20t.RGBA_ASTC_8x5_Format%20%3D%20V%2C%20t.RGBA_ASTC_8x6_Format%20%3D%20H%2C%20t.RGBA_ASTC_8x8_Format%20%3D%20W%2C%20t.RGBA_BPTC_Format%20%3D%20K%2C%20t.RGBA_ETC2_EAC_Format%20%3D%20z%2C%20t.RGBA_PVRTC_2BPPV1_Format%20%3D%20N%2C%20t.RGBA_PVRTC_4BPPV1_Format%20%3D%20D%2C%20t.RGBA_S3TC_DXT1_Format%20%3D%20C%2C%20t.RGBA_S3TC_DXT3_Format%20%3D%20L%2C%20t.RGBA_S3TC_DXT5_Format%20%3D%20R%2C%20t.RGBFormat%20%3D%201022%2C%20t.RGB_ETC1_Format%20%3D%2036196%2C%20t.RGB_ETC2_Format%20%3D%20O%2C%20t.RGB_PVRTC_2BPPV1_Format%20%3D%20I%2C%20t.RGB_PVRTC_4BPPV1_Format%20%3D%20P%2C%20t.RGB_S3TC_DXT1_Format%20%3D%20E%2C%20t.RGFormat%20%3D%201030%2C%20t.RGIntegerFormat%20%3D%201031%2C%20t.RawShaderMaterial%20%3D%20Cl%2C%20t.Ray%20%3D%20De%2C%20t.Raycaster%20%3D%20class%20%7B%20constructor(t%2C%20e%2C%20i%20%3D%200%2C%20n%20%3D%201%20%2F%200)%20%7B%20this.ray%20%3D%20new%20De(t%2C%20e)%2C%20this.near%20%3D%20i%2C%20this.far%20%3D%20n%2C%20this.camera%20%3D%20null%2C%20this.layers%20%3D%20new%20je%2C%20this.params%20%3D%20%7B%20Mesh%3A%20%7B%7D%2C%20Line%3A%20%7B%20threshold%3A%201%20%7D%2C%20LOD%3A%20%7B%7D%2C%20Points%3A%20%7B%20threshold%3A%201%20%7D%2C%20Sprite%3A%20%7B%7D%20%7D%20%7D%20set(t%2C%20e)%20%7B%20this.ray.set(t%2C%20e)%20%7D%20setFromCamera(t%2C%20e)%20%7B%20e.isPerspectiveCamera%20%3F%20(this.ray.origin.setFromMatrixPosition(e.matrixWorld)%2C%20this.ray.direction.set(t.x%2C%20t.y%2C%20.5).unproject(e).sub(this.ray.origin).normalize()%2C%20this.camera%20%3D%20e)%20%3A%20e.isOrthographicCamera%20%3F%20(this.ray.origin.set(t.x%2C%20t.y%2C%20(e.near%20%2B%20e.far)%20%2F%20(e.near%20-%20e.far)).unproject(e)%2C%20this.ray.direction.set(0%2C%200%2C%20-1).transformDirection(e.matrixWorld)%2C%20this.camera%20%3D%20e)%20%3A%20console.error(%22THREE.Raycaster%3A%20Unsupported%20camera%20type%3A%20%22%20%2B%20e.type)%20%7D%20intersectObject(t%2C%20e%20%3D%20!0%2C%20i%20%3D%20%5B%5D)%20%7B%20return%20ph(t%2C%20this%2C%20i%2C%20e)%2C%20i.sort(dh)%2C%20i%20%7D%20intersectObjects(t%2C%20e%20%3D%20!0%2C%20i%20%3D%20%5B%5D)%20%7B%20for%20(let%20n%20%3D%200%2C%20r%20%3D%20t.length%3B%20n%20%3C%20r%3B%20n%2B%2B)ph(t%5Bn%5D%2C%20this%2C%20i%2C%20e)%3B%20return%20i.sort(dh)%2C%20i%20%7D%20%7D%2C%20t.RectAreaLight%20%3D%20Cc%2C%20t.RedFormat%20%3D%201028%2C%20t.RedIntegerFormat%20%3D%201029%2C%20t.ReinhardToneMapping%20%3D%202%2C%20t.RepeatWrapping%20%3D%20c%2C%20t.ReplaceStencilOp%20%3D%207681%2C%20t.ReverseSubtractEquation%20%3D%20102%2C%20t.RingBufferGeometry%20%3D%20class%20extends%20vl%20%7B%20constructor(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s)%20%7B%20console.warn(%22THREE.RingBufferGeometry%20has%20been%20renamed%20to%20THREE.RingGeometry.%22)%2C%20super(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s)%20%7D%20%7D%2C%20t.RingGeometry%20%3D%20vl%2C%20t.SRGBColorSpace%20%3D%20lt%2C%20t.Scene%20%3D%20Ks%2C%20t.ShaderChunk%20%3D%20xn%2C%20t.ShaderLib%20%3D%20yn%2C%20t.ShaderMaterial%20%3D%20tn%2C%20t.ShadowMaterial%20%3D%20El%2C%20t.Shape%20%3D%20Bo%2C%20t.ShapeBufferGeometry%20%3D%20class%20extends%20xl%20%7B%20constructor(t%2C%20e)%20%7B%20console.warn(%22THREE.ShapeBufferGeometry%20has%20been%20renamed%20to%20THREE.ShapeGeometry.%22)%2C%20super(t%2C%20e)%20%7D%20%7D%2C%20t.ShapeGeometry%20%3D%20xl%2C%20t.ShapePath%20%3D%20class%20%7B%20constructor()%20%7B%20this.type%20%3D%20%22ShapePath%22%2C%20this.color%20%3D%20new%20qt%2C%20this.subPaths%20%3D%20%5B%5D%2C%20this.currentPath%20%3D%20null%20%7D%20moveTo(t%2C%20e)%20%7B%20return%20this.currentPath%20%3D%20new%20To%2C%20this.subPaths.push(this.currentPath)%2C%20this.currentPath.moveTo(t%2C%20e)%2C%20this%20%7D%20lineTo(t%2C%20e)%20%7B%20return%20this.currentPath.lineTo(t%2C%20e)%2C%20this%20%7D%20quadraticCurveTo(t%2C%20e%2C%20i%2C%20n)%20%7B%20return%20this.currentPath.quadraticCurveTo(t%2C%20e%2C%20i%2C%20n)%2C%20this%20%7D%20bezierCurveTo(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s)%20%7B%20return%20this.currentPath.bezierCurveTo(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s)%2C%20this%20%7D%20splineThru(t)%20%7B%20return%20this.currentPath.splineThru(t)%2C%20this%20%7D%20toShapes(t)%20%7B%20function%20e(t%2C%20e)%20%7B%20const%20i%20%3D%20e.length%3B%20let%20n%20%3D%20!1%3B%20for%20(let%20r%20%3D%20i%20-%201%2C%20s%20%3D%200%3B%20s%20%3C%20i%3B%20r%20%3D%20s%2B%2B)%20%7B%20let%20i%20%3D%20e%5Br%5D%2C%20a%20%3D%20e%5Bs%5D%2C%20o%20%3D%20a.x%20-%20i.x%2C%20l%20%3D%20a.y%20-%20i.y%3B%20if%20(Math.abs(l)%20%3E%20Number.EPSILON)%20%7B%20if%20(l%20%3C%200%20%26%26%20(i%20%3D%20e%5Bs%5D%2C%20o%20%3D%20-o%2C%20a%20%3D%20e%5Br%5D%2C%20l%20%3D%20-l)%2C%20t.y%20%3C%20i.y%20%7C%7C%20t.y%20%3E%20a.y)%20continue%3B%20if%20(t.y%20%3D%3D%3D%20i.y)%20%7B%20if%20(t.x%20%3D%3D%3D%20i.x)%20return%20!0%20%7D%20else%20%7B%20const%20e%20%3D%20l%20*%20(t.x%20-%20i.x)%20-%20o%20*%20(t.y%20-%20i.y)%3B%20if%20(0%20%3D%3D%3D%20e)%20return%20!0%3B%20if%20(e%20%3C%200)%20continue%3B%20n%20%3D%20!n%20%7D%20%7D%20else%20%7B%20if%20(t.y%20!%3D%3D%20i.y)%20continue%3B%20if%20(a.x%20%3C%3D%20t.x%20%26%26%20t.x%20%3C%3D%20i.x%20%7C%7C%20i.x%20%3C%3D%20t.x%20%26%26%20t.x%20%3C%3D%20a.x)%20return%20!0%20%7D%20%7D%20return%20n%20%7D%20const%20i%20%3D%20hl.isClockWise%2C%20n%20%3D%20this.subPaths%3B%20if%20(0%20%3D%3D%3D%20n.length)%20return%20%5B%5D%3B%20let%20r%2C%20s%2C%20a%3B%20const%20o%20%3D%20%5B%5D%3B%20if%20(1%20%3D%3D%3D%20n.length)%20return%20s%20%3D%20n%5B0%5D%2C%20a%20%3D%20new%20Bo%2C%20a.curves%20%3D%20s.curves%2C%20o.push(a)%2C%20o%3B%20let%20l%20%3D%20!i(n%5B0%5D.getPoints())%3B%20l%20%3D%20t%20%3F%20!l%20%3A%20l%3B%20const%20c%20%3D%20%5B%5D%2C%20h%20%3D%20%5B%5D%3B%20let%20u%2C%20d%2C%20p%20%3D%20%5B%5D%2C%20m%20%3D%200%3B%20h%5Bm%5D%20%3D%20void%200%2C%20p%5Bm%5D%20%3D%20%5B%5D%3B%20for%20(let%20e%20%3D%200%2C%20a%20%3D%20n.length%3B%20e%20%3C%20a%3B%20e%2B%2B)s%20%3D%20n%5Be%5D%2C%20u%20%3D%20s.getPoints()%2C%20r%20%3D%20i(u)%2C%20r%20%3D%20t%20%3F%20!r%20%3A%20r%2C%20r%20%3F%20(!l%20%26%26%20h%5Bm%5D%20%26%26%20m%2B%2B%2C%20h%5Bm%5D%20%3D%20%7B%20s%3A%20new%20Bo%2C%20p%3A%20u%20%7D%2C%20h%5Bm%5D.s.curves%20%3D%20s.curves%2C%20l%20%26%26%20m%2B%2B%2C%20p%5Bm%5D%20%3D%20%5B%5D)%20%3A%20p%5Bm%5D.push(%7B%20h%3A%20s%2C%20p%3A%20u%5B0%5D%20%7D)%3B%20if%20(!h%5B0%5D)%20return%20function%20(t)%20%7B%20const%20e%20%3D%20%5B%5D%3B%20for%20(let%20i%20%3D%200%2C%20n%20%3D%20t.length%3B%20i%20%3C%20n%3B%20i%2B%2B)%20%7B%20const%20n%20%3D%20t%5Bi%5D%2C%20r%20%3D%20new%20Bo%3B%20r.curves%20%3D%20n.curves%2C%20e.push(r)%20%7D%20return%20e%20%7D(n)%3B%20if%20(h.length%20%3E%201)%20%7B%20let%20t%20%3D%20!1%2C%20i%20%3D%200%3B%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20h.length%3B%20t%20%3C%20e%3B%20t%2B%2B)c%5Bt%5D%20%3D%20%5B%5D%3B%20for%20(let%20n%20%3D%200%2C%20r%20%3D%20h.length%3B%20n%20%3C%20r%3B%20n%2B%2B)%20%7B%20const%20r%20%3D%20p%5Bn%5D%3B%20for%20(let%20s%20%3D%200%3B%20s%20%3C%20r.length%3B%20s%2B%2B)%20%7B%20const%20a%20%3D%20r%5Bs%5D%3B%20let%20o%20%3D%20!0%3B%20for%20(let%20r%20%3D%200%3B%20r%20%3C%20h.length%3B%20r%2B%2B)e(a.p%2C%20h%5Br%5D.p)%20%26%26%20(n%20!%3D%3D%20r%20%26%26%20i%2B%2B%2C%20o%20%3F%20(o%20%3D%20!1%2C%20c%5Br%5D.push(a))%20%3A%20t%20%3D%20!0)%3B%20o%20%26%26%20c%5Bn%5D.push(a)%20%7D%20%7D%20i%20%3E%200%20%26%26%20!1%20%3D%3D%3D%20t%20%26%26%20(p%20%3D%20c)%20%7D%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20h.length%3B%20t%20%3C%20e%3B%20t%2B%2B)%20%7B%20a%20%3D%20h%5Bt%5D.s%2C%20o.push(a)%2C%20d%20%3D%20p%5Bt%5D%3B%20for%20(let%20t%20%3D%200%2C%20e%20%3D%20d.length%3B%20t%20%3C%20e%3B%20t%2B%2B)a.holes.push(d%5Bt%5D.h)%20%7D%20return%20o%20%7D%20%7D%2C%20t.ShapeUtils%20%3D%20hl%2C%20t.ShortType%20%3D%201011%2C%20t.Skeleton%20%3D%20Ra%2C%20t.SkeletonHelper%20%3D%20class%20extends%20Xa%20%7B%20constructor(t)%20%7B%20const%20e%20%3D%20Mh(t)%2C%20i%20%3D%20new%20Di%2C%20n%20%3D%20%5B%5D%2C%20r%20%3D%20%5B%5D%2C%20s%20%3D%20new%20qt(0%2C%200%2C%201)%2C%20a%20%3D%20new%20qt(0%2C%201%2C%200)%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20e.length%3B%20t%2B%2B)%20%7B%20const%20i%20%3D%20e%5Bt%5D%3B%20i.parent%20%26%26%20i.parent.isBone%20%26%26%20(n.push(0%2C%200%2C%200)%2C%20n.push(0%2C%200%2C%200)%2C%20r.push(s.r%2C%20s.g%2C%20s.b)%2C%20r.push(a.r%2C%20a.g%2C%20a.b))%20%7D%20i.setAttribute(%22position%22%2C%20new%20Ti(n%2C%203))%2C%20i.setAttribute(%22color%22%2C%20new%20Ti(r%2C%203))%3B%20super(i%2C%20new%20Ba(%7B%20vertexColors%3A%20!0%2C%20depthTest%3A%20!1%2C%20depthWrite%3A%20!1%2C%20toneMapped%3A%20!1%2C%20transparent%3A%20!0%20%7D))%2C%20this.isSkeletonHelper%20%3D%20!0%2C%20this.type%20%3D%20%22SkeletonHelper%22%2C%20this.root%20%3D%20t%2C%20this.bones%20%3D%20e%2C%20this.matrix%20%3D%20t.matrixWorld%2C%20this.matrixAutoUpdate%20%3D%20!1%20%7D%20updateMatrixWorld(t)%20%7B%20const%20e%20%3D%20this.bones%2C%20i%20%3D%20this.geometry%2C%20n%20%3D%20i.getAttribute(%22position%22)%3B%20yh.copy(this.root.matrixWorld).invert()%3B%20for%20(let%20t%20%3D%200%2C%20i%20%3D%200%3B%20t%20%3C%20e.length%3B%20t%2B%2B)%20%7B%20const%20r%20%3D%20e%5Bt%5D%3B%20r.parent%20%26%26%20r.parent.isBone%20%26%26%20(_h.multiplyMatrices(yh%2C%20r.matrixWorld)%2C%20xh.setFromMatrixPosition(_h)%2C%20n.setXYZ(i%2C%20xh.x%2C%20xh.y%2C%20xh.z)%2C%20_h.multiplyMatrices(yh%2C%20r.parent.matrixWorld)%2C%20xh.setFromMatrixPosition(_h)%2C%20n.setXYZ(i%20%2B%201%2C%20xh.x%2C%20xh.y%2C%20xh.z)%2C%20i%20%2B%3D%202)%20%7D%20i.getAttribute(%22position%22).needsUpdate%20%3D%20!0%2C%20super.updateMatrixWorld(t)%20%7D%20dispose()%20%7B%20this.geometry.dispose()%2C%20this.material.dispose()%20%7D%20%7D%2C%20t.SkinnedMesh%20%3D%20Ta%2C%20t.Source%20%3D%20Zt%2C%20t.Sphere%20%3D%20Te%2C%20t.SphereBufferGeometry%20%3D%20class%20extends%20_l%20%7B%20constructor(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%20a)%20%7B%20console.warn(%22THREE.SphereBufferGeometry%20has%20been%20renamed%20to%20THREE.SphereGeometry.%22)%2C%20super(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%20a)%20%7D%20%7D%2C%20t.SphereGeometry%20%3D%20_l%2C%20t.Spherical%20%3D%20class%20%7B%20constructor(t%20%3D%201%2C%20e%20%3D%200%2C%20i%20%3D%200)%20%7B%20return%20this.radius%20%3D%20t%2C%20this.phi%20%3D%20e%2C%20this.theta%20%3D%20i%2C%20this%20%7D%20set(t%2C%20e%2C%20i)%20%7B%20return%20this.radius%20%3D%20t%2C%20this.phi%20%3D%20e%2C%20this.theta%20%3D%20i%2C%20this%20%7D%20copy(t)%20%7B%20return%20this.radius%20%3D%20t.radius%2C%20this.phi%20%3D%20t.phi%2C%20this.theta%20%3D%20t.theta%2C%20this%20%7D%20makeSafe()%20%7B%20const%20t%20%3D%201e-6%3B%20return%20this.phi%20%3D%20Math.max(t%2C%20Math.min(Math.PI%20-%20t%2C%20this.phi))%2C%20this%20%7D%20setFromVector3(t)%20%7B%20return%20this.setFromCartesianCoords(t.x%2C%20t.y%2C%20t.z)%20%7D%20setFromCartesianCoords(t%2C%20e%2C%20i)%20%7B%20return%20this.radius%20%3D%20Math.sqrt(t%20*%20t%20%2B%20e%20*%20e%20%2B%20i%20*%20i)%2C%200%20%3D%3D%3D%20this.radius%20%3F%20(this.theta%20%3D%200%2C%20this.phi%20%3D%200)%20%3A%20(this.theta%20%3D%20Math.atan2(t%2C%20i)%2C%20this.phi%20%3D%20Math.acos(yt(e%20%2F%20this.radius%2C%20-1%2C%201)))%2C%20this%20%7D%20clone()%20%7B%20return%20(new%20this.constructor).copy(this)%20%7D%20%7D%2C%20t.SphericalHarmonics3%20%3D%20Lc%2C%20t.SplineCurve%20%3D%20bo%2C%20t.SpotLight%20%3D%20_c%2C%20t.SpotLightHelper%20%3D%20class%20extends%20si%20%7B%20constructor(t%2C%20e)%20%7B%20super()%2C%20this.light%20%3D%20t%2C%20this.matrix%20%3D%20t.matrixWorld%2C%20this.matrixAutoUpdate%20%3D%20!1%2C%20this.color%20%3D%20e%2C%20this.type%20%3D%20%22SpotLightHelper%22%3B%20const%20i%20%3D%20new%20Di%2C%20n%20%3D%20%5B0%2C%200%2C%200%2C%200%2C%200%2C%201%2C%200%2C%200%2C%200%2C%201%2C%200%2C%201%2C%200%2C%200%2C%200%2C%20-1%2C%200%2C%201%2C%200%2C%200%2C%200%2C%200%2C%201%2C%201%2C%200%2C%200%2C%200%2C%200%2C%20-1%2C%201%5D%3B%20for%20(let%20t%20%3D%200%2C%20e%20%3D%201%2C%20i%20%3D%2032%3B%20t%20%3C%20i%3B%20t%2B%2B%2C%20e%2B%2B)%20%7B%20const%20r%20%3D%20t%20%2F%20i%20*%20Math.PI%20*%202%2C%20s%20%3D%20e%20%2F%20i%20*%20Math.PI%20*%202%3B%20n.push(Math.cos(r)%2C%20Math.sin(r)%2C%201%2C%20Math.cos(s)%2C%20Math.sin(s)%2C%201)%20%7D%20i.setAttribute(%22position%22%2C%20new%20Ti(n%2C%203))%3B%20const%20r%20%3D%20new%20Ba(%7B%20fog%3A%20!1%2C%20toneMapped%3A%20!1%20%7D)%3B%20this.cone%20%3D%20new%20Xa(i%2C%20r)%2C%20this.add(this.cone)%2C%20this.update()%20%7D%20dispose()%20%7B%20this.cone.geometry.dispose()%2C%20this.cone.material.dispose()%20%7D%20update()%20%7B%20this.light.updateWorldMatrix(!0%2C%20!1)%2C%20this.light.target.updateWorldMatrix(!0%2C%20!1)%3B%20const%20t%20%3D%20this.light.distance%20%3F%20this.light.distance%20%3A%201e3%2C%20e%20%3D%20t%20*%20Math.tan(this.light.angle)%3B%20this.cone.scale.set(e%2C%20e%2C%20t)%2C%20vh.setFromMatrixPosition(this.light.target.matrixWorld)%2C%20this.cone.lookAt(vh)%2C%20void%200%20!%3D%3D%20this.color%20%3F%20this.cone.material.color.set(this.color)%20%3A%20this.cone.material.color.copy(this.light.color)%20%7D%20%7D%2C%20t.Sprite%20%3D%20fa%2C%20t.SpriteMaterial%20%3D%20ea%2C%20t.SrcAlphaFactor%20%3D%20204%2C%20t.SrcAlphaSaturateFactor%20%3D%20210%2C%20t.SrcColorFactor%20%3D%20202%2C%20t.StaticCopyUsage%20%3D%2035046%2C%20t.StaticDrawUsage%20%3D%20ut%2C%20t.StaticReadUsage%20%3D%2035045%2C%20t.StereoCamera%20%3D%20class%20%7B%20constructor()%20%7B%20this.type%20%3D%20%22StereoCamera%22%2C%20this.aspect%20%3D%201%2C%20this.eyeSep%20%3D%20.064%2C%20this.cameraL%20%3D%20new%20nn%2C%20this.cameraL.layers.enable(1)%2C%20this.cameraL.matrixAutoUpdate%20%3D%20!1%2C%20this.cameraR%20%3D%20new%20nn%2C%20this.cameraR.layers.enable(2)%2C%20this.cameraR.matrixAutoUpdate%20%3D%20!1%2C%20this._cache%20%3D%20%7B%20focus%3A%20null%2C%20fov%3A%20null%2C%20aspect%3A%20null%2C%20near%3A%20null%2C%20far%3A%20null%2C%20zoom%3A%20null%2C%20eyeSep%3A%20null%20%7D%20%7D%20update(t)%20%7B%20const%20e%20%3D%20this._cache%3B%20if%20(e.focus%20!%3D%3D%20t.focus%20%7C%7C%20e.fov%20!%3D%3D%20t.fov%20%7C%7C%20e.aspect%20!%3D%3D%20t.aspect%20*%20this.aspect%20%7C%7C%20e.near%20!%3D%3D%20t.near%20%7C%7C%20e.far%20!%3D%3D%20t.far%20%7C%7C%20e.zoom%20!%3D%3D%20t.zoom%20%7C%7C%20e.eyeSep%20!%3D%3D%20this.eyeSep)%20%7B%20e.focus%20%3D%20t.focus%2C%20e.fov%20%3D%20t.fov%2C%20e.aspect%20%3D%20t.aspect%20*%20this.aspect%2C%20e.near%20%3D%20t.near%2C%20e.far%20%3D%20t.far%2C%20e.zoom%20%3D%20t.zoom%2C%20e.eyeSep%20%3D%20this.eyeSep%2C%20Vc.copy(t.projectionMatrix)%3B%20const%20i%20%3D%20e.eyeSep%20%2F%202%2C%20n%20%3D%20i%20*%20e.near%20%2F%20e.focus%2C%20r%20%3D%20e.near%20*%20Math.tan(vt%20*%20e.fov%20*%20.5)%20%2F%20e.zoom%3B%20let%20s%2C%20a%3B%20Gc.elements%5B12%5D%20%3D%20-i%2C%20kc.elements%5B12%5D%20%3D%20i%2C%20s%20%3D%20-r%20*%20e.aspect%20%2B%20n%2C%20a%20%3D%20r%20*%20e.aspect%20%2B%20n%2C%20Vc.elements%5B0%5D%20%3D%202%20*%20e.near%20%2F%20(a%20-%20s)%2C%20Vc.elements%5B8%5D%20%3D%20(a%20%2B%20s)%20%2F%20(a%20-%20s)%2C%20this.cameraL.projectionMatrix.copy(Vc)%2C%20s%20%3D%20-r%20*%20e.aspect%20-%20n%2C%20a%20%3D%20r%20*%20e.aspect%20-%20n%2C%20Vc.elements%5B0%5D%20%3D%202%20*%20e.near%20%2F%20(a%20-%20s)%2C%20Vc.elements%5B8%5D%20%3D%20(a%20%2B%20s)%20%2F%20(a%20-%20s)%2C%20this.cameraR.projectionMatrix.copy(Vc)%20%7D%20this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(Gc)%2C%20this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(kc)%20%7D%20%7D%2C%20t.StreamCopyUsage%20%3D%2035042%2C%20t.StreamDrawUsage%20%3D%2035040%2C%20t.StreamReadUsage%20%3D%2035041%2C%20t.StringKeyframeTrack%20%3D%20tc%2C%20t.SubtractEquation%20%3D%20101%2C%20t.SubtractiveBlending%20%3D%203%2C%20t.TOUCH%20%3D%20%7B%20ROTATE%3A%200%2C%20PAN%3A%201%2C%20DOLLY_PAN%3A%202%2C%20DOLLY_ROTATE%3A%203%20%7D%2C%20t.TangentSpaceNormalMap%20%3D%200%2C%20t.TetrahedronBufferGeometry%20%3D%20class%20extends%20yl%20%7B%20constructor(t%2C%20e)%20%7B%20console.warn(%22THREE.TetrahedronBufferGeometry%20has%20been%20renamed%20to%20THREE.TetrahedronGeometry.%22)%2C%20super(t%2C%20e)%20%7D%20%7D%2C%20t.TetrahedronGeometry%20%3D%20yl%2C%20t.Texture%20%3D%20%24t%2C%20t.TextureLoader%20%3D%20class%20extends%20oc%20%7B%20constructor(t)%20%7B%20super(t)%20%7D%20load(t%2C%20e%2C%20i%2C%20n)%20%7B%20const%20r%20%3D%20new%20%24t%2C%20s%20%3D%20new%20uc(this.manager)%3B%20return%20s.setCrossOrigin(this.crossOrigin)%2C%20s.setPath(this.path)%2C%20s.load(t%2C%20(function%20(t)%20%7B%20r.image%20%3D%20t%2C%20r.needsUpdate%20%3D%20!0%2C%20void%200%20!%3D%3D%20e%20%26%26%20e(r)%20%7D)%2C%20i%2C%20n)%2C%20r%20%7D%20%7D%2C%20t.TorusBufferGeometry%20%3D%20class%20extends%20Ml%20%7B%20constructor(t%2C%20e%2C%20i%2C%20n%2C%20r)%20%7B%20console.warn(%22THREE.TorusBufferGeometry%20has%20been%20renamed%20to%20THREE.TorusGeometry.%22)%2C%20super(t%2C%20e%2C%20i%2C%20n%2C%20r)%20%7D%20%7D%2C%20t.TorusGeometry%20%3D%20Ml%2C%20t.TorusKnotBufferGeometry%20%3D%20class%20extends%20bl%20%7B%20constructor(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s)%20%7B%20console.warn(%22THREE.TorusKnotBufferGeometry%20has%20been%20renamed%20to%20THREE.TorusKnotGeometry.%22)%2C%20super(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s)%20%7D%20%7D%2C%20t.TorusKnotGeometry%20%3D%20bl%2C%20t.Triangle%20%3D%20gi%2C%20t.TriangleFanDrawMode%20%3D%202%2C%20t.TriangleStripDrawMode%20%3D%201%2C%20t.TrianglesDrawMode%20%3D%200%2C%20t.TubeBufferGeometry%20%3D%20class%20extends%20Sl%20%7B%20constructor(t%2C%20e%2C%20i%2C%20n%2C%20r)%20%7B%20console.warn(%22THREE.TubeBufferGeometry%20has%20been%20renamed%20to%20THREE.TubeGeometry.%22)%2C%20super(t%2C%20e%2C%20i%2C%20n%2C%20r)%20%7D%20%7D%2C%20t.TubeGeometry%20%3D%20Sl%2C%20t.TwoPassDoubleSide%20%3D%203%2C%20t.UVMapping%20%3D%20n%2C%20t.Uint16BufferAttribute%20%3D%20Si%2C%20t.Uint32BufferAttribute%20%3D%20wi%2C%20t.Uint8BufferAttribute%20%3D%20class%20extends%20bi%20%7B%20constructor(t%2C%20e%2C%20i)%20%7B%20super(new%20Uint8Array(t)%2C%20e%2C%20i)%20%7D%20%7D%2C%20t.Uint8ClampedBufferAttribute%20%3D%20class%20extends%20bi%20%7B%20constructor(t%2C%20e%2C%20i)%20%7B%20super(new%20Uint8ClampedArray(t)%2C%20e%2C%20i)%20%7D%20%7D%2C%20t.Uniform%20%3D%20hh%2C%20t.UniformsGroup%20%3D%20class%20extends%20mt%20%7B%20constructor()%20%7B%20super()%2C%20this.isUniformsGroup%20%3D%20!0%2C%20Object.defineProperty(this%2C%20%22id%22%2C%20%7B%20value%3A%20uh%2B%2B%20%7D)%2C%20this.name%20%3D%20%22%22%2C%20this.usage%20%3D%20ut%2C%20this.uniforms%20%3D%20%5B%5D%20%7D%20add(t)%20%7B%20return%20this.uniforms.push(t)%2C%20this%20%7D%20remove(t)%20%7B%20const%20e%20%3D%20this.uniforms.indexOf(t)%3B%20return%20-1%20!%3D%3D%20e%20%26%26%20this.uniforms.splice(e%2C%201)%2C%20this%20%7D%20setName(t)%20%7B%20return%20this.name%20%3D%20t%2C%20this%20%7D%20setUsage(t)%20%7B%20return%20this.usage%20%3D%20t%2C%20this%20%7D%20dispose()%20%7B%20return%20this.dispatchEvent(%7B%20type%3A%20%22dispose%22%20%7D)%2C%20this%20%7D%20copy(t)%20%7B%20this.name%20%3D%20t.name%2C%20this.usage%20%3D%20t.usage%3B%20const%20e%20%3D%20t.uniforms%3B%20this.uniforms.length%20%3D%200%3B%20for%20(let%20t%20%3D%200%2C%20i%20%3D%20e.length%3B%20t%20%3C%20i%3B%20t%2B%2B)this.uniforms.push(e%5Bt%5D.clone())%3B%20return%20this%20%7D%20clone()%20%7B%20return%20(new%20this.constructor).copy(this)%20%7D%20%7D%2C%20t.UniformsLib%20%3D%20_n%2C%20t.UniformsUtils%20%3D%20Qi%2C%20t.UnsignedByteType%20%3D%20x%2C%20t.UnsignedInt248Type%20%3D%20S%2C%20t.UnsignedIntType%20%3D%20y%2C%20t.UnsignedShort4444Type%20%3D%201017%2C%20t.UnsignedShort5551Type%20%3D%201018%2C%20t.UnsignedShortType%20%3D%20_%2C%20t.VSMShadowMap%20%3D%203%2C%20t.Vector2%20%3D%20Lt%2C%20t.Vector3%20%3D%20re%2C%20t.Vector4%20%3D%20Qt%2C%20t.VectorKeyframeTrack%20%3D%20ec%2C%20t.VideoTexture%20%3D%20class%20extends%20%24t%20%7B%20constructor(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%20a%2C%20o%2C%20l)%20%7B%20super(t%2C%20e%2C%20i%2C%20n%2C%20r%2C%20s%2C%20a%2C%20o%2C%20l)%2C%20this.isVideoTexture%20%3D%20!0%2C%20this.minFilter%20%3D%20void%200%20!%3D%3D%20s%20%3F%20s%20%3A%20f%2C%20this.magFilter%20%3D%20void%200%20!%3D%3D%20r%20%3F%20r%20%3A%20f%2C%20this.generateMipmaps%20%3D%20!1%3B%20const%20c%20%3D%20this%3B%20%22requestVideoFrameCallback%22%20in%20t%20%26%26%20t.requestVideoFrameCallback((function%20e()%20%7B%20c.needsUpdate%20%3D%20!0%2C%20t.requestVideoFrameCallback(e)%20%7D))%20%7D%20clone()%20%7B%20return%20new%20this.constructor(this.image).copy(this)%20%7D%20update()%20%7B%20const%20t%20%3D%20this.image%3B%20!1%20%3D%3D%3D%20%22requestVideoFrameCallback%22%20in%20t%20%26%26%20t.readyState%20%3E%3D%20t.HAVE_CURRENT_DATA%20%26%26%20(this.needsUpdate%20%3D%20!0)%20%7D%20%7D%2C%20t.WebGL1Renderer%20%3D%20Ys%2C%20t.WebGL3DRenderTarget%20%3D%20class%20extends%20te%20%7B%20constructor(t%20%3D%201%2C%20e%20%3D%201%2C%20i%20%3D%201)%20%7B%20super(t%2C%20e)%2C%20this.isWebGL3DRenderTarget%20%3D%20!0%2C%20this.depth%20%3D%20i%2C%20this.texture%20%3D%20new%20ie(null%2C%20t%2C%20e%2C%20i)%2C%20this.texture.isRenderTargetTexture%20%3D%20!0%20%7D%20%7D%2C%20t.WebGLArrayRenderTarget%20%3D%20class%20extends%20te%20%7B%20constructor(t%20%3D%201%2C%20e%20%3D%201%2C%20i%20%3D%201)%20%7B%20super(t%2C%20e)%2C%20this.isWebGLArrayRenderTarget%20%3D%20!0%2C%20this.depth%20%3D%20i%2C%20this.texture%20%3D%20new%20ee(null%2C%20t%2C%20e%2C%20i)%2C%20this.texture.isRenderTargetTexture%20%3D%20!0%20%7D%20%7D%2C%20t.WebGLCubeRenderTarget%20%3D%20on%2C%20t.WebGLMultipleRenderTargets%20%3D%20class%20extends%20te%20%7B%20constructor(t%20%3D%201%2C%20e%20%3D%201%2C%20i%20%3D%201%2C%20n%20%3D%20%7B%7D)%20%7B%20super(t%2C%20e%2C%20n)%2C%20this.isWebGLMultipleRenderTargets%20%3D%20!0%3B%20const%20r%20%3D%20this.texture%3B%20this.texture%20%3D%20%5B%5D%3B%20for%20(let%20t%20%3D%200%3B%20t%20%3C%20i%3B%20t%2B%2B)this.texture%5Bt%5D%20%3D%20r.clone()%2C%20this.texture%5Bt%5D.isRenderTargetTexture%20%3D%20!0%20%7D%20setSize(t%2C%20e%2C%20i%20%3D%201)%20%7B%20if%20(this.width%20!%3D%3D%20t%20%7C%7C%20this.height%20!%3D%3D%20e%20%7C%7C%20this.depth%20!%3D%3D%20i)%20%7B%20this.width%20%3D%20t%2C%20this.height%20%3D%20e%2C%20this.depth%20%3D%20i%3B%20for%20(let%20n%20%3D%200%2C%20r%20%3D%20this.texture.length%3B%20n%20%3C%20r%3B%20n%2B%2B)this.texture%5Bn%5D.image.width%20%3D%20t%2C%20this.texture%5Bn%5D.image.height%20%3D%20e%2C%20this.texture%5Bn%5D.image.depth%20%3D%20i%3B%20this.dispose()%20%7D%20return%20this.viewport.set(0%2C%200%2C%20t%2C%20e)%2C%20this.scissor.set(0%2C%200%2C%20t%2C%20e)%2C%20this%20%7D%20copy(t)%20%7B%20this.dispose()%2C%20this.width%20%3D%20t.width%2C%20this.height%20%3D%20t.height%2C%20this.depth%20%3D%20t.depth%2C%20this.viewport.set(0%2C%200%2C%20this.width%2C%20this.height)%2C%20this.scissor.set(0%2C%200%2C%20this.width%2C%20this.height)%2C%20this.depthBuffer%20%3D%20t.depthBuffer%2C%20this.stencilBuffer%20%3D%20t.stencilBuffer%2C%20null%20!%3D%3D%20t.depthTexture%20%26%26%20(this.depthTexture%20%3D%20t.depthTexture.clone())%2C%20this.texture.length%20%3D%200%3B%20for%20(let%20e%20%3D%200%2C%20i%20%3D%20t.texture.length%3B%20e%20%3C%20i%3B%20e%2B%2B)this.texture%5Be%5D%20%3D%20t.texture%5Be%5D.clone()%2C%20this.texture%5Be%5D.isRenderTargetTexture%20%3D%20!0%3B%20return%20this%20%7D%20%7D%2C%20t.WebGLMultisampleRenderTarget%20%3D%20class%20extends%20te%20%7B%20constructor(t%2C%20e%2C%20i)%20%7B%20console.error('THREE.WebGLMultisampleRenderTarget%20has%20been%20removed.%20Use%20a%20normal%20render%20target%20and%20set%20the%20%22samples%22%20property%20to%20greater%200%20to%20enable%20multisampling.')%2C%20super(t%2C%20e%2C%20i)%2C%20this.samples%20%3D%204%20%7D%20%7D%2C%20t.WebGLRenderTarget%20%3D%20te%2C%20t.WebGLRenderer%20%3D%20Xs%2C%20t.WebGLUtils%20%3D%20Bs%2C%20t.WireframeGeometry%20%3D%20wl%2C%20t.WrapAroundEnding%20%3D%20nt%2C%20t.ZeroCurvatureEnding%20%3D%20et%2C%20t.ZeroFactor%20%3D%20200%2C%20t.ZeroSlopeEnding%20%3D%20it%2C%20t.ZeroStencilOp%20%3D%200%2C%20t._SRGBAFormat%20%3D%20pt%2C%20t.sRGBEncoding%20%3D%20ot%2C%20Object.defineProperty(t%2C%20%22__esModule%22%2C%20%7B%20value%3A%20!0%20%7D)%20%7D))%3B%0A%0A%20%20%2F*%20eslint-enable%20*%2F%0A%0A%20%20class%20ThreeD%20%7B%0A%20%20%20%20constructor()%20%7B%0A%20%20%20%20%20%20window.threed%20%3D%20this%3B%0A%0A%20%20%20%20%20%20Scratch.vm.runtime.on(%22PROJECT_LOADED%22%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20this.uninit()%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getInfo()%20%7B%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20id%3A%20%22cst12293d%22%2C%0A%20%20%20%20%20%20%20%20name%3A%20%223D%22%2C%0A%0A%20%20%20%20%20%20%20%20color1%3A%20%22%232a47e8%22%2C%0A%20%20%20%20%20%20%20%20color2%3A%20%22%232439ad%22%2C%0A%20%20%20%20%20%20%20%20color3%3A%20%22%231b2d94%22%2C%0A%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BUTTON%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Open%20Documentation%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20func%3A%20%22viewDocs%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setMode%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22set%203D%20mode%20to%20%5BMODE%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20MODE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.MENU%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22MODE_MENU%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22flat%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setZ%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22set%20z%20to%20%5BZ%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Z%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22changeZ%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22change%20z%20by%20%5BZ%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Z%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2010%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getZ%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22z%20position%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22set3DPos%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22go%20to%20x%3A%20%5BX%5D%20y%3A%20%5BY%5D%20z%3A%20%5BZ%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20X%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Y%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Z%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22change3DPos%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22change%20position%20by%20x%3A%20%5BX%5D%20y%3A%20%5BY%5D%20z%3A%20%5BZ%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20X%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2010%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Y%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Z%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22moveSteps%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22move%20%5BSTEPS%5D%20steps%20in%203D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STEPS%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%2210%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22set3DDir%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22point%20in%20%5BDIRECTION%5D%20%5BDEGREES%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DIRECTION%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22direction%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22y%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DEGREES%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22rotate3D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22turn%20%5BDIRECTION%5D%20%5BDEGREES%5D%20degrees%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DIRECTION%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22turnDirection%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22right%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DEGREES%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2015%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22direction3D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22direction%20around%20%5BDIRECTION%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DIRECTION%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.MENU%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22direction%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22y%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setTexFilter%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22set%20texture%20filter%20to%20%5BFILTER%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20FILTER%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22texFilter%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22nearest%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setSideMode%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22set%20shown%20faces%20to%20%5BSIDE%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20SIDE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22side%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22both%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setCam%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22move%20camera%20to%20x%3A%20%5BX%5D%20y%3A%20%5BY%5D%20z%3A%20%5BZ%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20X%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Y%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Z%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22changeCam%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22change%20camera%20by%20x%3A%20%5BX%5D%20y%3A%20%5BY%5D%20z%3A%20%5BZ%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20X%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2010%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Y%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Z%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22camX%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22camera%20x%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22camY%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22camera%20y%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22camZ%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22camera%20z%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22moveCamSteps%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22move%20camera%20%5BSTEPS%5D%20steps%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STEPS%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%2210%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setCamDir%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22point%20camera%20in%20%5BDIRECTION%5D%20%5BDEGREES%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DIRECTION%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22direction%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22y%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DEGREES%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22rotateCam%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22turn%20camera%20%5BDIRECTION%5D%20%5BDEGREES%5D%20degrees%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DIRECTION%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22turnDirection%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22right%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DEGREES%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2015%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22camDir%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22camera%20direction%20around%20%5BDIRECTION%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DIRECTION%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.MENU%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22direction%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22y%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setCameraParam%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22set%20camera%20%5BPARAM%5D%20to%20%5BVALUE%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20PARAM%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22cameraParam%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22vertical%20FOV%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VALUE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%2250%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getCameraParam%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22camera%20%5BPARAM%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20PARAM%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22cameraParam%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22vertical%20FOV%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20MODE_MENU%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22disabled%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22flat%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22flat%20triangle%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22sprite%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22cube%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22sphere%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22low-poly%20sphere%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20turnDirection%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22left%22%2C%20%22right%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22up%22%2C%20%22down%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%E2%9F%B2%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22ccw%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%E2%9F%B3%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22cw%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20direction%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bvalue%3A%20%22y%22%2C%20text%3A%20%22y%20(yaw)%22%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bvalue%3A%20%22x%22%2C%20text%3A%20%22x%20(pitch)%22%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bvalue%3A%20%22z%22%2C%20text%3A%20%22z%20(roll)%22%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20cameraParam%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22vertical%20FOV%22%2C%20%22minimum%20render%20distance%22%2C%20%22maximum%20render%20distance%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20side%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22both%22%2C%20%22front%22%2C%20%22back%22%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20texFilter%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22nearest%22%2C%20%22linear%22%2C%20%22%22%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20viewDocs()%20%7B%0A%20%20%20%20%20%20alert(%60This%20extension%20also%20makes%20many%20other%20vanilla%20blocks%20(e.g%20most%20of%20Motion)%20work%20with%203D%20sprites%2C%20try%20them%20out!%0ADefault%20camera%20position%3A%20x0%2C%20y0%2C%20z200.%0ADefault%20camera%20parameters%3A%20vertical%20FOV%2060%2C%20min%20render%20distance%200.5%2C%20max%20render%20distance%204800.%0A%0AMore%20things%20will%20be%20added%20here%20as%20things%20that%20need%20explaining%20are%20added.%0AIf%20I%20ever%20decide%20to%20release%20this%20extension%20on%20the%20gallery%2C%20this%20will%20be%20replaced%20with%20an%20actual%20docs%20page.%60)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20init()%20%7B%0A%20%20%20%20%20%20if%20(this.scene)%20return%3B%0A%0A%20%20%20%20%20%20%2F%2F%20create%20everything%0A%20%20%20%20%20%20this.scene%20%3D%20new%20THREE.Scene()%3B%0A%20%20%20%20%20%20this.camera%20%3D%20new%20THREE.PerspectiveCamera(60%2C%201%2C%200.1%2C%201000)%3B%0A%20%20%20%20%20%20this.camera.position.set(0%2C%200%2C%20200)%3B%0A%20%20%20%20%20%20this.camera.lookAt(0%2C%200%2C%200)%3B%0A%20%20%20%20%20%20this.camera.near%20%3D%200.5%3B%0A%20%20%20%20%20%20this.camera.far%20%3D%204800%3B%0A%0A%20%20%20%20%20%20this.renderer%20%3D%20new%20THREE.WebGLRenderer()%3B%0A%20%20%20%20%20%20this.renderer.setClearAlpha(0)%3B%0A%20%20%20%20%20%20%2F%2F%20create%20the%20scratch%20stuff%0A%20%20%20%20%20%20this.threeSkinId%20%3D%20Scratch.renderer._nextSkinId%2B%2B%3B%0A%20%20%20%20%20%20Scratch.renderer._allSkins%5Bthis.threeSkinId%5D%20%3D%20new%20SimpleSkin(%0A%20%20%20%20%20%20%20%20this.threeSkinId%2C%0A%20%20%20%20%20%20%20%20Scratch.renderer%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20this.threeDrawableId%20%3D%20Scratch.renderer.createDrawable(%22pen%22)%3B%0A%20%20%20%20%20%20Scratch.renderer.updateDrawableSkinId(%0A%20%20%20%20%20%20%20%20this.threeDrawableId%2C%0A%20%20%20%20%20%20%20%20this.threeSkinId%0A%20%20%20%20%20%20)%3B%0A%0A%20%20%20%20%20%20this.stageSizeEvent%20%3D%20(()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20this.updateScale()%3B%0A%20%20%20%20%20%20%7D).bind(this)%3B%0A%20%20%20%20%20%20Scratch.vm.on(%22STAGE_SIZE_CHANGED%22%2C%20this.stageSizeEvent)%3B%0A%0A%20%20%20%20%20%20this.stampRenderTarget%20%3D%20new%20THREE.WebGLRenderTarget()%3B%0A%0A%20%20%20%20%20%20this.raycaster%20%3D%20new%20THREE.Raycaster()%3B%0A%0A%20%20%20%20%20%20this.applyPatches()%3B%0A%20%20%20%20%20%20this.updateScale()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20uninit()%20%7B%0A%20%20%20%20%20%20%2F%2F%20delete%20everything%0A%20%20%20%20%20%20for%20(const%20dr%20of%20Scratch.renderer._allDrawables)%20%7B%0A%20%20%20%20%20%20%20%20if%20(!dr)%20continue%3B%0A%20%20%20%20%20%20%20%20this.disable3DForDrawable(dr.id)%3B%0A%20%20%20%20%20%20%20%20delete%20dr%5BIN_3D%5D%3B%0A%20%20%20%20%20%20%20%20delete%20dr%5BOBJECT%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(this.scene)%20this.scene.clear()%3B%0A%20%20%20%20%20%20this.scene%20%3D%20undefined%3B%0A%20%20%20%20%20%20this.camera%20%3D%20undefined%3B%0A%20%20%20%20%20%20if%20(this.renderer)%20this.renderer.dispose()%3B%0A%20%20%20%20%20%20this.renderer%20%3D%20undefined%3B%0A%20%20%20%20%20%20if%20(this.threeSkinId)%0A%20%20%20%20%20%20%20%20Scratch.renderer._allSkins%5Bthis.threeSkinId%5D.dispose()%3B%0A%20%20%20%20%20%20this.threeSkinId%20%3D%20undefined%3B%0A%20%20%20%20%20%20if%20(this.threeDrawableId)%0A%20%20%20%20%20%20%20%20Scratch.renderer._allDrawables%5Bthis.threeDrawableId%5D.dispose()%3B%0A%20%20%20%20%20%20this.threeDrawableId%20%3D%20undefined%3B%0A%20%20%20%20%20%20if%20(this.stageSizeEvent)%0A%20%20%20%20%20%20%20%20Scratch.vm.off(%22STAGE_SIZE_CHANGED%22%2C%20this.stageSizeEvent)%3B%0A%20%20%20%20%20%20this.stageSizeEvent%20%3D%20undefined%3B%0A%20%20%20%20%20%20if%20(this.stampRenderTarget)%0A%20%20%20%20%20%20%20%20this.stampRenderTarget.dispose()%3B%0A%20%20%20%20%20%20this.stampRenderTarget%20%3D%20undefined%3B%0A%0A%20%20%20%20%20%20Scratch.vm.runtime.requestRedraw()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20call%20when%20the%20native%20size%20of%20the%20canvas%20changes%0A%20%20%20%20updateScale()%20%7B%0A%20%20%20%20%20%20const%20w%20%3D%20Scratch.vm.runtime.stageWidth%20%7C%7C%20480%3B%0A%20%20%20%20%20%20const%20h%20%3D%20Scratch.vm.runtime.stageHeight%20%7C%7C%20360%3B%0A%0A%20%20%20%20%20%20Scratch.renderer._allSkins%5Bthis.threeSkinId%5D.size%20%3D%20%5Bw%2C%20h%5D%3B%0A%0A%20%20%20%20%20%20this.camera.aspect%20%3D%20w%20%2F%20h%3B%0A%20%20%20%20%20%20this.renderer.setSize(w%2C%20h)%3B%0A%20%20%20%20%20%20this.stampRenderTarget.setSize(w%2C%20h)%3B%0A%20%20%20%20%20%20this.camera.updateProjectionMatrix()%3B%0A%0A%20%20%20%20%20%20this.updateRenderer()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20patches%20for%20stuff%0A%20%20%20%20applyPatches()%20%7B%0A%20%20%20%20%20%20const%20Drawable%20%3D%20Scratch.renderer.exports.Drawable%3B%0A%0A%20%20%20%20%20%20Drawable.threed%20%3D%20this%3B%0A%20%20%20%20%20%20patch(Drawable.prototype%2C%20%7B%0A%20%20%20%20%20%20%20%20getVisible(og)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(this%5BIN_3D%5D)%20return%20false%3B%0A%20%20%20%20%20%20%20%20%20%20return%20og()%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20updateVisible(og%2C%20value)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(this%5BIN_3D%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20o%20%3D%20this%5BOBJECT%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(o.visible%20!%3D%3D%20value)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20o.visible%20%3D%20value%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Drawable.threed.updateRenderer()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20return%20og(value)%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20updatePosition(og%2C%20position)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(this%5BIN_3D%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20o%20%3D%20this%5BOBJECT%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20o.position.x%20%3D%20position%5B0%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20o.position.y%20%3D%20position%5B1%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20Drawable.threed.updateRenderer()%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20return%20og(position)%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20updateDirection(og%2C%20direction)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(this%5BIN_3D%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this._roll%20%3D%20THREE.MathUtils.degToRad(direction)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20Drawable.threed.updateSpriteAngle(this)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20Drawable.threed.updateRenderer()%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20return%20og(direction)%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20updateScale(og%2C%20scale)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(this%5BIN_3D%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20obj%20%3D%20this%5BOBJECT%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20obj.scale.x%20%3D%20(obj._sizeX%20%3F%3F%20100)%20%2F%20100%20*%20scale%5B0%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20obj.scale.y%20%3D%20(obj._sizeY%20%3F%3F%20100)%20%2F%20100%20*%20scale%5B1%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20obj.scale.z%20%3D%20(obj._sizeZ%20%3F%3F%20100)%20%2F%20100%20*%20scale%5B0%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20Drawable.threed.updateRenderer()%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20return%20og(scale)%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20dispose(og)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(this%5BOBJECT%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%5BOBJECT%5D.removeFromParent()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%5BOBJECT%5D.material.dispose()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(this%5BOBJECT%5D.material.map)%20this%5BOBJECT%5D.material.map.dispose()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%5BOBJECT%5D.geometry.dispose()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%5BOBJECT%5D%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20Drawable.threed.updateRenderer()%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20return%20og()%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20_skinWasAltered(og)%20%7B%0A%20%20%20%20%20%20%20%20%20%20og()%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(this%5BIN_3D%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20Drawable.threed.updateDrawableSkin(this)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20Drawable.threed.updateRenderer()%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20Scratch.renderer.threed%20%3D%20this%3B%0A%20%20%20%20%20%20patch(Scratch.renderer%2C%20%7B%0A%20%20%20%20%20%20%20%20draw(og)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(this%5BTHREED_DIRTY%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Do%20a%203D%20redraw%0A%20%20%20%20%20%20%20%20%20%20%20%20Drawable.threed.doUpdateRenderer()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%5BTHREED_DIRTY%5D%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20return%20og()%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20isTouchingDrawables(og%2C%20drawableID%2C%20candidateIDs%20%3D%20this._drawList)%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20dr%20%3D%20this._allDrawables%5BdrawableID%5D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20if%20(dr%5BIN_3D%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%203D%20sprites%20can't%20collide%20with%202D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20candidates%20%3D%20candidateIDs.filter(id%20%3D%3E%20this._allDrawables%5Bid%5D%5BIN_3D%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20(const%20candidate%20of%20candidates)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(Drawable.threed.touching3D(dr%5BOBJECT%5D%2C%20this._allDrawables%5Bcandidate%5D%5BOBJECT%5D))%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20return%20og(drawableID%2C%20candidateIDs.filter(id%20%3D%3E%20!(this._allDrawables%5Bid%5D%5BIN_3D%5D)))%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20penStamp(og%2C%20penSkinID%2C%20stampID)%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20dr%20%3D%20this._allDrawables%5BstampID%5D%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(!dr)%20return%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(dr%5BIN_3D%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Draw%20the%20sprite%20to%20the%203D%20drawable%20then%20stamp%20it%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20threed%20%3D%20Drawable.threed%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20threed.renderer.render(dr%5BOBJECT%5D%2C%20threed.camera)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this._allSkins%5Bthreed.threeSkinId%5D.setContent(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20threed.renderer.domElement%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20og(penSkinID%2C%20threed.threeDrawableId)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20threed.updateRenderer()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20return%20og(penSkinID%2C%20stampID)%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20pick(og%2C%20centerX%2C%20centerY%2C%20touchWidth%2C%20touchHeight%2C%20candidateIDs)%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20pick2d%20%3D%20og(centerX%2C%20centerY%2C%20touchWidth%2C%20touchHeight%2C%20candidateIDs)%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(pick2d%20!%3D%3D%20-1)%20return%20pick2d%3B%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20const%20threed%20%3D%20Drawable.threed%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(!threed.raycaster)%20return%20false%3B%0A%0A%20%20%20%20%20%20%20%20%20%20const%20bounds%20%3D%20this.clientSpaceToScratchBounds(centerX%2C%20centerY%2C%20touchWidth%2C%20touchHeight)%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(bounds.left%20%3D%3D%3D%20-Infinity%20%7C%7C%20bounds.bottom%20%3D%3D%3D%20-Infinity)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20const%20candidates%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20(candidateIDs%20%7C%7C%20this._drawList).map(id%20%3D%3E%20this._allDrawables%5Bid%5D).filter(dr%20%3D%3E%20dr%5BIN_3D%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(candidates.length%20%3C%3D%200)%20return%20-1%3B%0A%0A%20%20%20%20%20%20%20%20%20%20const%20scratchCenterX%20%3D%20(bounds.left%20%2B%20bounds.right)%20%2F%20this._gl.canvas.clientWidth%3B%0A%20%20%20%20%20%20%20%20%20%20const%20scratchCenterY%20%3D%20(bounds.top%20%2B%20bounds.bottom)%20%2F%20this._gl.canvas.clientHeight%3B%0A%20%20%20%20%20%20%20%20%20%20threed.raycaster.setFromCamera(new%20THREE.Vector2(scratchCenterX%2C%20scratchCenterY)%2C%20threed.camera)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20const%20object%20%3D%20threed.raycaster.intersectObject(threed.scene%2C%20true)%5B0%5D%3F.object%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(!object)%20return%20-1%3B%0A%20%20%20%20%20%20%20%20%20%20const%20drawable%20%3D%20candidates.find(c%20%3D%3E%20(c%5BIN_3D%5D%20%26%26%20c%5BOBJECT%5D%20%3D%3D%3D%20object))%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(!drawable)%20return%20-1%3B%0A%20%20%20%20%20%20%20%20%20%20return%20drawable._id%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20drawableTouching(og%2C%20drawableID%2C%20centerX%2C%20centerY%2C%20touchWidth%2C%20touchHeight)%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20drawable%20%3D%20this._allDrawables%5BdrawableID%5D%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(!drawable)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20if%20(!drawable%5BIN_3D%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20og(drawableID%2C%20centerX%2C%20centerY%2C%20touchWidth%2C%20touchHeight)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%0A%20%20%20%20%20%20%20%20%20%20const%20threed%20%3D%20Drawable.threed%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(!threed.raycaster)%20return%20false%3B%0A%20%20%0A%20%20%20%20%20%20%20%20%20%20const%20bounds%20%3D%20this.clientSpaceToScratchBounds(centerX%2C%20centerY%2C%20touchWidth%2C%20touchHeight)%3B%0A%20%20%20%20%20%20%20%20%20%20const%20scratchCenterX%20%3D%20(bounds.left%20%2B%20bounds.right)%20%2F%20this._gl.canvas.clientWidth%3B%0A%20%20%20%20%20%20%20%20%20%20const%20scratchCenterY%20%3D%20(bounds.top%20%2B%20bounds.bottom)%20%2F%20this._gl.canvas.clientHeight%3B%0A%20%20%20%20%20%20%20%20%20%20threed.raycaster.setFromCamera(new%20THREE.Vector2(scratchCenterX%2C%20scratchCenterY)%2C%20threed.camera)%3B%0A%20%20%0A%20%20%20%20%20%20%20%20%20%20const%20intersect%20%3D%20(threed.raycaster.intersectObject(threed.scene%2C%20true))%3B%0A%20%20%20%20%20%20%20%20%20%20const%20object%20%3D%20intersect%5B0%5D%3F.object%3B%0A%20%20%20%20%20%20%20%20%20%20return%20object%20%3D%3D%3D%20drawable%5BOBJECT%5D%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20extractDrawableScreenSpace(og%2C%20drawableID)%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20drawable%20%3D%20this._allDrawables%5BdrawableID%5D%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(!drawable)%0A%20%20%20%20%20%20%20%20%20%20%20%20throw%20new%20Error(%60Could%20not%20extract%20drawable%20with%20ID%20%24%7BdrawableID%7D%3B%20it%20does%20not%20exist%60)%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(!drawable%5BIN_3D%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20og(drawableID)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Draw%20the%20sprite%20to%20the%203D%20drawable%20then%20extract%20it%0A%20%20%20%20%20%20%20%20%20%20const%20threed%20%3D%20Drawable.threed%3B%0A%20%20%20%20%20%20%20%20%20%20threed.renderer.render(drawable%5BOBJECT%5D%2C%20threed.camera)%3B%0A%20%20%20%20%20%20%20%20%20%20this._allSkins%5Bthreed.threeSkinId%5D.setContent(%0A%20%20%20%20%20%20%20%20%20%20%20%20threed.renderer.domElement%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20const%20extracted%20%3D%20og(threed.threeDrawableId)%3B%0A%20%20%20%20%20%20%20%20%20%20threed.updateRenderer()%3B%0A%20%20%20%20%20%20%20%20%20%20return%20extracted%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20patch(Scratch.renderer.exports.Skin%2C%20%7B%0A%20%20%20%20%20%20%20%20dispose(og)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(this._3dCachedTexture)%20this._3dCachedTexture.dispose()%3B%0A%20%20%20%20%20%20%20%20%20%20og()%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20_setTexture(og%2C%20textureData)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(this._3dCachedTexture)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this._3dCachedTexture.dispose()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this._3dCachedTexture%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20returnValue%20%3D%20og(textureData)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20Drawable.threed.getThreeTextureFromSkin(this)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20returnValue%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20return%20og(textureData)%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20updateRenderer()%20%7B%0A%20%20%20%20%20%20%2F%2F%20Schedule%20a%203D%20redraw%0A%20%20%20%20%20%20Scratch.renderer%5BTHREED_DIRTY%5D%20%3D%20true%3B%0A%20%20%20%20%20%20Scratch.vm.runtime.requestRedraw()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20pushes%20the%20current%203ds%20render%20state%20into%20the%20drawable%0A%20%20%20%20doUpdateRenderer()%20%7B%0A%20%20%20%20%20%20this.init()%3B%0A%20%20%20%20%20%20this.renderer.render(this.scene%2C%20this.camera)%3B%0A%0A%20%20%20%20%20%20if%20(!this.threeSkinId)%20return%3B%0A%0A%20%20%20%20%20%20Scratch.renderer._allSkins%5Bthis.threeSkinId%5D.setContent(%0A%20%20%20%20%20%20%20%20this.renderer.domElement%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20updateDrawableSkin(drawable)%20%7B%0A%20%20%20%20%20%20if%20(drawable%5BOBJECT%5D%20%26%26%20drawable%5BOBJECT%5D.material)%20%7B%0A%20%20%20%20%20%20%20%20drawable%5BOBJECT%5D.material.map%20%3D%20this.getThreeTextureFromSkin(drawable.skin)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%0A%20%20%20%20%2F%2F%2F%20MISC%20OBJECT%20UTILS%20%2F%2F%2F%2F%0A%0A%20%20%20%20getThreeTextureFromSkin(skin)%20%7B%0A%20%20%20%20%20%20if%20(skin._3dCachedTexture)%20return%20skin._3dCachedTexture%3B%0A%20%20%20%20%20%20skin._3dCachedTexture%20%3D%20new%20THREE.CanvasTexture(this.getCanvasFromSkin(skin))%3B%0A%20%20%20%20%20%20return%20skin._3dCachedTexture%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20objectShape(obj)%20%7B%0A%20%20%20%20%20%20let%20shape%20%3D%20null%3B%0A%20%20%20%20%20%20if%20(obj.geometry)%20%7B%0A%20%20%20%20%20%20%20%20if%20(obj.geometry%20instanceof%20THREE.SphereGeometry)%20%7B%0A%20%20%20%20%20%20%20%20%20%20obj.geometry.computeBoundingSphere()%3B%0A%20%20%20%20%20%20%20%20%20%20shape%20%3D%20obj.geometry.boundingSphere%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20obj.geometry.computeBoundingBox()%3B%0A%20%20%20%20%20%20%20%20%20%20shape%20%3D%20obj.geometry.boundingBox%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20if%20(obj%20instanceof%20THREE.SPRITE)%20%7B%0A%20%20%20%20%20%20%20%20const%20sx%20%3D%20obj.scale.x%20%2F%202%3B%0A%20%20%20%20%20%20%20%20const%20sy%20%3D%20obj.scale.y%20%2F%202%3B%0A%0A%20%20%20%20%20%20%20%20shape%20%3D%20new%20THREE.Box3(%0A%20%20%20%20%20%20%20%20%20%20new%20THREE.Vector3(-sx%2C%20-sy%2C%20-sx)%2C%0A%20%20%20%20%20%20%20%20%20%20new%20THREE.Vector3(sx%2C%20sy%2C%20-sx)%2C%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20shape%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20objectShapeTransformed(obj)%20%7B%0A%20%20%20%20%20%20const%20shape%20%3D%20this.objectShape(obj)%3B%0A%20%20%20%20%20%20if%20(!shape)%20return%20null%3B%0A%20%20%20%20%20%20const%20worldPos%20%3D%20obj.getWorldPosition(new%20THREE.Vector3())%3B%0A%20%20%20%20%20%20if%20(shape%20instanceof%20THREE.Box3)%20%7B%0A%20%20%20%20%20%20%20%20shape.min.multiply(obj.scale)%3B%0A%20%20%20%20%20%20%20%20shape.min.add(worldPos)%3B%0A%20%20%20%20%20%20%20%20shape.max.multiply(obj.scale)%3B%0A%20%20%20%20%20%20%20%20shape.max.add(worldPos)%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(shape%20instanceof%20THREE.Sphere)%20%7B%0A%20%20%20%20%20%20%20%20shape.radius%20*%3D%20Math.max(obj.scale.x%2C%20obj.scale.y%2C%20obj.scale.z)%3B%0A%20%20%20%20%20%20%20%20shape.center.add(worldPos)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20shape%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20touching3D(objA%2C%20objB)%20%7B%0A%20%20%20%20%20%20const%20shapeA%20%3D%20this.objectShapeTransformed(objA)%3B%0A%20%20%20%20%20%20const%20shapeB%20%3D%20this.objectShapeTransformed(objB)%3B%0A%20%20%20%20%20%20if%20(!shapeA%20%7C%7C%20!shapeB)%20return%20false%3B%0A%20%20%20%20%20%20const%20nameB%20%3D%20(shapeB%20instanceof%20THREE.Sphere)%20%3F%20%22Sphere%22%20%3A%20%22Box%22%3B%0A%20%20%20%20%20%20const%20func%20%3D%20shapeA%5B%22intersects%22%20%2B%20nameB%5D%3B%0A%20%20%20%20%20%20if%20(!func)%20return%20false%3B%0A%20%20%20%20%20%20return%20func.call(shapeA%2C%20shapeB)%3B%0A%20%20%20%20%7D%0A%0A%0A%20%20%20%20%2F%2F%2F%20DRAWABLE%20STUFF%20%2F%2F%2F%0A%0A%20%20%20%20%2F%2F%20thanks%20stackoverflow%0A%20%20%20%20%2F%2F%20https%3A%2F%2Fstackoverflow.com%2Fa%2F18804083%0A%20%20%20%20getCanvasFromTexture(gl%2C%20texture%2C%20width%2C%20height)%20%7B%0A%20%20%20%20%20%20const%20framebuffer%20%3D%20gl.createFramebuffer()%3B%0A%20%20%20%20%20%20gl.bindFramebuffer(gl.FRAMEBUFFER%2C%20framebuffer)%3B%0A%20%20%20%20%20%20gl.framebufferTexture2D(gl.FRAMEBUFFER%2C%20gl.COLOR_ATTACHMENT0%2C%20gl.TEXTURE_2D%2C%20texture%2C%200)%3B%0A%0A%20%20%20%20%20%20const%20data%20%3D%20new%20Uint8Array(width%20*%20height%20*%204)%3B%0A%20%20%20%20%20%20gl.readPixels(0%2C%200%2C%20width%2C%20height%2C%20gl.RGBA%2C%20gl.UNSIGNED_BYTE%2C%20data)%3B%0A%0A%20%20%20%20%20%20gl.deleteFramebuffer(framebuffer)%3B%0A%0A%20%20%20%20%20%20const%20imageData%20%3D%20new%20ImageData(width%2C%20height)%3B%0A%20%20%20%20%20%20imageData.data.set(data)%3B%0A%0A%20%20%20%20%20%20const%20canvas%20%3D%20document.createElement(%22canvas%22)%3B%0A%20%20%20%20%20%20canvas.width%20%3D%20width%3B%0A%20%20%20%20%20%20canvas.height%20%3D%20height%3B%0A%20%20%20%20%20%20const%20context%20%3D%20canvas.getContext(%222d%22)%3B%0A%0A%20%20%20%20%20%20context.putImageData(imageData%2C%200%2C%200)%3B%0A%0A%20%20%20%20%20%20return%20canvas%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getCanvasFromSkin(skin)%20%7B%0A%20%20%20%20%20%20const%20emptyCanvas%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20const%20canvas%20%3D%20document.createElement(%22canvas%22)%3B%0A%20%20%20%20%20%20%20%20canvas.width%20%3D%201%3B%0A%20%20%20%20%20%20%20%20canvas.height%20%3D%201%3B%0A%20%20%20%20%20%20%20%20return%20canvas%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20switch%20(skin.constructor)%20%7B%0A%20%20%20%20%20%20%20%20case%20Scratch.renderer.exports.BitmapSkin%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(skin._textureSize%5B0%5D%20%3C%201%20%7C%7C%20skin._textureSize%5B1%5D%20%3C%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20emptyCanvas()%3B%0A%20%20%20%20%20%20%20%20%20%20return%20this.getCanvasFromTexture(%0A%20%20%20%20%20%20%20%20%20%20%20%20Scratch.renderer.gl%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20skin.getTexture()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20skin._textureSize%5B0%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20skin._textureSize%5B1%5D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20case%20Scratch.renderer.exports.SVGSkin%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20code%20copy-pasted%20from%20scratch-render%0A%20%20%20%20%20%20%20%20%20%20const%20INDEX_OFFSET%20%3D%208%3B%0A%0A%20%20%20%20%20%20%20%20%20%20const%20textureScale%20%3D%20200%3B%0A%0A%20%20%20%20%20%20%20%20%20%20const%20scaleMax%20%3D%20textureScale%20%3F%20Math.max(Math.abs(textureScale)%2C%20Math.abs(textureScale))%20%3A%20100%3B%0A%20%20%20%20%20%20%20%20%20%20const%20requestedScale%20%3D%20Math.min(scaleMax%20%2F%20100%2C%20skin._maxTextureScale)%3B%0A%20%20%20%20%20%20%20%20%20%20const%20mipLevel%20%3D%20Math.max(Math.ceil(Math.log2(requestedScale))%20%2B%20INDEX_OFFSET%2C%200)%3B%0A%20%20%20%20%20%20%20%20%20%20const%20mipScale%20%3D%20Math.pow(2%2C%20mipLevel%20-%20INDEX_OFFSET)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20const%20sizeX%20%3D%20Math.ceil(skin._size%5B0%5D%20*%20mipScale)%3B%0A%20%20%20%20%20%20%20%20%20%20const%20sizeY%20%3D%20Math.ceil(skin._size%5B1%5D%20*%20mipScale)%0A%20%20%20%20%20%20%20%20%20%20if%20(sizeX%20%3C%201%20%7C%7C%20sizeY%20%3C%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20emptyCanvas()%3B%0A%0A%20%20%20%20%20%20%20%20%20%20return%20this.getCanvasFromTexture(%0A%20%20%20%20%20%20%20%20%20%20%20%20Scratch.renderer.gl%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20skin.getTexture(%5BtextureScale%2C%20textureScale%5D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20sizeX%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20sizeY%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20console.error(%22Could%20not%20get%20skin%20image%20data%3A%22%2C%20skin)%3B%0A%20%20%20%20%20%20%20%20%20%20throw%20new%20TypeError(%22Could%20not%20get%20skin%20image%20data%22)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20getSizeFromSkin(skin)%20%7B%0A%20%20%20%20%20%20switch%20(skin.constructor)%20%7B%0A%20%20%20%20%20%20%20%20case%20Scratch.renderer.exports.BitmapSkin%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20skin._textureSize%5B0%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20skin._textureSize%5B1%5D%0A%20%20%20%20%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20case%20Scratch.renderer.exports.SVGSkin%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20skin._size%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20console.error(%22Could%20not%20get%20skin%20size%3A%22%2C%20skin)%3B%0A%20%20%20%20%20%20%20%20%20%20throw%20new%20TypeError(%22Could%20not%20get%20skin%20size%22)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20enable3DForDrawable(drawableID%2C%20type%20%3D%20%22flat%22)%20%7B%0A%20%20%20%20%20%20const%20dr%20%3D%20Scratch.renderer._allDrawables%5BdrawableID%5D%3B%0A%20%20%20%20%20%20if%20(dr%5BIN_3D%5D)%20return%3B%0A%0A%20%20%20%20%20%20dr%5BIN_3D%5D%20%3D%20true%3B%0A%0A%20%20%20%20%20%20let%20obj%3B%0A%20%20%20%20%20%20if%20(type%20%3D%3D%3D%20%22sprite%22)%20%7B%0A%20%20%20%20%20%20%20%20obj%20%3D%20new%20THREE.Sprite()%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20obj%20%3D%20new%20THREE.Mesh()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20dr%5BOBJECT%5D%20%3D%20obj%3B%0A%20%20%20%20%20%20this.updateMeshForDrawable(drawableID%2C%20type)%3B%0A%0A%20%20%20%20%20%20if%20(!(%22_yaw%22%20in%20dr))%20dr._yaw%20%3D%200%3B%0A%20%20%20%20%20%20if%20(!(%22_pitch%22%20in%20dr))%20dr._pitch%20%3D%200%3B%0A%20%20%20%20%20%20if%20(!(%22_roll%22%20in%20dr))%20dr._roll%20%3D%200%3B%0A%20%20%20%20%20%20if%20(!(Z_POS%20in%20dr))%20dr%5BZ_POS%5D%20%3D%200%3B%0A%0A%20%20%20%20%20%20this.scene.add(obj)%3B%0A%20%20%20%20%20%20this.updateRenderer()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20updateMeshForDrawable(drawableID%2C%20type)%20%7B%0A%20%20%20%20%20%20const%20dr%20%3D%20Scratch.renderer._allDrawables%5BdrawableID%5D%3B%0A%20%20%20%20%20%20if%20(!dr%5BIN_3D%5D)%20return%3B%0A%20%20%20%20%20%20const%20obj%20%3D%20dr%5BOBJECT%5D%3B%0A%0A%20%20%20%20%20%20if%20(obj.isSprite)%20%7B%0A%20%20%20%20%20%20%20%20if%20(obj.material)%20obj.material.dispose()%3B%0A%20%20%20%20%20%20%20%20obj.material%20%3D%20new%20THREE.SpriteMaterial()%3B%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20size%20%3D%20this.getSizeFromSkin(dr.skin)%3B%0A%20%20%20%20%20%20%20%20%20%20obj._sizeX%20%3D%20size%5B0%5D%3B%0A%20%20%20%20%20%20%20%20%20%20obj._sizeY%20%3D%20size%5B1%5D%3B%0A%20%20%20%20%20%20%20%20%20%20obj._sizeZ%20%3D%20size%5B0%5D%3B%0A%20%20%20%20%20%20%20%20%7D%20catch%20(e)%20%7B%0A%20%20%20%20%20%20%20%20%20%20console.error(e)%3B%0A%20%20%20%20%20%20%20%20%20%20obj._sizeX%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20obj._sizeY%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20obj._sizeZ%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20obj.material%20%3D%20new%20THREE.MeshBasicMaterial()%3B%0A%20%20%20%20%20%20%20%20switch%20(type)%20%7B%0A%20%20%20%20%20%20%20%20%20%20case%20%22flat%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20obj.geometry%20%3D%20new%20THREE.PlaneGeometry(dr.skin.size%5B0%5D%2C%20dr.skin.size%5B1%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20case%20%22flat%20triangle%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20geometry%20%3D%20new%20THREE.BufferGeometry()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20w%20%3D%20dr.skin.size%5B0%5D%20%2F%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20h%20%3D%20dr.skin.size%5B1%5D%20%2F%202%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20vertices%20%3D%20new%20Float32Array(%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-w%2C%20-h%2C%200.0%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20w%2C%20-h%2C%200.0%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-w%2C%20h%2C%200.0%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20uvs%20%3D%20new%20Float32Array(%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%200%2C%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%201%2C%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%200%2C%201%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20geometry.setIndex(%5B0%2C%201%2C%202%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20geometry.setAttribute(%22position%22%2C%20new%20THREE.BufferAttribute(vertices%2C%203))%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20geometry.setAttribute(%22uv%22%2C%20new%20THREE.BufferAttribute(uvs%2C%202))%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20obj.geometry%20%3D%20geometry%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20break%3B%0A%20%20%20%20%20%20%20%20%20%20case%20%22cube%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20obj.geometry%20%3D%20new%20THREE.BoxGeometry(dr.skin.size%5B0%5D%2C%20dr.skin.size%5B1%5D%2C%20dr.skin.size%5B0%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20case%20%22sphere%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20obj.geometry%20%3D%20new%20THREE.SphereGeometry(Math.max(dr.skin.size%5B0%5D%2C%20dr.skin.size%5B1%5D)%20%2F%202%2C%2024%2C%2012)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20case%20%22low-poly%20sphere%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20obj.geometry%20%3D%20new%20THREE.SphereGeometry(Math.max(dr.skin.size%5B0%5D%2C%20dr.skin.size%5B1%5D)%20%2F%202%2C%208%2C%206)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20obj._sizeX%20%3D%201%3B%0A%20%20%20%20%20%20%20%20obj._sizeY%20%3D%201%3B%0A%20%20%20%20%20%20%20%20obj._sizeZ%20%3D%201%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20(obj%3F.material%3F.map)%20obj%3F.material%3F.map%3F.dispose()%3B%0A%20%20%20%20%20%20const%20texture%20%3D%20this.getThreeTextureFromSkin(dr.skin)%3B%0A%20%20%20%20%20%20obj.material.map%20%3D%20texture%3B%0A%20%20%20%20%20%20obj.material.alphaTest%20%3D%200.01%3B%0A%0A%20%20%20%20%20%20this.updateMaterialForDrawable(drawableID)%3B%0A%0A%20%20%20%20%20%20dr.updateScale(dr.scale)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20updateMaterialForDrawable(drawableID)%20%7B%0A%20%20%20%20%20%20const%20dr%20%3D%20Scratch.renderer._allDrawables%5BdrawableID%5D%3B%0A%20%20%20%20%20%20if%20(!dr%5BIN_3D%5D)%20return%3B%0A%20%20%20%20%20%20const%20obj%20%3D%20dr%5BOBJECT%5D%3B%0A%0A%20%20%20%20%20%20if%20(!(SIDE_MODE%20in%20dr))%20dr%5BSIDE_MODE%5D%20%3D%20THREE.DoubleSide%3B%0A%20%20%20%20%20%20if%20(!(TEX_FILTER%20in%20dr))%20dr%5BTEX_FILTER%5D%20%3D%20THREE.LinearMipmapLinearFilter%3B%0A%0A%20%20%20%20%20%20obj.material.side%20%3D%20dr%5BSIDE_MODE%5D%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20const%20texture%20%3D%20obj.material.map%3B%0A%20%20%20%20%20%20texture.minFilter%20%3D%20dr%5BTEX_FILTER%5D%3B%0A%20%20%20%20%20%20texture.magFilter%20%3D%20dr%5BTEX_FILTER%5D%3B%0A%20%20%20%20%20%20if%20(texture.magFilter%20%3D%3D%3D%20THREE.LinearMipmapLinearFilter)%0A%20%20%20%20%20%20%20%20texture.magFilter%20%3D%20THREE.LinearFilter%3B%0A%0A%20%20%20%20%20%20obj.material.transparent%20%3D%20true%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20disable3DForDrawable(drawableID)%20%7B%0A%20%20%20%20%20%20const%20dr%20%3D%20Scratch.renderer._allDrawables%5BdrawableID%5D%3B%0A%20%20%20%20%20%20if%20(!dr%5BIN_3D%5D)%20return%3B%0A%0A%20%20%20%20%20%20dr%5BIN_3D%5D%20%3D%20false%3B%0A%0A%20%20%20%20%20%20dr%5BZ_POS%5D%20%3D%20dr%5BOBJECT%5D.position.z%3B%0A%0A%20%20%20%20%20%20dr%5BOBJECT%5D.removeFromParent()%3B%0A%20%20%20%20%20%20dr%5BOBJECT%5D.material.dispose()%3B%0A%20%20%20%20%20%20if%20(dr%5BOBJECT%5D.material.map)%20dr%5BOBJECT%5D.material.map.dispose()%3B%0A%20%20%20%20%20%20dr%5BOBJECT%5D.geometry.dispose()%3B%0A%20%20%20%20%20%20dr%5BOBJECT%5D%20%3D%20null%3B%0A%20%20%20%20%20%20this.updateRenderer()%3B%0A%20%20%20%20%7D%0A%0A%0A%20%20%20%20%2F%2F%2F%20BLOCKS%20%2F%2F%2F%0A%0A%20%20%20%20setMode(%7B%20MODE%20%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(util.target.isStage)%20return%3B%0A%0A%20%20%20%20%20%20this.init()%3B%0A%20%20%20%20%20%20switch%20(MODE)%20%7B%0A%20%20%20%20%20%20%20%20case%20%22disabled%22%3A%0A%20%20%20%20%20%20%20%20%20%20this.disable3DForDrawable(util.target.drawableID)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22flat%22%3A%0A%20%20%20%20%20%20%20%20case%20%22flat%20triangle%22%3A%0A%20%20%20%20%20%20%20%20case%20%22sprite%22%3A%0A%20%20%20%20%20%20%20%20case%20%22cube%22%3A%0A%20%20%20%20%20%20%20%20case%20%22sphere%22%3A%0A%20%20%20%20%20%20%20%20case%20%22low-poly%20sphere%22%3A%0A%20%20%20%20%20%20%20%20%20%20this.disable3DForDrawable(util.target.drawableID)%3B%0A%20%20%20%20%20%20%20%20%20%20this.enable3DForDrawable(util.target.drawableID%2C%20MODE)%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(util.target.renderer)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Update%20properties%0A%20%20%20%20%20%20%20%20%20%20%20%20this.refreshThreeDrawable(util.target)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20refreshThreeDrawable(target)%20%7B%0A%20%20%20%20%20%20const%20%7Bdirection%2C%20scale%7D%20%3D%20target._getRenderedDirectionAndScale()%3B%0A%20%20%20%20%20%20const%20dr%20%3D%20target.renderer._allDrawables%5Btarget.drawableID%5D%3B%0A%20%20%20%20%20%20dr.updatePosition(%5Btarget.x%2C%20target.y%5D)%3B%0A%20%20%20%20%20%20dr.updateDirection(direction)%3B%0A%20%20%20%20%20%20dr.updateScale(scale)%3B%0A%20%20%20%20%20%20dr.updateVisible(target.visible)%3B%0A%20%20%20%20%20%20if%20(dr%5BOBJECT%5D)%20%7B%0A%20%20%20%20%20%20%20%20dr%5BOBJECT%5D.position.z%20%3D%20dr%5BZ_POS%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.updateSpriteAngle(%7Btarget%7D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setZ(%7B%20Z%20%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(util.target.isStage)%20return%3B%0A%0A%20%20%20%20%20%20const%20dr%20%3D%20Scratch.renderer._allDrawables%5Butil.target.drawableID%5D%3B%0A%20%20%20%20%20%20if%20(!dr%5BIN_3D%5D)%20return%3B%0A%0A%20%20%20%20%20%20dr%5BOBJECT%5D.position.z%20%3D%20Scratch.Cast.toNumber(Z)%3B%0A%20%20%20%20%20%20this.updateRenderer()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20changeZ(%7B%20Z%20%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(util.target.isStage)%20return%3B%0A%0A%20%20%20%20%20%20const%20dr%20%3D%20Scratch.renderer._allDrawables%5Butil.target.drawableID%5D%3B%0A%20%20%20%20%20%20if%20(!dr%5BIN_3D%5D)%20return%3B%0A%0A%20%20%20%20%20%20const%20z%20%3D%20Scratch.Cast.toNumber(Z)%3B%0A%20%20%20%20%20%20dr%5BOBJECT%5D.position.z%20%2B%3D%20z%3B%0A%20%20%20%20%20%20this.updateRenderer()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getZ(args%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(util.target.isStage)%20return%200%3B%0A%0A%20%20%20%20%20%20const%20dr%20%3D%20Scratch.renderer._allDrawables%5Butil.target.drawableID%5D%3B%0A%20%20%20%20%20%20if%20(!dr%5BOBJECT%5D)%20return%200%3B%0A%20%20%20%20%20%20return%20dr%5BOBJECT%5D.position.z%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20mod(n%2C%20modulus)%20%7B%0A%20%20%20%20%20%20let%20result%20%3D%20n%20%25%20modulus%3B%0A%20%20%20%20%20%20%2F%2F%20Scratch%20mod%20uses%20floored%20division%20instead%20of%20truncated%20division.%0A%20%20%20%20%20%20if%20(result%20%2F%20modulus%20%3C%200)%20result%20%2B%3D%20modulus%3B%0A%20%20%20%20%20%20return%20result%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20wrapClamp(n%2C%20min%2C%20max)%20%7B%0A%20%20%20%20%20%20const%20offset%20%3D%20n%20-%20min%3B%0A%20%20%20%20%20%20const%20range%20%3D%20max%20-%20min%3B%0A%20%20%20%20%20%20return%20min%20%2B%20this.mod(offset%2C%20range)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20updateSpriteAngle(util)%20%7B%0A%20%20%20%20%20%20let%20dr%3B%0A%20%20%20%20%20%20if%20(util%3F.target)%20%7B%0A%20%20%20%20%20%20%20%20if%20(util.target.isStage)%20return%3B%0A%20%20%20%20%20%20%20%20dr%20%3D%20Scratch.renderer._allDrawables%5Butil.target.drawableID%5D%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20dr%20%3D%20util%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20(!dr%5BIN_3D%5D)%20return%3B%0A%20%20%20%20%20%20const%20obj%20%3D%20dr%5BOBJECT%5D%3B%0A%0A%20%20%20%20%20%20obj.rotation.x%20%3D%200%3B%0A%20%20%20%20%20%20obj.rotation.y%20%3D%200%3B%0A%20%20%20%20%20%20obj.rotation.z%20%3D%200%3B%0A%0A%20%20%20%20%20%20const%20WRAP_MIN%20%3D%20THREE.MathUtils.degToRad(-180)%3B%0A%20%20%20%20%20%20const%20WRAP_MAX%20%3D%20THREE.MathUtils.degToRad(180)%3B%0A%20%20%20%20%20%20dr._yaw%20%3D%20this.wrapClamp(dr._yaw%2C%20WRAP_MIN%2C%20WRAP_MAX)%3B%0A%20%20%20%20%20%20dr._pitch%20%3D%20this.wrapClamp(dr._pitch%2C%20WRAP_MIN%2C%20WRAP_MAX)%3B%0A%20%20%20%20%20%20dr._roll%20%3D%20this.wrapClamp(dr._roll%2C%20WRAP_MIN%2C%20WRAP_MAX)%3B%0A%0A%20%20%20%20%20%20obj.rotation.y%20%3D%20dr._yaw%3B%0A%20%20%20%20%20%20obj.rotateOnAxis(%0A%20%20%20%20%20%20%20%20new%20THREE.Vector3(1%2C%200%2C%200)%2C%0A%20%20%20%20%20%20%20%20dr._pitch%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20obj.rotateOnAxis(%0A%20%20%20%20%20%20%20%20new%20THREE.Vector3(0%2C%200%2C%201)%2C%0A%20%20%20%20%20%20%20%20THREE.MathUtils.degToRad(90)%20-%20dr._roll%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20set3DPos(%7BX%2C%20Y%2C%20Z%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(util.target.isStage)%20return%3B%0A%0A%20%20%20%20%20%20X%20%3D%20Scratch.Cast.toNumber(X)%3B%0A%20%20%20%20%20%20Y%20%3D%20Scratch.Cast.toNumber(Y)%3B%0A%20%20%20%20%20%20util.target.setXY(X%2C%20Y)%3B%0A%20%20%20%20%20%20this.setZ(%7BZ%7D%2C%20util)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20change3DPos(%7BX%2C%20Y%2C%20Z%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(util.target.isStage)%20return%3B%0A%20%20%20%20%20%20const%20dx%20%3D%20Scratch.Cast.toNumber(X)%3B%0A%20%20%20%20%20%20const%20dy%20%3D%20Scratch.Cast.toNumber(Y)%3B%0A%20%20%20%20%20%20util.target.setXY(util.target.x%20%2B%20dx%2C%20util.target.y%20%2B%20dy)%3B%0A%0A%20%20%20%20%20%20this.changeZ(%7BZ%7D%2C%20util)%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20moveSteps(%7BSTEPS%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(util.target.isStage)%20return%3B%0A%20%20%20%20%20%20const%20dr%20%3D%20Scratch.renderer._allDrawables%5Butil.target.drawableID%5D%3B%0A%20%20%20%20%20%20if%20(!dr%5BIN_3D%5D)%20return%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20const%20add%20%3D%20new%20THREE.Vector3(0%2C%200%2C%201)%0A%20%20%20%20%20%20%20%20%20%20.applyQuaternion(dr%5BOBJECT%5D.quaternion)%0A%20%20%20%20%20%20%20%20%20%20.multiplyScalar(-Scratch.Cast.toNumber(STEPS))%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20util.target.setXY(util.target.x%20%2B%20add.x%2C%20util.target.y%20%2B%20add.y)%3B%0A%20%20%20%20%20%20this.changeZ(%7BZ%3A%20add.z%7D%2C%20util)%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20this.updateRenderer()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20rotate3D(%7BDIRECTION%2C%20DEGREES%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(util.target.isStage)%20return%3B%0A%20%20%20%20%20%20const%20dr%20%3D%20Scratch.renderer._allDrawables%5Butil.target.drawableID%5D%3B%0A%0A%20%20%20%20%20%20if%20(!dr%5BIN_3D%5D)%20return%3B%0A%0A%20%20%20%20%20%20if%20(!isFinite(DEGREES))%20return%3B%0A%0A%20%20%20%20%20%20DEGREES%20%3D%20Scratch.Cast.toNumber(DEGREES)%20*%0A%20%20%20%20%20%20%20%20((DIRECTION%20%3D%3D%3D%20%22left%22%20%7C%7C%20DIRECTION%20%3D%3D%3D%20%22down%22%20%7C%7C%20DIRECTION%20%3D%3D%3D%20%22ccw%22)%20%3F%20-1%20%3A%201)%3B%0A%0A%20%20%20%20%20%20switch%20(DIRECTION)%20%7B%0A%20%20%20%20%20%20%20%20case%20%22left%22%3A%0A%20%20%20%20%20%20%20%20case%20%22right%22%3A%0A%20%20%20%20%20%20%20%20%20%20dr._yaw%20-%3D%20THREE.MathUtils.degToRad(DEGREES)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22up%22%3A%0A%20%20%20%20%20%20%20%20case%20%22down%22%3A%0A%20%20%20%20%20%20%20%20%20%20dr._pitch%20%2B%3D%20THREE.MathUtils.degToRad(DEGREES)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22cw%22%3A%0A%20%20%20%20%20%20%20%20case%20%22ccw%22%3A%0A%20%20%20%20%20%20%20%20%20%20util.target.setDirection(util.target.direction%20%2B%20DEGREES)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.updateSpriteAngle(util)%3B%0A%20%20%20%20%20%20this.updateRenderer()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20set3DDir(%7BDIRECTION%2C%20DEGREES%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(util.target.isStage)%20return%3B%0A%20%20%20%20%20%20const%20dr%20%3D%20Scratch.renderer._allDrawables%5Butil.target.drawableID%5D%3B%0A%0A%20%20%20%20%20%20if%20(!dr%5BIN_3D%5D)%20return%3B%0A%0A%20%20%20%20%20%20DEGREES%20%3D%20Scratch.Cast.toNumber(DEGREES)%3B%0A%0A%20%20%20%20%20%20if%20(!isFinite(DEGREES))%20return%3B%0A%0A%20%20%20%20%20%20switch%20(DIRECTION)%20%7B%0A%20%20%20%20%20%20%20%20case%20%22y%22%3A%0A%20%20%20%20%20%20%20%20case%20%22angle%22%3A%20%2F%2F%20Old%20versions%20of%20the%20extension%20used%20angle%2Faim%2Froll%20instead%20of%20rotation%20around%20Y%2FX%2FZ%0A%20%20%20%20%20%20%20%20%20%20dr._yaw%20%3D%20-THREE.MathUtils.degToRad(DEGREES)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22x%22%3A%0A%20%20%20%20%20%20%20%20case%20%22aim%22%3A%0A%20%20%20%20%20%20%20%20%20%20dr._pitch%20%3D%20THREE.MathUtils.degToRad(DEGREES)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22z%22%3A%0A%20%20%20%20%20%20%20%20case%20%22roll%22%3A%0A%20%20%20%20%20%20%20%20%20%20util.target.setDirection(DEGREES%20%2B%2090)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.updateSpriteAngle(util)%3B%0A%20%20%20%20%20%20this.updateRenderer()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20direction3D(%7BDIRECTION%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(util.target.isStage)%20return%200%3B%0A%20%20%20%20%20%20const%20dr%20%3D%20Scratch.renderer._allDrawables%5Butil.target.drawableID%5D%3B%0A%20%20%20%20%20%20if%20(!dr%5BIN_3D%5D)%20return%200%3B%0A%0A%20%20%20%20%20%20switch%20(DIRECTION)%20%7B%0A%20%20%20%20%20%20%20%20case%20%22y%22%3A%0A%20%20%20%20%20%20%20%20case%20%22angle%22%3A%0A%20%20%20%20%20%20%20%20%20%20return%20-THREE.MathUtils.radToDeg(dr._yaw)%3B%0A%20%20%20%20%20%20%20%20case%20%22x%22%3A%0A%20%20%20%20%20%20%20%20case%20%22aim%22%3A%0A%20%20%20%20%20%20%20%20%20%20return%20THREE.MathUtils.radToDeg(dr._pitch)%3B%0A%20%20%20%20%20%20%20%20case%20%22z%22%3A%0A%20%20%20%20%20%20%20%20case%20%22roll%22%3A%0A%20%20%20%20%20%20%20%20%20%20return%20THREE.MathUtils.radToDeg(dr._roll)%20-%2090%3B%0A%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20setSideMode(%7BSIDE%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(util.target.isStage)%20return%3B%0A%20%20%20%20%20%20const%20dr%20%3D%20Scratch.renderer._allDrawables%5Butil.target.drawableID%5D%3B%0A%0A%20%20%20%20%20%20this.init()%3B%0A%0A%20%20%20%20%20%20const%20sides%20%3D%20Object.assign(Object.create(null)%2C%20%7B%0A%20%20%20%20%20%20%20%20front%3A%20THREE.FrontSide%2C%0A%20%20%20%20%20%20%20%20back%3A%20THREE.BackSide%2C%0A%20%20%20%20%20%20%20%20both%3A%20THREE.DoubleSide%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20if%20(!(SIDE%20in%20sides))%20return%3B%0A%20%20%20%20%20%20dr%5BSIDE_MODE%5D%20%3D%20sides%5BSIDE%5D%3B%0A%20%20%20%20%20%20if%20(dr%5BOBJECT%5D%20%26%26%20dr%5BOBJECT%5D.material)%20%7B%0A%20%20%20%20%20%20%20%20dr%5BOBJECT%5D.material.side%20%3D%20sides%5BSIDE%5D%3B%0A%20%20%20%20%20%20%20%20this.updateRenderer()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20setTexFilter(%7BFILTER%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(util.target.isStage)%20return%3B%0A%20%20%20%20%20%20const%20dr%20%3D%20Scratch.renderer._allDrawables%5Butil.target.drawableID%5D%3B%0A%0A%20%20%20%20%20%20this.init()%3B%0A%0A%20%20%20%20%20%20const%20filters%20%3D%20Object.assign(Object.create(null)%2C%20%7B%0A%20%20%20%20%20%20%20%20nearest%3A%20THREE.NearestFilter%2C%0A%20%20%20%20%20%20%20%20linear%3A%20THREE.LinearMipmapLinearFilter%2C%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20if%20(!(FILTER%20in%20filters))%20return%3B%0A%20%20%20%20%20%20dr%5BTEX_FILTER%5D%20%3D%20filters%5BFILTER%5D%3B%0A%20%20%20%20%20%20if%20(dr%5BOBJECT%5D%20%26%26%20dr%5BOBJECT%5D.material%3F.map)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20i%20think%20for%20some%20reason%20you%20need%20to%20create%20a%20new%20texture%0A%20%20%20%20%20%20%20%20const%20cloned%20%3D%20dr%5BOBJECT%5D.material.map.clone()%3B%0A%20%20%20%20%20%20%20%20dr%5BOBJECT%5D.material.map.dispose()%3B%0A%20%20%20%20%20%20%20%20dr%5BOBJECT%5D.material.map%20%3D%20cloned%3B%0A%20%20%20%20%20%20%20%20cloned.needsUpdate%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20this.updateMaterialForDrawable(util.target.drawableID)%0A%20%20%20%20%20%20%20%20this.updateRenderer()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20preUpdateCameraAngle()%20%7B%0A%20%20%20%20%20%20if%20(!(%22_yaw%22%20in%20this.camera))%20this.camera._yaw%20%3D%200%3B%0A%20%20%20%20%20%20if%20(!(%22_pitch%22%20in%20this.camera))%20this.camera._pitch%20%3D%200%3B%0A%20%20%20%20%20%20if%20(!(%22_roll%22%20in%20this.camera))%20this.camera._roll%20%3D%200%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20updateCameraAngle()%20%7B%0A%20%20%20%20%20%20this.camera.rotation.x%20%3D%200%3B%0A%20%20%20%20%20%20this.camera.rotation.y%20%3D%200%3B%0A%20%20%20%20%20%20this.camera.rotation.z%20%3D%200%3B%0A%0A%20%20%20%20%20%20const%20WRAP_MIN%20%3D%20THREE.MathUtils.degToRad(-180)%3B%0A%20%20%20%20%20%20const%20WRAP_MAX%20%3D%20THREE.MathUtils.degToRad(180)%3B%0A%20%20%20%20%20%20this.camera._yaw%20%3D%20this.wrapClamp(this.camera._yaw%2C%20WRAP_MIN%2C%20WRAP_MAX)%3B%0A%20%20%20%20%20%20this.camera._pitch%20%3D%20this.wrapClamp(this.camera._pitch%2C%20WRAP_MIN%2C%20WRAP_MAX)%3B%0A%20%20%20%20%20%20this.camera._roll%20%3D%20this.wrapClamp(this.camera._roll%2C%20WRAP_MIN%2C%20WRAP_MAX)%3B%0A%0A%20%20%20%20%20%20this.camera.rotation.y%20%3D%20this.camera._yaw%3B%0A%20%20%20%20%20%20this.camera.rotateOnAxis(%0A%20%20%20%20%20%20%20%20new%20THREE.Vector3(1%2C%200%2C%200)%2C%0A%20%20%20%20%20%20%20%20this.camera._pitch%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20this.camera.rotateOnAxis(%0A%20%20%20%20%20%20%20%20new%20THREE.Vector3(0%2C%200%2C%201)%2C%0A%20%20%20%20%20%20%20%20this.camera._roll%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setCam(%7B%20X%2C%20Y%2C%20Z%20%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20this.init()%3B%0A%0A%20%20%20%20%20%20const%20x%20%3D%20Scratch.Cast.toNumber(X)%3B%0A%20%20%20%20%20%20const%20y%20%3D%20Scratch.Cast.toNumber(Y)%3B%0A%20%20%20%20%20%20const%20z%20%3D%20Scratch.Cast.toNumber(Z)%3B%0A%20%20%20%20%20%20this.camera.position.set(x%2C%20y%2C%20z)%3B%0A%20%20%20%20%20%20this.updateRenderer()%3B%0A%20%20%20%20%7D%0A%20%20%20%20changeCam(%7B%20X%2C%20Y%2C%20Z%20%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20this.init()%3B%0A%0A%20%20%20%20%20%20const%20x%20%3D%20Scratch.Cast.toNumber(X)%3B%0A%20%20%20%20%20%20const%20y%20%3D%20Scratch.Cast.toNumber(Y)%3B%0A%20%20%20%20%20%20const%20z%20%3D%20Scratch.Cast.toNumber(Z)%3B%0A%20%20%20%20%20%20const%20pos%20%3D%20this.camera.position%3B%0A%20%20%20%20%20%20pos.set(pos.x%20%2B%20x%2C%20pos.y%20%2B%20y%2C%20pos.z%20%2B%20z)%3B%0A%20%20%20%20%20%20this.updateRenderer()%3B%0A%20%20%20%20%7D%0A%20%20%20%20camX(args%2C%20util)%20%7B%0A%20%20%20%20%20%20this.init()%3B%0A%20%20%20%20%20%20return%20this.camera.position.x%3B%0A%20%20%20%20%7D%0A%20%20%20%20camY(args%2C%20util)%20%7B%0A%20%20%20%20%20%20this.init()%3B%0A%20%20%20%20%20%20return%20this.camera.position.y%3B%0A%20%20%20%20%7D%0A%20%20%20%20camZ(args%2C%20util)%20%7B%0A%20%20%20%20%20%20this.init()%3B%0A%20%20%20%20%20%20return%20this.camera.position.z%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20moveCamSteps(%7BSTEPS%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20this.init()%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20this.camera.position.add(%0A%20%20%20%20%20%20%20%20new%20THREE.Vector3(0%2C%200%2C%201)%0A%20%20%20%20%20%20%20%20%20%20.applyQuaternion(this.camera.quaternion)%0A%20%20%20%20%20%20%20%20%20%20.multiplyScalar(-Scratch.Cast.toNumber(STEPS))%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20this.updateRenderer()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20rotateCam(%7B%20DIRECTION%2C%20DEGREES%20%7D)%20%7B%0A%20%20%20%20%20%20this.init()%3B%0A%0A%20%20%20%20%20%20DEGREES%20%3D%20Scratch.Cast.toNumber(DEGREES)%20*%0A%20%20%20%20%20%20%20%20((DIRECTION%20%3D%3D%3D%20%22left%22%20%7C%7C%20DIRECTION%20%3D%3D%3D%20%22down%22%20%7C%7C%20DIRECTION%20%3D%3D%3D%20%22ccw%22)%20%3F%20-1%20%3A%201)%3B%0A%0A%20%20%20%20%20%20this.preUpdateCameraAngle()%3B%0A%20%20%20%20%20%20switch%20(DIRECTION)%20%7B%0A%20%20%20%20%20%20%20%20case%20%22left%22%3A%0A%20%20%20%20%20%20%20%20case%20%22right%22%3A%0A%20%20%20%20%20%20%20%20%20%20this.camera._yaw%20-%3D%20THREE.MathUtils.degToRad(DEGREES)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22up%22%3A%0A%20%20%20%20%20%20%20%20case%20%22down%22%3A%0A%20%20%20%20%20%20%20%20%20%20this.camera._pitch%20%2B%3D%20THREE.MathUtils.degToRad(DEGREES)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22cw%22%3A%0A%20%20%20%20%20%20%20%20case%20%22ccw%22%3A%0A%20%20%20%20%20%20%20%20%20%20this.camera._roll%20%2B%3D%20THREE.MathUtils.degToRad(DEGREES)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.updateCameraAngle()%3B%0A%20%20%20%20%20%20this.updateRenderer()%3B%0A%20%20%20%20%7D%0A%20%20%20%20setCamDir(%7B%20DEGREES%2C%20DIRECTION%20%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20this.init()%3B%0A%0A%20%20%20%20%20%20DEGREES%20%3D%20Scratch.Cast.toNumber(DEGREES)%3B%0A%0A%20%20%20%20%20%20this.preUpdateCameraAngle()%3B%0A%20%20%20%20%20%20switch%20(DIRECTION)%20%7B%0A%20%20%20%20%20%20%20%20case%20%22y%22%3A%0A%20%20%20%20%20%20%20%20case%20%22angle%22%3A%0A%20%20%20%20%20%20%20%20%20%20this.camera._yaw%20%3D%20-THREE.MathUtils.degToRad(DEGREES)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22x%22%3A%0A%20%20%20%20%20%20%20%20case%20%22aim%22%3A%0A%20%20%20%20%20%20%20%20%20%20this.camera._pitch%20%3D%20THREE.MathUtils.degToRad(DEGREES)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22z%22%3A%0A%20%20%20%20%20%20%20%20case%20%22roll%22%3A%0A%20%20%20%20%20%20%20%20%20%20this.camera._roll%20%3D%20THREE.MathUtils.degToRad(DEGREES)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.updateCameraAngle()%3B%0A%0A%20%20%20%20%20%20this.updateRenderer()%3B%0A%20%20%20%20%7D%0A%20%20%20%20camDir(%7B%20DIRECTION%20%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20this.init()%3B%0A%0A%20%20%20%20%20%20this.preUpdateCameraAngle()%3B%0A%20%20%20%20%20%20switch%20(DIRECTION)%20%7B%0A%20%20%20%20%20%20%20%20case%20%22y%22%3A%0A%20%20%20%20%20%20%20%20case%20%22angle%22%3A%0A%20%20%20%20%20%20%20%20%20%20return%20-THREE.MathUtils.radToDeg(this.camera._yaw)%3B%0A%20%20%20%20%20%20%20%20case%20%22x%22%3A%0A%20%20%20%20%20%20%20%20case%20%22aim%22%3A%0A%20%20%20%20%20%20%20%20%20%20return%20THREE.MathUtils.radToDeg(this.camera._pitch)%3B%0A%20%20%20%20%20%20%20%20case%20%22z%22%3A%0A%20%20%20%20%20%20%20%20case%20%22roll%22%3A%0A%20%20%20%20%20%20%20%20%20%20return%20THREE.MathUtils.radToDeg(this.camera._roll)%3B%0A%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20setCameraParam(%7BPARAM%2C%20VALUE%7D)%20%7B%0A%20%20%20%20%20%20this.init()%3B%0A%0A%20%20%20%20%20%20PARAM%20%3D%20Scratch.Cast.toString(PARAM)%3B%0A%20%20%20%20%20%20switch%20(PARAM)%20%7B%0A%20%20%20%20%20%20%20%20case%20%22minimum%20render%20distance%22%3A%0A%20%20%20%20%20%20%20%20%20%20VALUE%20%3D%20Math.max(Scratch.Cast.toNumber(VALUE)%2C%200.1)%3B%0A%20%20%20%20%20%20%20%20%20%20this.camera.near%20%3D%20VALUE%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22maximum%20render%20distance%22%3A%0A%20%20%20%20%20%20%20%20%20%20VALUE%20%3D%20Math.min(Scratch.Cast.toNumber(VALUE)%2C%204800000)%3B%0A%20%20%20%20%20%20%20%20%20%20this.camera.far%20%3D%20VALUE%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22vertical%20FOV%22%3A%0A%20%20%20%20%20%20%20%20%20%20VALUE%20%3D%20Math.min(Math.max(Scratch.Cast.toNumber(VALUE)%2C%200.001)%2C%2036000)%0A%20%20%20%20%20%20%20%20%20%20this.camera.fov%20%3D%20VALUE%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20this.camera.updateProjectionMatrix()%3B%0A%20%20%20%20%20%20this.updateRenderer()%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20getCameraParam(%7BPARAM%7D)%20%7B%0A%20%20%20%20%20%20this.init()%3B%0A%0A%20%20%20%20%20%20PARAM%20%3D%20Scratch.Cast.toString(PARAM)%3B%0A%20%20%20%20%20%20switch%20(PARAM)%20%7B%0A%20%20%20%20%20%20%20%20case%20%22minimum%20render%20distance%22%3A%0A%20%20%20%20%20%20%20%20%20%20return%20this.camera.near%3B%0A%20%20%20%20%20%20%20%20case%20%22maximum%20render%20distance%22%3A%0A%20%20%20%20%20%20%20%20%20%20return%20this.camera.far%3B%0A%20%20%20%20%20%20%20%20case%20%22vertical%20FOV%22%3A%0A%20%20%20%20%20%20%20%20%20%20return%20this.camera.fov%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20Scratch.extensions.register(new%20ThreeD())%3B%0A%7D)(Scratch)%3B","data:application/javascript,%2F%2F%20Name%3A%20Perlin%20Noise%0A%2F%2F%20ID%3A%20SPperlin%0A%2F%2F%20Description%3A%20Generate%20Perlin%20Noise%0A%2F%2F%20By%3A%20SharkPool%0A%0A%2F%2F%20Version%20V.1.0.0%0A%20%20%0A(function(Scratch)%20%7B%0A%20%20%22use%20strict%22%3B%0A%20%20%0A%20%20if%20(!Scratch.extensions.unsandboxed)%20throw%20new%20Error(%22Perlin%20Noise%20must%20run%20unsandboxed%22)%3B%0A%0A%20%20const%20menuIconURI%20%3D%0A%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSI4NC4yODM5NSIgaGVpZ2h0PSI4NC4yODM5NSIgdmlld0JveD0iMCwwLDg0LjI4Mzk1LDg0LjI4Mzk1Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTk3Ljg1ODAyLC0xMzcuODU4MDIpIj48ZyBkYXRhLXBhcGVyLWRhdGE9InsmcXVvdDtpc1BhaW50aW5nTGF5ZXImcXVvdDs6dHJ1ZX0iIGZpbGwtcnVsZT0ibm9uemVybyIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWRhc2hhcnJheT0iIiBzdHJva2UtZGFzaG9mZnNldD0iMCIgc3R5bGU9Im1peC1ibGVuZC1tb2RlOiBub3JtYWwiPjxwYXRoIGQ9Ik0xOTkuODU4MDMsMTgwYzAsLTIyLjE2OTggMTcuOTcyMTcsLTQwLjE0MTk3IDQwLjE0MTk4LC00MC4xNDE5N2MyMi4xNjk4LDAgNDAuMTQxOTgsMTcuOTcyMTcgNDAuMTQxOTgsNDAuMTQxOThjMCwyMi4xNjk4IC0xNy45NzIxNyw0MC4xNDE5OCAtNDAuMTQxOTcsNDAuMTQxOThjLTIyLjE2OTgsMCAtNDAuMTQxOTcsLTE3Ljk3MjE3IC00MC4xNDE5NywtNDAuMTQxOTd6IiBmaWxsPSIjYjY3MzczIiBzdHJva2U9IiM4MjUyNTIiIHN0cm9rZS13aWR0aD0iNCIvPjxwYXRoIGQ9Ik0yMTEuNzYzMSwxODguNTgzMjdsMTIuNDU5NjgsLTE3LjYwMzQ4YzEuNjMxOTksLTIuMzA1NzQgNC4yNzc5NywtMi4zMDU3NCA1LjkwOTk3LDBsMTIuNDU5NjcsMTcuNjAzNDhjMS42MzE5OSwyLjMwNTc0IC04LjMxNDcxLDYuMzY5MzEgLTE0Ljg3ODQ5LDYuMzY5MzFjLTYuNTYzNzgsMCAtMTcuNTgyODIsLTQuMDYzNTcgLTE1Ljk1MDgzLC02LjM2OTMxeiIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjAiLz48cGF0aCBkPSJNMjI4LjQyMDczLDE3OS43OTQxNWwxNC42NDIzMywtMjAuNjg3MmMxLjkxNzg5LC0yLjcwOTY1IDUuMDI3MzgsLTIuNzA5NjUgNi45NDUyNywwYzAsMCAxNS4wNzU3LDIzLjE5NzI5IDE3Ljk1MDIxLDI3LjYyMDM3YzAuOTA4NzcsMS4zOTgzNSAwLjQzOTMyLDMuMjI3NDEgLTEuNjQ4MzUsMy44ODNjLTMuOTgwODEsMS4yNTAwOSAtMTAuNjI2MzEsMy4xODY3MyAtMTUuNjI0NzQsMy44ODMwMWMtNy42MTk3NywxLjA2MTQzIC0xOC40MTgxOCwxLjIyODEyIC0yMS41NDY3NywwLjQzODkxYy0xMi4xMzUzNCwtMy4wNjEyMSAtMi42MzU4NCwtMTIuNDI4NDMgLTAuNzE3OTUsLTE1LjEzODA4eiIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjAiLz48cGF0aCBkPSJNMjI5LjMyMzMyLDE3MC4wNDI0NmwyLjEwMDQyLC0xLjQ0NzcxYzAsMCAyLjU2NjA2LDMuMDY2OSA0LjI5NDA3LDUuNzY3NDdjMi4wMzA3NSwzLjE3MzY5IDMuOTA0NCw5LjU0MzAyIDMuOTA0NCw5LjU0MzAyYzAsMCAtNS41MTQxOCwtNy40ODM3NCAtNy40MDEwOSwtMTAuMDIzNjFjLTEuMzk1NjMsLTEuODc4NTggLTIuODk3OCwtMy44MzkxOCAtMi44OTc4LC0zLjgzOTE4eiIgZmlsbD0iI2I2NzM3MyIgc3Ryb2tlPSIjODI1MjUyIiBzdHJva2Utd2lkdGg9IjAiLz48L2c%2BPC9nPjwvc3ZnPg%3D%3D%22%3B%0A%0A%20%20const%20blockIconURI%20%3D%0A%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSI1Ni43OTk0MyIgaGVpZ2h0PSI1Ni43OTk0MyIgdmlld0JveD0iMCwwLDU2Ljc5OTQzLDU2Ljc5OTQzIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjExLjYwMDI5LC0xNTEuNjAwMjkpIj48ZyBkYXRhLXBhcGVyLWRhdGE9InsmcXVvdDtpc1BhaW50aW5nTGF5ZXImcXVvdDs6dHJ1ZX0iIGZpbGwtcnVsZT0ibm9uemVybyIgc3Ryb2tlLXdpZHRoPSIwIiBzdHJva2UtbGluZWNhcD0iYnV0dCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIiIHN0cm9rZS1kYXNob2Zmc2V0PSIwIiBzdHlsZT0ibWl4LWJsZW5kLW1vZGU6IG5vcm1hbCI%2BPHBhdGggZD0iTTIxMS42MDAyOSwyMDguMzk5NzF2LTU2Ljc5OTQzaDU2Ljc5OTQzdjU2Ljc5OTQzeiIgZmlsbD0iI2I2NzM3MyIgc3Ryb2tlPSJub25lIi8%2BPHBhdGggZD0iTTIxMS43NjMxMSwxODguNTgzMjhsMTIuNDU5NjgsLTE3LjYwMzQ4YzEuNjMxOTksLTIuMzA1NzQgNC4yNzc5NywtMi4zMDU3NCA1LjkwOTk3LDBsMTIuNDU5NjcsMTcuNjAzNDhjMS42MzE5OSwyLjMwNTc0IC04LjMxNDcxLDYuMzY5MzEgLTE0Ljg3ODQ5LDYuMzY5MzFjLTYuNTYzNzgsMCAtMTcuNTgyODIsLTQuMDYzNTcgLTE1Ljk1MDgzLC02LjM2OTMxeiIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSJub25lIi8%2BPHBhdGggZD0iTTIyOC40MjA3MywxNzkuNzk0MTZsMTQuNjQyMzMsLTIwLjY4NzJjMS45MTc4OSwtMi43MDk2NSA1LjAyNzM4LC0yLjcwOTY1IDYuOTQ1MjcsMGMwLDAgMTUuMDc1NywyMy4xOTcyOSAxNy45NTAyMSwyNy42MjAzN2MwLjkwODc3LDEuMzk4MzUgMC40MzkzMiwzLjIyNzQxIC0xLjY0ODM1LDMuODgzYy0zLjk4MDgxLDEuMjUwMDkgLTEwLjYyNjMxLDMuMTg2NzMgLTE1LjYyNDc0LDMuODgzMDFjLTcuNjE5NzcsMS4wNjE0MyAtMTguNDE4MTgsMS4yMjgxMiAtMjEuNTQ2NzcsMC40Mzg5MWMtMTIuMTM1MzQsLTMuMDYxMjEgLTIuNjM1ODQsLTEyLjQyODQzIC0wLjcxNzk1LC0xNS4xMzgwOHoiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0ibm9uZSIvPjxwYXRoIGQ9Ik0yMjkuMzIzMzMsMTcwLjA0MjQ3bDIuMTAwNDIsLTEuNDQ3NzFjMCwwIDIuNTY2MDYsMy4wNjY5IDQuMjk0MDcsNS43Njc0N2MyLjAzMDc1LDMuMTczNjkgMy45MDQ0LDkuNTQzMDIgMy45MDQ0LDkuNTQzMDJjMCwwIC01LjUxNDE4LC03LjQ4Mzc0IC03LjQwMTA5LC0xMC4wMjM2MWMtMS4zOTU2MywtMS44Nzg1OCAtMi44OTc4LC0zLjgzOTE4IC0yLjg5NzgsLTMuODM5MTh6IiBmaWxsPSIjYjY3MzczIiBzdHJva2U9IiM4MjUyNTIiLz48L2c%2BPC9nPjwvc3ZnPg%3D%3D%22%3B%0A%0A%20%20let%20curNoise%20%3D%20%22%22%3B%0A%20%20let%20noiseInfo%20%3D%20%5B1%2C%205%2C%205%5D%3B%0A%0A%20%20class%20SPperlin%20%7B%0A%20%20%20%20getInfo()%20%7B%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20id%3A%20%22SPperlin%22%2C%0A%20%20%20%20%20%20%20%20name%3A%20%22Perlin%20Noise%22%2C%0A%20%20%20%20%20%20%20%20color1%3A%20%22%23b67373%22%2C%0A%20%20%20%20%20%20%20%20menuIconURI%2C%0A%20%20%20%20%20%20%20%20blockIconURI%2C%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setSeed%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22set%20seed%20of%20noise%20to%20%5BSEED%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20SEED%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%201%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setFreq%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22set%20frequency%20of%20noise%20to%20x%20%5Bx%5D%20y%20%5By%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20x%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%205%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20y%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%205%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22genNoise%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22generate%20noise%20with%20width%20%5BW%5D%20height%20%5BH%5D%20octaves%20%5BO%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20W%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20100%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20H%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20100%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20O%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%202%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22returnNoise%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22return%20noise%20as%20%5BTYPE%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22RETURN%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22returnVal%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22get%20value%20of%20noise%20at%20x%20%5Bx%5D%20y%20%5By%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20x%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%200%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20y%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%200%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20RETURN%3A%20%5B%22svg%22%2C%20%22encoded%20svg%22%2C%20%22png%22%2C%20%22pixel%20array%22%5D%2C%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20genNoise(args)%20%7B%0A%20%20%20%20%20%20const%20vals%20%3D%20%5B%0A%20%20%20%20%20%20%20%20Scratch.Cast.toNumber(args.W)%2C%20Scratch.Cast.toNumber(args.H)%2C%0A%20%20%20%20%20%20%20%20Math.abs(noiseInfo%5B1%5D%20%2F%20100)%2C%20Math.abs(noiseInfo%5B2%5D%20%2F%20100)%2C%0A%20%20%20%20%20%20%20%20Math.min(Scratch.Cast.toNumber(args.O)%2C%20100)%0A%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20curNoise%20%3D%0A%20%20%20%20%20%20%60%3Csvg%20width%3D%22%24%7Bvals%5B0%5D%7D%22%20height%3D%22%24%7Bvals%5B1%5D%7D%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cfilter%20id%3D%22a%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3CfeTurbulence%20type%3D%22fractalNoise%22%20seed%3D%22%24%7BnoiseInfo%5B0%5D%7D%22%20baseFrequency%3D%22%24%7Bvals%5B2%5D%7D%2C%24%7Bvals%5B3%5D%7D%22%20numOctaves%3D%22%24%7Bvals%5B4%5D%7D%22%20result%3D%22turbulence%22%3E%3C%2FfeTurbulence%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3CfeColorMatrix%20type%3D%22saturate%22%20values%3D%220%22%3E%3C%2FfeColorMatrix%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%2Ffilter%3E%0A%20%20%20%20%20%20%20%20%20%20%3Crect%20width%3D%22100%25%22%20height%3D%22100%25%22%20fill%3D%22black%22%20%2F%3E%0A%20%20%20%20%20%20%20%20%20%20%3Crect%20width%3D%22100%25%22%20height%3D%22100%25%22%20style%3D%22filter%3A%20url(%23a)%22%20%2F%3E%0A%20%20%20%20%20%20%20%20%3C%2Fsvg%3E%0A%20%20%20%20%20%20%60%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setSeed(args)%20%7B%20noiseInfo%5B0%5D%20%3D%20Scratch.Cast.toNumber(args.SEED)%20%7D%0A%0A%20%20%20%20setFreq(args)%20%7B%20noiseInfo%20%3D%20%5BnoiseInfo%5B0%5D%2C%20Scratch.Cast.toNumber(args.x)%2C%20Scratch.Cast.toNumber(args.y)%5D%20%7D%0A%0A%20%20%20%20returnNoise(args)%20%7B%0A%20%20%20%20%20%20if%20(args.TYPE%20%3D%3D%3D%20%22encoded%20svg%22)%20return%20%60data%3Aimage%2Fsvg%2Bxml%3Bbase64%2C%24%7Bbtoa(curNoise)%7D%60%3B%0A%20%20%20%20%20%20if%20(args.TYPE%20%3D%3D%3D%20%22png%22%20%26%26%20curNoise)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20eslint-disable-next-line%0A%20%20%20%20%20%20%20%20const%20img%20%3D%20new%20Image()%3B%0A%20%20%20%20%20%20%20%20img.src%20%3D%20%60data%3Aimage%2Fsvg%2Bxml%3Bbase64%2C%24%7Bbtoa(curNoise)%7D%60%3B%0A%20%20%20%20%20%20%20%20return%20new%20Promise((resolve)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20img.onload%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20canvas%20%3D%20document.createElement(%22canvas%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20ctx%20%3D%20canvas.getContext(%222d%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20canvas.width%20%3D%20img.width%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20canvas.height%20%3D%20img.height%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20ctx.drawImage(img%2C%200%2C%200)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20resolve(canvas.toDataURL())%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(args.TYPE%20%3D%3D%3D%20%22pixel%20array%22)%20%7B%0A%20%20%20%20%20%20%20%20if%20(!curNoise)%20return%20%22%5B%5D%22%3B%0A%20%20%20%20%20%20%20%20return%20this.analyze(%60data%3Aimage%2Fsvg%2Bxml%3Bbase64%2C%24%7Bbtoa(curNoise)%7D%60)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20curNoise.trim()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20analyze(noise)%20%7B%0A%20%20%20%20%20%20%2F%2F%20eslint-disable-next-line%0A%20%20%20%20%20%20const%20image%20%3D%20new%20Image()%3B%0A%20%20%20%20%20%20image.src%20%3D%20noise%3B%0A%20%20%20%20%20%20const%20canvas%20%3D%20document.createElement(%22canvas%22)%3B%0A%20%20%20%20%20%20const%20ctx%20%3D%20canvas.getContext(%222d%22)%3B%0A%20%20%20%20%20%20return%20new%20Promise((resolve%2C%20reject)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20image.onload%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20canvas.width%20%3D%20image.width%3B%0A%20%20%20%20%20%20%20%20%20%20canvas.height%20%3D%20image.height%3B%0A%20%20%20%20%20%20%20%20%20%20ctx.drawImage(image%2C%200%2C%200%2C%20image.width%2C%20image.height)%3B%0A%20%20%20%20%20%20%20%20%20%20const%20imageData%20%3D%20ctx.getImageData(0%2C%200%2C%20image.width%2C%20image.height)%3B%0A%20%20%20%20%20%20%20%20%20%20const%20data%20%3D%20imageData.data%3B%0A%20%20%20%20%20%20%20%20%20%20const%20pixelValues%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20data.length%3B%20i%20%2B%3D%204)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20grayValue%20%3D%20data%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20normValue%20%3D%20Math.round((grayValue%20%2F%20255)%20*%20100)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20pixelValues.push(normValue)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20resolve(JSON.stringify(pixelValues))%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20returnVal(args)%20%7B%0A%20%20%20%20%20%20if%20(!curNoise)%20return%20%22%22%3B%0A%20%20%20%20%20%20return%20new%20Promise((resolve%2C%20reject)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20eslint-disable-next-line%0A%20%20%20%20%20%20%20%20const%20image%20%3D%20new%20Image()%3B%0A%20%20%20%20%20%20%20%20image.src%20%3D%20%60data%3Aimage%2Fsvg%2Bxml%3Bbase64%2C%24%7Bbtoa(curNoise)%7D%60%3B%0A%20%20%20%20%20%20%20%20image.onload%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20canvas%20%3D%20document.createElement(%22canvas%22)%3B%0A%20%20%20%20%20%20%20%20%20%20const%20ctx%20%3D%20canvas.getContext(%222d%22)%3B%0A%20%20%20%20%20%20%20%20%20%20const%20x%20%3D%20Scratch.Cast.toNumber(args.x)%20%2B%20(image.width%20%2F%202)%3B%0A%20%20%20%20%20%20%20%20%20%20const%20y%20%3D%20(Scratch.Cast.toNumber(args.y)%20*%20-1)%20%2B%20(image.height%20%2F%202)%3B%0A%20%20%20%20%20%20%20%20%20%20canvas.width%20%3D%20image.width%3B%0A%20%20%20%20%20%20%20%20%20%20canvas.height%20%3D%20image.height%3B%0A%20%20%20%20%20%20%20%20%20%20ctx.drawImage(image%2C%200%2C%200%2C%20image.width%2C%20image.height)%3B%0A%20%20%20%20%20%20%20%20%20%20const%20imageData%20%3D%20ctx.getImageData(0%2C%200%2C%20image.width%2C%20image.height)%3B%0A%20%20%20%20%20%20%20%20%20%20const%20data%20%3D%20imageData.data%3B%0A%20%20%20%20%20%20%20%20%20%20const%20index%20%3D%20(y%20*%20image.width%20%2B%20x)%20*%204%3B%0A%20%20%20%20%20%20%20%20%20%20const%20grayValue%20%3D%20Math.round((data%5Bindex%5D%20%2F%20255)%20*%20100)%3B%0A%20%20%20%20%20%20%20%20%20%20resolve(isNaN(grayValue)%20%3F%200%20%3A%20grayValue)%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20%0A%20%20Scratch.extensions.register(new%20SPperlin())%3B%0A%7D)(Scratch)%3B%0A","data:application/javascript,%2F%2F%20Name%3A%20Lily's%20Toolbox%0A%2F%2F%20ID%3A%20lmsutilsblocks%0A%2F%2F%20Description%3A%20Previously%20called%20LMS%20Utilities.%0A%2F%2F%20By%3A%20LilyMakesThings%20%3Chttps%3A%2F%2Fscratch.mit.edu%2Fusers%2FLilyMakesThings%2F%3E%0A%2F%2F%20License%3A%20MIT%20AND%20LGPL-3.0%0A%0A(function%20(Scratch)%20%7B%0A%20%20%22use%20strict%22%3B%0A%20%20const%20menuIconURI%20%3D%0A%20%20%20%20%22data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAAV4AAAFeCAYAAADNK3caAAAABmJLR0QA%2FwD%2FAP%2BgvaeTAAAv2ElEQVR42u2dB5hUVdKGe3LOuSeCYEJRQWVd%2BREQQQUDigkMqIioKOquomDAjBgQsyCiIIqomLNgACWNpLG7B0YEYc2JYABB6q%2B60%2BAAEzrd0%2Ffc%2B9XzvA8rq9N9z9T5%2BnSdCi4XDKbQ2tRRUmUttSrz0KHMMcyZZV4aVuqlm5mHyr30HP%2FdLP67aj%2FL%2BZ9X8p9fMr%2F4%2BY0hP781%2BPsv%2Ff%2Fu8h3%2FvY9m8s%2BdJj9bXkNey3jN%2Btc%2BVN6LvCf8ZmAwmLbWsZoSKlZQ6woPdS710CksdMNZ4B5jQX3PL4pbG4imlRDhri730XT%2BczQL9mC3j46r8FFHdzWl4jcLg8EsYeW15HZ7qYdxivTSZP8pc7NFhTUctvo%2FNF7jP0fJBwp%2FsLRzEcXCC2AwmDlGFCNCw8IziL%2BuP1zuoTn8v9fZUGCDZR2vx2xZE1kbXqN9Za3gMDAYLLRwAX%2FFlpOs%2F6v3jxDZgNngD6uMMr4NrKUUeBQMBtvNRBxYKI5mwbiXhWMe8xcENGLIWs7l8MTd%2FCHWC0IMgznY5AJMLpD8J9oNEEhl%2FGGciPnSUb5VwBNhMJufajkW2Zs3%2FIPMFxBAy1DH3zYe4D%2BPxWkYBrOBSX6qpET5Mw7WQ%2BSsfxqWzAn%2BgDwbKWwwmE5GFCc5tJI7i8wDvTMm5ANTPjjbeSgRjg2DWU9sY%2Fjy5shSHz3hLwSAcNmLn5mJpbXUDelqMFiUrcpDxUZlGGK2TosJj3LXUDl2AAym7nQbK%2Fmh%2FmwEpH05l62SHSFVdK4PKB4bAwYzwaQ8l9O%2FbuAN9xVEB%2BzCavGNSi%2BVYKfAYBGwslpq778o%2BxMCA1pgs5HB4qP9sXNgsBDMyEyQpixe2gZBAcEi%2FTQkIwKXcTBYCyZpQ0YrRR8tgHiACLFUKhSrVlEydhgM1sCk0IHDCZfxJvkaQgFMwUNrWYCHouk7zPEmXcCkSsk%2FXQHiAFSwRrrOQYBhzjNOCfNPZ6iDEIAoZkIMRioazEmCuxwbH1iELw0B5lJzbFCY7cw%2FIqcGGx1Y9RKODwXdsVNhtjC%2B1GjjrzLD5gY68Fp5De2BnQvT0oqWUprU1LMjb8JmBtpNzfDROL6Ay8ROhukTx%2BVMBeY7bGCgOTJrbxjivzBLG%2FdTOJgddRE2LLAZC%2FmOogN2OMxacVwZFuml0dIxCpsU2JQtEn4o8FA6djws%2BqdcL3VBehhwUAXcygovHYWdD4uKVS2mbH%2FXMDSxAc5rwsOZOjzxJA9KAFN5yj0Nl2cA0LdGI3YYzEyT9Bp2tinYcADsfPqtWEY5UAhYxI2%2FVh0m8S1sNAAa5Su574BSwCJj3ETEXwiBjAUAmudvyXzAOHpYWFZZS63YmT7BhgIgCOob%2BbeFgsCCNnac85nfsJEACImNHPsdCCWBBXqBlsROMwEbB4CIMFkKjKAssCbNXUPl7CjzsVkAiCiLJGwHhYHtHlrwUVfme2wSAEzhJw499ITSwOqNx1%2BzUwxH1gIAprNVMoSkgx%2BEx9nxXCmIeAkbAgCl%2FR5eyK%2BlDCiQE0MLy6mUnWAxNgIAUaGmxEuVUCIniW4ttedP3bVwfgCiyjcVPuoIRXKAcYC%2FF%2F%2FCN8DpAbAEv7l9dByUyd6ZC4ONhs5wdgCsdenmo6FQKDtmLtT3W4CTA2DdUuNxyHiwT%2BaCVKLNgGMDoIX4Pi97FsqlsbmrKZV%2Fme%2FAoQHQKt1sFma7aWryi%2BNPz5lwZAC05GPJs4eSaWTSDZ9%2FcXPhvABoTTXmumliRUupkE%2B6S%2BC0ANgCT6WXSqBsFjb5BfEv6nM4KwC2orZ0KZVB4Sxo8ovBTDQAbHvhtlLK%2FKF0FrLiOirgceteOCgAtmZFlYeKoXgWsKrFlM3TTT%2BDUwLgCJbx6TcXyhfd4ohM%2F2A9OCQAzmEe2kpGtzjiQzghAM6j3ENzOIMpDUqo0Np5KJEX%2F004IADOhe913kV5sSrjJhrovQAAME6%2BPpqOxjoKjC%2FSxsLhAAANGANlNNH8%2FXThaACAXbuaoZ%2BvKaLrpWPL0MQcANA4W%2FnC7XgoZSQzGLzUgRd2I5wLANAMG90eOgiKGYmTrkwDxmBKAEBgfMPiWwHlDLdAgsdAw5kAAEGwFAUWoaeNyZy0F%2BBEAIAQeFk0BEIapJV6aAScBwAQBldDSYMT3SPllhKOAwAIg7%2B5wKIXFDWQDAYOjPOC%2FQinAQBEgJ8ra6kVlLUZq1pFybxQC%2BEsAIAIsqhsLaVAYZsukpgIJwEAmMB4KGzjons%2BnAMAYGI3s7OhtA0b39TQHrwwG%2BAcAAAzK9uYtlBcsQ8onhdjHpwCAKCgmc6CjtWUgNOuj26DQwAAlOGhUY4W3QoPdY5ovm7NVip%2Bu47yx79NOTeNp6wrR1PmRddT5rBbKfu6Byl%2FwjvknvszHA8Ah%2Bf38sn3CEeKbuuVlMULsDqsYPnSzVTwxPuUcd5VlNjhcIpJSSMpNm6W2FhK6tSd8sa9CAcEwLmsqVhGOU7MYngm1EUrfnM5pQ8YSrFZuS0LbTMkH96T3PN%2BgRMC4EymOK0k%2BNRQFso9fx2lnXIBueLiwxLchiTsub%2Fxc%2BGEADjysu1kZ5x0PZTL%2BXTfBX3Kfd1Hce7KiAluQ1L7DIADAuBMvnVEyIGHVT4Z7OKUfPQNxeUXmyK6BjExxqUcnBAARzLB3iGGWurGD7kt2IVJOeok80TXT%2BaQ6%2BCAADiTbTxerIc9u45VUyo%2F4BdBn3bfX21kIpgtvBLGgAMC4FhW2LKRDl%2Bo3RPKgmTf8LDporsdhBsAcHRhxR32iut%2BToeEWiiR0vNkZcKbe8dTcD4AnMsWmWhuD9Ulii2TfpghLkbCvh2UCW%2FaqRfC%2BQBwNvNFs%2FRPH%2FPRBeEsRHz5HsqEN2Gv9nA8AJzePtJH52gtujJiWfLkwlmExAMPUya8UphRumQTnA8AJwsv1xm0qaNMnU%2B7d4W7CKl9%2BqsTXqZoxmI4HwAOR7om6tzcfFO4C5B54Uilwps7ejIcDwCwibMc2ugnvB56NRILkHPL40qFVzqdwekAACy8L%2BiWs9s9Ug9fMOVjpcKb3LkXHA4AUN%2BYS5uKNqI4fsM1EXvw%2Bb8avRRUCW9cQQkcDgCwncVapJfx8fzMSD98XEmF0lOve873cDgAQH2WA7ex1eG0WxvpB0%2Fu2kep8BZMmgmHAwBsZ7kM5bXyhdp5Zjx4xuARSoU3%2B5qxcDYAQMOLtjMtKboyMpnf3EozHjr37meVCm%2FaSefB0QAADamz5KmX4yBDzHrootc8SoU3cb%2BD4WgAgJ2LKvgbvaVEl8vrkviNrTHtoWu2UExSsjLhjUlOMUbFw9kAAA1Y3c5DiVbKZLjM7IdO2OcgpademfEGRwMA7JLhMMQSoiufAPyG%2Fmf2A6eeeI5S4c0bOx2OBgDYla%2FkPiv6mQw%2BGqjigbOuulup8GZedD2cDACwOz7qb4UOZEtUPGz%2B4%2B8qFd6U7ifAwQAAjQnvEq5ZiInmabeXqoctmf2dUuGNL2sFBwMANBXr7R69FDIvvavyYWNzC9WJL%2FeHcC9YDycDADTGG9EKMezPL75N5cMmHdZD6am3cOoncDAAQGNsK6ul9urDDF56SvXDZgy8Uqnw5tz4CBwMANAUE9WKbi25%2BUU3q37QnNsmKRXe9DMuhnMBAJpiU6WXSlSGGW6MxoMWvfCZUuFN6tAZzgUAaLqM2EvXqWr9GCulc1G5SeQJwDIJWJXwxmZkcVeibXAwAEDjmuSlVUoapXN58DHRfND41vsoPfWWvL8aDgYAaJIKLx1lvvB6aUY0HzL1mNOUCm%2F%2BQ6%2FCuQAATYcbfDTdVNGt8lAxv9Bf0XzIzGG3qi0d5teDcwEAmmFz0VIqNK9gwkfXRvsh5QSqUnjlhA3HAgA0e%2Br10H%2FNulSL4Reoi%2FYDSsxVaekwx5ThWACAFlhuSv8Grk0%2B0hIPyFkGsRnZ6sQ3Lo5KF%2F0BxwIAtJRa1sUM4Z1klQeU%2FFqVp17JH4ZjAQCaPxTSY5EfZOmln63ygFJRprR0mCvm4FgAgBb4MaJN0vlSrY%2BVHlB6KKgUXukRAacCAASQWtYrkrm7U6z0cNI1TGnpMHdFg1MBAJQ1zvFPEF5nqTK9hRuMfrnKSodzC%2BBQAIBA%2BDUik4j5pu5EKz6gTIhQWjrMEzDgVE3w%2Bd9U9PIyyh0zlWfj3UVZV46mzKE3UfaIccbfFT43n9xzf8Y6Aaf0b%2BgdiTDDM1Z8OJmJprR0mGe%2Bwal2xv3pT5Rx%2FtUBTwaJr9qT0voNotzRk6nk42%2BxhsCuaWVPhSe6aymFf9BGKz6cTAFWKbwy5RhO9Q8FT35ghGBCXc%2BY%2BARK6XWK8XOwnsBmrJMQrW2yGRqSN3a62tLhE8%2BBQ%2FkpmrGYYpJTIra2ie07GT8TawuQ3VAfZnjQqg9W%2FEatUuFN2OcgOJTEr7iKL2GPfU2oEIynjEHDqaxmK9YZ2CHcMDYc4f3Csg%2FHGzQmOVWZ8MYkJvFrbnG8Q2Vedoup65zW91xsXGAHakMNM%2Bxp9YdL3O9gtaXDr3mcfdpd%2FGfAF2lhVQrePAEbF2hPxQpqHcppd5jVHyztpPOUCm%2Fu3c86%2B0LtifeVjVySjAlsXqB5uOGiUAZavmX1B8u%2BZqza0uHBI5wdZrj0ZnUTns%2B5ApsX6C28Hno1lDSy3y1%2FAps0U6nwJnft42hHSu7cS11MPSGRit%2F5AhsY6MxvQaWVRXugZTAJ%2FCqFN66kwtHVaRICUJrC12cANi%2FQ%2B16E%2B5gH03v3Hl0eLK7QrVQM3PN%2FdWbuLl8sqlxng9hYKnpxETYw0JnRwcR3F%2BDrb%2BMUTPnYkQ4kPReUC690hju0KzYv0DnOOyeY%2BO5mXR4s47yrlApB9nUPOtKBMgZfGxXhNfpkTHjHfmvKI6xKPvrGqNgrfL7aoOSD%2F6GAxH5sqlpFyYGcdrtqdRLjhisqRSDt1AudebHGF4vREt6EvQ80Yszax%2FuWbqbcO6dQcpdjm54byBV8ccXllNjhcEo7bQjl3DqRit%2Bug4Dp3Eyqlg4PJL47QqvY40tLlIpA4oGHOdJ55GIxWsJr5FCzYOm8ftIaM77VXqFPu65oY6QzFr%2B1AmKmH1cHUjjxhm6nCOl0pSzNKS3D%2BJqo%2BjlLZq2l%2FPFvU9Z%2Fx1DayedT0iFHUHx5a4rNzDFOT3H5xUYln8yjK5j8UWQ%2FsflCUWXj%2BUaFp7SKSpds0nLj5T3wUuTK2%2FnCMfWY05Bqp5NG%2BeiV5lWX58KXWWioZaAktN1PqQgUv7PSvK8l834xLvBkrlz66RdRUsf%2FM8Q16Eupfx1ZHzOMRL40v59oiu6O1pxX36PdpjOKfFgsI34ASE2n3DuegrDpwY%2BirU3qboWH2un4YKl9%2BisVADnBRKLvgYyNl80jF4SSnRFXVBbZUyJP6YjE5Ay5ULSC8MZm5eqTzseXZOkDLjV3TfhbiHxAQ9g0iPMup72bu1i7QMeHklEzKgVAxtoEswGlhWXefc9T5iU3UkrPk41JDK64OCXvNaVnv%2FB7YvCFohWE1yjbltaRVv9q%2BdlvlNLteGUVfnLPAXGzPOc3N1%2FtER0fKv%2FRN5Ru%2FqbEzAgTPD2bsq%2B9j8VqsHEzrbJ1ZVOnIhH%2BsLrA8YWiVYRXGrCXzFpjWV%2BUkUaqu%2BbJJA8Im9XTB%2BmBpoWXk311fCi5eFJ60cM3zHKBlX39Q0bKT1KHzk2nB1mA9DMvCyvfNDY901LPk9Z3oGWr%2B%2BQSUPmHUVKy0aAeAmdpPmruYm29rg8m8T%2BrCl%2FUY6P8oRBqE3e5PbfcM0kpscVGBUnDpmh%2B%2BMrrQ9wsza%2BNXrBV1lIrnR9M0qsgsk1TOH1haKlQD75syeeRIgTLFPHc%2FqQRa43memQPvxfiZvULthoqbyzMcILOD2X6DbLmZF11V2g9ePki0arPJI3Zo132Kxem0c5xNi58LxwJcbP6pauXejd2sXa9zg8l42IgsM1cwHQ%2FIaR1lYtEqz5T4n6HRKWYZXvhTuoJZ1tmLTIvuh7iZnV8dM3uwuuj6VqXZE6bB4Ftrt8BF5mEsq7hlLkqKSW%2BZ5r6r4ycS5zUqZul1iF75AMQNutnNkxtrFS4VutjPOdOmlEhZKsLtmDXlG%2FKVeUbh1MkorKUuOTDrylhrwMstw75D70KYbM%2BNTuJbjsPJfJfbtX9weIr20Jkm6G0emNw3yKmL9DiubJH3q8mXeyVGqNzmBXXoPjN5RA26%2FOX6wOKbzjqp40dHizlqJMgsBGcniEtCbU4zecWkHvBenPTxSa%2BZ7l85obVa6XL%2FoKw6VBz4KXKHcLr9lIPOzyUccMMgW36xBvk5kw%2Fa5g2z5Y55DpTez6r7IAXdPx%2Br%2FYQNX0u2Lpq36Nht5zTcS9CYJs5FQWdG92puz7PZ5QSr418dzEu%2F7ZCulizQ0GPOxOCpssoIB8NbJjRcJsdHko69UNkmzgV7dsh%2BGpA%2Fgqv0zNKf4yIdhfjtpxa5Gj%2F506Imj6ZDTc1jPFOtcVD8XgY6VMKoW1kc15%2Be9C399o9J2dgSL%2BESGTIJHc7Tpvnzh%2F%2FFgRNlxOvl55qmEr2iV0eLPGAf0FoG5ne4J6%2FLriObzztQstCkSNPDC9H99OfKPGgf2v1zPIhCVHTho8bCu83dnmwtFMugNg2IK6ghPu1Lg2%2BxzGPGNL1maU1Z2gNgVbW90rWKT%2Bbm0NBzLQKNaw1RFdGD%2FNfbLPLg%2BXcNB6Cu%2F30x%2Bl1oY7%2FST3%2BLG2fO7F9p6BLiWUYZWxuoXbPKhV0EDSt%2BLtNHSW5KlZQazs9WNHrXmdnL3Bv1pSjT6XCZz4Nb46dBauzghrPdP%2BMoDqwRb1hfTR6LYOoUOWjKrlYO9ReR3lu3J2T7xyh5fzSxHYdKb3%2FJZQ3djqVLtwQgRv9LRSTmKR3XJtDBoHkLefc8jhfysVr%2B5zSHApiphcVPuoownuM3R5MOnHZNV6bdFgP45QjQzILn682hmaaURprh%2FXKGfVoyy0dde%2BzzCESiJl2ubw9Xdwj8iy7PZhxitG5oQ2Pc5d5bZKXKgn8clkUkZNsoJVaY6baozEQx2wbWzejpSMXHWj%2FjNwUSlLfIGbaVa%2F1F%2BG93Had3rlu36p19TuFCdIyjPQ3ycTIHjHOGN%2FinvND1Ncv44JrbPMtIfPSm3cWXW4UlNz5aHukCXJTKAiZlpkNl4rw3mLHh7PS10gp15V6%2BtQ%2B%2FSnrijso%2F%2BHXqPjdL6PWxLslko%2FobZ8YOBfUlMz%2B7p%2BWjnsfaJ%2BslZ4nQ8T0FN5R2o50b7H6iHu0SvNvu8ZhzcSqrQ9DvvkfMJSKXv2c4koqbPVcmZeMgojpyYPaT55oNiH%2BrRWmiUhcfnG9wJ5zhRFTlt61doi3SetIqzeFCSXzI5oTgE1LmeOmUBAxLWevPStZDbNs3f%2BSCwhSevQN%2FYKGY8VSQmpcdPF4lYJJs4yyUruuV8GUj5V9M0CRS5jNz%2FlgASHTsl%2FDe9IScoETHrbopSXG6VQGJDaWoyo34FLxJLfdWVeOpvxHXqfi91Y5zinkw0XV12SIZxin%2BJQ0oykUhExL5orwLnHkcZ%2FTjKR%2Fq3veL%2Bje37DXBZ%2FsleSfcmhG9%2Bq4qJdFw191ZZGEGnxYCKC6u5t7zveUfc1YiGiovYc5BRH%2Bqi2fi%2FCuxEKA7dVcklusop%2BEvJZ821DxenZE8r7hs9pSJ8K7FgsB6tsifqGsj8KOYo3zroKQhtL68qkP4bP68pX04v0BCwGMLl0PvKRENJL%2FfdQ%2FWSdc3CDz0iCmQYZqbJxZ44B0su9EeNdhMYBR7Tf0JjXxyX6Ddr7QO20IxDSYVLyiMvir3vwiwvsHFgIYXd169otK%2FwQpn9a5NaNqkrscC3%2FVm99FeLdiIYAQ32ovJcKRe%2FuTu0%2B8sEO3MEVknH81%2FFVvtkJ4QX3cadEfxpReJRdDT36w%2B8Uen3qlmRCENYAPrjFPw2dtILwINQAuaFiortSVh0o2WryhaaxXOp6p%2FNAIZXgpsF6oAZdrgHJunaiueXcTlYLStlG3DIe4olLKf%2FQNpS1GpZE7fFb3yzUffY%2BFAOlnX26JG3mJX%2Bo0Wr3o5WVGzFrZ6XrP%2FeGvtkgnQwEFYJI6dVfTY4A7vTXblpKr2WT0kQ7jmSQ8Y3xo8aBRVa8rl5DwVzsUUKBkGDCxuQVqhKP3GS3nE3O6mbVnuRXsFGeVhjWqXjvrP3fCX%2B1QMszHXi8WwtmUfPSNulQonufW4lcxnosWl1dk2QGaEl7Y8V45Xq0yLp0%2F%2Fi34rC2a5Di0LST4h%2Fzxb6tr7nLDw4H1Bebpypa7SOMPg6JXanbu8%2FziIqXvQRr7w2ft0BbSIY3QQdNkXXWXuhMbN5gP6AKCZ%2BbFuSutI7r8XorfXL57NgiPfVJ5mQd%2FtQVGI%2FSZWAhnk3r8WepyUHnoZMApbrc9YY0x6q335qb5axrPPT71QmXvI6lTN%2FirPbIa3pUpw89hMZyNykkQ7gXrA39vNVtZ9PaJ7qSHdh25afsPTb5H%2Bf%2BVTUvmydXwV1vwjFyuPYyFcDA1WxqdQWdWClbQrSrvez5qopt0yBHNflBIIYOqtRNybp4Af7UDHnpAhPdmLIZzkcsilaW1wTvpNqXpWjs6gHU7zuhf0XyZ9QKl76nwufmW9iX3%2FF%2BNcvBdMb4x8O8R%2B22H8I6SkuFhWAznknv3s8qEI6Xb8aFlXUx4R6nApZ54jvFNoMUY9I2PqHtfUmr92W9R%2F3Yk07pzbptEGYNHUMrRp1LCvh3qc8BbarDE71%2F%2BvYR9DqKUXqcY%2F33unVOo%2BI1a54myj4ZKAcWZECDnkjH4WnUxygGXWr6yTqrQAh2bnnby%2Beou%2BCrbqr8E4hzlgkkzKePc%2F1Bih8M5XznVnBBURhal9Ohr9AtxwmSNch%2BdIcJ7NATIuSR37aOu6orT1kIOibzwmekdwHZt0N7ipSSHTpR9WzjqJGVim%2Ffgy8apNDY9U3mIR4pRJFOk%2BK0Vtt1zFV46ylX%2BOR0CAXIucSUVyjZV3tjpYb1X04oq%2BGtw9nUPBt2%2FOCY%2BQdnaZV5yo7nVizO%2FMhoUxeUXWyN3mkMXqX0GUNFrHtvtObeXOrgqa6kVBMiZyGWIKyZG3eXQtHlhXkpsi3hDGvn6nHf%2FjOD7Fz87V6kQ5Y170RzB5fzk9NMvsm4Tev5QTD329GZT%2BrQr0fdSpatqFSXzP%2FwNIXIeBZM%2FUlvuyhOFI1Jpd%2BXoyMQWs%2FOo8Ok5oZ2%2BR96vdO2K366LbEhh8Z%2BUOeQ6pelw4ZZrB1r1aHH%2BblNHSS4x%2FoevIUTOQ75eK4vdJSVH9PY6965n%2BFImO%2FR0scN7UvF7q0Kv9uPMB2Vrl5IW8IVfQB%2B4k2YZl3XaTfvgb2fBxuEtyBrXduN%2F%2BARC5DxUlruacSsvXdUk9CCiHljcMJ5SjjzRSE8Lu9qv7X7qquf2PzRC%2BaPbKPOyW4yv7zrPnEs%2Fa5jO%2B%2B6jf4TXR09DiJyHNCVXVgV2WA8TY9XrjNxS6TmRsMe%2Bxglxe3wwvrTKyNyQ0ICMForI13TOp1U1GFRI6zco%2FPe8cIORR22XgZ85N43XM5XMS0%2FtEF6uXrsVQuTA5ucKJz2knXSefWLjT89WKjLZI8aF%2FcGUeOBhtpq0LJeiWrbIlKq1BqGGQRAip2U0rFO6UTKH3mSf2Pjwe5WuXcFTH4b%2Be%2BZRSon7HWLLMfdZV9yhY%2FHEwB3Cy3llPSBGDuvRwAUJKjeJDIS0TRtNzi9VuXYhV3Nxia%2Bqir9okNzlWB3LhY%2FYIbzlNbQHxMhZ5N33gtpTG9%2Bk22Xt4lvtpXB8fFnI7zN9wFDbiq5xb9Chs37fND1UsUN4O1ZTAv%2FlFgiSc8i66m61eajvfGGPEA23iVSZFZD8f8eElm7HDWjsLLrhNF2KIptdXCzqamgYegnhNe0iJC3DaGpui4s1PrmrFJeMQcODT7PjSyeVF6fRIuPc%2F%2BrmP0tduxoL7zQIkoPaQY6ebItUMvUfWHepjY3zyTXoxkd8Sra76Bpl1A%2B9opv%2FTNlNeDm%2FbCQEyTmUvL%2FaNg1elF6sHXOaUnFpOEo%2BoNg9i5ETRFe6mJUu%2Bl03%2F7l6N%2BF1%2B%2Bg4CJKzSGjTTs1k4QhUilnmYq18D3Xiwo1rZLxQ4FkMW5X9TqMe3%2BUm7Brm8B6zm%2FBKxxyIkcN6NSho9CInk6AGXFr5Yo1zYlV2c0vYc3%2FLho%2BiTcGUj%2FXzoeVUupvw8m1bDP%2Bfv0KQnEPpkk2mN%2FM2JjrYpWJt4ntqRxBxvnBQJeAKJx5Hk5Bm90Wfn11NGV%2BwzYYgOQvp0BVf3tqckS7cdjFS%2FREscbHGlVJKK7O4%2FWXA%2FYGnfuKY027eAy%2Fp6D8fNie8D0GMHHjRxn1yk4%2FoHfEWfvkPv2ardUrpebJSgcl%2F7M3AiyW4mbkTRDfxgH%2FpORzTR%2Fc3Kbzo2eBspNF0REapyyid6x%2By3fqovFgzGsfPWhtwu0epcLO98HJbz6IXF%2BnZlcxD5zUpvCU1tA8ECBS9tNSYPiyjuIO9TErY6wBjsoXt1oX7HqicsRablRv474vFyAmn3cyLb9D3PsVHezYpvP4Ltp8hPqBhFzO5VJLCgbTThhjJ%2BYn7HWzEhQURZyndlFzdwmc%2BtXUsXGkfgkOOCDw75YaHoz4ZIr5qTyNclXbKBcbYe2lgIzH%2BiJVOd%2B6lc%2FXjj6KtruaM%2F6XXITgA7FoqPFPtlIUzLwv4vYnYRatJjVTWuef%2B3GRecc6tEymu0B1eXLfD4UbzeY395yVXS8ZH4mux0QCIbtOZYCYsqG5yLhM%2BZOZdwF%2BzWTQzL7reaF4efEpdfx0r1HaN7%2F63ReHl0uEu2GgA7CK8Y6YqFbfC6Quteekn2SpBZFvs2rwn6%2FLbjXuAFmf0cevNvPtn2CNf3keHtSi8ZWspRdqXYbMB0EB475mmtg%2FBsr8Cfm%2BxGVnq2lTydOaIpDDO%2FMr4MMsYeCWlHnu68XPlTxk5b0zc0DFlrHE27Rjn3qL4emkeNhsADVLtxr%2BtLnZ6aNeg3pvKbAsJGcAfguJjV6BW6qG7sWAA7FxeHZueqWa45TVjgxPeEGKnIV%2F68VQL%2BENQjXHuCFh4%2BV8%2BGosGwC4tIY8703xx4%2BKTkllrgnpfKpuexxWUGCmG8IcAP7A91D1g4a1aRcn8H%2F2OhQOgQS7v23UUk5pubrvDnv2Cr6jjHFqlaWSduoU%2BgNNZ%2FBZwfLdBnPdNLBwAu8Z63zJPfOPiqGjG4qDfU3Lno5Xn8EplXeYlo6j4jVr4RdO87ArWONxwGRYOgMZKqpdQfEUbS8xXMxrknHFxVCvX4vKK6rMSTjzHmIMmzyFkXX6b0WGtITmjHqW8e5%2Bj%2FMffpcLnq6n43S%2BptHqjXcMMQ4IXXi%2B1xSYDoOnLNhGSSF24JXftE9y0iQbk3PaE9n0YJE5tlJ8fdZKRYiZN%2BiWTROeQRsUKau0Kxfg%2FrsMmA6AZAV64gYVvktFbIaTpFPzfSA%2BM0sV%2Fhh57fmuFrZvjxFe2NZrCixgXTptnNCyyvF%2Fw1HZXqMbhhgewuQAIsKEQ9yyQ1pqZF47kC6ju9a0aOW7b6AmPix5kcGbh03Mi8tpx%2BcWOaYQem5Nv9B8ueHq2dcuEvXRvyMLLqt0bGwqA8NpJSpWWxDMFmRos%2FxzpyiwZ%2FugU4d01wyKY8mplwuujniELrz%2BtbD02EADWJu%2B%2BFxwpvDvCNf0GcTOdP6zy%2B%2Fg16DSy3cINPnoajg2AxWOKfDEXyf63WsaCW%2B9DRa97rZDNMMkVrnFLs%2BPh2ABYH6fMXWs2%2FpuRXX8BF90y4WPCFt52HkrkH%2FYLHBsAq%2BcXLzVKjiG%2BWdGM%2B%2F4imumKhPEN3ZNwbAA06CfBjcOdLrzb84LlIjMKv4MJrkgZ%2F7Bj4dQAaNBPgivBYhISIb4S8%2BXqQveC9WpTCr3UI2LC27GaEviH%2FgTHBkCDWO%2FZl0N4t48O4o5yCtf%2BR9cHFO%2BKpPEPfRxODYAGGQ5cBZewV3sIr59g5sOFWTTxiCvSVlpL3eDUAGgScuAyYrNbWOpCnLvS6K1hem8GD3WOuPDKXHj%2B4Svg1ADogZz0kOXgn%2Bpx7X1mr3etaKTLDONiimvg0ADoQ86ox0Jr3mO3LIfcAmPMvIklwle6zLJWNVTEL%2FIXHBoAfZAZbhBfjvWOnmzWGm8urqMCl5nGL%2FIinBkAzXo5jJ1OMSlpjhbe5H8fZdal2nMusw2DMAHQtbKNJ2eUt3au%2BBqDRNdaO3e3mUu2WH6x1XBkADRMNVv0O2UMHuHYIgsTLtm%2BFE10qTC%2BZLsBTgyAxulmby6ntL4DKSYp2VHCm9Lz5EiHGUa6VFl5LbkloAwHBkBvZGpG1tX3UNLBXSgmPsH%2BOb08mDOCTeg3VXmo2KXSpOckHBcAG4UhON2qYOJ7xoRg6W1rV%2FGV4hLLNcQJomPZfvzC2%2BCwANi34Y5kQ2RccI0xvl1yYW2RVjZmaiTWZxtXqu3rioZxrPctOCgAzqFk1hrKf%2BxNyr7hYeNknNr7DErscDgP9izV5sIu6%2FLbIrEWr7miZZJGAWcEAOyAh3u65%2F1CJe%2BvNsbwFD43n%2FIff9c4OefcNJ4yL72ZUnqdYsRaoyW8aacODv85fdTVFU3jN7EIDgcACIrP%2F6aCKR9TSvcT1BdSdO4V7vuvdkXbeAT8WXAkAEDI%2FSRufESp8CbsdUC4KWSnR114jSbpHloLBwJA46q21zxGT4f0My%2Bj9HOuMP534dRPOHSwVcnrx5fvoU542%2B4XzntdHfFm52Fcsg2F8wKgXzw29%2FYnjRE5zXX1kokWErM1870kHdpVnfC2aRdObHewyyomUzU55LAKzgyAJqlib9cZX7kDFqy4eCODoWjGYlPeT%2BJB%2F1YnvHvsG%2FJpN2IThCN46h0MhwbA%2BkiRRGxGdsiNZtL6DSL3pz9FrnBj6WZjKrAy4d23Q2ixXR8NdFnN%2FLHelXBsAKxL4fSFERkJFJudZzRZl%2ByEcN9T7p1T1PZr6NE3lPe5wjKx3d2q2fgTAc4NgFWLH9ZGPH82sX0nKnr187Cq40TEVQqvXB6GENvt77KsEcXxqdcHJwfAYnBjGCn7NUPIpGIt8%2BIbjMKJYN5T%2FoR3%2BPKuUH1ryBHjgl0%2Fj7LWj2HEevvD0QGwFlLia7agyYSL9DMu5obrS5uO5%2FK037wHXjLtQyAQCp6eHVwM2kP9XJa3%2BkbpS%2BHsAFin2Y3qsT9x%2BcWU2mcAZV11lyH6mUOuM0bvxKRlRLVPg8S3S5f9FUyxxGemTQ%2BOeDVbLXWDwwNgDVKPPwsj3reXCx%2FRO9gqtS4unYzf9Aw4PQBRPu2%2BUcs5uHEQ3RDiu1ybMM2lm1WsoNb85v%2BE8wOA064ViElMIvcnPwa6dn9U%2BajKpaPxmx8N5wcgOpQu3EAxySkQXT8Scw7itHuzS1fLr6UMfohvsAkAUI80LIfghpTN8L%2BipZTm0tnKPXQuNgEA6sm66m4Irp%2BkTt2DyHmmAS7trT69bCE2AgCKhZdH3EB06%2FtLBNHcZ6426WMtppd9TgfwA%2F2FzQCAOvLuex6iK6N%2B%2Bp4b6JptcXvoIJedjB9qDDYDAOpwL1ivzQBK0wo5isoCzmTgC7VbXXazsrWUwg9Xhw0BgMJ0smNPd276WHxC%2FRSNwNZqedUqSnbZ0WQyJz%2FgNmwIABQVULyz0shfdaLwZl19T6DrtI37MXR32dn4ISdiQwCg8JLtP3c6TnQzBo8IpsH5oy67W%2BuVlMUP%2BzU2BAAKQw59%2BjtGdIPst%2FttxTLKcTnBpM0aNgMACqvYFv1ByV372Ft0Y2Ioc9itwa5NX5eTjJOUp2JDAKAQHtWe1negPS%2FSkpIpd8zUYDuPPeVymknIAZOJAVAMz0iT%2BKecDu0iuvGt9%2Bbm60uCXYsv29RRpsuJ5q6lw3kBtmJDAKCW3HumcQOdVFsUR5R%2B9luwz7%2Bl1EeHuZxsfOq9BRsBAPVIGW18eWs9CyNKKij%2FoVdDe3Yf3ehyvPHIZKmPxkYAIBqXbr9TxqDhRrGBFrFcrsSTrIXS6o0hPS837Zpj2THtqs3fNH0DNgIAUTr98oj2lCNPtG7slxvdSEqcFISE8Zwb%2BVK%2FDRS3gXES80BsAACiLMA8ITil1ymWGRck2Qpp%2FQYZHwxhP58t2j2aU9U2Ac4PQPQpmbWGMi%2B%2BgZvMlEZFcBP23J%2By%2FjuG3HO%2Bj0xIxUsPQ2GbME7vSOLA9wI4PgBWyf3dYlxiSbMdU0fE8wk78YB%2FUebQm0JJDWuJeaItUNjmUsxqqJwX6gc4PQDWq34rmDSTMi%2B6npI7H220XAw1XhvnrjR%2Bhpyq8x95ndxzfzbnffvo%2B9KlVAZlDaykuLvk2sHZAbB4z9%2F566jolRpDPHNuedwYn5515WhDUOVPIXvk%2FZR71zNU8MT7VPS6l0qXbFL1%2FrZIR0QoanDx3uFwbABAqPCF%2FZVQ0mCN5x7xwk2HAwEAQmCGbWanqTb%2FePhlcCIAQBBx3SUFHkqHgoaT31tLbs6%2FWwuHAgAEwNdyQQ%2FljESmA0%2F%2BNKpO4FQAgKbZwBfzB0IxI3nZ5qFjkOkAAGiCrW4fHQelNEN8fXQBHAwAsFsGg5cuhkKam%2BN7DxwNANCA0VBG89PMYvnk%2BzycDQDAPRimiSZAGBVYOw8l8qK%2FDscDwNG8gx4MquO9aymFF%2F4DOB8ADozpckPzoqWUBiWMgsnC81eN2XBEABzFPCmuggJG0WRaMd9ofgZnBMARLOXU0lwonwWsuI4K%2BBfigVMCYGuWV3moGIpnpTQz7rnJn4Qr4ZwA2JIvypZTKZTOgiafhvwLqoGTAmAjPORDM3PrX7gV8i9rMRwWAFuwWEKJUDYdTr6LKZt%2FYZ%2FCaQHQmoWlPsqDommWasbZDu%2FBeQHQko%2BQMqapSVULf2K%2BAicGQCvelAIpKJjGJuXFGCEEgD69F2TPQrnsYDx7iW9GR8GxAbAwPhqHhjc2NP7lDmL%2BgpMDYCm2op%2BuzY3DDj35F70ezg6AJdjI4YXeUCYnnHx9tD%2F%2FwtfA6QGIKl%2B7vdQBiuSkk69ML%2FbSIjg%2FAFFhGQ%2BxrYASOdAKPJSOjAcAlPOydBWEAjk948FLw3DpBoD5l2jMcNlzEB5YfejBS13YKb7F5gDAFH7keG4PKA1s90s3bjvHDjIXmwSAiFJd4qVKKAysSZMyY0nkxmYBICItHR9DJRosYOPcwrPZcTZg8wAQEutZdAdASWBBm3w9wjBNAIJmHotuGygILHT7gOLlJhZZDwC0yBZmdMdqSoBwwCJz8eahTuxUddhcADTK6goPdYZSwMy4eMuUywJsMgD%2BQYqQZOoLFAJm7unXRycj5xcA%2BprpC0WAKTMpefSnnf2NDQgcxjZmMuahwaJm5R76Pxk%2Fjc0IHMIXpR46EjsfFnWrWkXJ%2FgkXm7ExgW0zFvgbngyRxY6HWcr4JHAgO%2BcCbFJgM%2BaW1VJ77HCYdY07L7EAn8LO%2BhU2LND%2B8sxHgzEHDaaNuasp1R9%2B%2BBMbGGjGH1IIkV9LGdjJMD0FuIbK5QbYfxOMTQ2szmuVtdQKOxdmC%2BOvbEewUy%2FGxgaWLILw0meSoYOdCrNl%2FNfto%2BNYhJdgswMrwE2gvNKJD3FcmBMEONZ%2FAbccmx9EiS%2F9F2dx2JAwpwowmu8AZc1sDMHlrnvYgDBHm3To5xjbRUhBA2YKLn%2FIX4iWjTBYIydgIwYsjaQhFCAyLDZiuDjhwmAtm%2FQ2ldQepKGBUJrY8Deo9%2BRDHDsJBgvBeBO19XdB%2BwOCAlpAeoVM5g%2Ftdtg5MFgErNJLJXyKuY6%2FNq6CwIBdMxTYN0ZWeagYOwUGMysO7KUe%2Fmo4nIIdfLqVyQ9GOAEpYTCYwjjwMsqR1CDehMsgRI5Bcr%2BHc3vGQuwAGCy6p%2BAY%2FqrZxT8P7keIk%2B34gU%2B3j2KYJAxmXRGOMzIi6i%2FkfoBoacsvEk6SUAJyb2EwHUW4%2FiS8DmJmedZtF1spqoEDw2CaG4%2BmT%2BKvq714Y9%2FH1ELkLALP6%2BMw0b38u%2BkpvyN4KgxmY5Oeq3IxJzfjLADrIYLK%2BF2KG%2BSCzL2c9oYnwmAOPg37U9RGc0%2FWOfznJghkxPiTc69n88n2Du6V0B0hBBgM1rhxXX%2BFjzqyaAzzn4hxSRc4640TLY99kg8zmUANh4LBYMGbNHDnr8V8Gj6PheVB5iP%2FrTsyD7z0IYvsA7I2CB3AYDDTrbyW3P4QxTB%2FJV21TYd7bmFxXWk0LZKTLGcdVKyg1vKBBC%2BAwWCWMKmok1CFv8n7cEln83%2F9FvHaauHTa7U%2FtDJaLh7lQ8UQWLRUhMFgOptcLpV4qVKE2Uhv81F%2FFuRL5SQpYQy%2BiHrWf%2Btf7cdjCHa9aP%2FkF8iNDQRzo%2F%2Fvfmrw73m2%2F%2Ff8897lP5%2BRcIDxGvJa%2FJry2vIe5L3gwgum2v4fWd7IWKJ%2FY7MAAAAASUVORK5CYII%3D%22%3B%0A%0A%20%20let%20hideLegacyBlocks%20%3D%20true%3B%0A%0A%20%20var%20vars%20%3D%20%7B%7D%3B%0A%20%20vars%5B%22variables%22%5D%20%3D%20Object.create(null)%3B%0A%0A%20%20if%20(!Scratch.extensions.unsandboxed)%20%7B%0A%20%20%20%20throw%20new%20Error(%22This%20extension%20must%20run%20unsandboxed%22)%3B%0A%20%20%7D%0A%0A%20%20class%20LMSUtils%20%7B%0A%20%20%20%20constructor(runtime)%20%7B%0A%20%20%20%20%20%20this.runtime%20%3D%20runtime%3B%0A%20%20%20%20%7D%0A%20%20%20%20getInfo()%20%7B%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20id%3A%20%22lmsutilsblocks%22%2C%0A%20%20%20%20%20%20%20%20name%3A%20%22Lily's%20Toolbox%22%2C%0A%20%20%20%20%20%20%20%20color1%3A%20%22%233bb2ed%22%2C%0A%20%20%20%20%20%20%20%20color2%3A%20%22%2337a1de%22%2C%0A%20%20%20%20%20%20%20%20color3%3A%20%22%233693d9%22%2C%0A%20%20%20%20%20%20%20%20menuIconURI%3A%20menuIconURI%2C%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22whenBooleanHat%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.HAT%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22when%20%5BINPUT%5D%20is%20true%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20isEdgeActivated%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22whenKeyString%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.HAT%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22when%20key%20%5BKEY_OPTION%5D%20pressed%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20isEdgeActivated%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20KEY_OPTION%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22enter%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22keyStringPressed%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22key%20%5BKEY_OPTION%5D%20pressed%3F%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20KEY_OPTION%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22enter%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22trueFalseBoolean%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%5BTRUEFALSE%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TRUEFALSE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22true%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22trueFalseMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22stringIf%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22if%20%5BBOOLEAN%5D%20then%20%5BINPUTA%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BOOLEAN%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22apple%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22stringIfElse%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22if%20%5BBOOLEAN%5D%20then%20%5BINPUTA%5D%20else%20%5BINPUTB%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BOOLEAN%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22apple%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22banana%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getEffectValue%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22effect%20%5BINPUT%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22color%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22colorMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22clonesBeingUsed%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22clone%20count%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22isClone%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22is%20clone%3F%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22spriteClicked%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22sprite%20clicked%3F%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22lettersToOf%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22letters%20%5BINPUTA%5D%20to%20%5BINPUTB%5D%20of%20%5BSTRING%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%221%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%223%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STRING%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22suspicious%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22replaceWords%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22replace%20first%20%5BINPUTA%5D%20with%20%5BINPUTB%5D%20in%20%5BSTRING%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Scratch%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Turbowarp%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STRING%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Scratch%20is%20brilliant!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22findIndexOfString%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22index%20of%20%5BINPUTA%5D%20in%20%5BINPUTB%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22brilliant%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Turbowarp%20is%20brilliant!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22itemOfFromString%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22item%20%5BINPUTA%5D%20of%20%5BINPUTB%5D%20split%20by%20%5BINPUTC%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%222%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22apple%7Cbanana%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTC%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%7C%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22stringToUpperCase%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%5BSTRING%5D%20to%20uppercase%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STRING%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22apple%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22stringToLowerCase%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%5BSTRING%5D%20to%20lowercase%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STRING%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22APPLE%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22reverseString%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22reverse%20%5BSTRING%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STRING%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22prawobrut%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22norBoolean%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%5BINPUTA%5D%20nor%20%5BINPUTB%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22xorBoolean%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%5BINPUTA%5D%20xor%20%5BINPUTB%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22xnorBoolean%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%5BINPUTA%5D%20xnor%20%5BINPUTB%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22nandBoolean%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%5BINPUTA%5D%20nand%20%5BINPUTB%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22stringReporter%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%5BSTRING%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20hideLegacyBlocks%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STRING%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22apple%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22colourHex%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22color%20%5BCOLOUR%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20hideLegacyBlocks%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20COLOUR%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.COLOR%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%230088ff%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22angleReporter%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22angle%20%5BANGLE%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20hideLegacyBlocks%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ANGLE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.ANGLE%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%2290%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22matrixReporter%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22matrix%20%5BMATRIX%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20hideLegacyBlocks%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20MATRIX%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.MATRIX%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%220101001010000001000101110%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22noteReporter%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22note%20%5BNOTE%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20hideLegacyBlocks%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NOTE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NOTE%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22newlineCharacter%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22newline%20character%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20hideLegacyBlocks%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22equalsExactly%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%5BONE%5D%20%3D%3D%3D%20%5BTWO%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ONE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22apple%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TWO%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22banana%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22notEqualTo%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%5BINPUTA%5D%20%E2%89%A0%20%5BINPUTB%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22apple%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22banana%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22moreThanEqual%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%5BINPUTA%5D%20%E2%89%A5%20%5BINPUTB%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%2216%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%2225%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22lessThanEqual%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%5BINPUTA%5D%20%E2%89%A4%20%5BINPUTB%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%2216%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%2225%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22stringCheckBoolean%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%5BINPUT%5D%20is%20%5BDROPDOWN%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22apple%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DROPDOWN%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22text%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22stringCheckMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22encodeToBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22encode%20%5BSTRING%5D%20to%20%5BDROPDOWN%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20hideLegacyBlocks%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STRING%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DROPDOWN%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22base64%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22conversionMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22decodeFromBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22decode%20%5BSTRING%5D%20from%20%5BDROPDOWN%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20hideLegacyBlocks%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STRING%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DROPDOWN%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22base64%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22conversionMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22negativeReporter%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22-%20%5BINPUT%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22exponentBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%5BINPUTA%5D%20%5E%20%5BINPUTB%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22rootBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%5BINPUTA%5D%20%E2%88%9A%20%5BINPUTB%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22normaliseValue%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22normalise%20%5BINPUT%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22100%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22clampNumber%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22clamp%20%5BINPUTA%5D%20between%20%5BINPUTB%5D%20and%20%5BINPUTC%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22100%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%2225%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTC%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%2250%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setVariableTo%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22set%20variable%20%5BINPUTA%5D%20to%20%5BINPUTB%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20hideLegacyBlocks%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22my%20variable%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%220%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22changeVariableBy%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22change%20variable%20%5BINPUTA%5D%20by%20%5BINPUTB%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20hideLegacyBlocks%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22my%20variable%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%221%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getVariable%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22variable%20%5BINPUT%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20hideLegacyBlocks%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22my%20variable%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22deleteVariable%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22delete%20variable%20%5BINPUT%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20hideLegacyBlocks%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22my%20variable%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22deleteAllVariables%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22delete%20all%20variables%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20hideLegacyBlocks%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22listVariables%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22list%20active%20variables%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20hideLegacyBlocks%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22greenFlag%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22green%20flag%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20hideLegacyBlocks%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setUsername%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22set%20username%20to%20%5BINPUT%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20hideLegacyBlocks%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22LilyMakesThings%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setSpriteSVG%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22replace%20SVG%20data%20for%20costume%20%5BINPUTA%5D%20with%20%5BINPUTB%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20hideLegacyBlocks%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%221%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22alertBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22alert%20%5BSTRING%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20hideLegacyBlocks%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STRING%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22A%20red%20spy%20is%20in%20the%20base!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22inputPromptBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22prompt%20%5BSTRING%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20hideLegacyBlocks%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STRING%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22The%20code%20is%201%2C%201%2C%201..%20err...%201!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22confirmationBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22confirm%20%5BSTRING%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20hideLegacyBlocks%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STRING%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Are%20you%20the%20red%20spy%3F%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22goToLink%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22open%20link%20%5BINPUT%5D%20in%20new%20tab%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20hideLegacyBlocks%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22redirectToLink%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22redirect%20to%20link%20%5BINPUT%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20hideLegacyBlocks%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setClipboard%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22set%20%5BSTRING%5D%20to%20clipboard%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20hideLegacyBlocks%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STRING%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22apple%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22readClipboard%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22clipboard%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20hideLegacyBlocks%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22isUserMobile%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22is%20mobile%3F%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22screenReporter%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22screen%20%5BDROPDOWN%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DROPDOWN%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22width%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22screenReporterMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22windowReporter%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22window%20%5BDROPDOWN%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DROPDOWN%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22width%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22screenReporterMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22osBrowserDetails%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22get%20%5BDROPDOWN%5D%20of%20user%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DROPDOWN%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22operating%20system%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22osBrowserMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22projectURL%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22project%20URL%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22consoleLog%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22console%20%5BDROPDOWN%5D%20%5BINPUT%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20hideLegacyBlocks%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DROPDOWN%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22log%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22consoleLogMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Apple%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22clearConsole%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22clear%20console%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20hideLegacyBlocks%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22commentHat%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.HAT%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%2F%2F%20%5BSTRING%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20hideLegacyBlocks%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STRING%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22comment%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22commentCommand%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%2F%2F%20%5BSTRING%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20hideLegacyBlocks%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STRING%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22comment%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22commentString%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%2F%2F%20%5BINPUTA%5D%20%5BINPUTB%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20hideLegacyBlocks%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22comment%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22input%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22commentBool%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%2F%2F%20%5BINPUTA%5D%20%5BINPUTB%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20hideLegacyBlocks%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22comment%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20func%3A%20%22showLegacyBlocks%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BUTTON%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Show%20Legacy%20Blocks%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20!hideLegacyBlocks%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20func%3A%20%22hideLegacyBlocks%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BUTTON%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Hide%20Legacy%20Blocks%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20hideLegacyBlocks%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20conversionMenu%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22base64%22%2C%20%22binary%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20trueFalseMenu%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22true%22%2C%20%22false%22%2C%20%22random%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20screenReporterMenu%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22width%22%2C%20%22height%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20windowReporterMenu%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22width%22%2C%20%22height%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20stringCheckMenu%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22text%22%2C%20%22number%22%2C%20%22uppercase%22%2C%20%22lowercase%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20osBrowserMenu%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22operating%20system%22%2C%20%22browser%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20consoleLogMenu%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22log%22%2C%20%22error%22%2C%20%22warn%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20colorMenu%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22color%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22fisheye%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22whirl%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22pixelate%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mosaic%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22brightness%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22ghost%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20showLegacyBlocks()%20%7B%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20confirm(%0A%20%20%20%20%20%20%20%20%20%20%22Are%20you%20sure%20you%20want%20to%20show%20legacy%20blocks%3F%20%5Cn%20%5Cn%20These%20blocks%20were%20removed%20because%20they%20were%20buggy%20or%20implemented%20better%20in%20other%20extensions.%22%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20hideLegacyBlocks%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20Scratch.vm.extensionManager.refreshBlocks()%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20hideLegacyBlocks()%20%7B%0A%20%20%20%20%20%20hideLegacyBlocks%20%3D%20true%3B%0A%20%20%20%20%20%20Scratch.vm.extensionManager.refreshBlocks()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20whenBooleanHat(args)%20%7B%0A%20%20%20%20%20%20return%20args.INPUT%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20whenKeyString(args%2C%20util)%20%7B%0A%20%20%20%20%20%20return%20util.ioQuery(%22keyboard%22%2C%20%22getKeyIsDown%22%2C%20%5Bargs.KEY_OPTION%5D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20keyStringPressed(args%2C%20util)%20%7B%0A%20%20%20%20%20%20return%20util.ioQuery(%22keyboard%22%2C%20%22getKeyIsDown%22%2C%20%5Bargs.KEY_OPTION%5D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20trueFalseBoolean(args)%20%7B%0A%20%20%20%20%20%20if%20(args.TRUEFALSE%20%3D%3D%3D%20%22random%22)%20return%20Math.random()%20%3E%200.5%3B%0A%20%20%20%20%20%20if%20(args.TRUEFALSE%20%3D%3D%3D%20%22true%22)%20return%20true%3B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20stringIf(args)%20%7B%0A%20%20%20%20%20%20if%20(args.BOOLEAN)%20return%20args.INPUTA%3B%0A%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20stringIfElse(args)%20%7B%0A%20%20%20%20%20%20if%20(args.BOOLEAN)%20return%20args.INPUTA%3B%0A%20%20%20%20%20%20return%20args.INPUTB%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getEffectValue(args%2C%20util)%20%7B%0A%20%20%20%20%20%20return%20util.target.effects%5Bargs.INPUT%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20clonesBeingUsed(args%2C%20util)%20%7B%0A%20%20%20%20%20%20return%20Scratch.vm.runtime._cloneCounter%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20isClone(args%2C%20util)%20%7B%0A%20%20%20%20%20%20return%20util.target.isOriginal%20%3F%20false%20%3A%20true%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20spriteClicked(args%2C%20util)%20%7B%0A%20%20%20%20%20%20return%20(%0A%20%20%20%20%20%20%20%20util.ioQuery(%22mouse%22%2C%20%22getIsDown%22)%20%26%26%0A%20%20%20%20%20%20%20%20util.target.isTouchingObject(%22_mouse_%22)%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20lettersToOf(args)%20%7B%0A%20%20%20%20%20%20var%20string%20%3D%20args.STRING.toString()%3B%0A%20%20%20%20%20%20var%20input1%20%3D%20args.INPUTA%20-%201%3B%0A%20%20%20%20%20%20var%20input2%20%3D%20args.INPUTB%3B%0A%20%20%20%20%20%20return%20string.slice(input1%2C%20input2)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20replaceWords(args)%20%7B%0A%20%20%20%20%20%20var%20input1%20%3D%20args.INPUTA%3B%0A%20%20%20%20%20%20var%20input2%20%3D%20args.INPUTB%3B%0A%20%20%20%20%20%20var%20string%20%3D%20args.STRING%3B%0A%20%20%20%20%20%20return%20string.replace(input1%2C%20input2)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20findIndexOfString(args)%20%7B%0A%20%20%20%20%20%20var%20input1%20%3D%20args.INPUTA%3B%0A%20%20%20%20%20%20var%20input2%20%3D%20args.INPUTB%3B%0A%20%20%20%20%20%20if%20(input2.includes(input1))%20return%20input2.indexOf(input1)%20%2B%201%3B%0A%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20itemOfFromString(args%2C%20util)%20%7B%0A%20%20%20%20%20%20var%20input1%20%3D%20args.INPUTA%20-%201%3B%0A%20%20%20%20%20%20var%20input2%20%3D%20String(args.INPUTB)%3B%0A%20%20%20%20%20%20var%20input3%20%3D%20args.INPUTC%3B%0A%20%20%20%20%20%20var%20output%20%3D%20input2.split(input3)%5Binput1%5D%20%7C%7C%20%22%22%3B%0A%20%20%20%20%20%20return%20output%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20stringToUpperCase(args)%20%7B%0A%20%20%20%20%20%20return%20args.STRING.toUpperCase()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20stringToLowerCase(args)%20%7B%0A%20%20%20%20%20%20return%20args.STRING.toLowerCase()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20reverseString(args)%20%7B%0A%20%20%20%20%20%20var%20input%20%3D%20args.STRING%3B%0A%20%20%20%20%20%20var%20splitInput%20%3D%20input.split(%22%22)%3B%0A%20%20%20%20%20%20var%20reversedInput%20%3D%20splitInput.reverse()%3B%0A%20%20%20%20%20%20var%20joinedArray%20%3D%20reversedInput.join(%22%22)%3B%0A%20%20%20%20%20%20return%20joinedArray%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20norBoolean(args)%20%7B%0A%20%20%20%20%20%20return%20!(args.INPUTA%20%7C%7C%20args.INPUTB)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20xorBoolean(args)%20%7B%0A%20%20%20%20%20%20return%20args.INPUTA%20!%3D%3D%20args.INPUTB%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20xnorBoolean(args)%20%7B%0A%20%20%20%20%20%20return%20args.INPUTA%20%3D%3D%3D%20args.INPUTB%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20nandBoolean(args)%20%7B%0A%20%20%20%20%20%20return%20!(args.INPUTA%20%26%26%20args.INPUTB)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20stringReporter(args)%20%7B%0A%20%20%20%20%20%20return%20args.STRING%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20colourHex(args)%20%7B%0A%20%20%20%20%20%20return%20args.COLOUR%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20angleReporter(args)%20%7B%0A%20%20%20%20%20%20return%20args.ANGLE%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20matrixReporter(args)%20%7B%0A%20%20%20%20%20%20return%20args.MATRIX%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20noteReporter(args)%20%7B%0A%20%20%20%20%20%20return%20args.NOTE%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20newlineCharacter()%20%7B%0A%20%20%20%20%20%20return%20%22%5Cn%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20equalsExactly(args)%20%7B%0A%20%20%20%20%20%20return%20args.ONE%20%3D%3D%3D%20args.TWO%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20notEqualTo(args)%20%7B%0A%20%20%20%20%20%20return%20args.INPUTA%20!%3D%20args.INPUTB%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20moreThanEqual(args)%20%7B%0A%20%20%20%20%20%20return%20args.INPUTA%20%3E%3D%20args.INPUTB%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20lessThanEqual(args)%20%7B%0A%20%20%20%20%20%20return%20args.INPUTA%20%3C%3D%20args.INPUTB%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20stringCheckBoolean(args)%20%7B%0A%20%20%20%20%20%20const%20input%20%3D%20args.INPUT%3B%0A%20%20%20%20%20%20const%20dropdown%20%3D%20args.DROPDOWN%3B%0A%20%20%20%20%20%20if%20(dropdown%20%3D%3D%3D%20%22text%22)%20return%20isNaN(input)%3B%0A%20%20%20%20%20%20if%20(dropdown%20%3D%3D%3D%20%22number%22)%20return%20!isNaN(input)%3B%0A%20%20%20%20%20%20if%20(dropdown%20%3D%3D%3D%20%22uppercase%22)%20return%20input%20%3D%3D%20input.toUpperCase()%3B%0A%20%20%20%20%20%20if%20(dropdown%20%3D%3D%3D%20%22lowercase%22)%20return%20input%20%3D%3D%20input.toLowerCase()%3B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20encodeToBlock(args)%20%7B%0A%20%20%20%20%20%20if%20(args.STRING%20%3D%3D%3D%20%22%22)%20return%20%22%22%3B%0A%20%20%20%20%20%20if%20(args.DROPDOWN%20%3D%3D%3D%20%22base64%22)%20return%20btoa(args.STRING)%3B%0A%20%20%20%20%20%20if%20(args.DROPDOWN%20%3D%3D%3D%20%22binary%22)%20%7B%0A%20%20%20%20%20%20%20%20return%20args.STRING.split(%22%22)%0A%20%20%20%20%20%20%20%20%20%20.map(function%20(char)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20char.charCodeAt(0).toString(2)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D)%0A%20%20%20%20%20%20%20%20%20%20.join(%22%20%22)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20decodeFromBlock(args)%20%7B%0A%20%20%20%20%20%20if%20(args.STRING%20%3D%3D%3D%20%22%22)%20return%20%22%22%3B%0A%20%20%20%20%20%20if%20(args.DROPDOWN%20%3D%3D%3D%20%22base64%22)%20return%20atob(args.STRING)%3B%0A%20%20%20%20%20%20if%20(args.DROPDOWN%20%3D%3D%3D%20%22binary%22)%20%7B%0A%20%20%20%20%20%20%20%20var%20output%20%3D%20args.STRING.toString()%3B%0A%20%20%20%20%20%20%20%20return%20output%0A%20%20%20%20%20%20%20%20%20%20.split(%22%20%22)%0A%20%20%20%20%20%20%20%20%20%20.map((x)%20%3D%3E%20(x%20%3D%20String.fromCharCode(parseInt(x%2C%202))))%0A%20%20%20%20%20%20%20%20%20%20.join(%22%22)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20negativeReporter(args)%20%7B%0A%20%20%20%20%20%20return%20args.INPUT%20*%20-1%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20exponentBlock(args)%20%7B%0A%20%20%20%20%20%20return%20Math.pow(args.INPUTA%2C%20args.INPUTB)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20rootBlock(args)%20%7B%0A%20%20%20%20%20%20return%20Math.pow(args.INPUTB%2C%201%20%2F%20args.INPUTA)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20normaliseValue(args)%20%7B%0A%20%20%20%20%20%20var%20input1%20%3D%20args.INPUT%3B%0A%20%20%20%20%20%20var%20input2%20%3D%20Math.abs(input1)%3B%0A%20%20%20%20%20%20var%20output%20%3D%20input1%20%2F%20input2%3B%0A%20%20%20%20%20%20if%20(isNaN(output))%20return%20%220%22%3B%0A%20%20%20%20%20%20return%20output%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20clampNumber(args)%20%7B%0A%20%20%20%20%20%20var%20input1%20%3D%20args.INPUTA%3B%0A%20%20%20%20%20%20var%20input2%20%3D%20args.INPUTB%3B%0A%20%20%20%20%20%20var%20input3%20%3D%20args.INPUTC%3B%0A%20%20%20%20%20%20return%20Math.min(Math.max(input1%2C%20input2)%2C%20input3)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setVariableTo(args)%20%7B%0A%20%20%20%20%20%20vars%5B%22variables%22%5D%5Bargs.INPUTA%5D%20%3D%20args.INPUTB%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20changeVariableBy(args)%20%7B%0A%20%20%20%20%20%20if%20(args.INPUTA%20in%20vars%5B%22variables%22%5D)%20%7B%0A%20%20%20%20%20%20%20%20var%20prev%20%3D%20vars%5B%22variables%22%5D%5Bargs.INPUTA%5D%3B%0A%20%20%20%20%20%20%20%20var%20next%20%3D%20args.INPUTB%3B%0A%20%20%20%20%20%20%20%20vars%5B%22variables%22%5D%5Bargs.INPUTA%5D%20%3D%20prev%20%2B%20next%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20vars%5B%22variables%22%5D%5Bargs.INPUTA%5D%20%3D%20args.INPUTB%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20getVariable(args)%20%7B%0A%20%20%20%20%20%20if%20(args.INPUT%20in%20vars%5B%22variables%22%5D)%20return%20vars%5B%22variables%22%5D%5Bargs.INPUT%5D%3B%0A%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20deleteVariable(args)%20%7B%0A%20%20%20%20%20%20Reflect.deleteProperty(vars%5B%22variables%22%5D%2C%20args.INPUT)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20deleteAllVariables()%20%7B%0A%20%20%20%20%20%20Reflect.deleteProperty(vars%2C%20%22variables%22)%3B%0A%20%20%20%20%20%20vars%5B%22variables%22%5D%20%3D%20%7B%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20greenFlag(args%2C%20util)%20%7B%0A%20%20%20%20%20%20util.runtime.greenFlag()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setUsername(args%2C%20util)%20%7B%0A%20%20%20%20%20%20util.runtime.ioDevices.userData._username%20%3D%20args.INPUT%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setSpriteSVG(args%2C%20util)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20Scratch.vm.runtime.renderer.updateSVGSkin(%0A%20%20%20%20%20%20%20%20%20%20util.target.sprite.costumes%5Bargs.INPUTA%20-%201%5D.skinId%2C%0A%20%20%20%20%20%20%20%20%20%20args.INPUTB%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D%20catch%20(error)%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20Scratch.vm.emitTargetsUpdate()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20alertBlock(args)%20%7B%0A%20%20%20%20%20%20alert(args.STRING)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20inputPromptBlock(args)%20%7B%0A%20%20%20%20%20%20return%20prompt(args.STRING)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20confirmationBlock(args)%20%7B%0A%20%20%20%20%20%20return%20confirm(args.STRING)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20goToLink(args)%20%7B%0A%20%20%20%20%20%20Scratch.openWindow(args.INPUT)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20redirectToLink(args)%20%7B%0A%20%20%20%20%20%20Scratch.redirect(args.INPUT)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setClipboard(args)%20%7B%0A%20%20%20%20%20%20if%20(navigator.clipboard%20%26%26%20navigator.clipboard.writeText)%20%7B%0A%20%20%20%20%20%20%20%20navigator.clipboard.writeText(args.STRING)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20readClipboard(args)%20%7B%0A%20%20%20%20%20%20if%20(navigator.clipboard%20%26%26%20navigator.clipboard.readText)%20%7B%0A%20%20%20%20%20%20%20%20return%20Scratch.canReadClipboard().then((allowed)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(allowed)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20navigator.clipboard.readText()%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20isUserMobile(args%2C%20util)%20%7B%0A%20%20%20%20%20%20return%20(%0A%20%20%20%20%20%20%20%20navigator.userAgent.includes(%22Mobile%22)%20%7C%7C%0A%20%20%20%20%20%20%20%20navigator.userAgent.includes(%22Android%22)%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20screenReporter(args)%20%7B%0A%20%20%20%20%20%20if%20(args.DROPDOWN%20%3D%3D%3D%20%22width%22)%20return%20screen.width%3B%0A%20%20%20%20%20%20if%20(args.DROPDOWN%20%3D%3D%3D%20%22height%22)%20return%20screen.height%3B%0A%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20windowReporter(args)%20%7B%0A%20%20%20%20%20%20if%20(args.DROPDOWN%20%3D%3D%3D%20%22width%22)%20return%20window.innerWidth%3B%0A%20%20%20%20%20%20if%20(args.DROPDOWN%20%3D%3D%3D%20%22height%22)%20return%20window.innerHeight%3B%0A%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20osBrowserDetails(args)%20%7B%0A%20%20%20%20%20%20var%20user%20%3D%20navigator.userAgent%3B%0A%20%20%20%20%20%20if%20(args.DROPDOWN%20%3D%3D%3D%20%22operating%20system%22)%20%7B%0A%20%20%20%20%20%20%20%20if%20(user.includes(%22Mac%20OS%22))%20return%20%22macOS%22%3B%0A%20%20%20%20%20%20%20%20if%20(user.includes(%22CrOS%22))%20return%20%22ChromeOS%22%3B%0A%20%20%20%20%20%20%20%20if%20(user.includes(%22Android%22))%20return%20%22Android%22%3B%0A%20%20%20%20%20%20%20%20if%20(user.includes(%22Linux%22))%20return%20%22Linux%22%3B%0A%20%20%20%20%20%20%20%20if%20(user.includes(%22Windows%22))%20return%20%22Windows%22%3B%0A%20%20%20%20%20%20%20%20if%20(user.includes(%22iPad%22))%20return%20%22iOS%22%3B%0A%20%20%20%20%20%20%20%20if%20(user.includes(%22iPod%22))%20return%20%22iOS%22%3B%0A%20%20%20%20%20%20%20%20if%20(user.includes(%22iPhone%22))%20return%20%22iOS%22%3B%0A%20%20%20%20%20%20%20%20return%20%22Other%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(args.DROPDOWN%20%3D%3D%3D%20%22browser%22)%20%7B%0A%20%20%20%20%20%20%20%20if%20(user.includes(%22Edg%22))%20return%20%22Edge%22%3B%0A%20%20%20%20%20%20%20%20if%20(user.includes(%22Chrome%22))%20return%20%22Chrome%22%3B%0A%20%20%20%20%20%20%20%20if%20(user.includes(%22MSIE%22))%20return%20%22Internet%20Explorer%22%3B%0A%20%20%20%20%20%20%20%20if%20(user.includes(%22Firefox%22))%20return%20%22Firefox%22%3B%0A%20%20%20%20%20%20%20%20if%20(user.includes(%22Safari%22))%20return%20%22Safari%22%3B%0A%20%20%20%20%20%20%20%20return%20%22Other%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20projectURL()%20%7B%0A%20%20%20%20%20%20return%20window.location.href%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20consoleLog(args)%20%7B%0A%20%20%20%20%20%20if%20(args.DROPDOWN%20%3D%3D%3D%20%22log%22)%20%7B%0A%20%20%20%20%20%20%20%20console.log(args.INPUT)%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(args.DROPDOWN%20%3D%3D%3D%20%22error%22)%20%7B%0A%20%20%20%20%20%20%20%20console.error(args.INPUT)%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(args.DROPDOWN%20%3D%3D%3D%20%22warn%22)%20%7B%0A%20%20%20%20%20%20%20%20console.warn(args.INPUT)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20clearConsole()%20%7B%0A%20%20%20%20%20%20console.clear()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20commentHat()%20%7B%0A%20%20%20%20%20%20%2F%2F%20no-op%0A%20%20%20%20%7D%0A%0A%20%20%20%20commentCommand()%20%7B%0A%20%20%20%20%20%20%2F%2F%20no-op%0A%20%20%20%20%7D%0A%0A%20%20%20%20commentString(args)%20%7B%0A%20%20%20%20%20%20return%20args.INPUT%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20commentBool(args)%20%7B%0A%20%20%20%20%20%20return%20args.INPUT%20%7C%7C%20false%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20Scratch.extensions.register(new%20LMSUtils())%3B%0A%7D)(Scratch)%3B","data:text/javascript;,(function(Scratch)%20%7B%20%2F%2F%20Name%3A%20Runtime%20Options%0A%2F%2F%20ID%3A%20runtimeoptions%0A%2F%2F%20Description%3A%20Get%20and%20modify%20turbo%20mode%2C%20framerate%2C%20interpolation%2C%20clone%20limit%2C%20stage%20size%2C%20and%20more.%0A%2F%2F%20License%3A%20MIT%20AND%20MPL-2.0%0A%0A%2F*%20generated%20l10n%20code%20*%2FScratch.translate.setup(%7B%22ca%22%3A%7B%22_Runtime%20Options%22%3A%22Opcions%20d'execuci%C3%B3%22%7D%2C%22cs%22%3A%7B%22_Runtime%20Options%22%3A%22Nastaven%C3%AD%20b%C4%9Bhu%22%7D%2C%22de%22%3A%7B%22_Runtime%20Options%22%3A%22Laufzeit-Optionen%22%7D%2C%22es%22%3A%7B%22_Runtime%20Options%22%3A%22Opciones%20de%20Runtime%22%7D%2C%22fr%22%3A%7B%22_Runtime%20Options%22%3A%22Options%20d'ex%C3%A9cution%22%7D%2C%22hu%22%3A%7B%22_Runtime%20Options%22%3A%22Lefut%C3%A1si%20Opci%C3%B3k%22%7D%2C%22it%22%3A%7B%22_Infinity%22%3A%22infinito%22%2C%22_Runtime%20Options%22%3A%22Opzioni%20Esecuzione%22%2C%22_%5Bthing%5D%20enabled%3F%22%3A%22%5Bthing%5D%20abilitato%22%2C%22_clone%20limit%22%3A%22limite%20cloni%22%2C%22_default%20(%7Bn%7D)%22%3A%22predefinito(%7Bn%7D)%22%2C%22_disabled%22%3A%22sblocca%22%2C%22_enabled%22%3A%22blocca%22%2C%22_framerate%22%3A%22frequenza%22%2C%22_framerate%20limit%22%3A%22limite%20framerate%22%2C%22_height%22%3A%22altezza%22%2C%22_high%20quality%20pen%22%3A%22penna%20alta%20qualit%C3%A0%22%2C%22_interpolation%22%3A%22interpolazione%22%2C%22_remove%20fencing%22%3A%22rimuovi%20i%20limiti%20dallo%20Stage%22%2C%22_remove%20misc%20limits%22%3A%22rimuovi%20limiti%22%2C%22_run%20green%20flag%20%5Bflag%5D%22%3A%22esegui%20tutti%20i%20cappelli%20bandiera%20verde%20%5Bflag%5D%22%2C%22_set%20%5Bthing%5D%20to%20%5Benabled%5D%22%3A%22imposta%20%5Bthing%5D%20a%20%5Benabled%5D%22%2C%22_set%20clone%20limit%20to%20%5Blimit%5D%22%3A%22imposta%20limite%20cloni%20a%20%5Blimit%5D%22%2C%22_set%20framerate%20limit%20to%20%5Bfps%5D%22%3A%22imposta%20limite%20framerate%20a%20%5Bfps%5D%22%2C%22_set%20stage%20size%20width%3A%20%5Bwidth%5D%20height%3A%20%5Bheight%5D%22%3A%22imposta%20dimensioni%20Stage%20larghezza%3A%20%5Bwidth%5Daltezza%3A%20%5Bheight%5D%22%2C%22_set%20username%20to%20%5Busername%5D%22%3A%22imposta%20username%20a%20%5Busername%5D%22%2C%22_stage%20%5Bdimension%5D%22%3A%22%5Bdimension%5D%20dello%20Stage%22%2C%22_stage%20size%22%3A%22dimensioni%20Stage%22%2C%22_turbo%20mode%22%3A%22modalit%C3%A0%20turbo%22%2C%22_width%22%3A%22larghezza%22%7D%2C%22ja%22%3A%7B%22_Infinity%22%3A%22%E7%84%A1%E9%99%90%22%2C%22_Runtime%20Options%22%3A%22%E3%83%A9%E3%83%B3%E3%82%BF%E3%82%A4%E3%83%A0%E3%81%AE%E3%82%AA%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3%22%2C%22_%5Bthing%5D%20enabled%3F%22%3A%22%5Bthing%5D%E3%81%8C%E6%9C%89%E5%8A%B9%22%2C%22_clone%20limit%22%3A%22%E3%82%AF%E3%83%AD%E3%83%BC%E3%83%B3%E3%81%AE%E5%88%B6%E9%99%90%22%2C%22_default%20(%7Bn%7D)%22%3A%22%E3%83%87%E3%83%95%E3%82%A9%E3%83%AB%E3%83%88(%7Bn%7D)%22%2C%22_disabled%22%3A%22%E7%84%A1%E5%8A%B9%22%2C%22_enabled%22%3A%22%E6%9C%89%E5%8A%B9%22%2C%22_framerate%20limit%22%3A%22%E3%83%95%E3%83%AC%E3%83%BC%E3%83%A0%E3%83%AC%E3%83%BC%E3%83%88%E3%81%AE%E5%88%B6%E9%99%90%22%2C%22_height%22%3A%22%E9%AB%98%E3%81%95%22%2C%22_interpolation%22%3A%22%E8%A3%9C%E5%AE%8C%E6%A9%9F%E8%83%BD%22%2C%22_run%20green%20flag%20%5Bflag%5D%22%3A%22%E7%B7%91%E3%81%AE%E6%97%97%5Bflag%5D%E3%82%92%E5%AE%9F%E8%A1%8C%E3%81%99%E3%82%8B%22%2C%22_set%20%5Bthing%5D%20to%20%5Benabled%5D%22%3A%22%5Bthing%5D%E3%82%92%5Benabled%5D%E3%81%AB%E3%81%99%E3%82%8B%22%2C%22_set%20clone%20limit%20to%20%5Blimit%5D%22%3A%22%E3%82%AF%E3%83%AD%E3%83%BC%E3%83%B3%E3%81%AE%E5%88%B6%E9%99%90%E3%82%92%5Blimit%5D%E3%81%AB%E3%81%99%E3%82%8B%22%2C%22_set%20framerate%20limit%20to%20%5Bfps%5D%22%3A%22%E3%83%95%E3%83%AC%E3%83%BC%E3%83%A0%E3%83%AC%E3%83%BC%E3%83%88%E3%81%AE%E5%88%B6%E9%99%90%E3%82%92%5Bfps%5D%E3%81%AB%E3%81%99%E3%82%8B%22%2C%22_set%20stage%20size%20width%3A%20%5Bwidth%5D%20height%3A%20%5Bheight%5D%22%3A%22%E3%82%B9%E3%83%86%E3%83%BC%E3%82%B8%E3%81%AE%E6%A8%AA%E5%B9%85%E3%82%92%5Bwidth%5D%E9%AB%98%E3%81%95%E3%82%92%5Bheight%5D%E3%81%AB%E3%81%99%E3%82%8B%22%2C%22_set%20username%20to%20%5Busername%5D%22%3A%22%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E5%90%8D%E3%82%92%5Busername%5D%E3%81%AB%E3%81%99%E3%82%8B%22%2C%22_stage%20%5Bdimension%5D%22%3A%22%E3%82%B9%E3%83%86%E3%83%BC%E3%82%B8%E3%81%AE%5Bdimension%5D%22%2C%22_turbo%20mode%22%3A%22%E3%82%BF%E3%83%BC%E3%83%9C%E3%83%A2%E3%83%BC%E3%83%89%22%2C%22_username%22%3A%22%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E5%90%8D%22%2C%22_width%22%3A%22%E6%A8%AA%E5%B9%85%22%7D%2C%22ja-hira%22%3A%7B%22_Runtime%20Options%22%3A%22%E3%83%A9%E3%83%B3%E3%82%BF%E3%82%A4%E3%83%A0%E3%81%AE%E3%82%AA%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3%22%7D%2C%22ko%22%3A%7B%22_Runtime%20Options%22%3A%22%EC%8B%A4%ED%96%89%20%EC%84%A4%EC%A0%95%22%7D%2C%22lt%22%3A%7B%22_Runtime%20Options%22%3A%22Paleidimo%20laiko%20parinktys%22%7D%2C%22nb%22%3A%7B%22_Infinity%22%3A%22Uendelighet%22%2C%22_Runtime%20Options%22%3A%22Kj%C3%B8retidsalternativer%22%2C%22_%5Bthing%5D%20enabled%3F%22%3A%22%5Bthing%5D%20aktivert%3F%22%2C%22_clone%20limit%22%3A%22klon%20grense%22%2C%22_default%20(%7Bn%7D)%22%3A%22standard%20(%7Bn%7D)%22%2C%22_disabled%22%3A%22deaktivert%22%2C%22_enabled%22%3A%22aktivert%22%2C%22_framerate%22%3A%22Bildetakt%22%2C%22_framerate%20limit%22%3A%22grense%20for%20bildefrekvens%22%2C%22_height%22%3A%22h%C3%B8yde%22%2C%22_high%20quality%20pen%22%3A%22H%C3%B8y%20kvalitet%20penn%22%2C%22_interpolation%22%3A%22interpolasjon%22%2C%22_remove%20fencing%22%3A%22Fjern%20gjerde%22%2C%22_remove%20misc%20limits%22%3A%22fjern%20diverse%20begrensninger%22%2C%22_run%20green%20flag%20%5Bflag%5D%22%3A%22kj%C3%B8r%20gr%C3%B8nt%20flagg%20%5Bflag%5D%22%2C%22_set%20%5Bthing%5D%20to%20%5Benabled%5D%22%3A%22sett%20%5Bthing%5D%20til%20%5Benabled%5D%22%2C%22_set%20clone%20limit%20to%20%5Blimit%5D%22%3A%22sett%20klon-grensen%20til%20%5Blimit%5D%22%2C%22_set%20framerate%20limit%20to%20%5Bfps%5D%22%3A%22begrens%20bildefrekvensen%20til%20%5Bfps%5D%22%2C%22_set%20stage%20size%20width%3A%20%5Bwidth%5D%20height%3A%20%5Bheight%5D%22%3A%22sett%20scenest%C3%B8rrelse%20bredde%3A%20%5Bwidth%5D%20h%C3%B8yde%3A%20%5Bheight%5D%22%2C%22_set%20username%20to%20%5Busername%5D%22%3A%22sett%20brukernavn%20til%20%5Busername%5D%22%2C%22_stage%20%5Bdimension%5D%22%3A%22scene%20%5Bdimension%5D%22%2C%22_stage%20size%22%3A%22scenest%C3%B8rrelse%22%2C%22_turbo%20mode%22%3A%22turbo%20modus%22%2C%22_username%22%3A%22brukernavn%22%2C%22_when%20%5BWHAT%5D%20changed%22%3A%22n%C3%A5r%20%5BWHAT%5D%20endret%20seg%22%2C%22_width%22%3A%22bredde%22%7D%2C%22nl%22%3A%7B%22_Infinity%22%3A%22oneindig%22%2C%22_Runtime%20Options%22%3A%22Looptijdopties%22%2C%22_%5Bthing%5D%20enabled%3F%22%3A%22%5Bthing%5D%20ingeschakeld%3F%22%2C%22_clone%20limit%22%3A%22kloonlimiet%22%2C%22_default%20(%7Bn%7D)%22%3A%22standaard%20(%7Bn%7D)%22%2C%22_disabled%22%3A%22uit%22%2C%22_enabled%22%3A%22in%22%2C%22_framerate%20limit%22%3A%22framerate-limiet%22%2C%22_height%22%3A%22hoogte%22%2C%22_high%20quality%20pen%22%3A%22pen%20met%20hoge%20kwaliteit%22%2C%22_interpolation%22%3A%22interpolatie%22%2C%22_remove%20fencing%22%3A%22waarde-limieten%20weghalen%22%2C%22_remove%20misc%20limits%22%3A%22diverse%20limieten%20weghalen%22%2C%22_run%20green%20flag%20%5Bflag%5D%22%3A%22voer%20groene%20vlag%20%5Bflag%5D%20uit%22%2C%22_set%20%5Bthing%5D%20to%20%5Benabled%5D%22%3A%22schakel%20%5Bthing%5D%20%5Benabled%5D%22%2C%22_set%20clone%20limit%20to%20%5Blimit%5D%22%3A%22maak%20kloonlimiet%20%5Blimit%5D%22%2C%22_set%20framerate%20limit%20to%20%5Bfps%5D%22%3A%22maak%20framerate-limiet%20%5Bfps%5D%22%2C%22_set%20stage%20size%20width%3A%20%5Bwidth%5D%20height%3A%20%5Bheight%5D%22%3A%22maak%20speelveldbreedte%3A%20%5Bwidth%5D%20en%20-hoogte%3A%20%5Bheight%5D%22%2C%22_set%20username%20to%20%5Busername%5D%22%3A%22maak%20gebruikersnaam%20%5Busername%5D%22%2C%22_stage%20%5Bdimension%5D%22%3A%22%5Bdimension%5D%20van%20speelveld%22%2C%22_stage%20size%22%3A%22speelveldgrootte%22%2C%22_turbo%20mode%22%3A%22turbomodus%22%2C%22_username%22%3A%22gebruikersnaam%22%2C%22_when%20%5BWHAT%5D%20changed%22%3A%22wanneer%20%5BWHAT%5D%20verandert%22%2C%22_width%22%3A%22breedte%22%7D%2C%22pl%22%3A%7B%22_Runtime%20Options%22%3A%22Opcje%20Uruchamiania%22%7D%2C%22pt%22%3A%7B%22_Runtime%20Options%22%3A%22Op%C3%A7%C3%B5es%20de%20Execu%C3%A7%C3%A3o%22%7D%2C%22pt-br%22%3A%7B%22_Runtime%20Options%22%3A%22Op%C3%A7%C3%B5es%20de%20Execu%C3%A7%C3%A3o%22%7D%2C%22ru%22%3A%7B%22_Infinity%22%3A%22%D0%91%D0%B5%D1%81%D0%BA%D0%BE%D0%BD%D0%B5%D1%87%D0%BD%D0%BE%22%2C%22_Runtime%20Options%22%3A%22%D0%9E%D0%BF%D1%86%D0%B8%D0%B8%20%D0%92%D1%8B%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F%22%2C%22_%5Bthing%5D%20enabled%3F%22%3A%22%5Bthing%5D%20%D0%B2%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%3F%22%2C%22_clone%20limit%22%3A%22%D0%BB%D0%B8%D0%BC%D0%B8%D1%82%20%D0%BA%D0%BB%D0%BE%D0%BD%D0%BE%D0%B2%22%2C%22_default%20(%7Bn%7D)%22%3A%22%D0%BF%D0%BE%20%D1%83%D0%BC%D0%BE%D0%BB%D1%87%D0%B0%D0%BD%D0%B8%D1%8E%20(%7Bn%7D)%22%2C%22_disabled%22%3A%22%D0%B2%D1%8B%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%22%2C%22_enabled%22%3A%22%D0%B2%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%22%2C%22_framerate%22%3A%22%D1%87%D0%B0%D1%81%D1%82%D0%BE%D1%82%D0%B0%20%D0%BA%D0%B0%D0%B4%D1%80%D0%BE%D0%B2%22%2C%22_framerate%20limit%22%3A%22%D0%BB%D0%B8%D0%BC%D0%B8%D1%82%20%D1%87%D0%B0%D1%81%D1%82%D0%BE%D1%82%D1%8B%20%D0%BA%D0%B0%D0%B4%D1%80%D0%BE%D0%B2%22%2C%22_height%22%3A%22%D0%B2%D1%8B%D1%81%D0%BE%D1%82%D0%B0%22%2C%22_high%20quality%20pen%22%3A%22%D0%BF%D0%B5%D1%80%D0%BE%20%D0%B2%20%D0%B2%D1%8B%D1%81%D0%BE%D0%BA%D0%BE%D0%BC%20%D0%BA%D0%B0%D1%87%D0%B5%D1%81%D1%82%D0%B2%D0%B5%22%2C%22_interpolation%22%3A%22%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D0%BF%D0%BE%D0%BB%D1%8F%D1%86%D0%B8%D1%8F%22%2C%22_remove%20fencing%22%3A%22%D1%83%D0%B1%D1%80%D0%B0%D1%82%D1%8C%20%D1%80%D0%B0%D0%BC%D0%BA%D1%83%22%2C%22_remove%20misc%20limits%22%3A%22%D1%83%D0%B1%D1%80%D0%B0%D1%82%D1%8C%20%D1%80%D0%B0%D0%B7%D0%BD%D1%8B%D0%B5%20%D0%BE%D0%B3%D1%80%D0%B0%D0%BD%D0%B8%D1%87%D0%B5%D0%BD%D0%B8%D1%8F%22%2C%22_run%20green%20flag%20%5Bflag%5D%22%3A%22%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D1%82%D0%B8%D1%82%D1%8C%20%D0%B7%D0%B5%D0%BB%D0%B5%D0%BD%D1%8B%D0%B9%20%D1%84%D0%BB%D0%B0%D0%B6%D0%BE%D0%BA%20%5Bflag%5D%22%2C%22_set%20%5Bthing%5D%20to%20%5Benabled%5D%22%3A%22%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%5Bthing%5D%20%D0%B2%20%5Benabled%5D%22%2C%22_set%20clone%20limit%20to%20%5Blimit%5D%22%3A%22%D0%B7%D0%B0%D0%B4%D0%B0%D1%82%D1%8C%20%D0%BB%D0%B8%D0%BC%D0%B8%D1%82%20%D0%BA%D0%BB%D0%BE%D0%BD%D0%BE%D0%B2%20%D0%B2%20%5Blimit%5D%22%2C%22_set%20framerate%20limit%20to%20%5Bfps%5D%22%3A%22%D0%B7%D0%B0%D0%B4%D0%B0%D1%82%D1%8C%20%D0%BB%D0%B8%D0%BC%D0%B8%D1%82%20%D1%87%D0%B0%D1%81%D1%82%D0%BE%D1%82%D1%8B%20%D0%BA%D0%B0%D0%B4%D1%80%D0%BE%D0%B2%20%D0%B2%20%5Bfps%5D%22%2C%22_set%20stage%20size%20width%3A%20%5Bwidth%5D%20height%3A%20%5Bheight%5D%22%3A%22%D0%B7%D0%B0%D0%B4%D0%B0%D1%82%D1%8C%20%D1%88%D0%B8%D1%80%D0%B8%D0%BD%D1%83%3A%20%5Bwidth%5D%20%D0%B2%D1%8B%D1%81%D0%BE%D1%82%D1%83%3A%20%5Bheight%5D%20%D1%81%D1%86%D0%B5%D0%BD%D1%8B%22%2C%22_set%20username%20to%20%5Busername%5D%22%3A%22%D0%B7%D0%B0%D0%B4%D0%B0%D1%82%D1%8C%20%D0%B8%D0%BC%D1%8F%20%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F%20%D0%BA%D0%B0%D0%BA%20%5Busername%5D%22%2C%22_stage%20%5Bdimension%5D%22%3A%22%5Bdimension%5D%20%D1%81%D1%86%D0%B5%D0%BD%D1%8B%22%2C%22_stage%20size%22%3A%22%D1%80%D0%B0%D0%B7%D0%BC%D0%B5%D1%80%20%D1%81%D1%86%D0%B5%D0%BD%D1%8B%22%2C%22_turbo%20mode%22%3A%22%D1%82%D1%83%D1%80%D0%B1%D0%BE%20%D1%80%D0%B5%D0%B6%D0%B8%D0%BC%22%2C%22_username%22%3A%22%D0%B8%D0%BC%D1%8F%20%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F%22%2C%22_when%20%5BWHAT%5D%20changed%22%3A%22%D0%BA%D0%BE%D0%B3%D0%B4%D0%B0%20%5BWHAT%5D%20%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D1%91%D0%BD%22%2C%22_width%22%3A%22%D1%88%D0%B8%D1%80%D0%B8%D0%BD%D0%B0%22%7D%2C%22sl%22%3A%7B%22_Runtime%20Options%22%3A%22Mo%C5%BEnosti%20izvajanja%22%7D%2C%22sv%22%3A%7B%22_Runtime%20Options%22%3A%22K%C3%B6rtidsalternativ%22%7D%2C%22tr%22%3A%7B%22_Runtime%20Options%22%3A%22%C3%87al%C4%B1%C5%9Fma%20Zaman%C4%B1%20Se%C3%A7enekleri%22%7D%2C%22uk%22%3A%7B%22_Runtime%20Options%22%3A%22%D0%9F%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D0%B8%20%D0%B2%D0%B8%D0%BA%D0%BE%D0%BD%D0%B0%D0%BD%D0%BD%D1%8F%22%7D%2C%22zh-cn%22%3A%7B%22_Infinity%22%3A%22%E6%97%A0%E9%99%90%22%2C%22_Runtime%20Options%22%3A%22%E8%BF%90%E8%A1%8C%E9%80%89%E9%A1%B9%22%2C%22_%5Bthing%5D%20enabled%3F%22%3A%22%E5%90%AF%E7%94%A8%E4%BA%86%5Bthing%5D%EF%BC%9F%22%2C%22_clone%20limit%22%3A%22%E5%85%8B%E9%9A%86%E9%99%90%E5%88%B6%22%2C%22_default%20(%7Bn%7D)%22%3A%22%E9%BB%98%E8%AE%A4%E5%80%BC(%7Bn%7D)%22%2C%22_disabled%22%3A%22%E7%A6%81%E7%94%A8%22%2C%22_enabled%22%3A%22%E5%90%AF%E7%94%A8%22%2C%22_framerate%22%3A%22%E5%B8%A7%E7%8E%87%22%2C%22_framerate%20limit%22%3A%22FPS%E4%B8%8A%E9%99%90%22%2C%22_height%22%3A%22%E9%AB%98%E5%BA%A6%22%2C%22_high%20quality%20pen%22%3A%22%E9%AB%98%E6%B8%85%E7%94%BB%E7%AC%94%22%2C%22_interpolation%22%3A%22%E8%A1%A5%E5%B8%A7%22%2C%22_remove%20fencing%22%3A%22%E5%85%81%E8%AE%B8%E8%A7%92%E8%89%B2%E7%A7%BB%E5%87%BA%E8%88%9E%E5%8F%B0%22%2C%22_remove%20misc%20limits%22%3A%22%E5%8F%96%E6%B6%88%E9%9F%B3%E6%95%88%E8%8C%83%E5%9B%B4%E4%B8%8E%E7%94%BB%E7%AC%94%E5%A4%A7%E5%B0%8F%E9%99%90%E5%88%B6%22%2C%22_run%20green%20flag%20%5Bflag%5D%22%3A%22%E8%BF%90%E8%A1%8C%E7%BB%BF%E6%97%97%5Bflag%5D%22%2C%22_set%20%5Bthing%5D%20to%20%5Benabled%5D%22%3A%22%E8%AE%BE%E7%BD%AE%5Bthing%5D%E4%B8%BA%5Benabled%5D%22%2C%22_set%20clone%20limit%20to%20%5Blimit%5D%22%3A%22%E8%AE%BE%E7%BD%AE%E5%85%8B%E9%9A%86%E4%BD%93%E9%99%90%E5%88%B6%E4%B8%BA%5Blimit%5D%22%2C%22_set%20framerate%20limit%20to%20%5Bfps%5D%22%3A%22%E8%AE%BE%E7%BD%AEFPS%E4%B8%8A%E9%99%90%E4%B8%BA%5Bfps%5D%22%2C%22_set%20stage%20size%20width%3A%20%5Bwidth%5D%20height%3A%20%5Bheight%5D%22%3A%22%E6%8A%8A%E8%88%9E%E5%8F%B0%E5%A4%A7%E5%B0%8F%E8%AE%BE%E7%BD%AE%E4%B8%BA%E5%AE%BD%5Bwidth%5D%20%E9%AB%98%5Bheight%5D%22%2C%22_set%20username%20to%20%5Busername%5D%22%3A%22%E8%AE%BE%E7%BD%AE%E7%94%A8%E6%88%B7%E5%90%8D%E7%A7%B0%E4%B8%BA%5Busername%5D%22%2C%22_stage%20%5Bdimension%5D%22%3A%22%E8%88%9E%E5%8F%B0%E7%9A%84%5Bdimension%5D%22%2C%22_stage%20size%22%3A%22%E8%88%9E%E5%8F%B0%E5%B0%BA%E5%AF%B8%22%2C%22_turbo%20mode%22%3A%22%E7%BC%96%E8%AF%91%E6%A8%A1%E5%BC%8F%22%2C%22_username%22%3A%22%E7%94%A8%E6%88%B7%E5%90%8D%E7%A7%B0%22%2C%22_when%20%5BWHAT%5D%20changed%22%3A%22%E5%BD%93%5BWHAT%5D%E8%A2%AB%E4%BF%AE%E6%94%B9%E6%97%B6%22%2C%22_width%22%3A%22%E5%AE%BD%E5%BA%A6%22%7D%2C%22zh-tw%22%3A%7B%22_Runtime%20Options%22%3A%22%E9%81%8B%E8%A1%8C%E9%81%B8%E9%A0%85%22%7D%7D)%3B%2F*%20end%20generated%20l10n%20code%20*%2F(function%20(Scratch)%20%7B%0A%20%20%22use%20strict%22%3B%0A%0A%20%20if%20(!Scratch.extensions.unsandboxed)%20%7B%0A%20%20%20%20throw%20new%20Error(%22Runtime%20Options%20extension%20needs%20to%20be%20run%20unsandboxed%22)%3B%0A%20%20%7D%0A%0A%20%20const%20greenFlagURI%20%3D%0A%20%20%20%20%22data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAABFFBMVEUAAACAgABVqlVJkklAn0BNmTNLljxGlzpDmzdFmjpGmzxHmz9Fmj1FmT5Emj1GmT1GmD1EmDxGmTxEmT1GmjxGmT1FmDxEmT5EmTxGmT5FmD1GmT5FmT1Gmj1EmT5FmT1FmT1FmDxGmT1FmjxLs09LtE9Jr0xJsk1Js05JtVBKtU5KtVBKtlBJrkpJsE1KtlFIrEpIsExLt1FLuFJKuVNIqkhLulNIp0VJqkhKtlJLvVRMvFNFmT5GpUVFmT1HpEVHokNMvlVFmT1Ho0NFmTxLvlVGoUFMvlVLvlVGn0BFmT1Nv1ZEmz5FmTxFmTxFmT1NvlZFmz9FmT5FnT9FnD5GnT9Mv1ZMv1ZMv1ZFmT1Mv1b%2F%2F%2F%2F70P2GAAAAWXRSTlMAAgMHCAoRFhcwMz0%2FRkdQVGFmaWpxcnh7gIGEhZKZo6eprLq%2Fv8DAwMDAwMDBwcHCwsPDxcbIysrLzM3Pz9DQ1NTV1dfZ29vg4uXm5%2Bjp6ens7fDx9Pv8%2FnPb5aAAAAABYktHRFt0vJU0AAAAsUlEQVQoz2NgwA3YhNiwS4hHykoou9goCrKiSUhGhqhZe7gbm3rxQwQ4BJihEupRYODooMDFyMAu6uMsgyoRFW5kHxjkqeuhL4cmAQM4JXRwSWjjktDEJaGFS0IVIeFtZuIaAZdQgUmY2%2FoqyTu5WcEkNGAS%2FkJMQJrbySAAJBxmGSoIlYAoYGCR8rPVM7QItuNlQJVgYGDlE5MU5kSErhz2%2BKCihEikNHYJJh5mBhIAADBcR%2Fr5OJzCAAAAAElFTkSuQmCC%22%3B%0A%20%20const%20TURBO_MODE%20%3D%20%22turbo%20mode%22%3B%0A%20%20const%20INTERPOLATION%20%3D%20%22interpolation%22%3B%0A%20%20const%20REMOVE_FENCING%20%3D%20%22remove%20fencing%22%3B%0A%20%20const%20REMOVE_MISC_LIMITS%20%3D%20%22remove%20misc%20limits%22%3B%0A%20%20const%20HIGH_QUALITY_PEN%20%3D%20%22high%20quality%20pen%22%3B%0A%20%20const%20FRAMERATE%20%3D%20%22framerate%22%3B%0A%20%20const%20CLONE_LIMIT%20%3D%20%22clone%20limit%22%3B%0A%20%20const%20STAGE_SIZE%20%3D%20%22stage%20size%22%3B%0A%20%20const%20USERNAME%20%3D%20%22username%22%3B%0A%0A%20%20%2F**%20%40param%20%7Bstring%7D%20what%20*%2F%0A%20%20const%20emitChanged%20%3D%20(what)%20%3D%3E%0A%20%20%20%20Scratch.vm.runtime.startHats(%22runtimeoptions_whenChange%22%2C%20%7B%0A%20%20%20%20%20%20WHAT%3A%20what%2C%0A%20%20%20%20%7D)%3B%0A%0A%20%20%2F**%0A%20%20%20*%20%40template%20T%0A%20%20%20*%20%40param%20%7BT%7D%20obj%0A%20%20%20*%20%40returns%20%7BT%7D%0A%20%20%20*%2F%0A%20%20const%20shallowCopy%20%3D%20(obj)%20%3D%3E%20Object.assign(%7B%7D%2C%20obj)%3B%0A%0A%20%20let%20previousRuntimeOptions%20%3D%20shallowCopy(Scratch.vm.runtime.runtimeOptions)%3B%0A%0A%20%20Scratch.vm.on(%22TURBO_MODE_OFF%22%2C%20()%20%3D%3E%20emitChanged(TURBO_MODE))%3B%0A%20%20Scratch.vm.on(%22TURBO_MODE_ON%22%2C%20()%20%3D%3E%20emitChanged(TURBO_MODE))%3B%0A%20%20Scratch.vm.on(%22INTERPOLATION_CHANGED%22%2C%20()%20%3D%3E%20emitChanged(INTERPOLATION))%3B%0A%20%20Scratch.vm.on(%22RUNTIME_OPTIONS_CHANGED%22%2C%20(newOptions)%20%3D%3E%20%7B%0A%20%20%20%20if%20(newOptions.fencing%20!%3D%3D%20previousRuntimeOptions.fencing)%20%7B%0A%20%20%20%20%20%20emitChanged(REMOVE_FENCING)%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20(newOptions.miscLimits%20!%3D%3D%20previousRuntimeOptions.miscLimits)%20%7B%0A%20%20%20%20%20%20emitChanged(REMOVE_MISC_LIMITS)%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20(newOptions.maxClones%20!%3D%3D%20previousRuntimeOptions.maxClones)%20%7B%0A%20%20%20%20%20%20emitChanged(CLONE_LIMIT)%3B%0A%20%20%20%20%7D%0A%20%20%20%20previousRuntimeOptions%20%3D%20shallowCopy(newOptions)%3B%0A%20%20%7D)%3B%0A%20%20Scratch.vm.renderer.on(%22UseHighQualityRenderChanged%22%2C%20()%20%3D%3E%0A%20%20%20%20emitChanged(HIGH_QUALITY_PEN)%0A%20%20)%3B%0A%20%20Scratch.vm.on(%22FRAMERATE_CHANGED%22%2C%20()%20%3D%3E%20emitChanged(FRAMERATE))%3B%0A%20%20Scratch.vm.on(%22STAGE_SIZE_CHANGED%22%2C%20()%20%3D%3E%20emitChanged(STAGE_SIZE))%3B%0A%0A%20%20const%20originalPostData%20%3D%20Scratch.vm.runtime.ioDevices.userData.postData%3B%0A%20%20Scratch.vm.runtime.ioDevices.userData.postData%20%3D%20function%20(data)%20%7B%0A%20%20%20%20const%20newUsername%20%3D%20data.username%20!%3D%3D%20this._username%3B%0A%20%20%20%20originalPostData.call(this%2C%20data)%3B%0A%20%20%20%20if%20(newUsername)%20%7B%0A%20%20%20%20%20%20emitChanged(USERNAME)%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20class%20RuntimeOptions%20%7B%0A%20%20%20%20getInfo()%20%7B%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20id%3A%20%22runtimeoptions%22%2C%0A%20%20%20%20%20%20%20%20name%3A%20Scratch.translate(%22Runtime%20Options%22)%2C%0A%20%20%20%20%20%20%20%20color1%3A%20%22%238c9abf%22%2C%0A%20%20%20%20%20%20%20%20color2%3A%20%22%237d8aab%22%2C%0A%20%20%20%20%20%20%20%20color3%3A%20%22%236f7b99%22%2C%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getEnabled%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%5Bthing%5D%20enabled%3F%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20thing%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20TURBO_MODE%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22thing%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setEnabled%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20%5Bthing%5D%20to%20%5Benabled%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20thing%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20TURBO_MODE%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22thing%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20enabled%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22true%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22enabled%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getFramerate%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22framerate%20limit%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setFramerate%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20framerate%20limit%20to%20%5Bfps%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20fps%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%2230%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getCloneLimit%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22clone%20limit%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setCloneLimit%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20clone%20limit%20to%20%5Blimit%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20limit%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22300%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22clones%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getDimension%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22stage%20%5Bdimension%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22%5Bdimension%5D%20is%20a%20dropdown%20of%20width%20and%20height%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20dimension%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22width%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22dimension%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setDimensions%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22set%20stage%20size%20width%3A%20%5Bwidth%5D%20height%3A%20%5Bheight%5D%22%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22480%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22360%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setUsername%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20username%20to%20%5Busername%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20username%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22greenFlag%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22run%20green%20flag%20%5Bflag%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20flag%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.IMAGE%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dataURI%3A%20greenFlagURI%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22whenChange%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.EVENT%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22when%20%5BWHAT%5D%20changed%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20isEdgeActivated%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHAT%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22changeable%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20thing%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22turbo%20mode%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20TURBO_MODE%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22interpolation%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20INTERPOLATION%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22remove%20fencing%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20REMOVE_FENCING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22remove%20misc%20limits%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20REMOVE_MISC_LIMITS%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22high%20quality%20pen%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20HIGH_QUALITY_PEN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20changeable%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22turbo%20mode%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20TURBO_MODE%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22interpolation%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20INTERPOLATION%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22remove%20fencing%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20REMOVE_FENCING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22remove%20misc%20limits%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20REMOVE_MISC_LIMITS%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22high%20quality%20pen%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20HIGH_QUALITY_PEN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22framerate%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20FRAMERATE%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22clone%20limit%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20CLONE_LIMIT%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22stage%20size%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20STAGE_SIZE%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22username%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20USERNAME%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20enabled%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22enabled%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22true%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22disabled%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22false%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20clones%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22default%20(%7Bn%7D)%22%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20n%3A%20%22300%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22300%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22Infinity%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22Infinity%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20dimension%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22width%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22width%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22height%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22height%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getEnabled(%7B%20thing%20%7D)%20%7B%0A%20%20%20%20%20%20if%20(thing%20%3D%3D%3D%20TURBO_MODE)%20%7B%0A%20%20%20%20%20%20%20%20return%20Scratch.vm.runtime.turboMode%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(thing%20%3D%3D%3D%20INTERPOLATION)%20%7B%0A%20%20%20%20%20%20%20%20return%20Scratch.vm.runtime.interpolationEnabled%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(thing%20%3D%3D%3D%20REMOVE_FENCING)%20%7B%0A%20%20%20%20%20%20%20%20return%20!Scratch.vm.runtime.runtimeOptions.fencing%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(thing%20%3D%3D%3D%20REMOVE_MISC_LIMITS)%20%7B%0A%20%20%20%20%20%20%20%20return%20!Scratch.vm.runtime.runtimeOptions.miscLimits%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(thing%20%3D%3D%3D%20HIGH_QUALITY_PEN)%20%7B%0A%20%20%20%20%20%20%20%20return%20Scratch.renderer.useHighQualityRender%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setEnabled(%7B%20thing%2C%20enabled%20%7D)%20%7B%0A%20%20%20%20%20%20enabled%20%3D%20Scratch.Cast.toBoolean(enabled)%3B%0A%0A%20%20%20%20%20%20if%20(thing%20%3D%3D%3D%20TURBO_MODE)%20%7B%0A%20%20%20%20%20%20%20%20Scratch.vm.setTurboMode(enabled)%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(thing%20%3D%3D%3D%20INTERPOLATION)%20%7B%0A%20%20%20%20%20%20%20%20Scratch.vm.setInterpolation(enabled)%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(thing%20%3D%3D%3D%20REMOVE_FENCING)%20%7B%0A%20%20%20%20%20%20%20%20Scratch.vm.setRuntimeOptions(%7B%0A%20%20%20%20%20%20%20%20%20%20fencing%3A%20!enabled%2C%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(thing%20%3D%3D%3D%20REMOVE_MISC_LIMITS)%20%7B%0A%20%20%20%20%20%20%20%20Scratch.vm.setRuntimeOptions(%7B%0A%20%20%20%20%20%20%20%20%20%20miscLimits%3A%20!enabled%2C%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(thing%20%3D%3D%3D%20HIGH_QUALITY_PEN)%20%7B%0A%20%20%20%20%20%20%20%20Scratch.renderer.setUseHighQualityRender(enabled)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20getFramerate()%20%7B%0A%20%20%20%20%20%20return%20Scratch.vm.runtime.frameLoop.framerate%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setFramerate(%7B%20fps%20%7D)%20%7B%0A%20%20%20%20%20%20fps%20%3D%20Scratch.Cast.toNumber(fps)%3B%0A%20%20%20%20%20%20Scratch.vm.setFramerate(fps)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getCloneLimit()%20%7B%0A%20%20%20%20%20%20return%20Scratch.vm.runtime.runtimeOptions.maxClones%3B%0A%20%20%20%20%7D%0A%20%20%20%20setCloneLimit(%7B%20limit%20%7D)%20%7B%0A%20%20%20%20%20%20limit%20%3D%20Scratch.Cast.toNumber(limit)%3B%0A%20%20%20%20%20%20Scratch.vm.setRuntimeOptions(%7B%0A%20%20%20%20%20%20%20%20maxClones%3A%20limit%2C%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getDimension(%7B%20dimension%20%7D)%20%7B%0A%20%20%20%20%20%20if%20(dimension%20%3D%3D%3D%20%22width%22)%20%7B%0A%20%20%20%20%20%20%20%20return%20Scratch.vm.runtime.stageWidth%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(dimension%20%3D%3D%3D%20%22height%22)%20%7B%0A%20%20%20%20%20%20%20%20return%20Scratch.vm.runtime.stageHeight%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setDimensions(%7B%20width%2C%20height%20%7D)%20%7B%0A%20%20%20%20%20%20width%20%3D%20Scratch.Cast.toNumber(width)%3B%0A%20%20%20%20%20%20height%20%3D%20Scratch.Cast.toNumber(height)%3B%0A%20%20%20%20%20%20Scratch.vm.setStageSize(width%2C%20height)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setUsername(%7B%20username%20%7D)%20%7B%0A%20%20%20%20%20%20Scratch.vm.postIOData(%22userData%22%2C%20%7B%0A%20%20%20%20%20%20%20%20username%3A%20Scratch.Cast.toString(username)%2C%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20greenFlag()%20%7B%0A%20%20%20%20%20%20Scratch.vm.runtime.greenFlag()%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20Scratch.extensions.register(new%20RuntimeOptions())%3B%0A%7D)(Scratch)%3B%0A%20%7D)(Scratch)%3B","data:text/javascript;,(function(Scratch)%20%7B%20%2F%2F%20Name%3A%20JSON%0A%2F%2F%20ID%3A%20skyhigh173JSON%0A%2F%2F%20Description%3A%20Handle%20JSON%20strings%20and%20arrays.%0A%2F%2F%20By%3A%20Skyhigh173%0A%2F%2F%20License%3A%20MIT%0A%0A(function%20(Scratch)%20%7B%0A%20%20%22use%20strict%22%3B%0A%20%20%2F*%0A%20%20%20*%20JSON%20extension%20v2.5%20by%20skyhigh173%20(English%20Version)%0A%20%20%20*%20Do%20not%20remove%20this%20comment%0A%20%20%20*%2F%0A%0A%20%20const%20vm%20%3D%20Scratch.vm%3B%0A%20%20const%20hasOwn%20%3D%20(obj%2C%20property)%20%3D%3E%0A%20%20%20%20Object.prototype.hasOwnProperty.call(obj%2C%20property)%3B%0A%0A%20%20const%20makeLabel%20%3D%20(text)%20%3D%3E%20(%7B%0A%20%20%20%20blockType%3A%20%22label%22%2C%0A%20%20%20%20text%3A%20text%2C%0A%20%20%7D)%3B%0A%0A%20%20class%20JSONS%20%7B%0A%20%20%20%20getInfo()%20%7B%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20id%3A%20%22skyhigh173JSON%22%2C%0A%20%20%20%20%20%20%20%20name%3A%20%22JSON%22%2C%0A%20%20%20%20%20%20%20%20color1%3A%20%22%233271D0%22%2C%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20makeLabel(%22General%20Utils%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_is_valid%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22is%20JSON%20%5Bjson%5D%20valid%3F%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%7B%22key%22%3A%22value%22%7D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_is%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22is%20%5Bjson%5D%20%5Btypes%5D%3F%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%7B%22key%22%3A%22value%22%7D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20types%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Object%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22types%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_get_all%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22all%20%5BStype%5D%20of%20%5Bjson%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Stype%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22get_all%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%7B%22key%22%3A%22value%22%2C%22key2%22%3A%22value2%22%7D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_new%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22new%20%5Bjson%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Object%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22types%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_has_key%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%5Bjson%5D%20contains%20key%20%5Bkey%5D%3F%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20key%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22key2%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%7B%22key%22%3A%22value%22%7D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_has_value%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%5Bjson%5D%20contains%20value%20%5Bvalue%5D%3F%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22scratch%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22TurboWarp%22%2C%22scratch%22%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_equal%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%5Bjson1%5D%20%5Bequal%5D%20%5Bjson2%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json1%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%7B%22a%22%3A0%2C%22b%22%3A1%7D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json2%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%7B%22b%22%3A1%2C%22a%22%3A0%7D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20equal%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%3D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22equal%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20makeLabel(%22JSON%20Strings%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_jlength%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22length%20of%20json%20%5Bjson%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%7B%22key%22%3A%22value%22%2C%22key2%22%3A%22value2%22%7D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_get%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22value%20of%20%5Bitem%5D%20in%20%5Bjson%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20item%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22key%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%7B%22key%22%3A%22value%22%7D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_set%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22set%20%5Bitem%5D%20in%20%5Bjson%5D%20to%20%5Bvalue%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20item%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22key%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22new%20value%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%7B%22key%22%3A%22value%22%7D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_delete%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22delete%20%5Bitem%5D%20in%20%5Bjson%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20item%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22key2%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%7B%22key%22%3A%22value%22%2C%22key2%22%3A%22value2%22%7D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20makeLabel(%22Array%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_length%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22length%20of%20array%20%5Bjson%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%5B1%2C2%2C3%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_array_get%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22item%20%5Bitem%5D%20of%20array%20%5Bjson%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20item%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%201%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22scratch%22%2C%22TurboWarp%22%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_array_push%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22add%20%5Bitem%5D%20to%20array%20%5Bjson%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20item%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22TurboWarp%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22scratch%22%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_array_set%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22replace%20item%20%5Bpos%5D%20of%20%5Bjson%5D%20with%20%5Bitem%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20item%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22fav%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20pos%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%202%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22love%22%2C%22heart%22%2C%22follow%22%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_array_insert%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22insert%20%5Bitem%5D%20at%20%5Bpos%5D%20of%20array%20%5Bjson%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20item%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22fav%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20pos%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%202%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22love%22%2C%22follow%22%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_array_delete%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22delete%20item%20%5Bitem%5D%20of%20array%20%5Bjson%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20item%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%202%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22scratch%22%2C%22a%22%2C%22TurboWarp%22%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_array_remove_all%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22delete%20all%20%5Bitem%5D%20in%20array%20%5Bjson%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20item%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22a%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22scratch%22%2C%22a%22%2C%22TurboWarp%22%2C%22a%22%2C%22a%22%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_array_itemH%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22item%20%23%20of%20%5Bitem%5D%20in%20array%20%5Bjson%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20item%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22scratch%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22scratch%22%2C%22TurboWarp%22%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20makeLabel(%22Advanced%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_array_from%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22array%20from%20text%20%5Bjson%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22abcd%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_array_fromto%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22items%20%5Bitem%5D%20to%20%5Bitem2%5D%20of%20array%20%5Bjson%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%5B1%2C2%2C3%2C4%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20item%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%202%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20item2%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%203%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_array_reverse%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22reverse%20array%20%5Bjson%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22a%22%2C%22b%22%2C%22c%22%2C%22d%22%2C%22e%22%2C%22f%22%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_array_flat%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22flat%20array%20%5Bjson%5D%20by%20depth%20%5Bdepth%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%5B%5B1%5D%2C2%2C%5B3%2C4%5D%2C%5B5%2C%5B6%5D%5D%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20depth%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%202%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_array_concat%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22array%20concat%20%5Bjson%5D%20%5Bjson2%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22a%22%2C%22b%22%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json2%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22c%22%2C%22d%22%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_array_filter%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22get%20all%20values%20with%20key%20%5Bkey%5D%20in%20array%20%5Bjson%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20key%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22id%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%7B%22id%22%3A12%7D%2C%7B%22id%22%3A24%7D%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_array_setlen%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22set%20length%20of%20array%20%5Bjson%5D%20to%20%5Blen%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22a%22%2C%22b%22%2C%22c%22%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20len%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%202%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_array_create%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22create%20array%20by%20%5Btext%5D%20with%20delimiter%20%5Bd%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22a%2Cb%2Cc%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20d%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%2C%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_array_join%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22join%20string%20by%20array%20%5Bjson%5D%20with%20delimiter%20%5Bd%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22a%22%2C%22b%22%2C%22c%22%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20d%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%2C%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_array_sort%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22sort%20array%20%5Blist%5D%20in%20%5Border%5D%20order%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20list%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%5B5.23%2C%20214%2C%20522%2C%2061%2C%205.24%2C%2062.2%2C%201%2C%2051212%2C%200%2C%200%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20order%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22sort_order%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20makeLabel(%22Lists%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_vm_getlist%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22get%20list%20%5Blist%5D%20as%20array%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20list%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22get_list%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_vm_setlist%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22set%20list%20%5Blist%5D%20to%20%5Bjson%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20list%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22get_list%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22apple%22%2C%22banana%22%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20get_all%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22keys%22%2C%20%22values%22%2C%20%22datas%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20get_list%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%22getLists%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20types%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22Object%22%2C%20%22Array%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20equal%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22%3D%22%2C%20%22%E2%89%A0%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20sort_order%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22ascending%22%2C%20%22descending%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getLists()%20%7B%0A%20%20%20%20%20%20const%20globalLists%20%3D%20Object.values(%0A%20%20%20%20%20%20%20%20vm.runtime.getTargetForStage().variables%0A%20%20%20%20%20%20).filter((x)%20%3D%3E%20x.type%20%3D%3D%20%22list%22)%3B%0A%20%20%20%20%20%20const%20localLists%20%3D%20Object.values(vm.editingTarget.variables).filter(%0A%20%20%20%20%20%20%20%20(x)%20%3D%3E%20x.type%20%3D%3D%20%22list%22%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20const%20uniqueLists%20%3D%20%5B...new%20Set(%5B...globalLists%2C%20...localLists%5D)%5D%3B%0A%20%20%20%20%20%20if%20(uniqueLists.length%20%3D%3D%3D%200)%20%7B%0A%20%20%20%20%20%20%20%20return%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22select%20a%20list%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22select%20a%20list%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20uniqueLists.map((i)%20%3D%3E%20(%7B%0A%20%20%20%20%20%20%20%20text%3A%20i.name%2C%0A%20%20%20%20%20%20%20%20value%3A%20i.id%2C%0A%20%20%20%20%20%20%7D))%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20lookupList(list%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20byId%20%3D%20util.target.lookupVariableById(list)%3B%0A%20%20%20%20%20%20if%20(byId%20%26%26%20byId.type%20%3D%3D%3D%20%22list%22)%20%7B%0A%20%20%20%20%20%20%20%20return%20byId%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20const%20byName%20%3D%20util.target.lookupVariableByNameAndType(list%2C%20%22list%22)%3B%0A%20%20%20%20%20%20if%20(byName)%20%7B%0A%20%20%20%20%20%20%20%20return%20byName%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_is_valid(%7B%20json%20%7D)%20%7B%0A%20%20%20%20%20%20if%20(typeof%20json%20!%3D%20%22string%22)%20%7B%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(%0A%20%20%20%20%20%20%20%20(json.slice(0%2C%201)%20!%3D%20%22%5B%22%20%7C%7C%20json.slice(-1)%20!%3D%20%22%5D%22)%20%26%26%0A%20%20%20%20%20%20%20%20(json.slice(0%2C%201)%20!%3D%20%22%7B%22%20%7C%7C%20json.slice(-1)%20!%3D%20%22%7D%22)%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20return%20object%20if%20its%20json%20else%20string%0A%20%20%20%20json_valid_return(json)%20%7B%0A%20%20%20%20%20%20if%20(typeof%20json%20!%3D%20%22string%22)%20%7B%0A%20%20%20%20%20%20%20%20return%20json%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(%0A%20%20%20%20%20%20%20%20(json.slice(0%2C%201)%20!%3D%20%22%5B%22%20%7C%7C%20json.slice(-1)%20!%3D%20%22%5D%22)%20%26%26%0A%20%20%20%20%20%20%20%20(json.slice(0%2C%201)%20!%3D%20%22%7B%22%20%7C%7C%20json.slice(-1)%20!%3D%20%22%7D%22)%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20return%20json%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20json%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_is(%7B%20json%2C%20types%20%7D)%20%7B%0A%20%20%20%20%20%20if%20(!this.json_is_valid(%7B%20json%3A%20json%20%7D))%20return%20false%3B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20switch%20(types)%20%7B%0A%20%20%20%20%20%20%20%20%20%20case%20%22Object%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20!Array.isArray(json)%3B%0A%20%20%20%20%20%20%20%20%20%20case%20%22Array%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20Array.isArray(json)%3B%0A%20%20%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_length(%7B%20json%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20return%20Object.keys(json).length%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20%22%20%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_new(%7B%20json%20%7D)%20%7B%0A%20%20%20%20%20%20switch%20(json)%20%7B%0A%20%20%20%20%20%20%20%20case%20%22Object%22%3A%0A%20%20%20%20%20%20%20%20%20%20return%20%22%7B%7D%22%3B%0A%20%20%20%20%20%20%20%20case%20%22Array%22%3A%0A%20%20%20%20%20%20%20%20%20%20return%20%22%5B%5D%22%3B%0A%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_has_key(%7B%20json%2C%20key%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20return%20(%0A%20%20%20%20%20%20%20%20%20%20this._fixInvalidJSONValues(this.json_valid_return(key))%20in%0A%20%20%20%20%20%20%20%20%20%20JSON.parse(json)%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_has_value(%7B%20json%2C%20value%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20value%20%3D%20this.json_valid_return(value)%3B%0A%20%20%20%20%20%20%20%20return%20json.includes(value)%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_equal(%7B%20json1%2C%20equal%2C%20json2%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20json1%20%3D%20JSON.parse(json1)%3B%0A%20%20%20%20%20%20%20%20json2%20%3D%20JSON.parse(json2)%3B%0A%0A%20%20%20%20%20%20%20%20const%20keys1%20%3D%20Object.keys(json1)%3B%0A%20%20%20%20%20%20%20%20const%20keys2%20%3D%20Object.keys(json2)%3B%0A%20%20%20%20%20%20%20%20const%20result%20%3D%0A%20%20%20%20%20%20%20%20%20%20keys1.length%20%3D%3D%3D%20keys2.length%20%26%26%0A%20%20%20%20%20%20%20%20%20%20Object.keys(json1).every((key)%20%3D%3E%20json1%5Bkey%5D%20%3D%3D%3D%20json2%5Bkey%5D)%3B%0A%20%20%20%20%20%20%20%20if%20(equal%20%3D%3D%3D%20%22%3D%22)%20return%20result%3B%0A%20%20%20%20%20%20%20%20if%20(equal%20%3D%3D%3D%20%22%E2%89%A0%22)%20return%20!result%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20ignore%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_get_all(%7B%20Stype%2C%20json%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20switch%20(Stype)%20%7B%0A%20%20%20%20%20%20%20%20%20%20case%20%22keys%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20JSON.stringify(Object.keys(json).map((key)%20%3D%3E%20key))%3B%0A%20%20%20%20%20%20%20%20%20%20case%20%22values%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20JSON.stringify(Object.keys(json).map((key)%20%3D%3E%20json%5Bkey%5D))%3B%0A%20%20%20%20%20%20%20%20%20%20case%20%22datas%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20JSON.stringify(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Object.keys(json).map((key)%20%3D%3E%20%5Bkey%2C%20json%5Bkey%5D%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_get(%7B%20item%2C%20json%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20if%20(hasOwn(json%2C%20item))%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20result%20%3D%20json%5Bitem%5D%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(typeof%20result%20%3D%3D%3D%20%22object%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20JSON.stringify(result)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20result%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20ignore%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20_fixInvalidJSONValues(value)%20%7B%0A%20%20%20%20%20%20%2F%2F%20JSON%20does%20not%20support%20these%20values%2C%20so%20convert%20to%20string.%0A%20%20%20%20%20%20if%20(Number.isNaN(value))%20return%20%22NaN%22%3B%0A%20%20%20%20%20%20if%20(value%20%3D%3D%3D%20Infinity)%20return%20%22Infinity%22%3B%0A%20%20%20%20%20%20if%20(value%20%3D%3D%3D%20-Infinity)%20return%20%22-Infinity%22%3B%0A%20%20%20%20%20%20return%20value%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_set(%7B%20item%2C%20value%2C%20json%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20value%20%3D%20this.json_valid_return(value)%3B%0A%20%20%20%20%20%20%20%20value%20%3D%20this._fixInvalidJSONValues(value)%3B%0A%20%20%20%20%20%20%20%20json%5Bitem%5D%20%3D%20value%3B%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(json)%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_delete(%7B%20item%2C%20json%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20delete%20json%5Bitem%5D%3B%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(json)%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_jlength(%7B%20json%20%7D)%20%7B%0A%20%20%20%20%20%20%2F%2F%20same%20function%0A%20%20%20%20%20%20return%20this.json_length(%7B%20json%3A%20json%20%7D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_array_get(%7B%20item%2C%20json%20%7D)%20%7B%0A%20%20%20%20%20%20%2F%2F%201...length%20%3A%20array%20content%2C%20-1...-length%20%3A%20reverse%20array%20content%2C%200%20%3A%20ERROR%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20item%20%3D%20Scratch.Cast.toNumber(item)%3B%0A%20%20%20%20%20%20%20%20if%20(item%20%3D%3D%200)%20return%20%22%22%3B%0A%20%20%20%20%20%20%20%20if%20(item%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20item--%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20let%20result%3B%0A%20%20%20%20%20%20%20%20if%20(item%20%3E%3D%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20result%20%3D%20json%5Bitem%5D%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20result%20%3D%20json%5Bjson.length%20%2B%20item%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20(typeof%20result%20%3D%3D%20%22object%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20JSON.stringify(result)%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20result%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_array_itemH(%7B%20item%2C%20json%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20item%20%3D%20this._fixInvalidJSONValues(this.json_valid_return(item))%3B%0A%20%20%20%20%20%20%20%20let%20result%20%3D%20JSON.stringify(json.indexOf(item)%20%2B%201)%3B%0A%20%20%20%20%20%20%20%20return%20result%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_array_from(%7B%20json%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(Array.from(String(json)))%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_array_concat(%7B%20json%2C%20json2%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20json2%20%3D%20JSON.parse(json2)%3B%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(json.concat(json2))%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_array_push(%7B%20item%2C%20json%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20item%20%3D%20this._fixInvalidJSONValues(this.json_valid_return(item))%3B%0A%20%20%20%20%20%20%20%20json.push(item)%3B%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(json)%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_array_insert(%7B%20item%2C%20pos%2C%20json%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20item%20%3D%20this._fixInvalidJSONValues(this.json_valid_return(item))%3B%0A%20%20%20%20%20%20%20%20json.splice(pos%20-%201%2C%200%2C%20item)%3B%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(json)%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_array_set(%7B%20item%2C%20pos%2C%20json%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20json%5Bpos%20-%201%5D%20%3D%20this._fixInvalidJSONValues(%0A%20%20%20%20%20%20%20%20%20%20this.json_valid_return(item)%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(json)%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_array_delete(%7B%20item%2C%20json%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20json.splice(item%20-%201%2C%201)%3B%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(json)%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_array_remove_all(%7B%20item%2C%20json%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20item%20%3D%20this._fixInvalidJSONValues(this.json_valid_return(item))%3B%0A%20%20%20%20%20%20%20%20let%20i%20%3D%200%3B%0A%20%20%20%20%20%20%20%20while%20(i%20%3C%20json.length)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(json%5Bi%5D%20%3D%3D%3D%20item)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20json.splice(i%2C%201)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2B%2Bi%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(json)%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_array_fromto(%7B%20json%2C%20item%2C%20item2%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(JSON.parse(json).slice(item%20-%201%2C%20item2))%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_array_reverse(%7B%20json%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(JSON.parse(json).reverse())%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_array_flat(%7B%20json%2C%20depth%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(JSON.parse(json).flat(depth))%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_array_create(%7B%20text%2C%20d%20%7D)%20%7B%0A%20%20%20%20%20%20return%20JSON.stringify(String(text).split(d))%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_array_join(%7B%20json%2C%20d%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20return%20JSON.parse(json).join(d)%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_array_filter(%7B%20key%2C%20json%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(%0A%20%20%20%20%20%20%20%20%20%20json.map((x)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(hasOwn(x%2C%20key))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20x%5Bkey%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%7D)%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D%20catch%20(e)%20%7B%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_array_setlen(%7B%20json%2C%20len%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20json.length%20%3D%20len%3B%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(json)%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_vm_getlist(%7B%20list%20%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20let%20listVariable%20%3D%20this.lookupList(list%2C%20util)%3B%0A%20%20%20%20%20%20%20%20if%20(listVariable)%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20JSON.stringify(listVariable.value)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20catch%20(e)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20ignore%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%7D%0A%20%20%20%20json_vm_setlist(%7B%20list%2C%20json%20%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20let%20listVariable%20%3D%20this.lookupList(list%2C%20util)%3B%0A%20%20%20%20%20%20%20%20if%20(listVariable)%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20array%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(Array.isArray(array))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20safeArray%20%3D%20array.map((i)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(typeof%20i%20%3D%3D%3D%20%22object%22)%20return%20JSON.stringify(i)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20i%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20listVariable.value%20%3D%20safeArray%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20catch%20(e)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20ignore%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_array_sort(args)%20%7B%0A%20%20%20%20%20%20let%20list%3B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20list%20%3D%20JSON.parse(args.list)%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(!Array.isArray(list))%20%7B%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20list.sort(Scratch.Cast.compare)%3B%0A%20%20%20%20%20%20if%20(args.order%20%3D%3D%3D%20%22descending%22)%20list.reverse()%3B%0A%20%20%20%20%20%20return%20JSON.stringify(list)%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20Scratch.extensions.register(new%20JSONS())%3B%0A%7D)(Scratch)%3B%0A%20%7D)(Scratch)%3B","data:text/javascript;,(function(Scratch)%20%7B%20%2F%2F%20Name%3A%20Pointerlock%0A%2F%2F%20ID%3A%20pointerlock%0A%2F%2F%20Description%3A%20Adds%20blocks%20for%20mouse%20locking.%20Mouse%20x%20%26%20y%20blocks%20will%20report%20the%20change%20since%20the%20previous%20frame%20while%20the%20pointer%20is%20locked.%20Replaces%20the%20pointerlock%20experiment.%0A%2F%2F%20License%3A%20MIT%20AND%20MPL-2.0%0A%0A%2F*%20generated%20l10n%20code%20*%2FScratch.translate.setup(%7B%22de%22%3A%7B%22_Pointerlock%22%3A%22Zeigersperren%22%7D%2C%22it%22%3A%7B%22_Pointerlock%22%3A%22Blocco%20Puntatore%22%2C%22_disabled%22%3A%22sblocca%22%2C%22_enabled%22%3A%22blocca%22%2C%22_pointer%20locked%3F%22%3A%22puntatore%20bloccato%22%2C%22_set%20pointer%20lock%20%5Benabled%5D%22%3A%22%5Benabled%5D%20puntatore%22%7D%2C%22ja%22%3A%7B%22_disabled%22%3A%22%E7%84%A1%E5%8A%B9%22%2C%22_enabled%22%3A%22%E6%9C%89%E5%8A%B9%22%7D%2C%22nb%22%3A%7B%22_Pointerlock%22%3A%22Pointerl%C3%A5s%22%2C%22_disabled%22%3A%22deaktivert%22%2C%22_enabled%22%3A%22aktivert%22%2C%22_pointer%20locked%3F%22%3A%22peker%20l%C3%A5st%3F%22%2C%22_set%20pointer%20lock%20%5Benabled%5D%22%3A%22sette%20pekerl%C3%A5s%20%5Benabled%5D%22%7D%2C%22nl%22%3A%7B%22_Pointerlock%22%3A%22Muisaanwijzer-Vergrendeling%22%2C%22_disabled%22%3A%22ontgrendel%22%2C%22_enabled%22%3A%22vergrendel%22%2C%22_pointer%20locked%3F%22%3A%22muisaanwijzer%20vergrendeld%3F%22%2C%22_set%20pointer%20lock%20%5Benabled%5D%22%3A%22%5Benabled%5D%20muisaanwijzer%22%7D%2C%22ru%22%3A%7B%22_disabled%22%3A%22%D0%B2%D1%8B%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%22%2C%22_enabled%22%3A%22%D0%B2%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%22%2C%22_pointer%20locked%3F%22%3A%22%D1%83%D0%BA%D0%B0%D0%B7%D0%B0%D1%82%D1%8C%20%D0%B7%D0%B0%D0%B1%D0%BB%D0%BE%D0%BA%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%3F%22%2C%22_set%20pointer%20lock%20%5Benabled%5D%22%3A%22%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D0%B2%D0%BA%D0%BB%D1%8E%D1%87%D1%91%D0%BD%D0%BD%D0%BE%D1%81%D1%82%D1%8C%20%D0%B1%D0%BB%D0%BE%D0%BA%D0%B8%D1%80%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%83%D0%BA%D0%B0%D0%B7%D0%B0%D1%82%D0%B5%D0%BB%D1%8F%20%5Benabled%5D%22%7D%2C%22zh-cn%22%3A%7B%22_Pointerlock%22%3A%22%E9%BC%A0%E6%A0%87%E9%94%81%E5%AE%9A%22%2C%22_disabled%22%3A%22%E7%A6%81%E7%94%A8%22%2C%22_enabled%22%3A%22%E5%90%AF%E7%94%A8%22%2C%22_pointer%20locked%3F%22%3A%22%E6%8C%87%E9%92%88%E9%94%81%E5%AE%9A%EF%BC%9F%22%2C%22_set%20pointer%20lock%20%5Benabled%5D%22%3A%22%E8%AE%BE%E7%BD%AE%E6%8C%87%E9%92%88%E9%94%81%E5%AE%9A%E4%B8%BA%5Benabled%5D%22%7D%7D)%3B%2F*%20end%20generated%20l10n%20code%20*%2F(function%20(Scratch)%20%7B%0A%20%20%22use%20strict%22%3B%0A%0A%20%20if%20(!Scratch.extensions.unsandboxed)%20%7B%0A%20%20%20%20throw%20new%20Error(%22pointerlock%20extension%20must%20be%20run%20unsandboxed%22)%3B%0A%20%20%7D%0A%0A%20%20const%20vm%20%3D%20Scratch.vm%3B%0A%0A%20%20const%20canvas%20%3D%20vm.runtime.renderer.canvas%3B%0A%20%20const%20mouse%20%3D%20vm.runtime.ioDevices.mouse%3B%0A%20%20let%20isLocked%20%3D%20false%3B%0A%20%20let%20isPointerLockEnabled%20%3D%20false%3B%0A%0A%20%20let%20rect%20%3D%20canvas.getBoundingClientRect()%3B%0A%20%20window.addEventListener(%22resize%22%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20rect%20%3D%20canvas.getBoundingClientRect()%3B%0A%20%20%7D)%3B%0A%0A%20%20const%20postMouseData%20%3D%20(e%2C%20isDown)%20%3D%3E%20%7B%0A%20%20%20%20const%20%7B%20movementX%2C%20movementY%20%7D%20%3D%20e%3B%0A%20%20%20%20const%20%7B%20width%2C%20height%20%7D%20%3D%20rect%3B%0A%20%20%20%20const%20x%20%3D%20mouse._clientX%20%2B%20movementX%3B%0A%20%20%20%20const%20y%20%3D%20mouse._clientY%20-%20movementY%3B%0A%20%20%20%20mouse._clientX%20%3D%20x%3B%0A%20%20%20%20mouse._scratchX%20%3D%20mouse.runtime.stageWidth%20*%20(x%20%2F%20width%20-%200.5)%3B%0A%20%20%20%20mouse._clientY%20%3D%20y%3B%0A%20%20%20%20mouse._scratchY%20%3D%20mouse.runtime.stageWidth%20*%20(y%20%2F%20height%20-%200.5)%3B%0A%20%20%20%20if%20(typeof%20isDown%20%3D%3D%3D%20%22boolean%22)%20%7B%0A%20%20%20%20%20%20const%20data%20%3D%20%7B%0A%20%20%20%20%20%20%20%20button%3A%20e.button%2C%0A%20%20%20%20%20%20%20%20isDown%2C%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20originalPostIOData(data)%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20const%20mouseDevice%20%3D%20vm.runtime.ioDevices.mouse%3B%0A%20%20const%20originalPostIOData%20%3D%20mouseDevice.postData.bind(mouseDevice)%3B%0A%20%20mouseDevice.postData%20%3D%20(data)%20%3D%3E%20%7B%0A%20%20%20%20if%20(!isPointerLockEnabled)%20%7B%0A%20%20%20%20%20%20return%20originalPostIOData(data)%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20document.addEventListener(%0A%20%20%20%20%22mousedown%22%2C%0A%20%20%20%20(e)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%2F%2F%20%40ts-expect-error%0A%20%20%20%20%20%20if%20(canvas.contains(e.target))%20%7B%0A%20%20%20%20%20%20%20%20if%20(isLocked)%20%7B%0A%20%20%20%20%20%20%20%20%20%20postMouseData(e%2C%20true)%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(isPointerLockEnabled)%20%7B%0A%20%20%20%20%20%20%20%20%20%20canvas.requestPointerLock()%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%0A%20%20%20%20true%0A%20%20)%3B%0A%20%20document.addEventListener(%0A%20%20%20%20%22mouseup%22%2C%0A%20%20%20%20(e)%20%3D%3E%20%7B%0A%20%20%20%20%20%20if%20(isLocked)%20%7B%0A%20%20%20%20%20%20%20%20postMouseData(e%2C%20false)%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20%40ts-expect-error%0A%20%20%20%20%20%20%7D%20else%20if%20(isPointerLockEnabled%20%26%26%20canvas.contains(e.target))%20%7B%0A%20%20%20%20%20%20%20%20canvas.requestPointerLock()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%0A%20%20%20%20true%0A%20%20)%3B%0A%20%20document.addEventListener(%0A%20%20%20%20%22mousemove%22%2C%0A%20%20%20%20(e)%20%3D%3E%20%7B%0A%20%20%20%20%20%20if%20(isLocked)%20%7B%0A%20%20%20%20%20%20%20%20postMouseData(e)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%0A%20%20%20%20true%0A%20%20)%3B%0A%0A%20%20document.addEventListener(%22pointerlockchange%22%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20isLocked%20%3D%20document.pointerLockElement%20%3D%3D%3D%20canvas%3B%0A%20%20%7D)%3B%0A%20%20document.addEventListener(%22pointerlockerror%22%2C%20(e)%20%3D%3E%20%7B%0A%20%20%20%20%2F%2F%20eslint-disable-next-line%20no-console%0A%20%20%20%20console.error(%22Pointer%20lock%20error%22%2C%20e)%3B%0A%20%20%7D)%3B%0A%0A%20%20const%20oldStep%20%3D%20vm.runtime._step%3B%0A%20%20vm.runtime._step%20%3D%20function%20(...args)%20%7B%0A%20%20%20%20const%20ret%20%3D%20oldStep.call(this%2C%20...args)%3B%0A%20%20%20%20if%20(isPointerLockEnabled)%20%7B%0A%20%20%20%20%20%20const%20%7B%20width%2C%20height%20%7D%20%3D%20rect%3B%0A%20%20%20%20%20%20mouse._clientX%20%3D%20width%20%2F%202%3B%0A%20%20%20%20%20%20mouse._clientY%20%3D%20height%20%2F%202%3B%0A%20%20%20%20%20%20mouse._scratchX%20%3D%200%3B%0A%20%20%20%20%20%20mouse._scratchY%20%3D%200%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20ret%3B%0A%20%20%7D%3B%0A%0A%20%20class%20Pointerlock%20%7B%0A%20%20%20%20getInfo()%20%7B%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20id%3A%20%22pointerlock%22%2C%0A%20%20%20%20%20%20%20%20name%3A%20Scratch.translate(%22Pointerlock%22)%2C%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setLocked%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20pointer%20lock%20%5Benabled%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20enabled%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22true%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22enabled%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22isLocked%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22pointer%20locked%3F%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20enabled%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22enabled%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22true%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22disabled%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22false%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setLocked(args)%20%7B%0A%20%20%20%20%20%20isPointerLockEnabled%20%3D%20args.enabled%20%3D%3D%3D%20%22true%22%3B%0A%20%20%20%20%20%20if%20(!isPointerLockEnabled%20%26%26%20isLocked)%20%7B%0A%20%20%20%20%20%20%20%20document.exitPointerLock()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20isLocked()%20%7B%0A%20%20%20%20%20%20return%20isLocked%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20Scratch.extensions.register(new%20Pointerlock())%3B%0A%7D)(Scratch)%3B%0A%20%7D)(Scratch)%3B","data:text/javascript;,(function(Scratch)%20%7B%20%2F%2F%20Name%3A%20Clones%20Plus%0A%2F%2F%20ID%3A%20lmsclonesplus%0A%2F%2F%20Description%3A%20Expansion%20of%20Scratch's%20clone%20features.%0A%2F%2F%20By%3A%20LilyMakesThings%20%3Chttps%3A%2F%2Fscratch.mit.edu%2Fusers%2FLilyMakesThings%2F%3E%0A%2F%2F%20License%3A%20MIT%20AND%20LGPL-3.0%0A%0A(function%20(Scratch)%20%7B%0A%20%20%22use%20strict%22%3B%0A%0A%20%20const%20menuIconURI%20%3D%0A%20%20%20%20%22data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAAZ4AAAGeCAYAAACkfGcPAAAAAXNSR0IArs4c6QAAIABJREFUeF7tndl1HEeWQEFZ0ZovmTDGTHsiM9oTjTFjRbe84JwEWWChUJUZEW%2BJt9z%2B6B%2FGet9yEVWg%2BO2N%2F0GgGYHvf%2F3%2BPdKVv%2F3zP98inYezQMCaAAlvTZj1XQlEk4rW5ZGTFknWiUAA8USIAmeYIlBVLlMQ7gYjpVVyzNtFAPHsIs%2B%2BlwQQzCWi0wEIScaP2XYEEI8dW1aeJIBoJoFNDkdEk8AYbkYA8ZihZeEzAkgmRn4goxhx6HYKxNMt4pvui2g2gZ%2FcFhFNAmP4EgHEs4SNSSMEkM0IpbhjkFDc2GQ%2FGeLJHsFA50c0gYJhcBREZAC16ZKIp2ngta6NbLRI5loHCeWKV7TTIp5oEUlwHmSTIEiOR0RCjrCLbIV4igTS%2BhrIxppwjfWRUI04Wt8C8VgTTrw%2BskkcvABHR0IBghD0CIgnaGB2Hgvh7KRfb28EVC%2Bm0hshHinBIvORTZFABr8GEgoeIKfjIR4n0BG3QTYRo9LnTEioT6wfb4p4GsYe4TQMeuArI6DAwTE6GuIxAhtxWYQTMSqc6UYAAfXJBcTTINYIp0GQC10RARUK5ourIJ6iMUY2RQPb7FpIqGbAEU%2BxuCKcYgHlOu8EEFCtREA8ReKJcIoEkmucEkBANRIE8SSPI8JJHkCOv0QAAS1hCzMJ8YQJxdxBEM4cL0bXJICAcsYV8SSMG9JJGDSObEYA%2BZihNVsY8Zih1V8Y4egzZcU6BBBQnlgingSxQjgJgsQRwxBAQGFC8fIgiCdwjBBO4OBwtPAEEFDcECGeoLFBOkEDw7FSEUA%2BMcOFeILFBeEECwjHKUEAAcUKI%2BIJEg%2BEEyQQHKM0AQQUI7yIJ0AckE6AIHCENgSQz%2F5QI56NMUA4G%2BGzdXsCCGhfCiCeTeyRzibwbAuBOwLIZ086IB5n7gjHGTjbQWCAAAIagKQ4BPEowjxbCuE4gWYbCAgIICABvImpiGcC1upQpLNKjnkQ8CeAfOyZIx5jxkjHGDDLQ8CAAPIxgHr%2F3Zrt8n1XRzh9Y8%2FN6xBAQDax5MVjwBXpGEBlSQhsIoB89MEjHkWmCEcRJktBIBgBBKQXEMSjxBLpKIFkGQgEJoB8dIKDeBQ4Ih0FiCwBgSQEkI88UIhHyBDpCAEyHQIJCSAfWdAQzyI%2FhLMIjmkQKEQAAa0FE%2FEscEM6C9CYAoGiBJDPfGARzyQzpDMJjOEQaEAA%2BcwFGfFM8EI6E7AYCoFmBJDPeMARzwArhDMAiSEQgMA7AQR0nQiI54IR0rlOIkZAAAKfCSCf84xAPCd8kA7tBAIQWCWAfF6TQzwv2CCd1XJjHgQgcCOAfJ7nAuJ5wgXp0DggAAEtAsjnK0nE88AE6WiVG%2BtAAAK8fHjxXFYB0rlExAAIQGCRAC%2BfX%2BB48fxkgXQWq4lpEIDAMAHk8wNVe%2FEgnOGaYSAEIKBEoLuAWosH6ShVEctAAALTBDrLp614kM50nTABAhBQJtBVPi3Fg3SUq4flIACBZQId5dNOPEhnuT6YCAEIGBHoJp9W4kE6RlXDshCAgJhAJ%2Fm0EQ%2FSEdcFC0AAAsYEusinhXiQjnG1sDwEIKBGoIN8yosH6ajVAwtBAAJOBKrLB%2FE4JRLbQAACEBglgHhGSQUcx2snYFA4EgQgMESgsnzKvniQzlBuMwgCEAhMoKp8SooH6QSuJI4GAQhMEagon3LiQTpTOc1gCEAgAYFq8iklHqSToII4IgQgsESgknzKiAfpLOUykyAAgUQEqsinhHiQTqLK4agQgICIQAX5pBcP0hHlMJMhAIGEBLLLB%2FEkTDqODAEI9CaAeDbGn9fORvhsDQEIbCWQWT5pXzxIZ2vOszkEIBCAQFb5pBQP0gmQ8RwBAhAIQSCjfNKJB%2BmEyHUOAQEIBCKQTT6IJ1DycBQIQAACKwQQzwq1wTm8dgZBMQwCEGhHIJN80rx4kE67OuLCEIDAJIEs8kkhHqQzmX0MhwAE2hLIIJ%2Fw4kE6beuHi0MAAosEossH8SwGlmkQgAAEohJAPILI8NoRwGMqBCDQmkBk%2BYR98SCd1jXD5SEAAQUCUeWDeBSCyxIQgAAEIhJAPBNR4bUzAYuhEIAABE4IRJRPuBcP0qGGIAABCOgSiCafUOJBOrrJxmoQgAAEbgQiyQfxkJcQgAAEGhBAPE%2BCzGunQeZzRQhAYCuBKPIJ8%2BJBPFvzkc0hAIEGBBDPXZCRToOM54oQgEAIAhHks%2F3Fg3RC5CKHgAAEGhHYLR%2FE0yjZuCoEIACBg0Br8fDaoQggAAEI7CGwUz7bXjxIZ0%2BysSsEIACBG4Fd8kE85CAEIACBpgRaiYfXTtMs59oQgEA4Ajvks%2BXFg3jC5R4HggAEmhJoIR6k0zS7uTYEIBCWgLd8XF88SCds3nEwCECgOQFP%2BSCeHcn2P%2F%2F%2Btev%2F%2FteOE9Te857v2U1hXzsPuN0UgZLiafPaGW16MylBg%2FxKy4Lz%2FS4wn8lQxhYh4CUftxdPafFYN8HHpO7aFL0537h35V2kmXKNcQKlxFNSOruaYDcJReHMa2i8ezEyNQEP%2Bbi8eEqIJ2IDjCKhRzbSF0IG1gd76T1TtycOX5VACfG4S%2Beqaa00i6s1o2Xgyh1n7zDKZOYso2vOntV6%2FMwdrc%2FC%2BjIC%2FOLPOz9r%2BZi%2BeFylM9O0RhvFzJqydLeZPXrP2d1nuVydY3a92fN6jb%2B6p9c52GeewFUONoytpXxqiOcqaZ6l4Vkiraw3n%2Bo%2BM7QLZpXNs3OsruVDbn0XbebrJ2HmCIHRPGwW15TicXvtjCbNiHwka40k%2BM4xGkUj5XN%2FBulaO1mO7K3Be2QfxsgIzOZhs7haycfsxZNCPEfKHok0m3yyVN8zW6NgOnDSjo4Gd%2B0zsd4PAiv53CyeqcSTRjqdClBaMCtF2onv2V2l7OFoQ2A1p5vF00I%2BJi8exGNTJ6JVpcWyWqSiQxeaLOVfCEWIq0jyuVksU4jHTTqrT%2BUQWe98CI1CkRSq83XDbqcRh7CXS3YwST43jKO2fNRfPIgnYAFqFIqkUAMi2XokjXhsvUCBzSX53DB%2BocXjKh1ePHPVLy0WSaHOnbTHaGk8elCyu6Ukn5vGTlM%2Bqi8exDNWJ%2F%2F3r398DPzvP%2F8emyQdJS0WSaFKzz45%2F57v2VQ39q8OIY3JJBeG3xGQ5HPTuCGeW%2F5Ikse4Ckebn1tj1CiWgLw1ON%2FHwF1GGnExzuWSy0tyuWnMQorH%2FbUTUD7aTfCx4EVNUaNYJMWq2L2sOd%2BOKuI9c1%2BN2Mzsx9i1v8Nz49Y4XlryUfuorat4vJqg%2BKdyrWLZJJ8dnN0EpBUbhDJOQJLHjeMVSjzbpLPx1bOzES41RM1ikRTteGv4GBmB9XEY0xeQZnwWGLebIsnh5rHSkI%2FKi2e7eI6qkSTSRNVFaYJLLyDNgnHgHZG1qYA04zOR0y2HSvK3eZxCiCeEdBxePlGb4JSAtAtGUrwn3S4DazMBaceopVUGLi3JXWIk%2Fvd6xC%2BeUOIxevlkaYSXzVC7YCTF%2B6I3ZGJ9yXug%2Fz0doh2n1XNUnifJXeKzVzzhpGMgnmyN8LIZahaNpHifNLWMrC95rzRvzRit7N9hjiR3ic97hkg%2BchO9eMKJR5JMhRrh7SpPvwzXKhpF1lmF85gyqr98oBWnDhJZuaMkf4kN4vnIOUkiPSRulUb48qdxjcJR4l2JterrRyNGKw25yxxJ%2FhKbfeKp%2Btqp1gi%2FNEONopEU7V1jq8ga%2BSQxlySHNWooCaarY65%2B3Lb8UVso8UiSqPBr5%2F5qHx8DSYsG1le1qPv3faTxujxt0wGSPCYmH0mDeBTqp%2BpP4B%2Ff%2Bfzxm5ySpGAbvHZOv19boU%2BTW6F2PUeSx8Rkj3gqvnaqS%2Bf9IyCpeCTF2kg6yOe6728fIcllxPMpfCuvnqWP2qqJp4N0ooinC2tV%2BdDo9D2FeNSYuogH6ajFy3WhCK%2BdbtJBPq4pPrcZ4pnjdTF6Vj7TLx7Eoxovt8UQjxvqLxup%2FP0eXj26AUQ8qjz7iEeSOD%2BRd%2FoJfLd4OrF%2BVtFi%2BSAe1UYp%2Bo8KE4svsTAVD68d3dz3Wm23dI57Ih6Ff%2BKchqdXMpIfXInD0zjMyGfqo7ZK4unUCHeLpxPrs87Iq0fPG%2BKVEI8Y4eMC9cUjSZqGP30jHvUaW1oQ8Sxhs5kk6SG8ePxePLx2bPLfY1WReCQF2lDyV%2FFEPleEnP5ckteI52WQRl89wx%2B1VRFPt499RNI50ktSoIhH%2FzfcqjY9YZ456WrPNolijnhepAjimawdQUPoxnqUrOjVk6gJjfKQ%2FnAzvE%2F2gQliryqeKq%2Bdjr9dJXrxCKTTkfVoXxOJ59gkQQMaYiHMr6E9qg1KEPsR%2BQx91IZ48mYv4okXO8TzMyaIZy05g8sH8TyEteNHP7vE05H1TBcRySd44xnigHSGMD0dFDz%2BKuIJ9doRftndsRkinvX6tpyJeP5tibf%2B2snlc%2FlRG%2BLJncOIJ2b8EA%2FiEWUm4hHhm5sseJ53fO0ccBHPXIp5jUY8iEeUa4hHhG9uMuKZ44V4pnl5TUA8iEeUa5XFw8dsotQIMZkXT4gwfDkE4kE8y5kZXDq3e539ksHpdzyIZzk1wkzcIZ6uH2vOBl0kn2OzJA3oKRfBpxeznMuNTxJ3xNP0P92yQzpHkSOesVYnFs%2FZNhmaE%2FIZS5THURli%2B%2Fb2tiSecK%2BdA74gUTs2Q8SzVteWs0xl8%2BrgkRuVoKYt4xR27cixfALtlXxeftSGeMKm3vDBEM8wKrOBW0ST7SWEfK7zL5lwrr7nQTzXIU87AvHsC1044TxDEbGZIaHPkYoYo4my4sXzr39M4KoxFPH4xzGFcJJ%2BZ6AaTYngkstAlePFYlPiCfkxG9%2FxTOcL4plGtjwhpXA6CwjxLOf67MRn8nn6URvimUUbb%2FxHI5T8dCYozi6%2FzFFCOB0FJMjt1L%2FGvqFVIZ4N0L23%2FNIIEY9ZCEpK556WJHfMqCstjHiUQF4vg3iuGaUd8bIJSpqHoDgrv3jKC6eDfAS5zYtnrk0injleaUafNkLEoxrHVtKpLCDEo1oXZ4sNiSfs9zu3mwkSpuJP4ZeNEPGoFdgla7Wdgi4kyaVoVxL0EV4888F8lM%2BXXy5APPNQd8wYboKSZiEozkqSH2a9IxG895Tkk%2FdZz%2FYT5DbimQ8k4plnFm7GVCOUNApJcRb5b7ZNsQ6XKUYHkuSU0ZGml5XkdoX7TwOTTUA8Mn7bZ083QkmRSIqzgHimWW%2FPDscDSPLK8Zgvt5Lkdva7b%2BB%2FKp7wH7MdwCQJk7wZLjVCaZEIeGf%2BuG2JtWJBX7Hbfb73q0pzS5HX9FKCvE5972lQehPu5fPpOx7EowdZe6XlRiNtDpICTSr6ZdaLQb%2BSzMyy3mdP24QleS2tqZmAFhqbWzzCV49mkXvlhLiZSApFUqAJxSNmPZgUHnnodZeU8pHktaSeBvOj4rDW4jkC6lH0Womj0jykhSIo0nasLwK%2Fi4dKHp3dTZpjWgUzuo4gp1OKdpSL4TjEk%2BS%2FVK3WLKRNQVKkSUSvxvpF4e4SzuNxTO8pzTPDpvdlaUlOZ7qnJ9OLvfKLR%2FhxW5ZXj1qTkBaKpEibiyeKcO57glpePTYaaZ55NklJTme6pyfTFfGk%2BMWC%2B4tJEidBM1RvDpJiEbKOLnp11gny64iJxb3TfAwlyWlJLQUSwY6j3F49H7%2FV1k08kZthyIYgKdTAjdiCdcRXzlmTUWeQoTFL8jnD%2FXZYZWDP%2FOIp%2BnGbehP42fRF%2FyicAuuIotdmnU04ph%2B%2FRW%2FOiGdAE%2FpDEM9PptGahWYzfLybSD6SQr3L30i8LVnrl6z9ipo83k8bWT6SfI58L%2Fs0Ee2AeAI2Q83Cf9bgReIp9uqxZi2qzo2TNbkgno2BDLp1DfHQDJ%2Bm16tXhVg8hXhrNdhILzitXqPFJvSrhxePVrpMrVNHPEWaoVaxXzVCsXwkBRvklenFeqoigw3WYhT21SPJYz5qW87WT%2BJJ9xttj9eWJFGAZqhV5FfSOa4qFo%2BS6I9lRs67nOEnEzV47zq7BY9Xa2pwCvvqkfQMxCNKw0M%2B779OnV48yZuhVoGPNMNI4tkhH0%2FWouoMMlmFV8RGjXi2ZRjieYF%2BpIFrRU2lsCdfD13ls4O1Vp7sWkeLWbiP3BDPrpR6qyUexVeP50%2FiGoU9K8po4vHivYP1tupW3FiDG%2BJRDEjypRDPRQBnG%2FpKPkiLevWMHeWzi%2FVKXkSbI2UX8rue1VdPxI8OoyXMyXnqiUf51XNjt9rcr3JBo5hXz6YiHgPeq%2FeJzPrqbBn%2BXCNXS7x6kI44XWuKx6AZWn0UJC1maZNWkc%2FqT43Or83drMXVGmABKcNw4lnpFYhHnIl1xbOSUAM4pY3%2BcQtpIUvPoyIeI9bast%2FNeiC9wg%2BRMgz5cdtM%2FiIdlRxFPIsYpQ3%2F2FZaxBpneD%2FHH78tUniYZvTy0RBQFNY6oPeuImUZ8tVzJR%2BEo5p07%2BIp8Xd4XmExbIbShigt4HDiuSpehdRdvXMU1goIti8hZRlWPNvJ9jpAbfE4NMNVAUkKeLUBv0pttVePE%2B9Z5pFYV2gvEp6Ip0IGyO9QXzyOzfAWjisxiAp38i%2BLjqZIRvmM8I7IejQmUcdJmSKfqJH1O1cP8WyQz30Iv%2Fy7OH%2F%2BLYrwldhWFs8snpX7js6xYD26d9RxiCdqZPKcq494NstHKyUsG6GqfArwtmStlQ%2B71hHJhy%2Frd4UtzL69xEMzvEw85PMLEeJ5nS4i8RzLIp%2FLWqw8oJ94ksvHuhmqiycxb2vWmRsL4skcvf1n7ymepM3QqxEinx%2BF6cV7fxtYO4FIPrx41qAXmdVXPLcAGv9dH8088WyE3eXjyVozRzzXQjyetGvthXgSvX68m6GJfJLw9madsa0gnoxRi3FmxJPo5bOjGXaVzw7WMVrC%2BCkQzzgrRn4mgHgeMyLwR2%2B7mqGZfAK%2FfnaxztSgEE%2BmaMU6K%2BJ5FY%2BAAtrVDE3FE%2FTFuYt1rPZwfhqReK4uyi8fXBFK%2FeeI5yp8gQS0sxm6yCfQC2gn66uU3P3npsJ5djkktDvk6vsjnlGkmwUUoRG6ySeAgCLwHk1Nj3Husjm7FCLyCLnpHohnFu9GAUVohq7y2fgxXATWs6mpPT6UbF5dDglph91lPcQjwewsoUjNcIuAHF9CkVhLUnRlbgrh3F8M%2BayEeescxKOJ31hE0ZrhNvk4vISisdZM01drpRPO40UQkEeaqOyBeFQwXiyiJKSIzXC7fM7QC7hHZG2VqumFg4CsUsNsXcRjhvbFwgWbYVj5FGStma7lhIOANNPDdC3EY4r3yeKFm2E4ARVmLU3b8tLhOyBpipjORzymeHuJ57htKPkgnqfZ3Uo6NwJ8%2F%2BPd6U73Qzze4WjQDMPIR8D6SItq3%2FO0FA4vH%2B8ON7Qf4hnCpDhI0AyzNcLtAhKwriae9tLh5aPYxORLIR45w7kVmjXDzPLJJvpXiYh0HsjwsdtczzIYjXgMoF4uKZBP1ma4TUANWd%2FnH9I5qUYEdNmqrAYgHiuyZ%2Bs2bobuAhKwzv5xWxTpPP6wFOVc7yWKfHZ0wDfEswN702b4qeF4FryAd9oX5p9%2Fu2a2FqctUvLMRdeoxN0M8eyIjaARZv0p%2FGVD8Sh6AW%2BthuqZZl7N25qN1z14%2BXhm54%2B9EI8%2F8x87NmqGww3ESkIC1tlEP8x6Me%2BtZfPqWNb34iO3xYRYnIZ4FsGJpzVphssNQ1NCsBan6y7hPB58OZ9GCGjm3Mh%2Bjccgnl3Bb9AM1ZqERkMozluN9ZN6iCKd%2B6OZ3Vcj13b1lET7Ip5dwRI2wgwfAak2B2lDEPKO2HytG3H0Ox%2F3V82xG1Bpru3qKYn2RTw7g1W4Gao3BGkzELKOLHpt1hmEYy1dvvOxbYyIx5bv%2BepFm6FVIxT%2FHSAh74gN2Yr1zrJY2VubA%2BJZicL4HMQzzspmZLFmqN0A7pv9bvFEe%2FVYsrZJdttVtXkgH7t4fTuW%2Fv7X79%2FttmDlUwJC8VRuhl%2F%2Bxvsfv8mTqRBvzUYb8TW3Gmw1LtKPd1cvUHzet3%2F%2B5xviiRDkIs1QreBP%2FkmCCK%2BeCLL3YB2hNFbPoMYH%2BayG4OU8xKOOdHFBBfFUaoZnP32LxXOAUuC9%2B4Wg1Vh332OxYi6nafF53wj5XPKeGYB4ZmhZj1Vohjvlo1XoV40wing6sLZOeev1tXIS8ehGCvHo8pSthniG%2F8XP7vLRaKhXgpclc5zZGqx49ejGE%2FHo8pSvllQ%2BWsU92gwjicf75aPBepSzPKFjrKDBjFePXiwRjx5LnZWUxHM7jFeD0Sjs2bN2lc8O1jrJvXcVDW7IRyeGiEeHo%2B4qyeSjUdCz0jmARxOPx8tnF2vdBN%2BzmgY7xKMTO8Sjw1F%2FlUTykRb0inRuwCPKx1JAUtaWZ9MvAv0Vxfz47TaVoHyI51iNv0SqwlRnEWXxWDUccSGf%2FH2dEZAq4jk2asJbIvmReEQfo5GvvHpkUT6kc6zw%2Fn%2BIRwbTZLZBM9QWkLSQNRphZPlo8o7A2iTPnReVckQ8soAhHhk%2Fn9lG8tFqiNIiDiUeo5fPLVGkd43A2ifpbXeRckQ8svggHhk%2Fv9lB5SMtYGkjvg9A9FePhnwkvDVZ%2ByW%2B3U4Slu%2Bn4rue5eAgnmV0zhMNxXN%2Fk9nmJC3e2f3OqKuJx%2FjVs8o7Emvn7DfZTsoT8ayHBfGss%2FOf6SSfmZ%2FMJcWrKZ3bmTPKZ5S3hLXWx6r%2BSW%2B7o4gpL57l4CCeZXSbJjrL5%2Bqnc0nhWojnOG9m%2BTzLqhuniKw3VYHathKmfNy2HoYv4jmW4leq14G6zNwoH837WYmnonyk3C1ZS8%2B2cz7i8ad%2Fk86x88evUyMe%2F0As7VhAPpbNUPXVcwQoOW9L1kv5G2iSSD583DYdScQzjSzghKQN0aMRIp8f%2BerBOmBlDB8J8QyjUhmIeFQwBlgkoXy8mqG6fBK%2BfrxYB6iEpSMgniVsy5MQzzK6gBOTycezGXaXjyfrgJVxeSTEc4lIdQDiUcUZYLFE8vFshibiSfTy8WQdoAqmj4B4ppGJJrwUz7Eqv9kmYrt3cgIBeTdDM%2FkkEJA3673Jv7Y78lnjNjvrXjrH3E%2B%2F1YZ4ZnEGHB9YPrsaYVf57OIdsCpeHgnx%2BEQL8fhw3r9LQAHtbISm8gn6%2BtnJe38BjJ0A8Yxxko5CPFKC2eYHEtDuRmgun2AC2s07Q6kgHp8oXYqHj9t8AuG%2BSwABRWiELvIJIKAIrN1zfGFDxLMAbXLKo3SefseDeCapZhy%2BSUJRmqGbfG65sYF3FNbRywPx2EcI8dgzzrWDc0OM1Azd5eMsoUisIxcF4rGPDuKxZ5x3BwcJRWuG2%2BTjJKFovCMWB%2BKxjwrisWdcbwdFIUVshNvlc5YxQvYReUcrEMRjH5Fh8fA9j30w0u4gaIZRG2FV%2BUTlHSn3EY9tNJ5J5%2BUvFyAe22CkX72gfI6YhBRQUdYRagDp2EcB8dgz7rND4WYYTj6FWe8uGMRjHwHEY8%2B4zw4NmmEYATVgvatwEI89%2BWnx8HGbfVDS7tCkGYaQTxPWr2rhSg6S77Gu1j6tT%2F4F0sv29Uo6p9%2FxIJ5Lrn0HNGuGWwUkYH0kqKQx70zwGSms3nFmjy8sEM9leiCeS0QMmCLQsBluk09H1n%2F%2BPZWOt8EzAhJJ59gQ8VzGaFk8vHou2fYc0LkZ7mg4At4zzThKMkukMHpfyR7vnHbkQZQADZzjTDqXH7UhngHCXYc0aoZPm5Rn4xGwzvZxm1gIgx8vivbxjH3S%2FoJ4kgYu%2FLEFzXD0p9IIDIYalHUjErDOJJ4h1oNJcZZj4n2s4z14x8jDEE%2Fk6GQ%2BG83wefSsmpKAdxbRi4XwEJFX9xbvYxXjzP3g4exi8fBxW6Fs0LyKoBG2%2BSlcs0E14C0WwpP8fiYf0T6aMdWsx0BrXUln6DsexBMootGOQjMcj4i0YcF6nPXJy0cknWNdaRyXb5FnIuLJE6ucJ6UZzsVN2rSK8xZL4SQax8tHZX1pDOcyJuVoNfHw6kkZf%2FtDCxthho%2FcVJrVLRLSpiXkHf27HlXWVtkvjaHVuYKsOyKd4Y%2FaEE%2BQqEY8Bs1wPCrSpiVkHV304cUjjd94pqQdiXjShi7ZwWmGcwGTNi94z%2FHWHC2NneZZgq6lLh5ePUEjvftYCo2w1U%2Fi0ualwDvyR25hXz3SuO2uU4f9R6Uz9VEb4nGIXNYtaIbjkdNoYPAe5601UiNuWmcJug7iCRqY0seiGY6HV9rEFFi3emWOR%2Bb5SGm8pPsnmW8mHl49STJgxzFphuPUNRoZvMd5S0dqxEt6huDzZ6Qz%2FVEb4gke%2Fd3HoxmORUCjkSmx5uVzETKNWI1lRepRiCd1%2BJIfnmY4HkCNhgbvcd6rIzXitLp3onnm4uHVkygbdhyVZjhGXaOhKbLm5fMkbBoxGsuG1KNmpbP0URviSZ0j9oenGY4z1mhs8B7nPTtSIz6zeyYc7yYe5JMwOzyPTDMco63R2JRZ8%2FL5GTqN2IxlQepRK9JZfvEgntS54nP4Rg1R9JceNRpcI9ZH8op4z2S%2FRmxm9ks4FvEkDFrpIxs0w8g%2FjS83Q63mBm%2BbctKKj83ptq%2FqLh5ePdtjHv8ARs0wooCWxXNcRqu5NeAt4rxaMVrxWd0%2F6LxV6Yg%2BakM8QbMh2rEMm2EEAak0Qs3GVpi3CuvV%2BtCM0eoZgs1DPMECwnEeCBg3wx0CUm%2BCmo2tEG91zpLi1IyR5BxB5m4TD6%2BeIBmQ4RgOzfCGweq%2FvmzeBLUamyNrC%2Bmbc5bUi1aMJGcIMFciHfFHbYgnQAZkOoJzQ9Roiq5NULOpbWD9mIojPwC48tWqFc04aZ3JeZ3t4kE%2BzhHPvl2AhhgaoWZTg7VdqDXjZHdKk5Wl0lF58SAek9jWXpSGeB5f7aYGb5t60o6TzSnVVw0jHuSjHtv6C9IMX8fYoqHhb01JAAAKFElEQVTB26amLGJlc1KVVTWko%2FbiQTwqMe23CM0Q%2BVTI%2BkbyCSce5FOhgjbcAfkgnw1pp75lA%2FloSUf1xYN41FO514II6Hm8LRoarG1qyyJWNiddWhXxLGFjUngCXRri0aBm7mrV0GbOED55nhzwnpvXXa1iFYB%2FWPHw6gmQHRWO4NUkvFk9NqWZe1o2tJlzeDNb3e8ZL697WsZqlYdwnqZ01D9qQzzC6DL9FwGvJuHB%2FKwRjd7To5mNnsWD2eoeV5y87nh1jtX7bZoXXjzIZ1NmVN3Wq1FY8BttPqN3HF1PcpfRs0j2sJg7w8brjjNnsmCitKa2dExePIhHKdos85mAV7PQ4j7bdEbvN7vu6n1Gz7O6vta8VR5e91s9nxYfhXXSiAf5KESbJZ4T8GoYK%2FylTWb0btJ9Zu82eq7ZdVfHa93f615a513lJZhnIR2zFw%2FiEUSaqeMEvBrH2Ym0m8ronbT3HaU%2Ber7R9UbHWd3X6z5W5x%2FltzgunXiQz2KkmbZOoEoTmbnHzoY2c86VqHrdzfoet7t73WeF9ZM5VtIxffEgHqXos8w6AY2GsqtZzJx91xmvIjNyhyhnHznr1X1H%2FjzKfQfOmlY8yGcgugyBwCsCM80wUUMLG%2FAZ3pJLJIiVpXTMXzy32Hz%2F6%2FfvkjgxFwJtCcw0wwQNLXwcZ3hLLhM4VtbSQTySxGEuBLwIzDbDwE3NC5lon1neq5sFjVMZ8fCR22pmMg8CPwnMNsOgTS1NPGd5r14sWJw8pOP24kE8q1nJPAjcEZhthsGaWrpYzvJevWCgOJUTD%2FJZzUrmQUAgn2NqoMaWLpaN5OMlHdcXD%2BJJV3IcOCqB1WaIgNYiusp7drfN8SkrHuQzm4mMh8ALApJmuLnBpYyphPfMhTfFxlM67i%2BeG39%2BvXomExkLAQP58BHcfFoVlY%2B3dBDPfOoxAwKxCGg0w00%2FZccCOXgaDd5XWznHo414%2BMjtKvP4cwhMEtBoiM4Nb%2FKGcYZrsL66jVMsdkhn24sH8VxlHX8OgQUCmg3RqfEt3DLGFE3Wz27kxL%2BdeJBPjPrhFMUIWDREpyaYLhIWrG8QHJjvks7WF8%2BNL79okK7cOHB0AlYN0aEZRkf75XxJWe%2BUDuJJl%2BUcGAKDBCwaIuJ5Dj8h6%2Fbi4SO3wUbCMAjMEtBuiIjndQQSsd4tnRAvHj5ym%2B0mjIfABAHNhoh4zsEnYB1BOohnon4ZCoG0BLQaIuK5ToHgrBHPkxDyiwbXec0ICCwRkDZEpDOOPSjrKNIJ9eLhu57xvGYkBJYIrDZEpDOPOyBrxHMSRl498znODAgME1hpiIhnGO%2BngbOsDTlHkk64F88taMhnLc%2BZBYEhAqMN0bARDp2zyqAR3oaso0knrHj42K1KxXGP0ATOGqJhIwzNxPpw98wdGEeUDuKxTjLWhwAEILCRAOJZgM9HbgvQmAIBCEDg7e0tqnRCv3j4vofagQAEILBGILJ0EM9aTJkFAQhAIDQBxKMQHj5yU4DIEhCAQAsC0aWT4sXDR24taoVLQgACCgQySCeVeI7D8vJRyEyWgAAEShLIIp104kE%2BJeuFS0EAAkICmaSDeITBZjoEIACBCAQQj0MU%2BMjNATJbQAACKQhkk07KF88tE5BPiprgkBCAgCGBjNJJLR6%2B7zHMZpaGAATCE8gqnfTiQT7ha4MDQgACBgQySwfxGCQES0IAAhCwJoB4rAkPrM%2F3PQOQGAIBCJQgkF06JV48t0xCPiVqiktAAAInBCpIp5R4%2BL6HeoUABCoTqCKdcuJBPpXLjrtBoC%2BBStIpKR7k07c4uTkEKhKoJp2y4kE%2BFcuPO0GgH4GK0iktHuTTr0i5MQQqEagqnfLiQT6VypC7QKAPgcrSQTx98pibQgACiQggnkTBenVU%2Fo5PgSByBQg0IVBdOi1ePLdcRT5NqpZrQiAxgQ7SaSUevu9JXI0cHQINCHSRTjvxIJ8G1csVIZCQQCfptBQP8klYlRwZAoUJdJNOW%2FEgn8JVzNUgkIhAR%2Bm0Fg%2FySVSdHBUCBQl0lU578SCfgtXMlSCQgEBn6SCeuwTl160TVCtHhEByAt2Fcwvft%2BRxVD0%2B8lHFyWIQgMAdAaTzCwbieSgN5EOvgAAEtAkgnc9EEc%2BTDEM%2B2mXHehDoSwDpfI094nlRD8inb6Pg5hDQIoB0npNEPCcZhny0yo91INCPANJ5HXPEc1EPyKdfw%2BDGEJASQDrnBBHPQIYhnwFIDIEABN4JIJ3rREA814w%2BRiCgCVgMhUAzAghnPOCIZ5zV%2B0jkMwmM4RBoQADpzAUZ8czxQj4LvJgCgcoEkM58dBHPPDPks8iMaRCoRgDprEUU8axx43sfITemQyAzAYQjix7ikfHj9aPAjyUgkIkA0pFHC%2FHIGSIfJYYsA4HoBJCOToQQjw5H5KPIkaUgEJEA0tGLCuLRY8n3PgYsWRICuwkgHP0IIB59prx%2BjJiyLAS8CSAdG%2BKIx4Yrrx9jriwPAUsCCMeS7tsb4rHly%2BvHgS9bQECTANLRpPl8LcRjzxj5ODFmGwhICSAdKcGx%2BYhnjJPaKP5bb2ooWQgCagQQjhrKoYUQzxAm%2FUEISJ8pK0JglgDCmSWmMx7x6HBcWgX5LGFjEgRUCCAdFYxLiyCeJWy6kxCQLk9Wg8AZAYSzPz8Qz%2F4YvJ8A%2BQQJBMcoTQDpxAgv4okRh49TIKBgAeE4JQggnFhhRDyx4oGAgsaDY%2BUkgHBixg3xxIwLH78FjgtHy0EA6cSNE%2BKJGxtePwliwxHjEUA48WLyeCLEEz9GCChRjDjqPgIIZx%2F72Z0RzyyxAOP5BYQAQeAIYQggnDChGD4I4hlGFWsg8okVD06zhwDS2cNduivikRLcPB8BbQ4A228hgHC2YFfbFPGoody7EALay5%2FdfQggHB%2FO1rsgHmvCzusjIGfgbOdCAOG4YHbbBPG4ofbdCAH58mY3GwIIx4br7lURz%2B4IOOyPhBwgs4UaAWSjhjLsQognbGj0D4aA9Jmyoh4BhKPHMvpKiCd6hAzOh4AMoLLkMgGEs4wu7UTEkzZ08oMjIDlDVlgngHDW2WWfiXiyR1Dp%2FEhICSTLnBJANiTIQQDxkAdfCCAhkkKTALLRpFljLcRTI44mt0BAJljbLIpw2oR6%2BqKIZxpZzwlIqGfcZ2%2BNbGaJ9RyPeHrGXXRrJCTCV24ysikXUvMLIR5zxLU3QEK14%2FvqdsimZ9y1bo14tEiyzhsSqp0EyKZ2fD1vh3g8aTfbCxHlDjiiyR2%2FyKdHPJGjU%2BhsSChHMJFNjjhlPyXiyR7BpOdHRDECh2hixKHbKRBPt4gHvi8ysg0OkrHly%2BrjBBDPOCtGOhNARDLgiEbGj9l2BBCPHVtWNiKAkD6DRTBGicayZgQQjxlaFt5BoKqUkMuObGJPKwKIx4os64YlEE1OSCVsqnAwIwL%2FD9mA6Lk1zUVXAAAAAElFTkSuQmCC%22%3B%0A%0A%20%20%2F**%0A%20%20%20*%20%40param%20%7BVM.Target%7Cnull%7D%20target%0A%20%20%20*%20%40param%20%7Bstring%7Cunknown%7D%20thing%0A%20%20%20*%20%40returns%20%7Bstring%7Cnumber%7Cboolean%7D%0A%20%20%20*%2F%0A%20%20const%20getThingOfTarget%20%3D%20(target%2C%20thing)%20%3D%3E%20%7B%0A%20%20%20%20if%20(!target)%20%7B%0A%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20(thing%20%3D%3D%3D%20%22x%20position%22)%20%7B%0A%20%20%20%20%20%20return%20target.x%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20(thing%20%3D%3D%3D%20%22y%20position%22)%20%7B%0A%20%20%20%20%20%20return%20target.y%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20(thing%20%3D%3D%3D%20%22direction%22)%20%7B%0A%20%20%20%20%20%20return%20target.direction%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20(thing%20%3D%3D%3D%20%22costume%20num%22)%20%7B%0A%20%20%20%20%20%20return%20target.currentCostume%20%2B%201%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20(thing%20%3D%3D%3D%20%22costume%20name%22)%20%7B%0A%20%20%20%20%20%20return%20target.getCostumes()%5Btarget.currentCostume%5D.name%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20(thing%20%3D%3D%3D%20%22size%22)%20%7B%0A%20%20%20%20%20%20return%20target.size%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20(thing%20%3D%3D%3D%20%22volume%22)%20%7B%0A%20%20%20%20%20%20return%20target.volume%3B%0A%20%20%20%20%7D%0A%20%20%20%20%2F%2F%20this%20should%20never%20happen%0A%20%20%20%20return%20%22%22%3B%0A%20%20%7D%3B%0A%0A%20%20class%20ClonesPlus%20%7B%0A%20%20%20%20getInfo()%20%7B%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20id%3A%20%22lmsclonesplus%22%2C%0A%20%20%20%20%20%20%20%20name%3A%20%22Clones%2B%22%2C%0A%20%20%20%20%20%20%20%20color1%3A%20%22%23FFAB19%22%2C%0A%20%20%20%20%20%20%20%20color2%3A%20%22%23EC9C13%22%2C%0A%20%20%20%20%20%20%20%20color3%3A%20%22%23CF8B17%22%2C%0A%20%20%20%20%20%20%20%20menuIconURI%3A%20menuIconURI%2C%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22whenCloneStartsWithVar%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.HAT%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22when%20I%20start%20as%20a%20clone%20with%20%5BINPUTA%5D%20set%20to%20%5BINPUTB%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22variablesMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%221%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22createCloneWithVar%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22create%20clone%20with%20%5BINPUTA%5D%20set%20to%20%5BINPUTB%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22variablesMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%221%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22touchingCloneWithVar%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22touching%20clone%20with%20%5BINPUTA%5D%20set%20to%20%5BINPUTB%5D%3F%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22variablesMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%221%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22touchingMainSprite%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22touching%20main%20sprite%3F%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setVariableOfClone%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22set%20variable%20%5BINPUTA%5D%20to%20%5BINPUTB%5D%20for%20clones%20with%20%5BINPUTC%5D%20set%20to%20%5BINPUTD%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22variablesMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%220%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTC%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22variablesMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTD%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%221%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getVariableOfClone%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22variable%20%5BINPUTA%5D%20of%20clone%20with%20%5BINPUTB%5D%20set%20to%20%5BINPUTC%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22variablesMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22variablesMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTC%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%221%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setVariableOfMainSprite%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22set%20variable%20%5BINPUTA%5D%20to%20%5BINPUTB%5D%20for%20main%20sprite%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22variablesMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%221%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getVariableOfMainSprite%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22variable%20%5BINPUT%5D%20of%20main%20sprite%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22variablesMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22cloneExists%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22clone%20with%20%5BINPUTA%5D%20set%20to%20%5BINPUTB%5D%20exists%3F%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22variablesMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%221%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getThingOfClone%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%5BINPUTA%5D%20of%20clone%20with%20%5BINPUTB%5D%20set%20to%20%5BINPUTC%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22x%20position%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22thingOfMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22variablesMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTC%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%221%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getThingOfMainSprite%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%5BINPUT%5D%20of%20main%20sprite%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22x%20position%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22thingOfMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22stopScriptsInSprite%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22stop%20scripts%20in%20%5BINPUT%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22spriteMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22stopScriptsInClone%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22stop%20scripts%20in%20clones%20with%20%5BINPUTA%5D%20set%20to%20%5BINPUTB%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22variablesMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%221%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22stopScriptsInMainSprite%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22stop%20scripts%20in%20main%20sprite%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22deleteClonesInSprite%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22delete%20clones%20in%20%5BINPUT%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22spriteMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22deleteCloneWithVar%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22delete%20clones%20with%20%5BINPUTA%5D%20set%20to%20%5BINPUTB%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22variablesMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%221%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22isClone%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22is%20clone%3F%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22cloneCount%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22clone%20count%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22spriteCloneCount%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22clone%20count%20of%20%5BINPUT%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22spriteMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20spriteMenu%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%22getSprites%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20menus%20use%20acceptReporters%3A%20false%20for%20Scratch%20parity%0A%20%20%20%20%20%20%20%20%20%20variablesMenu%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%22getVariables%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20thingOfMenu%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22x%20position%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22x%20position%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22y%20position%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22y%20position%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22direction%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22direction%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22costume%20%23%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22costume%20num%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22costume%20name%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22costume%20name%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22size%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22size%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22volume%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22volume%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20whenCloneStartsWithVar(args%2C%20util)%20%7B%0A%20%20%20%20%20%20%2F%2F%20TODO%3A%20this%20is%20really%20not%20ideal.%20this%20should%20be%20an%20event-based%20hat%20ideally%2C%20but%20we%20don't%20have%20a%20good%0A%20%20%20%20%20%20%2F%2F%20way%20to%20do%20that%20right%20now...%0A%20%20%20%20%20%20if%20(util.target.isOriginal)%20%7B%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20const%20variable%20%3D%20util.target.lookupVariableById(args.INPUTA)%3B%0A%20%20%20%20%20%20const%20expectedValue%20%3D%20args.INPUTB%3B%0A%20%20%20%20%20%20if%20(variable)%20%7B%0A%20%20%20%20%20%20%20%20return%20Scratch.Cast.compare(variable.value%2C%20expectedValue)%20%3D%3D%3D%200%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20createCloneWithVar(args%2C%20util)%20%7B%0A%20%20%20%20%20%20%2F%2F%20%40ts-expect-error%20-%20not%20typed%20yet%0A%20%20%20%20%20%20Scratch.vm.runtime.ext_scratch3_control._createClone(%0A%20%20%20%20%20%20%20%20util.target.sprite.name%2C%0A%20%20%20%20%20%20%20%20util.target%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20const%20clones%20%3D%20util.target.sprite.clones%3B%0A%20%20%20%20%20%20const%20cloneNum%20%3D%20clones.length%20-%201%3B%0A%20%20%20%20%20%20const%20cloneVariable%20%3D%20clones%5BcloneNum%5D.lookupVariableById(args.INPUTA)%3B%0A%20%20%20%20%20%20if%20(cloneVariable)%20%7B%0A%20%20%20%20%20%20%20%20cloneVariable.value%20%3D%20args.INPUTB%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20touchingCloneWithVar(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20drawableCandidates%20%3D%20util.target.sprite.clones%0A%20%20%20%20%20%20%20%20.filter((clone)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20variable%20%3D%20clone.lookupVariableById(args.INPUTA)%3B%0A%20%20%20%20%20%20%20%20%20%20return%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20variable%20%26%26%20Scratch.Cast.compare(variable.value%2C%20args.INPUTB)%20%3D%3D%3D%200%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%7D)%0A%20%20%20%20%20%20%20%20.map((clone)%20%3D%3E%20clone.drawableID)%3B%0A%20%20%20%20%20%20if%20(drawableCandidates.length%20%3D%3D%3D%200)%20%7B%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20Scratch.vm.renderer.isTouchingDrawables(%0A%20%20%20%20%20%20%20%20util.target.drawableID%2C%0A%20%20%20%20%20%20%20%20drawableCandidates%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20touchingMainSprite(args%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(util.target.isOriginal)%20%7B%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20const%20main%20%3D%20util.target.sprite.clones%5B0%5D%3B%0A%20%20%20%20%20%20const%20drawableCandidates%20%3D%20%5Bmain.drawableID%5D%3B%0A%20%20%20%20%20%20return%20Scratch.vm.renderer.isTouchingDrawables(%0A%20%20%20%20%20%20%20%20util.target.drawableID%2C%0A%20%20%20%20%20%20%20%20drawableCandidates%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setVariableOfClone(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20newVariableValue%20%3D%20args.INPUTB%3B%0A%20%20%20%20%20%20const%20expectedVarValue%20%3D%20args.INPUTD%3B%0A%20%20%20%20%20%20const%20clones%20%3D%20util.target.sprite.clones%3B%0A%20%20%20%20%20%20for%20(let%20index%20%3D%201%3B%20index%20%3C%20clones.length%3B%20index%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20const%20checkVar%20%3D%20clones%5Bindex%5D.lookupVariableById(args.INPUTC)%3B%0A%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20checkVar%20%26%26%0A%20%20%20%20%20%20%20%20%20%20Scratch.Cast.compare(checkVar.value%2C%20expectedVarValue)%20%3D%3D%3D%200%0A%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20editVar%20%3D%20clones%5Bindex%5D.lookupVariableById(args.INPUTA)%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(editVar)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20editVar.value%20%3D%20newVariableValue%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20getVariableOfClone(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20clone%20%3D%20this.getCloneFromVariable(%0A%20%20%20%20%20%20%20%20args.INPUTB%2C%0A%20%20%20%20%20%20%20%20args.INPUTC%2C%0A%20%20%20%20%20%20%20%20util.target.sprite.clones%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20if%20(!clone)%20%7B%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%2F%2F%20guaranteed%20to%20exist%20by%20getCloneFromVariable%0A%20%20%20%20%20%20const%20cloneVar%20%3D%20clone.lookupVariableById(args.INPUTA)%3B%0A%20%20%20%20%20%20return%20cloneVar.value%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setVariableOfMainSprite(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20main%20%3D%20util.target.sprite.clones%5B0%5D%3B%0A%20%20%20%20%20%20const%20variableObj%20%3D%20main.lookupVariableById(args.INPUTA)%3B%0A%20%20%20%20%20%20if%20(variableObj)%20%7B%0A%20%20%20%20%20%20%20%20variableObj.value%20%3D%20args.INPUTB%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20getVariableOfMainSprite(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20main%20%3D%20util.target.sprite.clones%5B0%5D%3B%0A%20%20%20%20%20%20const%20variableObj%20%3D%20main.lookupVariableById(args.INPUT)%3B%0A%20%20%20%20%20%20if%20(variableObj)%20%7B%0A%20%20%20%20%20%20%20%20return%20variableObj.value%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20cloneExists(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20clone%20%3D%20this.getCloneFromVariable(%0A%20%20%20%20%20%20%20%20args.INPUTA%2C%0A%20%20%20%20%20%20%20%20args.INPUTB%2C%0A%20%20%20%20%20%20%20%20util.target.sprite.clones%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20return%20!!clone%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getThingOfClone(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20clone%20%3D%20this.getCloneFromVariable(%0A%20%20%20%20%20%20%20%20args.INPUTB%2C%0A%20%20%20%20%20%20%20%20args.INPUTC%2C%0A%20%20%20%20%20%20%20%20util.target.sprite.clones%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20return%20getThingOfTarget(clone%2C%20args.INPUTA)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getThingOfMainSprite(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20main%20%3D%20util.target.sprite.clones%5B0%5D%3B%0A%20%20%20%20%20%20return%20getThingOfTarget(main%2C%20args.INPUT)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20stopScriptsInSprite(args)%20%7B%0A%20%20%20%20%20%20const%20targetObj%20%3D%20Scratch.vm.runtime.getSpriteTargetByName(args.INPUT)%3B%0A%20%20%20%20%20%20if%20(targetObj)%20%7B%0A%20%20%20%20%20%20%20%20Scratch.vm.runtime.stopForTarget(targetObj)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20stopScriptsInMainSprite(args%2C%20util)%20%7B%0A%20%20%20%20%20%20Scratch.vm.runtime.stopForTarget(util.target.sprite.clones%5B0%5D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20stopScriptsInClone(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20clones%20%3D%20util.target.sprite.clones%3B%0A%20%20%20%20%20%20let%20expectedValue%20%3D%20args.INPUTB%3B%0A%20%20%20%20%20%20for%20(let%20index%20%3D%201%3B%20index%20%3C%20clones.length%3B%20index%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20const%20cloneVariable%20%3D%20clones%5Bindex%5D.lookupVariableById(args.INPUTA)%3B%0A%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20cloneVariable%20%26%26%0A%20%20%20%20%20%20%20%20%20%20Scratch.Cast.compare(cloneVariable.value%2C%20expectedValue)%20%3D%3D%3D%200%0A%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20Scratch.vm.runtime.stopForTarget(clones%5Bindex%5D)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20deleteClonesInSprite(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20Scratch.vm.runtime.getSpriteTargetByName(args.INPUT)%3B%0A%20%20%20%20%20%20if%20(!target)%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20const%20clones%20%3D%20target.sprite.clones%3B%0A%20%20%20%20%20%20for%20(let%20index%20%3D%20clones.length%20-%201%3B%20index%20%3E%200%3B%20index--)%20%7B%0A%20%20%20%20%20%20%20%20Scratch.vm.runtime.disposeTarget(clones%5Bindex%5D)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20deleteCloneWithVar(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20clones%20%3D%20util.target.sprite.clones%3B%0A%20%20%20%20%20%20const%20expectedValue%20%3D%20args.INPUTB%3B%0A%20%20%20%20%20%20for%20(let%20index%20%3D%20clones.length%20-%201%3B%20index%20%3E%200%3B%20index--)%20%7B%0A%20%20%20%20%20%20%20%20const%20cloneVar%20%3D%20clones%5Bindex%5D.lookupVariableById(args.INPUTA)%3B%0A%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20cloneVar%20%26%26%0A%20%20%20%20%20%20%20%20%20%20Scratch.Cast.compare(cloneVar.value%2C%20expectedValue)%20%3D%3D%3D%200%0A%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20Scratch.vm.runtime.disposeTarget(clones%5Bindex%5D)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20isClone(args%2C%20util)%20%7B%0A%20%20%20%20%20%20return%20!util.target.isOriginal%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20cloneCount(args%2C%20util)%20%7B%0A%20%20%20%20%20%20return%20Scratch.vm.runtime._cloneCounter%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20spriteCloneCount(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20Scratch.vm.runtime.getSpriteTargetByName(args.INPUT)%3B%0A%20%20%20%20%20%20if%20(target)%20%7B%0A%20%20%20%20%20%20%20%20return%20target.sprite.clones.length%20-%201%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F**%0A%20%20%20%20%20*%20%40param%20%7Bstring%7D%20variableId%0A%20%20%20%20%20*%20%40param%20%7Bunknown%7D%20expectedValue%0A%20%20%20%20%20*%20%40param%20%7BVM.Target%5B%5D%7D%20clones%0A%20%20%20%20%20*%20%40returns%20%7BVM.Target%7Cnull%7D%0A%20%20%20%20%20*%2F%0A%20%20%20%20getCloneFromVariable(variableId%2C%20expectedValue%2C%20clones)%20%7B%0A%20%20%20%20%20%20for%20(let%20index%20%3D%201%3B%20index%20%3C%20clones.length%3B%20index%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20const%20cloneVar%20%3D%20clones%5Bindex%5D.lookupVariableById(variableId)%3B%0A%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20cloneVar%20%26%26%0A%20%20%20%20%20%20%20%20%20%20Scratch.Cast.compare(cloneVar.value%2C%20expectedValue)%20%3D%3D%3D%200%0A%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20clones%5Bindex%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getSprites()%20%7B%0A%20%20%20%20%20%20let%20spriteNames%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20const%20targets%20%3D%20Scratch.vm.runtime.targets%3B%0A%20%20%20%20%20%20const%20myself%20%3D%20Scratch.vm.runtime.getEditingTarget().sprite.name%3B%0A%20%20%20%20%20%20for%20(let%20index%20%3D%201%3B%20index%20%3C%20targets.length%3B%20index%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20const%20curTarget%20%3D%20targets%5Bindex%5D.sprite%3B%0A%20%20%20%20%20%20%20%20let%20display%20%3D%20curTarget.name%3B%0A%20%20%20%20%20%20%20%20if%20(myself%20%3D%3D%3D%20curTarget.name)%20%7B%0A%20%20%20%20%20%20%20%20%20%20display%20%3D%20%22myself%22%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20(targets%5Bindex%5D.isOriginal)%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20jsonOBJ%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20display%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20curTarget.name%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20spriteNames.push(jsonOBJ)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(spriteNames.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20return%20spriteNames%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20return%20%5B%7B%20text%3A%20%22%22%2C%20value%3A%200%20%7D%5D%3B%20%2F%2Fthis%20should%20never%20happen%20but%20it's%20a%20failsafe%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20getSpriteObj(name)%20%7B%0A%20%20%20%20%20%20%2F%2FThis%20is%20unused%20but%20I'm%20leaving%20it%20in%20for%20potential%20future%20blocks%0A%20%20%20%20%20%20const%20spriteObj%20%3D%20Scratch.vm.runtime.getSpriteTargetByName(name)%3B%0A%20%20%20%20%20%20return%20JSON.stringify(spriteObj)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getVariables()%20%7B%0A%20%20%20%20%20%20%2F%2F%20%40ts-expect-error%20-%20Blockly%20not%20typed%20yet%0A%20%20%20%20%20%20%2F%2F%20eslint-disable-next-line%20no-undef%0A%20%20%20%20%20%20const%20variables%20%3D%0A%20%20%20%20%20%20%20%20typeof%20Blockly%20%3D%3D%3D%20%22undefined%22%0A%20%20%20%20%20%20%20%20%20%20%3F%20%5B%5D%0A%20%20%20%20%20%20%20%20%20%20%3A%20Blockly.getMainWorkspace()%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20.getVariableMap()%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20.getVariablesOfType(%22%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20.filter((model)%20%3D%3E%20model.isLocal)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20.map((model)%20%3D%3E%20(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20model.name%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20model.getId()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D))%3B%0A%20%20%20%20%20%20if%20(variables.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20return%20variables%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20return%20%5B%7B%20text%3A%20%22%22%2C%20value%3A%20%22%22%20%7D%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20Scratch.extensions.register(new%20ClonesPlus())%3B%0A%7D)(Scratch)%3B%0A%20%7D)(Scratch)%3B","data:text/javascript;,(function(Scratch)%20%7B%20%2F%2F%20Name%3A%20Text%0A%2F%2F%20ID%3A%20strings%0A%2F%2F%20Description%3A%20Manipulate%20characters%20and%20text.%0A%2F%2F%20Original%3A%20CST1229%20%3Chttps%3A%2F%2Fscratch.mit.edu%2Fusers%2FCST1229%2F%3E%0A%2F%2F%20License%3A%20MIT%20AND%20MPL-2.0%0A%0A(function%20(Scratch)%20%7B%0A%20%20%22use%20strict%22%3B%0A%0A%20%20const%20CaseParam%20%3D%20%7B%0A%20%20%20%20LOWERCASE%3A%20%22lowercase%22%2C%0A%20%20%20%20UPPERCASE%3A%20%22uppercase%22%2C%0A%20%20%20%20MIXEDCASE%3A%20%22mixedcase%22%2C%0A%20%20%20%20TITLECASE%3A%20%22titlecase%22%2C%0A%20%20%20%20EXACTTITLECASE%3A%20%22exacttitlecase%22%2C%0A%20%20%7D%3B%0A%0A%20%20let%20splitCache%3B%0A%20%20let%20matchCache%3B%0A%0A%20%20class%20StringsExt%20%7B%0A%20%20%20%20constructor()%20%7B%7D%0A%0A%20%20%20%20_initCaseMenu()%20%7B%0A%20%20%20%20%20%20return%20%5B%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20text%3A%20%22lowercase%22%2C%0A%20%20%20%20%20%20%20%20%20%20value%3A%20CaseParam.LOWERCASE%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20text%3A%20%22UPPERCASE%22%2C%0A%20%20%20%20%20%20%20%20%20%20value%3A%20CaseParam.UPPERCASE%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20text%3A%20%22Title%20Case%22%2C%0A%20%20%20%20%20%20%20%20%20%20value%3A%20CaseParam.TITLECASE%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20text%3A%20%22Exactly%20Title%20Case%22%2C%0A%20%20%20%20%20%20%20%20%20%20value%3A%20CaseParam.EXACTTITLECASE%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20text%3A%20%22MiXeD%20CaSe%22%2C%0A%20%20%20%20%20%20%20%20%20%20value%3A%20CaseParam.MIXEDCASE%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getInfo()%20%7B%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20id%20%22text%22%20could%20conflict%20with%20Scratch%20Lab's%20Animated%20Text%0A%20%20%20%20%20%20%20%20%2F%2F%20for%20mods%20which%20implement%20it%20or%20if%20it%20ever%20comes%20out%0A%20%20%20%20%20%20%20%20id%3A%20%22strings%22%2C%0A%20%20%20%20%20%20%20%20name%3A%20%22Text%22%2C%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22letters_of%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22letters%20%5BLETTER1%5D%20to%20%5BLETTER2%5D%20of%20%5BSTRING%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20LETTER1%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%202%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20LETTER2%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%204%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STRING%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22apple%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22split%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22item%20%5BITEM%5D%20of%20%5BSTRING%5D%20split%20by%20%5BSPLIT%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ITEM%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%203%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STRING%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22apple%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20SPLIT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22p%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22count%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22count%20%5BSUBSTRING%5D%20in%20%5BSTRING%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20SUBSTRING%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22p%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STRING%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22apple%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22indexof%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22index%20of%20%5BSUBSTRING%5D%20in%20%5BSTRING%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20SUBSTRING%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22p%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STRING%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22apple%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22replace%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22replace%20%5BSUBSTRING%5D%20in%20%5BSTRING%5D%20with%20%5BREPLACE%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20SUBSTRING%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22world%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STRING%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Hello%20world!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20REPLACE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22fellow%20Scratchers%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22repeat%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22repeat%20%5BSTRING%5D%20%5BREPEAT%5D%20times%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STRING%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22apple%20%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20REPEAT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%203%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22unicodeof%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22unicode%20of%20%5BSTRING%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STRING%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22A%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22unicodefrom%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22unicode%20%5BNUM%5D%20as%20letter%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NUM%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2065%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22replaceRegex%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22replace%20regex%20%2F%5BREGEX%5D%2F%5BFLAGS%5D%20in%20%5BSTRING%5D%20with%20%5BREPLACE%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20REGEX%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22.%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20FLAGS%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22g%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STRING%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Hello%20world!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20REPLACE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%24%26%24%26%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22matchRegex%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22item%20%5BITEM%5D%20of%20%5BSTRING%5D%20matched%20by%20regex%20%2F%5BREGEX%5D%2F%5BFLAGS%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ITEM%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%201%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STRING%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Hello%20world!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20REGEX%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22(.)%20(.%7B2%7D)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20FLAGS%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22g%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22countRegex%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22count%20regex%20%2F%5BREGEX%5D%2F%5BFLAGS%5D%20in%20%5BSTRING%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STRING%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Hello%20world!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20REGEX%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%5BAEIOU%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20FLAGS%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22i%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22testRegex%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%5BSTRING%5D%20matches%20regex%20%2F%5BREGEX%5D%2F%5BFLAGS%5D%3F%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STRING%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Hello%20world!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20REGEX%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22hello%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20FLAGS%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22i%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22identical%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22is%20%5BOPERAND1%5D%20identical%20to%20%5BOPERAND2%5D%3F%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20OPERAND1%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22A%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20OPERAND2%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22a%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22isCase%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22is%20%5BSTRING%5D%20%5BTEXTCASE%5D%3F%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STRING%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22apple%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TEXTCASE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22textCase%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20CaseParam.LOWERCASE%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22toCase%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22convert%20%5BSTRING%5D%20to%20%5BTEXTCASE%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STRING%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22apple%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TEXTCASE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22textCase%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20CaseParam.UPPERCASE%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20textCase%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20this._initCaseMenu()%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20identical(args%2C%20util)%20%7B%0A%20%20%20%20%20%20%2F%2F%20Purposefully%20no%20casting%2C%20because%0A%20%20%20%20%20%20%2F%2F%20types%20ARE%20differentiated%20in%20this%20block%0A%20%20%20%20%20%20return%20args.OPERAND1%20%3D%3D%3D%20args.OPERAND2%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20unicodeof(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20chars%20%3D%20Array.from(args.STRING.toString())%3B%0A%20%20%20%20%20%20return%20chars.map((char)%20%3D%3E%20char.charCodeAt(0)).join(%22%20%22)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20unicodefrom(args%2C%20util)%20%7B%0A%20%20%20%20%20%20return%20String.fromCharCode(Number(args.NUM)%20%7C%7C%200)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20letters_of(args%2C%20util)%20%7B%0A%20%20%20%20%20%20args.STRING%20%3D%20args.STRING.toString()%3B%0A%20%20%20%20%20%20args.LETTER1%20%3D%20Number(args.LETTER1)%20%7C%7C%200%3B%0A%20%20%20%20%20%20args.LETTER2%20%3D%20Number(args.LETTER2)%20%7C%7C%200%3B%0A%20%20%20%20%20%20return%20args.STRING.substring(args.LETTER1%20-%201%2C%20args.LETTER2)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20_caseInsensitiveRegex(str)%20%7B%0A%20%20%20%20%20%20return%20new%20RegExp(str.replaceAll(%2F%5B%5Ea-zA-Z0-9%5D%2Fg%2C%20%22%5C%5C%24%26%22)%2C%20%22gi%22)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20split(args%2C%20util)%20%7B%0A%20%20%20%20%20%20args.STRING%20%3D%20(args.STRING%20%3F%3F%20%22%22).toString()%3B%0A%20%20%20%20%20%20args.SPLIT%20%3D%20(args.SPLIT%20%3F%3F%20%22%22).toString()%3B%0A%20%20%20%20%20%20args.ITEM%20%3D%20Number(args.ITEM)%20%7C%7C%200%3B%0A%0A%20%20%20%20%20%20%2F%2F%20Cache%20the%20last%20split%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20!(%0A%20%20%20%20%20%20%20%20%20%20splitCache%20%26%26%0A%20%20%20%20%20%20%20%20%20%20splitCache.string%20%3D%3D%3D%20args.STRING%20%26%26%0A%20%20%20%20%20%20%20%20%20%20splitCache.split%20%3D%3D%3D%20args.SPLIT%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20const%20regex%20%3D%20this._caseInsensitiveRegex(args.SPLIT)%3B%0A%0A%20%20%20%20%20%20%20%20splitCache%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20string%3A%20args.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20split%3A%20args.SPLIT%2C%0A%20%20%20%20%20%20%20%20%20%20arr%3A%20args.STRING.split(regex)%2C%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20splitCache.arr%5Bargs.ITEM%20-%201%5D%20%7C%7C%20%22%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20count(args%2C%20util)%20%7B%0A%20%20%20%20%20%20%2F%2F%20Fill%20cache%0A%20%20%20%20%20%20this.split(%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20SPLIT%3A%20args.SUBSTRING%2C%0A%20%20%20%20%20%20%20%20%20%20STRING%3A%20args.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20ITEM%3A%200%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20return%20splitCache.arr.length%20-%201%20%7C%7C%200%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20replace(args%2C%20util)%20%7B%0A%20%20%20%20%20%20args.STRING%20%3D%20args.STRING.toString()%3B%0A%20%20%20%20%20%20args.SUBSTRING%20%3D%20args.SUBSTRING.toString()%3B%0A%0A%20%20%20%20%20%20args.REPLACE%20%3D%20args.REPLACE.toString()%3B%0A%0A%20%20%20%20%20%20const%20regex%20%3D%20this._caseInsensitiveRegex(args.SUBSTRING)%3B%0A%0A%20%20%20%20%20%20return%20args.STRING.replace(regex%2C%20args.REPLACE)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20indexof(args%2C%20util)%20%7B%0A%20%20%20%20%20%20%2F%2F%20.toLowerCase()%20for%20case%20insensitivity%0A%20%20%20%20%20%20args.STRING%20%3D%20(args.STRING%20%3F%3F%20%22%22).toString().toLowerCase()%3B%0A%20%20%20%20%20%20args.SUBSTRING%20%3D%20(args.SUBSTRING%20%3F%3F%20%22%22).toString().toLowerCase()%3B%0A%0A%20%20%20%20%20%20%2F%2F%20Since%20both%20arguments%20are%20casted%20to%20strings%20beforehand%2C%0A%20%20%20%20%20%20%2F%2F%20we%20don't%20have%20to%20worry%20about%20type%20differences%0A%20%20%20%20%20%20%2F%2F%20like%20in%20the%20item%20number%20of%20in%20list%20block%0A%20%20%20%20%20%20const%20found%20%3D%20args.STRING.indexOf(args.SUBSTRING)%3B%0A%0A%20%20%20%20%20%20%2F%2F%20indexOf%20returns%20-1%20when%20no%20matches%20are%20found%2C%20we%20can%20just%20%2B1%0A%20%20%20%20%20%20return%20found%20%2B%201%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20repeat(args%2C%20util)%20%7B%0A%20%20%20%20%20%20args.STRING%20%3D%20args.STRING.toString()%3B%0A%20%20%20%20%20%20args.REPEAT%20%3D%20Number(args.REPEAT)%20%7C%7C%200%3B%0A%20%20%20%20%20%20return%20args.STRING.repeat(args.REPEAT)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20replaceRegex(args%2C%20util)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20args.STRING%20%3D%20args.STRING.toString()%3B%0A%20%20%20%20%20%20%20%20args.REPLACE%20%3D%20args.REPLACE.toString()%3B%0A%20%20%20%20%20%20%20%20args.REGEX%20%3D%20args.REGEX.toString()%3B%0A%20%20%20%20%20%20%20%20args.FLAGS%20%3D%20args.FLAGS.toString()%3B%0A%0A%20%20%20%20%20%20%20%20return%20args.STRING.replace(%0A%20%20%20%20%20%20%20%20%20%20new%20RegExp(args.REGEX%2C%20args.FLAGS)%2C%0A%20%20%20%20%20%20%20%20%20%20args.REPLACE%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D%20catch%20(e)%20%7B%0A%20%20%20%20%20%20%20%20console.error(e)%3B%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20matchRegex(args%2C%20util)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20args.STRING%20%3D%20(args.STRING%20%3F%3F%20%22%22).toString()%3B%0A%20%20%20%20%20%20%20%20args.REGEX%20%3D%20(args.REGEX%20%3F%3F%20%22%22).toString()%3B%0A%20%20%20%20%20%20%20%20args.FLAGS%20%3D%20(args.FLAGS%20%3F%3F%20%22%22).toString()%3B%0A%20%20%20%20%20%20%20%20args.ITEM%20%3D%20Number(args.ITEM)%20%7C%7C%200%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Cache%20the%20last%20matched%20string%0A%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20!(%0A%20%20%20%20%20%20%20%20%20%20%20%20matchCache%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20matchCache.string%20%3D%3D%3D%20args.STRING%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20matchCache.regex%20%3D%3D%3D%20args.REGEX%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20matchCache.flags%20%3D%3D%3D%20args.FLAGS%0A%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20newFlags%20%3D%20args.FLAGS.includes(%22g%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%3F%20args.FLAGS%0A%20%20%20%20%20%20%20%20%20%20%20%20%3A%20args.FLAGS%20%2B%20%22g%22%3B%0A%20%20%20%20%20%20%20%20%20%20const%20regex%20%3D%20new%20RegExp(args.REGEX%2C%20newFlags)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20matchCache%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20string%3A%20args.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20regex%3A%20args.REGEX%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20flags%3A%20args.FLAGS%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arr%3A%20args.STRING.match(regex)%20%7C%7C%20%5B%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20matchCache.arr%5Bargs.ITEM%20-%201%5D%20%7C%7C%20%22%22%3B%0A%20%20%20%20%20%20%7D%20catch%20(e)%20%7B%0A%20%20%20%20%20%20%20%20console.error(e)%3B%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20countRegex(args%2C%20util)%20%7B%0A%20%20%20%20%20%20%2F%2F%20Fill%20cache%0A%20%20%20%20%20%20%2F%2F%20(ITEM%20is%20casted%20into%200%2C%0A%20%20%20%20%20%20%2F%2F%20but%20we%20don't%20care%20about%20the%20return%20value)%0A%20%20%20%20%20%20this.matchRegex(args%2C%20util)%3B%0A%20%20%20%20%20%20return%20matchCache.arr.length%20%7C%7C%200%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20testRegex(args%2C%20util)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20args.STRING%20%3D%20args.STRING.toString()%3B%0A%20%20%20%20%20%20%20%20args.REGEX%20%3D%20args.REGEX.toString()%3B%0A%20%20%20%20%20%20%20%20args.FLAGS%20%3D%20args.FLAGS.toString()%3B%0A%0A%20%20%20%20%20%20%20%20return%20new%20RegExp(args.REGEX%2C%20args.FLAGS).test(args.STRING)%3B%0A%20%20%20%20%20%20%7D%20catch%20(e)%20%7B%0A%20%20%20%20%20%20%20%20console.error(e)%3B%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20isCase(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20string%20%3D%20args.STRING.toString()%3B%0A%20%20%20%20%20%20const%20textCase%20%3D%20args.TEXTCASE.toString()%3B%0A%20%20%20%20%20%20switch%20(textCase)%20%7B%0A%20%20%20%20%20%20%20%20case%20CaseParam.LOWERCASE%3A%0A%20%20%20%20%20%20%20%20%20%20return%20string.toLowerCase()%20%3D%3D%3D%20string%3B%0A%20%20%20%20%20%20%20%20case%20CaseParam.UPPERCASE%3A%0A%20%20%20%20%20%20%20%20%20%20return%20string.toUpperCase()%20%3D%3D%3D%20string%3B%0A%20%20%20%20%20%20%20%20case%20CaseParam.MIXEDCASE%3A%0A%20%20%20%20%20%20%20%20%20%20return%20!(%0A%20%20%20%20%20%20%20%20%20%20%20%20string.toUpperCase()%20%3D%3D%3D%20string%20%7C%7C%20string.toLowerCase()%20%3D%3D%3D%20string%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20case%20CaseParam.TITLECASE%3A%0A%20%20%20%20%20%20%20%20%20%20return%20string.split(%2F%5Cb%2Fg).every((word)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!word)%20return%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20titleCased%20%3D%20word%5B0%5D.toUpperCase()%20%2B%20word.substring(1)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20word%20%3D%3D%3D%20titleCased%3B%0A%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20case%20CaseParam.EXACTTITLECASE%3A%0A%20%20%20%20%20%20%20%20%20%20return%20string.split(%2F%5Cb%2Fg).every((word)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!word)%20return%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20titleCased%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20word%5B0%5D.toUpperCase()%20%2B%20word.substring(1).toLowerCase()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20word%20%3D%3D%3D%20titleCased%3B%0A%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20toCase(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20string%20%3D%20args.STRING.toString()%3B%0A%20%20%20%20%20%20const%20textCase%20%3D%20args.TEXTCASE.toString()%3B%0A%20%20%20%20%20%20switch%20(textCase)%20%7B%0A%20%20%20%20%20%20%20%20case%20CaseParam.LOWERCASE%3A%0A%20%20%20%20%20%20%20%20%20%20return%20string.toLowerCase()%3B%0A%20%20%20%20%20%20%20%20case%20CaseParam.UPPERCASE%3A%0A%20%20%20%20%20%20%20%20%20%20return%20string.toUpperCase()%3B%0A%20%20%20%20%20%20%20%20case%20CaseParam.MIXEDCASE%3A%0A%20%20%20%20%20%20%20%20%20%20return%20Array.from(string)%0A%20%20%20%20%20%20%20%20%20%20%20%20.map((char%2C%20index)%20%3D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20index%20%25%202%20%3D%3D%3D%200%20%3F%20char.toUpperCase()%20%3A%20char.toLowerCase()%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20.join(%22%22)%3B%0A%20%20%20%20%20%20%20%20case%20CaseParam.TITLECASE%3A%0A%20%20%20%20%20%20%20%20%20%20return%20string%0A%20%20%20%20%20%20%20%20%20%20%20%20.split(%2F%5Cb%2Fg)%0A%20%20%20%20%20%20%20%20%20%20%20%20.map((word)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(!word)%20return%20%22%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20word%5B0%5D.toUpperCase()%20%2B%20word.substring(1)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%0A%20%20%20%20%20%20%20%20%20%20%20%20.join(%22%22)%3B%0A%20%20%20%20%20%20%20%20case%20CaseParam.EXACTTITLECASE%3A%0A%20%20%20%20%20%20%20%20%20%20return%20string%0A%20%20%20%20%20%20%20%20%20%20%20%20.split(%2F%5Cb%2Fg)%0A%20%20%20%20%20%20%20%20%20%20%20%20.map((word)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(!word)%20return%20%22%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20word%5B0%5D.toUpperCase()%20%2B%20word.substring(1).toLowerCase()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%0A%20%20%20%20%20%20%20%20%20%20%20%20.join(%22%22)%3B%0A%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20return%20string%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20Scratch.extensions.register(new%20StringsExt())%3B%0A%7D)(Scratch)%3B%0A%20%7D)(Scratch)%3B"]) {
        vm.extensionManager.loadExtensionURL(extension);
      }

      vm.runtime.isProjectPermissionManagerDisabled = true;
      
    } catch (e) {
      handleError(e);
    }
  </script>
  
  
    <script>
      const getProjectData = (function() {
        const storage = scaffolding.storage;
        storage.onprogress = (total, loaded) => {
          setProgress(interpolate(0.2, 0.98, loaded / total));
        };
        
        storage.addWebStore(
          [
            storage.AssetType.ImageVector,
            storage.AssetType.ImageBitmap,
            storage.AssetType.Sound,
            storage.AssetType.Font
          ].filter(i => i),
          (asset) => new URL('./assets/' + asset.assetId + '.' + asset.dataFormat, location).href
        );
        return () => new Promise((resolve, reject) => {
        const xhr = new XMLHttpRequest();
        xhr.onload = () => {
          resolve(xhr.response);
        };
        xhr.onerror = () => {
          if (location.protocol === 'file:') {
            reject(new Error('Zip environment must be used from a website, not from a file URL.'));
          } else {
            reject(new Error('Request to load project data failed.'));
          }
        };
        xhr.onprogress = (e) => {
          if (e.lengthComputable) {
            setProgress(interpolate(0.1, 0.2, e.loaded / e.total));
          }
        };
        xhr.responseType = 'arraybuffer';
        xhr.open('GET', "./assets/project.json");
        xhr.send();
      });
      })();
    </script>
  <script>
    const run = async () => {
      const projectData = await getProjectData();
      await scaffolding.loadProject(projectData);
      setProgress(1);
      loadingScreen.hidden = true;
      if (true) {
        scaffolding.start();
      } else {
        launchScreen.hidden = false;
        launchScreen.addEventListener('click', () => {
          launchScreen.hidden = true;
          scaffolding.start();
        });
        launchScreen.focus();
      }
    };
    run().catch(handleError);
  </script>
</body>
</html>
