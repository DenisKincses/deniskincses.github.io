<!DOCTYPE html>
<html>
<head>
	<title>keypix</title>
	<style type="text/css">
		body {
			background-color: #666666;
			margin: 0;
			padding: 0;
		}
		#canvas {
			margin: auto;
			display: flex;
			flex-wrap: wrap;
			width: 256px;
			height: 256px;
			background-color: #666666;
		}
		.pixel {
			box-sizing: border-box;
			width: 16px;
			height: 16px;
			background-color: #000000;
		}
		.error {
			color: #FF0000;
			text-align: center;
			margin-top: 20px;
		}
	</style>
</head>
<body>
	<div id="canvas"></div>
	<div id="upload">
		<label for="code-input">Upload custom code:</label>
		<input type="text" id="code-input">
		<button id="submit-button">Submit</button>
	</div>
	<div id="error-message" class="error"></div>
	<script type="text/javascript">
		const colors = {
			"1": "#E68A8A",
			"2": "#E6B68A",
			"3": "#E6E28A",
			"4": "#91E68A",
			"5": "#8AE6DB",
			"6": "#8A99E6",
			"7": "#E68ACB",
			"8": "#FFFFFF",
			"9": "#666666",
			"a": "#660000",
			"s": "#663100",
			"d": "#666300",
			"f": "#086600",
			"g": "#00665A",
			"h": "#001166",
			"j": "#660049",
			"0": "#000000",
			"q": "#E60000",
			"w": "#E66F00",
			"e": "#E6DE00",
			"r": "#13E600",
			"t": "#00E6CB",
			"y": "#0026E6",
			"u": "#E600A4",
			"-": "#FFFFFF"
		};
		const canvas = document.getElementById("canvas");
		const codeInput = document.getElementById("code-input");
		const submitButton = document.getElementById("submit-button");
		const errorMessage = document.getElementById("error-message");
		submitButton.addEventListener("click", () => {
			const code = codeInput.value;
			if (!isValidCode(code)) {
				errorMessage.textContent = "Error: Invalid code";
				if (code.length !== 256) {
					errorMessage.textContent = "Error: Code must be 256 characters";
				}
				return;
			}
			errorMessage.textContent = "";
			renderDrawing(code);
		});
		function isValidCode(code) {
			if (code.length !== 256) {
				return false;
			}
			for (let i = 0; i < code.length; i++) {
				if (!colors.hasOwnProperty(code[i])) {
					return false;
				}
			}
			return true;
		}
		function renderDrawing(code) {
			canvas.innerHTML = "";
			for (let i = 0; i < code.length; i++) {
				const pixel = document.createElement("div");
				pixel.classList.add("pixel");
				pixel.style.backgroundColor = colors[code[i]];
			}
		}
		renderDrawing("----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------");
</script>
</body>
</html>
